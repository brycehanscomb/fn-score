!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="/fn-score/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),i=t[e[0]];return function(t,e,r){i.apply(this,[t,e,r].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){n(668),t.exports=n(331)},function(t,e,n){var i=t.exports=Object.assign(n(7),n(11),{utils:n(12),ticker:n(553),DisplayObject:n(253),Container:n(87),Sprite:n(260),ParticleContainer:n(536),SpriteRenderer:n(550),ParticleRenderer:n(538),Text:n(551),Graphics:n(528),GraphicsData:n(254),GraphicsRenderer:n(529),Texture:n(64),BaseTexture:n(91),RenderTexture:n(151),VideoBaseTexture:n(262),TextureUvs:n(261),CanvasRenderer:n(540),CanvasGraphics:n(148),CanvasBuffer:n(147),WebGLRenderer:n(88),ShaderManager:n(259),Shader:n(89),ObjectRenderer:n(63),RenderTarget:n(90),AbstractFilter:n(149),FXAAFilter:n(256),SpriteMaskFilter:n(257),autoDetectRenderer:function(t,e,n,r){return t=t||800,e=e||600,!r&&i.utils.isWebGLSupported()?new i.WebGLRenderer(t,e,n):new i.CanvasRenderer(t,e,n)}})},function(t,e,n){"use strict";function i(t,e,n,i,o,s,a,u){if(r(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,s,a,u],h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var r=function(t){};t.exports=i},function(t,e,n){"use strict";var i=n(17),r=i;t.exports=r},function(t,e){"use strict";function n(t){for(var e=arguments.length-1,n="Minified React error #"+t+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var r=new Error(n);throw r.name="Invariant Violation",r.framesToPop=1,r}t.exports=n},function(t,e){},function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function i(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(t,e){for(var i,a,u=n(t),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var c in i)o.call(i,c)&&(u[c]=i[c]);if(r){a=r(i);for(var h=0;h<a.length;h++)s.call(i,a[h])&&(u[a[h]]=i[a[h]])}}return u}},function(t,e,n){var i={VERSION:n(359).version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};t.exports=i},function(t,e,n){"use strict";function i(t){var e=null;return e=u.uint8array?new Uint8Array(t.length):new Array(t.length),o(t,e)}function r(t){return t}function o(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function s(t){var n=65536,i=e.getTypeOf(t),r=!0;if("uint8array"===i?r=p.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=p.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return p.stringifyByChunk(t,i,n)}catch(t){n=Math.floor(n/2)}return p.stringifyByChar(t)}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var u=n(32),l=n(189),c=n(77),h=n(376),f=n(58);e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob(t,{type:n})}catch(e){try{for(var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new i,o=0;o<t.length;o++)r.append(t[o]);return r.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,c.newBuffer(1)).length}catch(t){return!1}}()}};e.applyFromCharCode=s;var d={};d.string={string:r,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,c.newBuffer(t.length))}},d.array={string:s,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return c.newBuffer(t)}},d.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return c.newBuffer(new Uint8Array(t))}},d.uint8array={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){var e=new Uint8Array(t.length);return t.length&&e.set(t,0),e.buffer},uint8array:r,nodebuffer:function(t){return c.newBuffer(t)}},d.nodebuffer={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:r},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n),r=d[i][t](n);return r},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":u.nodebuffer&&c.isBuffer(t)?"nodebuffer":u.uint8array&&t instanceof Uint8Array?"uint8array":u.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){var e=u[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)e=t.charCodeAt(n),i+="\\x"+(e<16?"0":"")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){h(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,r,o,s){var a=f.Promise.resolve(n).then(function(t){var e=u.blob&&(t instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t))!==-1);return e&&"undefined"!=typeof FileReader?new f.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t});return a.then(function(n){var a=e.getTypeOf(n);return a?("arraybuffer"===a?n=e.transformTo("uint8array",n):"string"===a&&(s?n=l.decode(n):r&&o!==!0&&(n=i(n))),n):f.Promise.reject(new Error("The data of '"+t+"' is in an unsupported format !"))})}},function(t,e,n){"use strict";function i(t,e){return 1===t.nodeType&&t.getAttribute(d)===String(e)||8===t.nodeType&&t.nodeValue===" react-text: "+e+" "||8===t.nodeType&&t.nodeValue===" react-empty: "+e+" "}function r(t){for(var e;e=t._renderedComponent;)t=e;return t}function o(t,e){var n=r(t);n._hostNode=e,e[m]=n}function s(t){var e=t._hostNode;e&&(delete e[m],t._hostNode=null)}function a(t,e){if(!(t._flags&b.hasCachedChildNodes)){var n=t._renderedChildren,s=e.firstChild;t:for(var a in n)if(n.hasOwnProperty(a)){var u=n[a],l=r(u)._domID;if(0!==l){for(;null!==s;s=s.nextSibling)if(i(s,l)){o(u,s);continue t}h("32",l)}}t._flags|=b.hasCachedChildNodes}}function u(t){if(t[m])return t[m];for(var e=[];!t[m];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}for(var n,i;t&&(i=t[m]);t=e.pop())n=i,e.length&&a(i,t);return n}function l(t){var e=u(t);return null!=e&&e._hostNode===t?e:null}function c(t){if(void 0===t._hostNode?h("33"):void 0,t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent?void 0:h("34"),t=t._hostParent;for(;e.length;t=e.pop())a(t,t._hostNode);return t._hostNode}var h=n(4),f=n(48),p=n(279),d=(n(2),f.ID_ATTRIBUTE_NAME),b=p,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:u,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:a,precacheNode:o,uncacheNode:s};t.exports=y},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=1),void 0===n&&(n=!0),this.numerator=0,this.denominator=1,this.numerator=t,this.denominator=e,n&&this.simplify(),this.setRealValue()}return t.max=function(t,e){return t.RealValue>e.RealValue?t:e},t.Equal=function(t,e){return t.Denominator===e.Denominator&&t.Numerator===e.Numerator},t.createFromFraction=function(e){return new t(e.numerator,e.denominator)},t.plus=function(t,e){var n=t.clone();return n.Add(e),n},t.minus=function(t,e){var n=t.clone();return n.Sub(e),n},t.greatestCommonDenominator=function(t,e){if(0===t)return e;if(1===e)return 1;for(;0!==e;)t>e?t-=e:e-=t;return t},t.prototype.toString=function(){return this.numerator+"/"+this.denominator},t.prototype.clone=function(){return new t(this.numerator,this.denominator,!1)},Object.defineProperty(t.prototype,"Numerator",{get:function(){return this.numerator},set:function(t){this.numerator!==t&&(this.numerator=t,this.simplify(),this.setRealValue())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Denominator",{get:function(){return this.denominator},set:function(t){this.denominator!==t&&(this.denominator=t,0!==this.numerator&&this.simplify(),this.setRealValue())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RealValue",{get:function(){return this.realValue},enumerable:!0,configurable:!0}),t.prototype.multiplyWithFactor=function(t){this.numerator*=t,this.denominator*=t},t.prototype.multiplyDenominatorWithFactor=function(t){this.denominator*=t,this.setRealValue()},t.prototype.Add=function(t){this.numerator=this.numerator*t.denominator+t.numerator*this.denominator,this.denominator=this.denominator*t.denominator,this.simplify(),this.setRealValue()},t.prototype.Sub=function(t){this.numerator=this.numerator*t.denominator-t.numerator*this.denominator,this.denominator=this.denominator*t.denominator,this.simplify(),this.setRealValue()},t.prototype.Quantize=function(e){if(this.denominator<=e)return this;for(var n=new t(this.numerator+1,this.denominator);n.Denominator>e;)n.Numerator++;if(this.numerator>this.denominator){for(var i=new t(this.numerator-1,this.denominator);i.Denominator>e;)i.Numerator--;if(i.Denominator<n.Denominator)return i}return n},t.prototype.Equals=function(t){return this.RealValue===t.RealValue},t.prototype.CompareTo=function(t){var e=this.numerator*t.Denominator-this.denominator*t.Numerator;return e?e<0?-1:1:0},t.prototype.lt=function(t){return this.numerator*t.Denominator-this.denominator*t.Numerator<0},t.prototype.lte=function(t){return this.numerator*t.Denominator-this.denominator*t.Numerator<=0},t.prototype.GetInversion=function(){return new t(this.denominator,this.numerator)},t.prototype.setRealValue=function(){this.realValue=this.numerator/this.denominator},t.prototype.simplify=function(){if(0===this.numerator)return void(this.denominator=1);var e=t.greatestCommonDenominator(Math.abs(this.numerator),Math.abs(this.denominator));if(this.numerator/=e,this.denominator/=e,this.denominator>t.maximumAllowedNumber){var n=this.denominator/t.maximumAllowedNumber;this.numerator=Math.round(this.numerator/n),this.denominator=Math.round(this.denominator/n)}if(this.numerator>t.maximumAllowedNumber){var n=this.numerator/t.maximumAllowedNumber;this.numerator=Math.round(this.numerator/n),this.denominator=Math.round(this.denominator/n)}},t}();n.maximumAllowedNumber=46340,e.Fraction=n},function(t,e,n){t.exports={Point:n(145),Matrix:n(531),Circle:n(532),Ellipse:n(533),Polygon:n(534),Rectangle:n(146),RoundedRectangle:n(535)}},function(t,e,n){var i=n(7),r=t.exports={_uid:0,_saidHello:!1,pluginTarget:n(554),async:n(526),uid:function(){return++r._uid},hex2rgb:function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},hex2string:function(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t},rgb2hex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",n=new Image;n.src=t+"AP804Oa6"+e;var i=new Image;i.src=t+"/wCKxvRF"+e;var r=document.createElement("canvas");r.width=6,r.height=1;var o=r.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(n,0,0),o.drawImage(i,2,0);var s=o.getImageData(2,0,1,1).data;return 255===s[0]&&0===s[1]&&0===s[2]},getNextPowerOfTwo:function(t){if(t>0&&0===(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0===(t&t-1)&&e>0&&0===(e&e-1)},getResolutionOfUrl:function(t){var e=i.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):1},sayHello:function(t){if(!r._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+i.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+i.VERSION+" - "+t+" - http://www.pixijs.com/");r._saidHello=!0}},isWebGLSupported:function(){var t={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return!(!n||!n.getContextAttributes().stencil)}catch(t){return!1}},TextureCache:{},BaseTextureCache:{}}},function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.C=0]="C",t[t.D=2]="D",t[t.E=4]="E",t[t.F=5]="F",t[t.G=7]="G",t[t.A=9]="A",t[t.B=11]="B"}(n=e.NoteEnum||(e.NoteEnum={}));var i;!function(t){t[t.DOUBLEFLAT=-2]="DOUBLEFLAT",t[t.FLAT=-1]="FLAT",t[t.NONE=0]="NONE",t[t.SHARP=1]="SHARP",t[t.DOUBLESHARP=2]="DOUBLESHARP"}(i=e.AccidentalEnum||(e.AccidentalEnum={}));var r=function(){function t(e,n,r){this.accidental=i.NONE,this.fundamentalNote=e,this.octave=n,this.accidental=r,this.halfTone=e+12*(n+t.octXmlDiff)+r,this.frequency=t.calcFrequency(this)}return t.getNoteEnumString=function(t){switch(t){case n.C:return"C";case n.D:return"D";case n.E:return"E";case n.F:return"F";case n.G:return"G";case n.A:return"A";case n.B:return"B";default:return""}},t.CalculateTransposedHalfTone=function(e,n){var i=e.fundamentalNote+e.accidental+n;return t.WrapAroundCheck(i,12)},t.WrapAroundCheck=function(t,e){for(var n=0;t<0;)t+=e,n--;for(;t>=e;)t-=e,n++;return{overflow:n,value:t}},t.calcFrequency=function(e){var i,r=0;if(e instanceof t){var o=e;r=o.octave-1,i=o.fundamentalNote-n.A+o.accidental}else if("number"==typeof e){var s=e;i=s-57}return 440*Math.pow(2,r)*Math.pow(2,i/12)},t.calcFractionalKey=function(e){return Math.log(e/440)/Math.LN10*t.halftoneFactor+57},t.fromFrequency=function(e){var n=t.calcFractionalKey(e)+.5,r=Math.floor(n/12)-t.octXmlDiff,o=Math.floor(n)%12,s=o,a=i.NONE;return this.pitchEnumValues.indexOf(s)===-1&&(s=o-1,a=i.SHARP),new t(s,r,a)},t.fromHalftone=function(e){var n=Math.floor(e/12)-t.octXmlDiff,r=e%12,o=r,s=i.NONE;return this.pitchEnumValues.indexOf(o)===-1&&(o=r-1,s=i.SHARP),new t(o,n,s)},t.ceiling=function(t){t%=12;var e=t;return this.pitchEnumValues.indexOf(e)===-1&&(e=t+1),e},t.floor=function(t){t%=12;var e=t;return this.pitchEnumValues.indexOf(e)===-1&&(e=t-1),e},Object.defineProperty(t.prototype,"Octave",{get:function(){return this.octave},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FundamentalNote",{get:function(){return this.fundamentalNote},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Accidental",{get:function(){return this.accidental},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Frequency",{get:function(){return this.frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OctaveXmlDifference",{get:function(){return t.octXmlDiff},enumerable:!0,configurable:!0}),t.prototype.getHalfTone=function(){return this.halfTone},t.prototype.getTransposedPitch=function(t){if(t>12)throw new Error("rewrite this method to handle bigger octave changes or don't use is with bigger octave changes!");return t>0?this.getHigherPitchByTransposeFactor(t):t<0?this.getLowerPitchByTransposeFactor(-t):this},t.prototype.DoEnharmonicChange=function(){switch(this.accidental){case i.FLAT:case i.DOUBLEFLAT:this.fundamentalNote=this.getPreviousFundamentalNote(this.fundamentalNote),this.accidental=this.halfTone-(this.fundamentalNote+12*(this.octave+t.octXmlDiff));break;case i.SHARP:case i.DOUBLESHARP:this.fundamentalNote=this.getNextFundamentalNote(this.fundamentalNote),this.accidental=this.halfTone-(this.fundamentalNote+12*(this.octave+t.octXmlDiff));break;default:return}},t.prototype.ToString=function(){return"Note: "+this.fundamentalNote+", octave: "+this.octave.toString()+", alter: "+this.accidental},t.prototype.OperatorEquals=function(t){var e=this;return void 0!==e&&void 0!==t&&(e.FundamentalNote===t.FundamentalNote&&e.Octave===t.Octave&&e.Accidental===t.Accidental)},t.prototype.OperatorNotEqual=function(t){var e=this;return!(e===t)},t.prototype.getHigherPitchByTransposeFactor=function(e){var n,r=t.pitchEnumValues.indexOf(this.fundamentalNote),o=this.octave;return r+e>t.pitchEnumValues.length-1?(n=t.pitchEnumValues[r+e-t.pitchEnumValues.length],o++):n=t.pitchEnumValues[r+e],new t(n,o,i.NONE)},t.prototype.getLowerPitchByTransposeFactor=function(e){var n,r=t.pitchEnumValues.indexOf(this.fundamentalNote),o=this.octave;return r-e<0?(n=t.pitchEnumValues[t.pitchEnumValues.length+r-e],o--):n=t.pitchEnumValues[r-e],new t(n,o,i.NONE)},t.prototype.getNextFundamentalNote=function(e){var n=t.pitchEnumValues.indexOf(e);return n=(n+1)%t.pitchEnumValues.length,t.pitchEnumValues[n]},t.prototype.getPreviousFundamentalNote=function(e){var n=t.pitchEnumValues.indexOf(e);return n>0?t.pitchEnumValues[n-1]:t.pitchEnumValues[t.pitchEnumValues.length-1]},t}();r.pitchEnumValues=[n.C,n.D,n.E,n.F,n.G,n.A,n.B],r.halftoneFactor=12/(Math.LN2/Math.LN10),r.octXmlDiff=3,e.Pitch=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.debug("[OSMD] ",t.join(" "))},t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log("[OSMD] ",t.join(" "))},t.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error("[OSMD] ",t.join(" "))},t.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.warn("[OSMD] ",t.join(" "))},t}();e.Logging=n},function(t,e,n){(function(){var e,i,r,o,s,a,u,l,c,h,f,p,d,b={}.hasOwnProperty;d=n(31),p=d.isObject,f=d.isFunction,h=d.isEmpty,s=null,e=null,i=null,r=null,o=null,l=null,c=null,u=null,t.exports=a=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=n(112),e=n(104),i=n(105),r=n(110),o=n(111),l=n(114),c=n(115),u=n(113))}return t.prototype.element=function(t,e,n){var i,r,o,s,a,u,l,c,d,m;if(u=null,null==e&&(e={}),e=e.valueOf(),p(e)||(d=[e,n],n=d[0],e=d[1]),null!=t&&(t=t.valueOf()),Array.isArray(t))for(o=0,l=t.length;o<l;o++)r=t[o],u=this.element(r);else if(f(t))u=this.element(t.apply());else if(p(t)){for(a in t)if(b.call(t,a))if(m=t[a],f(m)&&(m=m.apply()),p(m)&&h(m)&&(m=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))u=this.attribute(a.substr(this.stringify.convertAttKey.length),m);else if(!this.options.separateArrayItems&&Array.isArray(m))for(s=0,c=m.length;s<c;s++)r=m[s],i={},i[a]=r,u=this.element(i);else p(m)?(u=this.element(a),u.element(m)):u=this.element(a,m)}else u=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n);if(null==u)throw new Error("Could not create any elements with: "+t);return u},t.prototype.insertBefore=function(t,e,n){var i,r,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return r=this.parent.children.indexOf(this),o=this.parent.children.splice(r),i=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),i},t.prototype.insertAfter=function(t,e,n){var i,r,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return r=this.parent.children.indexOf(this),o=this.parent.children.splice(r+1),i=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),i},t.prototype.remove=function(){var t,e;if(this.isRoot)throw new Error("Cannot remove the root element");return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat(e=[])),e,this.parent},t.prototype.node=function(t,e,n){var i,r;return null!=t&&(t=t.valueOf()),e||(e={}),e=e.valueOf(),p(e)||(r=[e,n],n=r[0],e=r[1]),i=new s(this,t,e),null!=n&&i.text(n),this.children.push(i),i},t.prototype.text=function(t){var e;return e=new c(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var n;return n=new e(this,t),this.children.push(n),this},t.prototype.comment=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,n,i;return n=this.parent.children.indexOf(this),i=this.parent.children.splice(n),e=this.parent.comment(t),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.commentAfter=function(t){var e,n,i;return n=this.parent.children.indexOf(this),i=this.parent.children.splice(n+1),e=this.parent.comment(t),Array.prototype.push.apply(this.parent.children,i),this},t.prototype.raw=function(t){var e;return e=new l(this,t),this.children.push(e),this},t.prototype.instruction=function(t,e){var n,i,r,o,s;if(null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(o=0,s=t.length;o<s;o++)n=t[o],this.instruction(n);else if(p(t))for(n in t)b.call(t,n)&&(i=t[n],this.instruction(n,i));else f(e)&&(e=e.apply()),r=new u(this,t,e),this.children.push(r);return this},t.prototype.instructionBefore=function(t,e){var n,i,r;return i=this.parent.children.indexOf(this),r=this.parent.children.splice(i),n=this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(t,e){var n,i,r;return i=this.parent.children.indexOf(this),r=this.parent.children.splice(i+1),n=this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(t,e,n){var i,o;return i=this.document(),o=new r(i,t,e,n),i.children[0]instanceof r?i.children[0]=o:i.children.unshift(o),i.root()||i},t.prototype.doctype=function(t,e){var n,i,r,s,a,u,l,c,h,f;for(i=this.document(),r=new o(i,t,e),h=i.children,s=a=0,l=h.length;a<l;s=++a)if(n=h[s],n instanceof o)return i.children[s]=r,r;for(f=i.children,s=u=0,c=f.length;u<c;s=++u)if(n=f[s],n.isRoot)return i.children.splice(s,0,r),r;return i.children.push(r),r},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.isDocument)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.isDocument)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if(t=this.parent.children.indexOf(this),t<1)throw new Error("Already at the first node");return this.parent.children[t-1]},t.prototype.next=function(){var t;if(t=this.parent.children.indexOf(this),t===-1||t===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return e=t.root().clone(),e.parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e){return this.doctype(t,e)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t}()}).call(this)},function(t,e){"use strict";function n(t){return function(){return t}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),r=n(22),o=n(235),s=n(136),a=function(){function t(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),this.isSymbol=!1,this.relativePositionHasBeenSet=!1,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1,this.absolutePosition=new r.PointF2D,this.relativePosition=new r.PointF2D,this.size=new o.SizeF2D,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.borderMarginLeft=0,this.borderMarginRight=0,this.borderMarginTop=0,this.borderMarginBottom=0,this.childElements=[],this.parent=e,this.dataObject=t,this.xBordersHaveBeenSet=!1,this.yBordersHaveBeenSet=!1}return Object.defineProperty(t.prototype,"RelativePositionHasBeenSet",{get:function(){return this.relativePositionHasBeenSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"XBordersHaveBeenSet",{get:function(){return this.xBordersHaveBeenSet},set:function(t){this.xBordersHaveBeenSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"YBordersHaveBeenSet",{get:function(){return this.yBordersHaveBeenSet},set:function(t){this.yBordersHaveBeenSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AbsolutePosition",{get:function(){return this.absolutePosition},set:function(t){this.absolutePosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RelativePosition",{get:function(){return this.relativePosition},set:function(t){this.relativePosition=t,this.relativePositionHasBeenSet=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Size",{get:function(){return this.size},set:function(t){this.size=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MarginSize",{get:function(){return this.marginSize;
},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpperLeftCorner",{get:function(){return this.upperLeftCorner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UpperLeftMarginCorner",{get:function(){return this.upperLeftMarginCorner},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderLeft",{get:function(){return this.borderLeft},set:function(t){this.borderLeft=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderRight",{get:function(){return this.borderRight},set:function(t){this.borderRight=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderTop",{get:function(){return this.borderTop},set:function(t){this.borderTop=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderBottom",{get:function(){return this.borderBottom},set:function(t){this.borderBottom=t,this.calculateRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginLeft",{get:function(){return this.borderMarginLeft},set:function(t){this.borderMarginLeft=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginRight",{get:function(){return this.borderMarginRight},set:function(t){this.borderMarginRight=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginTop",{get:function(){return this.borderMarginTop},set:function(t){this.borderMarginTop=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BorderMarginBottom",{get:function(){return this.borderMarginBottom},set:function(t){this.borderMarginBottom=t,this.calculateMarginRectangle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BoundingRectangle",{get:function(){return this.boundingRectangle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BoundingMarginRectangle",{get:function(){return this.boundingMarginRectangle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChildElements",{get:function(){return this.childElements},set:function(t){this.childElements=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DataObject",{get:function(){return this.dataObject},enumerable:!0,configurable:!0}),t.prototype.setAbsolutePositionFromParent=function(){void 0!==this.parent?(this.absolutePosition.x=this.parent.AbsolutePosition.x+this.relativePosition.x,this.absolutePosition.y=this.parent.AbsolutePosition.y+this.relativePosition.y):this.absolutePosition=this.relativePosition},t.prototype.calculateAbsolutePositionsRecursiveWithoutTopelement=function(){this.absolutePosition.x=0,this.absolutePosition.y=0;for(var t=0,e=this.ChildElements.length;t<e;++t){var n=this.ChildElements[t];n.calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}},t.prototype.calculateAbsolutePositionsRecursive=function(t,e){this.absolutePosition.x=this.relativePosition.x+t,this.absolutePosition.y=this.relativePosition.y+e;for(var n=0,i=this.ChildElements.length;n<i;++n){var r=this.ChildElements[n];r.calculateAbsolutePositionsRecursive(this.absolutePosition.x,this.absolutePosition.y)}},t.prototype.calculateBoundingBox=function(){if(0!==this.childElements.length){for(var t=0,e=this.ChildElements.length;t<e;++t){var n=this.ChildElements[t];n.calculateBoundingBox()}var i=Number.MAX_VALUE,r=Number.MIN_VALUE,o=Number.MAX_VALUE,s=Number.MIN_VALUE,a=Number.MAX_VALUE,u=Number.MIN_VALUE,l=Number.MAX_VALUE,c=Number.MIN_VALUE;this.isSymbol&&(i=this.borderLeft,r=this.borderRight,o=this.borderTop,s=this.borderBottom,a=this.borderMarginLeft,u=this.borderMarginRight,l=this.borderMarginTop,c=this.borderMarginBottom);for(var t=0,e=this.ChildElements.length;t<e;++t){var n=this.ChildElements[t];i=Math.min(i,n.relativePosition.x+n.borderLeft),r=Math.max(r,n.relativePosition.x+n.borderRight),o=Math.min(o,n.relativePosition.y+n.borderTop),s=Math.max(s,n.relativePosition.y+n.borderBottom),a=Math.min(a,n.relativePosition.x+n.borderMarginLeft),u=Math.max(u,n.relativePosition.x+n.borderMarginRight),l=Math.min(l,n.relativePosition.y+n.borderMarginTop),c=Math.max(c,n.relativePosition.y+n.borderMarginBottom)}this.borderLeft=i,this.borderRight=r,this.borderTop=o,this.borderBottom=s,this.borderMarginLeft=a,this.borderMarginRight=u,this.borderMarginTop=l,this.borderMarginBottom=c,this.calculateRectangle(),this.calculateMarginRectangle(),this.xBordersHaveBeenSet=!0,this.yBordersHaveBeenSet=!0}},t.prototype.calculateTopBottomBorders=function(){if(0!==this.childElements.length){for(var t=0,e=this.ChildElements.length;t<e;++t){var n=this.ChildElements[t];n.calculateTopBottomBorders()}var i=Number.MAX_VALUE,r=Number.MIN_VALUE,o=Number.MAX_VALUE,s=Number.MIN_VALUE;this.yBordersHaveBeenSet&&(i=this.borderTop,r=this.borderBottom,o=this.borderMarginTop,s=this.borderMarginBottom);for(var t=0,e=this.ChildElements.length;t<e;++t){var n=this.ChildElements[t];i=Math.min(i,n.relativePosition.y+n.borderTop),r=Math.max(r,n.relativePosition.y+n.borderBottom),o=Math.min(o,n.relativePosition.y+n.borderMarginTop),s=Math.max(s,n.relativePosition.y+n.borderMarginBottom)}this.borderTop=i,this.borderBottom=r,this.borderMarginTop=o,this.borderMarginBottom=s,this.calculateRectangle(),this.calculateMarginRectangle()}},t.prototype.computeNonOverlappingPositionWithMargin=function(t,e,n){this.RelativePosition=new r.PointF2D(n.x,n.y),this.setAbsolutePositionFromParent();var o=0,s=!1;do switch(e){case u.Left:case u.Right:o=this.relativePosition.x,t.calculateMarginPositionAlongDirection(this,e),s=Math.abs(o-this.relativePosition.x)>.001;break;case u.Up:case u.Down:o=this.relativePosition.y,t.calculateMarginPositionAlongDirection(this,e),s=Math.abs(o-this.relativePosition.y)>.001;break;default:throw new i.ArgumentOutOfRangeException("direction")}while(s)},t.prototype.collisionDetection=function(t){var e=Math.min(this.AbsolutePosition.x+this.borderRight,t.absolutePosition.x+t.borderRight)-Math.max(this.AbsolutePosition.x+this.borderLeft,t.absolutePosition.x+t.borderLeft),n=Math.min(this.AbsolutePosition.y+this.borderBottom,t.absolutePosition.y+t.borderBottom)-Math.max(this.AbsolutePosition.y+this.borderTop,t.absolutePosition.y+t.borderTop);return e>0&&n>0},t.prototype.liesInsideBorders=function(t){var e=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderLeft&&t.absolutePosition.x+t.borderLeft<=this.AbsolutePosition.x+this.borderRight,n=this.AbsolutePosition.x+this.borderLeft<=t.absolutePosition.x+t.borderRight&&t.absolutePosition.x+t.borderRight<=this.AbsolutePosition.x+this.borderRight;if(e&&n){var i=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderTop&&t.absolutePosition.y+t.borderTop<=this.AbsolutePosition.y+this.borderBottom,r=this.AbsolutePosition.y+this.borderTop<=t.absolutePosition.y+t.borderBottom&&t.absolutePosition.y+t.borderBottom<=this.AbsolutePosition.y+this.borderBottom;if(i&&r)return!0}return!1},t.prototype.pointLiesInsideBorders=function(t){var e=this.AbsolutePosition.x+this.borderLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderRight;if(e){var n=this.AbsolutePosition.y+this.borderTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderBottom;if(n)return!0}return!1},t.prototype.marginCollisionDetection=function(t){var e=Math.min(this.AbsolutePosition.x+this.borderMarginRight,t.absolutePosition.x+t.borderMarginRight)-Math.max(this.AbsolutePosition.x+this.borderMarginLeft,t.absolutePosition.x+t.borderMarginLeft),n=Math.min(this.AbsolutePosition.y+this.borderMarginBottom,t.absolutePosition.y+t.borderMarginBottom)-Math.max(this.AbsolutePosition.y+this.borderMarginTop,t.absolutePosition.y+t.borderMarginTop);return e>0&&n>0},t.prototype.liesInsideMargins=function(t){var e=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginLeft&&t.absolutePosition.x+t.borderMarginLeft<=this.AbsolutePosition.x+this.borderMarginRight,n=this.AbsolutePosition.x+this.borderMarginLeft<=t.absolutePosition.x+t.borderMarginRight&&t.absolutePosition.x+t.borderMarginRight<=this.AbsolutePosition.x+this.borderMarginRight;if(e&&n){var i=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginTop&&t.absolutePosition.y+t.borderMarginTop<=this.AbsolutePosition.y+this.borderMarginBottom,r=this.AbsolutePosition.y+this.borderMarginTop<=t.absolutePosition.y+t.borderMarginBottom&&t.absolutePosition.y+t.borderMarginBottom<=this.AbsolutePosition.y+this.borderMarginBottom;if(i&&r)return!0}return!1},t.prototype.pointLiesInsideMargins=function(t){var e=this.AbsolutePosition.x+this.borderMarginLeft<=t.x&&t.x<=this.AbsolutePosition.x+this.borderMarginRight;if(e){var n=this.AbsolutePosition.y+this.borderMarginTop<=t.y&&t.y<=this.AbsolutePosition.y+this.borderMarginBottom;if(n)return!0}return!1},t.prototype.computeNonOverlappingPosition=function(t,e,n){this.RelativePosition=new r.PointF2D(n.x,n.y),this.setAbsolutePositionFromParent();var o=0,s=!1;do switch(e){case u.Left:case u.Right:o=this.relativePosition.x,t.calculatePositionAlongDirection(this,e),s=Math.abs(o-this.relativePosition.x)>1e-4;break;case u.Up:case u.Down:o=this.relativePosition.y,t.calculatePositionAlongDirection(this,e),s=Math.abs(o-this.relativePosition.y)>1e-4;break;default:throw new i.ArgumentOutOfRangeException("direction")}while(s)},t.prototype.getClickedObjectOfType=function(t){var e=this.dataObject;if(this.pointLiesInsideBorders(t)&&void 0!==e)return e;for(var n=0,i=this.childElements.length;n<i;++n){var r=this.childElements[n],o=r.getClickedObjectOfType(t);if(void 0!==o)return o}},t.prototype.getObjectsInRegion=function(t,e){if(void 0===e&&(e=!0),void 0!==this.dataObject)if(e){if(t.liesInsideBorders(this))return[this.dataObject]}else if(t.collisionDetection(this))return[this.dataObject];for(var n=[],i=0,r=this.childElements;i<r.length;i++){var o=r[i];n.concat(o.getObjectsInRegion(t,e))}return n},t.prototype.calculateRectangle=function(){this.upperLeftCorner=new r.PointF2D(this.borderLeft,this.borderTop),this.size=new o.SizeF2D(this.borderRight-this.borderLeft,this.borderBottom-this.borderTop),this.boundingRectangle=s.RectangleF2D.createFromLocationAndSize(this.upperLeftCorner,this.size)},t.prototype.calculateMarginRectangle=function(){this.upperLeftMarginCorner=new r.PointF2D(this.borderMarginLeft,this.borderMarginTop),this.marginSize=new o.SizeF2D(this.borderMarginRight-this.borderMarginLeft,this.borderMarginBottom-this.borderMarginTop),this.boundingMarginRectangle=s.RectangleF2D.createFromLocationAndSize(this.upperLeftMarginCorner,this.marginSize)},t.prototype.calculateMarginPositionAlongDirection=function(t,e){if(this!==t){if(this.isSymbol&&this.marginCollisionDetection(t)){var n=0;switch(e){case u.Left:return n=this.absolutePosition.x+this.borderMarginLeft-(t.absolutePosition.x+t.borderMarginRight),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case u.Right:return n=this.absolutePosition.x+this.borderMarginRight-(t.absolutePosition.x+t.borderMarginLeft),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case u.Up:return n=this.absolutePosition.y+this.borderMarginTop-(t.absolutePosition.y+t.borderMarginBottom),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);case u.Down:return n=this.absolutePosition.y+this.borderMarginBottom-(t.absolutePosition.y+t.borderMarginTop),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);default:throw new i.ArgumentOutOfRangeException("direction")}}for(var r=0,o=this.ChildElements.length;r<o;++r){var s=this.ChildElements[r];s.calculateMarginPositionAlongDirection(t,e)}}},t.prototype.calculatePositionAlongDirection=function(t,e){if(this!==t){if(this.isSymbol&&this.collisionDetection(t)){var n=void 0;switch(e){case u.Left:return n=this.absolutePosition.x+this.borderLeft-(t.absolutePosition.x+t.borderRight),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case u.Right:return n=this.absolutePosition.x+this.borderRight-(t.absolutePosition.x+t.borderLeft),t.relativePosition.x+=n,void(t.absolutePosition.x+=n);case u.Up:return n=this.absolutePosition.y+this.borderTop-(t.absolutePosition.y+t.borderBottom),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);case u.Down:return n=this.absolutePosition.y+this.borderBottom-(t.absolutePosition.y+t.borderTop),t.relativePosition.y+=n,void(t.absolutePosition.y+=n);default:throw new i.ArgumentOutOfRangeException("direction")}}for(var r=0,o=this.ChildElements.length;r<o;++r){var s=this.ChildElements[r];s.calculatePositionAlongDirection(t,e)}}},t}();e.BoundingBox=a;var u;!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down"}(u=e.ColDirEnum||(e.ColDirEnum={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),o=n(141),s=n(14),a=n(14),u=n(39),l=function(t){function e(e,n,i){void 0===e&&(e=c.G),void 0===n&&(n=0),void 0===i&&(i=2);var r=t.call(this,void 0)||this;return r.clefType=c.G,r.line=2,r.octaveOffset=0,r.line=i,r.clefType=e,r.octaveOffset=n,r.calcParameters(),r}return i(e,t),e.getDefaultClefFromMidiInstrument=function(t){switch(t){case h.Acoustic_Grand_Piano:return new e(c.F,0,4);case h.Electric_Bass_finger:return new e(c.F,0,4);case h.Electric_Bass_pick:return new e(c.F,0,4);case h.Fretless_Bass:return new e(c.F,0,4);case h.Slap_Bass_1:return new e(c.F,0,4);case h.Slap_Bass_2:return new e(c.F,0,4);case h.Synth_Bass_1:return new e(c.F,0,4);case h.Synth_Bass_2:return new e(c.F,0,4);case h.Contrabass:return new e(c.F,0,4);default:return new e(c.G,0,2)}},e.getAllPossibleClefs=function(){for(var t=[],n=0;n<=2;n++){var i=new e(c.G,n,2);t.push(i)}for(var r=-2;r<=0;r++){var o=new e(c.F,r,4);t.push(o)}return t},e.isSupportedClef=function(t){switch(t){case c.G:case c.F:case c.C:case c.percussion:return!0;default:return!1}},Object.defineProperty(e.prototype,"ClefType",{get:function(){return this.clefType},set:function(t){this.clefType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Line",{get:function(){return this.line},set:function(t){this.line=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OctaveOffset",{get:function(){return this.octaveOffset},set:function(t){this.octaveOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ClefPitch",{get:function(){return this.clefPitch},set:function(t){this.clefPitch=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ReferenceCyPosition",{get:function(){return this.referenceCyPosition},set:function(t){this.referenceCyPosition=t},enumerable:!0,configurable:!0}),e.prototype.Equals=function(t){return this===t||void 0!==this&&void 0!==t&&(this.ClefPitch===t.ClefPitch&&this.Line===t.Line)},e.prototype.NotEqual=function(t){return!this.Equals(t)},e.prototype.ToString=function(){return"ClefType: "+this.clefType},e.prototype.calcParameters=function(){switch(this.clefType){case c.G:this.clefPitch=new r.Pitch(s.NoteEnum.G,1+this.octaveOffset,a.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+2;break;case c.F:this.clefPitch=new r.Pitch(s.NoteEnum.F,0+this.octaveOffset,a.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line+1.5;break;case c.C:this.clefPitch=new r.Pitch(s.NoteEnum.C,1+this.octaveOffset,a.AccidentalEnum.NONE),this.referenceCyPosition=5-this.line;break;case c.percussion:this.clefPitch=new r.Pitch(s.NoteEnum.C,2,a.AccidentalEnum.NONE),this.referenceCyPosition=2;break;default:throw new u.ArgumentOutOfRangeException("clefType")}},e}(o.AbstractNotationInstruction);e.ClefInstruction=l;var c;!function(t){t[t.G=0]="G",t[t.F=1]="F",t[t.C=2]="C",t[t.percussion=3]="percussion",t[t.TAB=4]="TAB"}(c=e.ClefEnum||(e.ClefEnum={}));var h;!function(t){t[t.None=-1]="None",t[t.Acoustic_Grand_Piano=0]="Acoustic_Grand_Piano",t[t.Bright_Acoustic_Piano=1]="Bright_Acoustic_Piano",t[t.Electric_Grand_Piano=2]="Electric_Grand_Piano",t[t.Honky_tonk_Piano=3]="Honky_tonk_Piano",t[t.Electric_Piano_1=4]="Electric_Piano_1",t[t.Electric_Piano_2=5]="Electric_Piano_2",t[t.Harpsichord=6]="Harpsichord",t[t.Clavinet=7]="Clavinet",t[t.Celesta=8]="Celesta",t[t.Glockenspiel=9]="Glockenspiel",t[t.Music_Box=10]="Music_Box",t[t.Vibraphone=11]="Vibraphone",t[t.Marimba=12]="Marimba",t[t.Xylophone=13]="Xylophone",t[t.Tubular_Bells=14]="Tubular_Bells",t[t.Dulcimer=15]="Dulcimer",t[t.Drawbar_Organ=16]="Drawbar_Organ",t[t.Percussive_Organ=17]="Percussive_Organ",t[t.Rock_Organ=18]="Rock_Organ",t[t.Church_Organ=19]="Church_Organ",t[t.Reed_Organ=20]="Reed_Organ",t[t.Accordion=21]="Accordion",t[t.Harmonica=22]="Harmonica",t[t.Tango_Accordion=23]="Tango_Accordion",t[t.Acoustic_Guitar_nylon=24]="Acoustic_Guitar_nylon",t[t.Acoustic_Guitar_steel=25]="Acoustic_Guitar_steel",t[t.Electric_Guitar_jazz=26]="Electric_Guitar_jazz",t[t.Electric_Guitar_clean=27]="Electric_Guitar_clean",t[t.Electric_Guitar_muted=28]="Electric_Guitar_muted",t[t.Overdriven_Guitar=29]="Overdriven_Guitar",t[t.Distortion_Guitar=30]="Distortion_Guitar",t[t.Guitar_harmonics=31]="Guitar_harmonics",t[t.Acoustic_Bass=32]="Acoustic_Bass",t[t.Electric_Bass_finger=33]="Electric_Bass_finger",t[t.Electric_Bass_pick=34]="Electric_Bass_pick",t[t.Fretless_Bass=35]="Fretless_Bass",t[t.Slap_Bass_1=36]="Slap_Bass_1",t[t.Slap_Bass_2=37]="Slap_Bass_2",t[t.Synth_Bass_1=38]="Synth_Bass_1",t[t.Synth_Bass_2=39]="Synth_Bass_2",t[t.Violin=40]="Violin",t[t.Viola=41]="Viola",t[t.Cello=42]="Cello",t[t.Contrabass=43]="Contrabass",t[t.Tremolo_Strings=44]="Tremolo_Strings",t[t.Pizzicato_Strings=45]="Pizzicato_Strings",t[t.Orchestral_Harp=46]="Orchestral_Harp",t[t.Timpani=47]="Timpani",t[t.String_Ensemble_1=48]="String_Ensemble_1",t[t.String_Ensemble_2=49]="String_Ensemble_2",t[t.Synth_Strings_1=50]="Synth_Strings_1",t[t.Synth_Strings_2=51]="Synth_Strings_2",t[t.Choir_Aahs=52]="Choir_Aahs",t[t.Voice_Oohs=53]="Voice_Oohs",t[t.Synth_Voice=54]="Synth_Voice",t[t.Orchestra_Hit=55]="Orchestra_Hit",t[t.Trumpet=56]="Trumpet",t[t.Trombone=57]="Trombone",t[t.Tuba=58]="Tuba",t[t.Muted_Trumpet=59]="Muted_Trumpet",t[t.French_Horn=60]="French_Horn",t[t.Brass_Section=61]="Brass_Section",t[t.Synth_Brass_1=62]="Synth_Brass_1",t[t.Synth_Brass_2=63]="Synth_Brass_2",t[t.Soprano_Sax=64]="Soprano_Sax",t[t.Alto_Sax=65]="Alto_Sax",t[t.Tenor_Sax=66]="Tenor_Sax",t[t.Baritone_Sax=67]="Baritone_Sax",t[t.Oboe=68]="Oboe",t[t.English_Horn=69]="English_Horn",t[t.Bassoon=70]="Bassoon",t[t.Clarinet=71]="Clarinet",t[t.Piccolo=72]="Piccolo",t[t.Flute=73]="Flute",t[t.Recorder=74]="Recorder",t[t.Pan_Flute=75]="Pan_Flute",t[t.Blown_Bottle=76]="Blown_Bottle",t[t.Shakuhachi=77]="Shakuhachi",t[t.Whistle=78]="Whistle",t[t.Ocarina=79]="Ocarina",t[t.Lead_1_square=80]="Lead_1_square",t[t.Lead_2_sawtooth=81]="Lead_2_sawtooth",t[t.Lead_3_calliope=82]="Lead_3_calliope",t[t.Lead_4_chiff=83]="Lead_4_chiff",t[t.Lead_5_charang=84]="Lead_5_charang",t[t.Lead_6_voice=85]="Lead_6_voice",t[t.Lead_7_fifths=86]="Lead_7_fifths",t[t.Lead_8_bass_lead=87]="Lead_8_bass_lead",t[t.Pad_1_new_age=88]="Pad_1_new_age",t[t.Pad_2_warm=89]="Pad_2_warm",t[t.Pad_3_polysynth=90]="Pad_3_polysynth",t[t.Pad_4_choir=91]="Pad_4_choir",t[t.Pad_5_bowed=92]="Pad_5_bowed",t[t.Pad_6_metallic=93]="Pad_6_metallic",t[t.Pad_7_halo=94]="Pad_7_halo",t[t.Pad_8_sweep=95]="Pad_8_sweep",t[t.FX_1_rain=96]="FX_1_rain",t[t.FX_2_soundtrack=97]="FX_2_soundtrack",t[t.FX_3_crystal=98]="FX_3_crystal",t[t.FX_4_atmosphere=99]="FX_4_atmosphere",t[t.FX_5_brightness=100]="FX_5_brightness",t[t.FX_6_goblins=101]="FX_6_goblins",t[t.FX_7_echoes=102]="FX_7_echoes",t[t.FX_8_scifi=103]="FX_8_scifi",t[t.Sitar=104]="Sitar",t[t.Banjo=105]="Banjo",t[t.Shamisen=106]="Shamisen",t[t.Koto=107]="Koto",t[t.Kalimba=108]="Kalimba",t[t.Bag_pipe=109]="Bag_pipe",t[t.Fiddle=110]="Fiddle",t[t.Shanai=111]="Shanai",t[t.Tinkle_Bell=112]="Tinkle_Bell",t[t.Agogo=113]="Agogo",t[t.Steel_Drums=114]="Steel_Drums",t[t.Woodblock=115]="Woodblock",t[t.Taiko_Drum=116]="Taiko_Drum",t[t.Melodic_Tom=117]="Melodic_Tom",t[t.Synth_Drum=118]="Synth_Drum",t[t.Reverse_Cymbal=119]="Reverse_Cymbal",t[t.Guitar_Fret_Noise=120]="Guitar_Fret_Noise",t[t.Breath_Noise=121]="Breath_Noise",t[t.Seashore=122]="Seashore",t[t.Bird_Tweet=123]="Bird_Tweet",t[t.Telephone_Ring=124]="Telephone_Ring",t[t.Helicopter=125]="Helicopter",t[t.Applause=126]="Applause",t[t.Gunshot=127]="Gunshot",t[t.Percussion=128]="Percussion"}(h=e.MidiInstrument||(e.MidiInstrument={}))},function(t,e,n){(function(t){"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,n)}function a(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,i):"string"==typeof e?h(t,e,n):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,n,i){return u(e),e<=0?o(t,e):void 0!==n?"string"==typeof i?o(t,e).fill(n,i):o(t,e).fill(n):o(t,e)}function c(t,e){if(u(e),t=o(t,e<0?0:0|b(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(e,n);t=o(t,i);var r=t.write(e,n);return r!==i&&(t=t.slice(0,r)),t}function f(t,e){var n=e.length<0?0:0|b(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=f(t,e),t}function d(t,e){if(s.isBuffer(e)){var n=0|b(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||K(e.length)?o(t,0):f(t,e);if("Buffer"===e.type&&$(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),s.alloc(+t)}function y(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(i)return Y(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function _(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=s.from(e,i)),s.isBuffer(e))return 0===e.length?-1:x(t,e,n,i,r);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):x(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function x(t,e,n,i,r){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}var l;if(r){var c=-1;for(l=n;l<a;l++)if(o(t,l)===o(e,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===u)return c*s}else c!==-1&&(l-=l-c),c=-1}else for(n+u>a&&(n=a-u),l=n;l>=0;l--){for(var h=!0,f=0;f<u;f++)if(o(t,l+f)!==o(e,f)){h=!1;break}if(h)return l}return-1}function w(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function S(t,e,n,i){return Z(Y(e,t.length-n),t,n,i)}function E(t,e,n,i){return Z(z(e),t,n,i)}function T(t,e,n,i){return E(t,e,n,i)}function P(t,e,n,i){return Z(q(e),t,n,i)}function M(t,e,n,i){return Z(X(e,t.length-n),t,n,i)}function O(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o=t[r],s=null,a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var u,l,c,h;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[r+1],128===(192&u)&&(h=(31&o)<<6|63&u,h>127&&(s=h));break;case 3:u=t[r+1],l=t[r+2],128===(192&u)&&128===(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:u=t[r+1],l=t[r+2],c=t[r+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c,h>65535&&h<1114112&&(s=h))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=a}return C(i)}function C(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=tt));return n}function k(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function R(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function I(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=H(t[o]);return r}function N(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function L(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,i,r,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function B(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function D(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function j(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(t,e,n,i,r){return r||j(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,i,23,4),n+4}function V(t,e,n,i,r){return r||j(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,i,52,8),n+8}function U(t){if(t=W(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],s=0;s<i;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function q(t){return J.toByteArray(U(t))}function Z(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function K(t){return t!==t}var J=n(337),Q=n(355),$=n(188);e.Buffer=s,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=r(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return a(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return l(null,t,e,n)},s.allocUnsafe=function(t){return c(null,t)},s.allocUnsafeSlow=function(t){return c(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=s.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},s.prototype.toString=function(){
var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,i,r){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,a=n-e,u=Math.min(o,a),l=this.slice(i,r),c=t.slice(e,n),h=0;h<u;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},s.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},s.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return P(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;s.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(s.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=s.prototype;else{var r=e-t;i=new s(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},s.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),Q.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),Q.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),Q.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),Q.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;F(this,t,e,n,r,0)}var o=1,s=0;for(this[e]=255&t;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;F(this,t,e,n,r,0)}var o=n-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);F(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);F(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return G(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return G(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!s.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=s.isBuffer(t)?t:Y(new s(t,i).toString()),u=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return Object.defineProperty(t,"Empty",{get:function(){return new t},enumerable:!0,configurable:!0}),t.pointsAreEqual=function(t,e){return t.x===e.x&&t.y===e.y},t.prototype.ToString=function(){return"["+this.x+", "+this.y+"]"},t}();e.PointF2D=n},function(t,e,n){"use strict";var i=null;t.exports={debugTool:i}},function(t,e,n){"use strict";function i(t){return t||0===t}function r(t,e){return arguments.length>1?r(t)(e):function(e){return E(e).map(t)}}function o(t){return E(t).filter(i)}function s(t,e){return arguments.length>1?s(t)(e):function(e){return E(e).filter(t)}}function a(t){if(!t)return-(1/0);var e=7*g.fifths(t),n=g.focts(t)||-Math.floor(e/12)-100;return e+12*n}function u(t,e){return a(t)-a(e)}function l(t,e){return-u(t,e)}function c(t,e){var n=1===arguments.length||e===!0?u:e===!1?l:"function"==typeof e?e:u;return t=Array.isArray(t)?t.slice():E(t),v(function(t){return t.sort(n).filter(i)},t)}function h(t){return _.transpose(g.pitch(0,t,1))}function f(t,e){var n=E(e),i=n.length,r=(t%i+i)%i;return n.slice(r,i).concat(n.slice(0,r))}function p(t,e){return v(function(e){var n=e.length,i=(t%n+n)%n,r=e.slice(i,n),o=e.slice(0,i),s=x.semitones(r[n-i-1],o[0]);if(s<0){var a=Math.floor(s/12);t<0?r=r.map(h(a)):o=o.map(h(-a))}return r.concat(o)},e)}function d(t,e){if(1===arguments.length)return function(e){return d(t,e)};var n=E(e);return E(t).map(function(t){return n[t-1]||null})}function b(t){return t=E(t),0===t.length?[[]]:b(t.slice(1)).reduce(function(e,n){return e.concat(t.map(function(e,i){var r=n.slice();return r.splice(i,0,t[0]),r}))},[])}function m(t){return g.strPitch(t)||t}function y(t){return g.isPitch(t)?g.strPitch(t):S(t)?t.map(m):t}function v(t,e){if(1===arguments.length)return function(e){return v(t,e)};var n=E(e).map(g.asPitch),i=t(n);return y(i)}Object.defineProperty(e,"__esModule",{value:!0});var g=n(36),_=n(37),x=n(101),w=n(321),S=Array.isArray,E=w.use(/\s*\|\s*|\s*,\s*|\s+/),T=v(function(t){for(var e,n,i=t.length;i;)e=Math.random()*i--|0,n=t[i],t[i]=t[e],t[e]=n;return t});e.asArr=E,e.map=r,e.compact=o,e.filter=s,e.sort=c,e.shuffle=T,e.rotate=f,e.rotateAsc=p,e.select=d,e.permutations=b},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){b&&p&&(b=!1,p.length?d=p.concat(d):m=-1,d.length&&a())}function a(){if(!b){var t=r(s);b=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,b=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var p,d=[],b=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||b||r(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){"use strict";function i(){M.ReactReconcileTransaction&&x?void 0:c("123")}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=f.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled(!0)}function o(t,e,n,r,o,s){return i(),x.batchedUpdates(t,e,n,r,o,s)}function s(t,e){return t._mountOrder-e._mountOrder}function a(t){var e=t.dirtyComponentsLength;e!==y.length?c("124",e,y.length):void 0,y.sort(s),v++;for(var n=0;n<e;n++){var i=y[n],r=i._pendingCallbacks;i._pendingCallbacks=null;var o;if(d.logTopLevelRenders){var a=i;i._currentElement.type.isReactTopLevelWrapper&&(a=i._renderedComponent),o="React update: "+a.getName(),console.time(o)}if(b.performUpdateIfNecessary(i,t.reconcileTransaction,v),o&&console.timeEnd(o),r)for(var u=0;u<r.length;u++)t.callbackQueue.enqueue(r[u],i.getPublicInstance())}}function u(t){return i(),x.isBatchingUpdates?(y.push(t),void(null==t._updateBatchNumber&&(t._updateBatchNumber=v+1))):void x.batchedUpdates(u,t)}function l(t,e){x.isBatchingUpdates?void 0:c("125"),g.enqueue(t,e),_=!0}var c=n(4),h=n(6),f=n(277),p=n(40),d=n(282),b=n(49),m=n(95),y=(n(2),[]),v=0,g=f.getPooled(),_=!1,x=null,w={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),T()):y.length=0}},S={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[w,S];h(r.prototype,m,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,f.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return m.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),p.addPoolingTo(r);var T=function(){for(;y.length||_;){if(y.length){var t=r.getPooled();t.perform(a,null,t),r.release(t)}if(_){_=!1;var e=g;g=f.getPooled(),e.notifyAll(),f.release(e)}}},P={injectReconcileTransaction:function(t){t?void 0:c("126"),M.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){t?void 0:c("127"),"function"!=typeof t.batchedUpdates?c("128"):void 0,"boolean"!=typeof t.isBatchingUpdates?c("129"):void 0,x=t}},M={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:T,injection:P,asap:l};t.exports=M},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t.prototype,"PositionAndShape",{get:function(){return this.boundingBox},set:function(t){this.boundingBox=t},enumerable:!0,configurable:!0}),t}();e.GraphicalObject=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(141),o=n(14),s=n(14),a=function(t){function e(e,n,i){void 0===e&&(e=void 0),void 0===n&&(n=0),void 0===i&&(i=l.major);var r=t.call(this,e)||this;return r.Key=n,r.mode=i,r}return i(e,t),e.copy=function(t){var n=new e(t.parent,t.Key,t.Mode);return n},e.getNoteEnumList=function(t){var n=[];if(t.keyType>0)for(var i=0;i<t.keyType;i++)n.push(e.sharpPositionList[i]);if(t.keyType<0)for(var i=0;i<Math.abs(t.keyType);i++)n.push(e.flatPositionList[i]);return n},e.getAllPossibleMajorKeyInstructions=function(){for(var t=[],n=-7;n<7;n++){var i=new e(void 0,n,l.major);t.push(i)}return t},Object.defineProperty(e.prototype,"Key",{get:function(){return this.keyType},set:function(t){this.keyType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Mode",{get:function(){return this.mode},set:function(t){this.mode=t},enumerable:!0,configurable:!0}),e.prototype.getFundamentalNotesOfAccidentals=function(){var t=[];if(this.keyType>0)for(var n=0;n<this.keyType;n++)t.push(e.sharpPositionList[n]);else if(this.keyType<0)for(var n=0;n<-this.keyType;n++)t.push(e.flatPositionList[n]);return t},e.prototype.getAlterationForPitch=function(t){return this.keyType>0&&e.sharpPositionList.indexOf(t.FundamentalNote)<=this.keyType?s.AccidentalEnum.SHARP:this.keyType<0&&e.flatPositionList.indexOf(t.FundamentalNote)<=Math.abs(this.keyType)?s.AccidentalEnum.FLAT:s.AccidentalEnum.NONE},e.prototype.ToString=function(){return"Key: "+this.keyType+this.mode},e.prototype.OperatorEquals=function(t){var e=this;return e===t||void 0!==e&&void 0!==t&&(e.Key===t.Key&&e.Mode===t.Mode)},e.prototype.OperatorNotEqual=function(t){return!this.OperatorEquals(t)},e}(r.AbstractNotationInstruction);a.sharpPositionList=[o.NoteEnum.F,o.NoteEnum.C,o.NoteEnum.G,o.NoteEnum.D,o.NoteEnum.A,o.NoteEnum.E,o.NoteEnum.B],a.flatPositionList=[o.NoteEnum.B,o.NoteEnum.E,o.NoteEnum.A,o.NoteEnum.D,o.NoteEnum.G,o.NoteEnum.C,o.NoteEnum.F],e.KeyInstruction=a;var u=function(){function t(t,e){this.note=t,this.halfTone=e}return t}();e.NoteEnumToHalfToneLink=u;var l;!function(t){t[t.major=0]="major",t[t.minor=1]="minor",t[t.none=2]="none"}(l=e.KeyEnum||(e.KeyEnum={}))},function(t,e,n){"use strict";function i(t,e,n,i){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];a?this[o]=a(n):"target"===o?this.target=i:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=s.thatReturnsTrue:this.isDefaultPrevented=s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}var r=n(6),o=n(40),s=n(17),a=(n(3),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;for(var n=0;n<a.length;n++)this[a[n]]=null}}),i.Interface=u,i.augmentClass=function(t,e){var n=this,i=function(){};i.prototype=n.prototype;var s=new i;r(s,t.prototype),t.prototype=s,t.prototype.constructor=t,t.Interface=r({},n.Interface,e),t.augmentClass=n.augmentClass,o.addPoolingTo(t,o.fourArgumentPooler)},o.addPoolingTo(i,o.fourArgumentPooler),t.exports=i},function(t,e){"use strict";var n={current:null};t.exports=n},function(t,e){(function(){var e,n,i,r,o,s,a,u,l,c,h,f,p=[].slice,d={}.hasOwnProperty;e=function(){var t,e,n,i,r,o;if(o=arguments[0],r=2<=arguments.length?p.call(arguments,1):[],s(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=r.length;t<n;t++)if(i=r[t],null!=i)for(e in i)d.call(i,e)&&(o[e]=i[e]);return o},s=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},a=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return s(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){var e;if(r(t))return!t.length;for(e in t)if(d.call(t,e))return!1;return!0},u=function(t){var e,n;return a(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},f=function(t){return(t.split(/[-_\s]+|(?=[A-Z][a-z])/)||[]).filter(function(t){return!!t})},n=function(t){var e,n,r,o,s,a;for(o="",s=f(t),n=e=0,r=s.length;e<r;n=++e)a=s[n],o+=n?i(a.toLowerCase()):a.toLowerCase();return o},h=function(t){var e,n,r,o,s,a;for(o="",s=f(t),n=e=0,r=s.length;e<r;n=++e)a=s[n],o+=i(a.toLowerCase());return o},l=function(t){var e,n,i,r,o,s;for(r="",o=f(t),n=e=0,i=o.length;e<i;n=++e)s=o[n],r+=(n?"-":"")+s.toLowerCase();return r},c=function(t){var e,n,i,r,o,s;for(r="",o=f(t),n=e=0,i=o.length;e<i;n=++e)s=o[n],r+=(n?"_":"")+s.toLowerCase();return r},i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.exports.assign=e,t.exports.isFunction=s,t.exports.isObject=a,t.exports.isArray=r,t.exports.isEmpty=o,t.exports.isPlainObject=u,t.exports.camelCase=n,t.exports.titleCase=h,t.exports.kebabCase=l,t.exports.snakeCase=c,t.exports.capitalize=i,t.exports.words=f}).call(this)},function(t,e,n){(function(t){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer="undefined"!=typeof t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,o=new r;o.append(i),e.blob=0===o.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(192).Readable}catch(t){e.nodestream=!1}}).call(e,n(21).Buffer)},function(t,e){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+i),r);for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},r={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,i)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(n)},function(t,e,n){var i=n(220),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(141),o=function(t){function e(e,n,i,r){var o=t.call(this,void 0)||this;return o.rhythm=e,o.numerator=n,o.denominator=i,o.symbolEnum=r,o}return i(e,t),Object.defineProperty(e.prototype,"Rhythm",{get:function(){return this.rhythm},set:function(t){this.rhythm=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SymbolEnum",{get:function(){return this.symbolEnum},set:function(t){this.symbolEnum=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.rhythm.clone(),this.numerator,this.denominator,this.symbolEnum)},e.prototype.OperatorEquals=function(t){var e=this;return e===t||void 0!==e&&void 0!==t&&(e.numerator===t.numerator&&e.denominator===t.denominator)},e.prototype.OperatorNotEqual=function(t){var e=this;return!(e===t)},e.prototype.ToString=function(){return"Rhythm: "+this.rhythm.toString()},e}(r.AbstractNotationInstruction);e.RhythmInstruction=o;var s;!function(t){t[t.NONE=0]="NONE",t[t.COMMON=1]="COMMON",t[t.CUT=2]="CUT"}(s=e.RhythmSymbolEnum||(e.RhythmSymbolEnum={}))},function(t,e,n){"use strict";function i(t,e,n){return n?["tnlp",[t,e],n]:["tnlp",[t,e]]}function r(t){return Array.isArray(t)&&"tnlp"===t[0]}function o(t,e,n,i){return i?["tnlp",M.encode(t,e,n),i]:["tnlp",M.encode(t,e,n)]}function s(t){return M.decode.apply(null,t[1])}function a(t){return r(t)?t[2]?"ivl":"note":null}function u(t){return"note"===a(t)}function l(t){return"ivl"===a(t)}function c(t){return r(t)&&1===t[1].length}function h(t){return t[2]===-1?-1:1}function f(t){return t[2]===-1?-t[1][0]:t[1][0]}function p(t){return t[2]===-1?-t[1][1]:t[1][1]}function d(t){return 7*f(t)+12*p(t)}function b(t){var e=f(t);return 7*e-12*Math.floor(7*e/12)}function m(t){var e={};return function(n){return"string"!=typeof n?null:e[n]||(e[n]=t(n))}}function y(t){return O(t)||A(t)}function v(t){return u(t)?t:O(t)}function g(t){return l(t)?t:A(t)}function _(t){return r(t)?t:y(t)}function x(t){return u(t)?T.build.apply(null,s(t)):null}function w(t){if(!l(t))return null;var e=s(t),n=e[0]+1+7*e[2];return t[2]*n+P.altToQ(n,e[1])}function S(t){return x(t)||w(t)}function E(t,e,n){return function(i){return function(r){var o=t(r);if(o)return i(r);var s=e(r);return s?n(i(s)):null}}}Object.defineProperty(e,"__esModule",{value:!0});var T=n(38),P=n(121),M=n(708),O=m(function(t){var e=T.parse(t);return e?o(e.step,e.alt,e.oct):null}),A=m(function(t){var e=P.parse(t);return e&&e?o(e.simple-1,e.alt,e.oct,e.dir):null}),C=E(u,O,x),k=E(l,A,w),R=E(r,y,S);e.pitch=i,e.isPitch=r,e.encode=o,e.decode=s,e.pType=a,e.isNotePitch=u,e.isIvlPitch=l,e.isPC=c,e.dir=h,e.fifths=f,e.focts=p,e.height=d,e.chr=b,e.parseNote=O,e.parseIvl=A,e.parsePitch=y,e.asNotePitch=v,e.asIvlPitch=g,e.asPitch=_,e.strNote=x,e.strIvl=w,e.strPitch=S,e.noteFn=C,e.ivlFn=k,e.pitchFn=R},function(t,e,n){"use strict";function i(t,e){var n=s.pType(e);if(!n)return null;var i=s.fifths(t)+s.fifths(e);if(s.isPC(e))return["tnlp",[i]];var r=s.focts(t)+s.focts(e);if("note"===n)return["tnlp",[i,r]];var o=s.height(t)+s.height(e)<0?-1:1;return["tnlp",[o*i,o*r],o]}function r(t,e){if(1===arguments.length)return function(e){return r(t,e)};var n=s.asPitch(t),o=s.asPitch(e),a=s.isIvlPitch(n)?i(n,o):s.isIvlPitch(o)?i(o,n):null;return t===n&&e===o?a:s.strPitch(a)}function o(t,e){return arguments.length>1?o(t)(e):function(e){return r(t,s.pitch(e,0,1))}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(36);e.transpose=r,e.trFifths=o},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){return Array(e+1).join(t)}function n(t){return"number"==typeof t}function i(t){return"string"==typeof t}function r(t){return void 0!==t}function o(t,e){return Math.pow(2,(t-69)/12)*(e||440)}function s(){return _}function a(t,e,n){if("string"!=typeof t)return null;var i=_.exec(t);if(!i||!e&&i[4])return null;var r={letter:i[1].toUpperCase(),acc:i[2].replace(/x/g,"##")};r.pc=r.letter+r.acc,r.step=(r.letter.charCodeAt(0)+3)%7,r.alt="b"===r.acc[0]?-r.acc.length:r.acc.length;var s=x[r.step]+r.alt;return r.chroma=s<0?12+s:s%12,i[3]&&(r.oct=+i[3],r.midi=s+12*(r.oct+1),r.freq=o(r.midi,n)),e&&(r.tonicOf=i[4]),r}function u(t){return n(t)?t<0?e("b",-t):e("#",t):""}function l(t){return n(t)?""+t:""}function c(t,e,n){return null===t||void 0===t?null:t.step?c(t.step,t.alt,t.oct):t<0||t>6?null:w.charAt(t)+u(e)+l(n)}function h(t){if((n(t)||i(t))&&t>=0&&t<128)return+t;var e=a(t);return e&&r(e.midi)?e.midi:null}function f(t,e){var n=h(t);return null===n?null:o(n,e)}function p(t){return(a(t)||{}).letter}function d(t){return(a(t)||{}).acc}function b(t){return(a(t)||{}).pc}function m(t){return(a(t)||{}).step}function y(t){return(a(t)||{}).alt}function v(t){return(a(t)||{}).chroma}function g(t){return(a(t)||{}).oct}var _=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,x=[0,2,4,5,7,9,11],w="CDEFGAB";t.regex=s,t.parse=a,t.build=c,t.midi=h,t.freq=f,t.letter=p,t.acc=d,t.pc=b,t.step=m,t.alt=y,t.chroma=v,t.oct=g})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.message=t,void 0!==e&&(this.message+=" "+e.toString())}return t}();e.MusicSheetReadingException=n;var i=function(){function t(t){this.message=t}return t}();e.ArgumentOutOfRangeException=i;var r=function(){function t(t){this.message=t}return t}();e.InvalidEnumArgumentException=r},[736,4],function(t,e,n){"use strict";function i(t){return this instanceof i?(l.call(this,t),c.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new i(t)}function r(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(t){t.end()}var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=i;var a=n(155),u=n(55);u.inherits=n(42);var l=n(299),c=n(174);u.inherits(i,l);for(var h=s(c.prototype),f=0;f<h.length;f++){var p=h[f];i.prototype[p]||(i.prototype[p]=c.prototype[p])}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function i(){u.call(this,"utf-8 decode"),this.leftOver=null}function r(){u.call(this,"utf-8 encode")}for(var o=n(8),s=n(32),a=n(77),u=n(18),l=new Array(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1;var h=function(t){var e,n,i,r,o,a=t.length,u=0;for(r=0;r<a;r++)n=t.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=s.uint8array?new Uint8Array(u):new Array(u),o=0,r=0;o<u;r++)n=t.charCodeAt(r),55296===(64512&n)&&r+1<a&&(i=t.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},f=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+l[t[n]]>e?n:e},p=function(t){var e,n,i,r,s=t.length,a=new Array(2*s);for(n=0,e=0;e<s;)if(i=t[e++],i<128)a[n++]=i;else if(r=l[i],r>4)a[n++]=65533,e+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&e<s;)i=i<<6|63&t[e++],r--;r>1?a[n++]=65533:i<65536?a[n++]=i:(i-=65536,a[n++]=55296|i>>10&1023,a[n++]=56320|1023&i)}return a.length!==n&&(a.subarray?a=a.subarray(0,n):a.length=n),o.applyFromCharCode(a)};e.utf8encode=function(t){return s.nodebuffer?a.newBuffer(t,"utf-8"):h(t)},e.utf8decode=function(t){return s.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):(t=o.transformTo(s.uint8array?"uint8array":"array",t),p(t))},o.inherits(i,u),i.prototype.processChunk=function(t){var n=o.transformTo(s.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var i=n;n=new Uint8Array(i.length+this.leftOver.length),n.set(this.leftOver,0),
n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var r=f(n),a=n;r!==n.length&&(s.uint8array?(a=n.subarray(0,r),this.leftOver=n.subarray(r,n.length)):(a=n.slice(0,r),this.leftOver=n.slice(r,n.length))),this.push({data:e.utf8decode(a),meta:t.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=i,o.inherits(r,u),r.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.contains2=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},t.last=function(t){return t[t.length-1]},t.removeDictElementIfTrue=function(t,e,n){var i=[];e.forEach(function(e,r){var o=n(t,e,r);o&&i.push(e)});for(var r=0;r<i.length;r++)e.remove(i[r])},t.getLastElement=function(t){return t[t.length-1]},t.binarySearch=function(t,e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=t.length-1);for(var o=1;i<r;){o=Math.floor((i+r)/2);var s=n(t[o],e);if(0===s)return o;s<0&&(i=o+1),0<s&&(r=o)}return-o},t}();e.CollectionUtil=n},function(t,e){function n(t){this.renderer=t,this.renderer.on("context",this.onContextChange,this)}n.prototype.constructor=n,t.exports=n,n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},function(t,e,n){"use strict";function i(t){if(m){var e=t.node,n=t.children;if(n.length)for(var i=0;i<n.length;i++)y(e,n[i],null);else null!=t.html?h(e,t.html):null!=t.text&&p(e,t.text)}}function r(t,e){t.parentNode.replaceChild(e.node,t),i(e)}function o(t,e){m?t.children.push(e):t.node.appendChild(e.node)}function s(t,e){m?t.html=e:h(t.node,e)}function a(t,e){m?t.text=e:p(t.node,e)}function u(){return this.node.nodeName}function l(t){return{node:t,children:[],html:null,text:null,toString:u}}var c=n(157),h=n(97),f=n(165),p=n(294),d=1,b=11,m="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),y=f(function(t,e,n){e.node.nodeType===b||e.node.nodeType===d&&"object"===e.node.nodeName.toLowerCase()&&(null==e.node.namespaceURI||e.node.namespaceURI===c.html)?(i(e),t.insertBefore(e.node,n)):(t.insertBefore(e.node,n),i(e))});l.insertTreeBefore=y,l.replaceChildWithTree=r,l.queueChild=o,l.queueHTML=s,l.queueText=a,t.exports=l},function(t,e,n){"use strict";function i(t,e){return(t&e)===e}var r=n(4),o=(n(2),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(t){var e=o,n=t.Properties||{},s=t.DOMAttributeNamespaces||{},u=t.DOMAttributeNames||{},l=t.DOMPropertyNames||{},c=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var h in n){a.properties.hasOwnProperty(h)?r("48",h):void 0;var f=h.toLowerCase(),p=n[h],d={attributeName:f,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseProperty:i(p,e.MUST_USE_PROPERTY),hasBooleanValue:i(p,e.HAS_BOOLEAN_VALUE),hasNumericValue:i(p,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(p,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(p,e.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:r("50",h),u.hasOwnProperty(h)){var b=u[h];d.attributeName=b}s.hasOwnProperty(h)&&(d.attributeNamespace=s[h]),l.hasOwnProperty(h)&&(d.propertyName=l[h]),c.hasOwnProperty(h)&&(d.mutationMethod=c[h]),a.properties[h]=d}}}),s=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",a={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:s,ATTRIBUTE_NAME_CHAR:s+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var n=a._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},injection:o};t.exports=a},function(t,e,n){"use strict";function i(){r.attachRefs(this,this._currentElement)}var r=n(639),o=(n(23),n(3),{mountComponent:function(t,e,n,r,o,s){var a=t.mountComponent(e,n,r,o,s);return t._currentElement&&null!=t._currentElement.ref&&e.getReactMountReady().enqueue(i,t),a},getHostNode:function(t){return t.getHostNode()},unmountComponent:function(t,e){r.detachRefs(t,t._currentElement),t.unmountComponent(e)},receiveComponent:function(t,e,n,o){var s=t._currentElement;if(e!==s||o!==t._context){var a=r.shouldUpdateRefs(s,e);a&&r.detachRefs(t,s),t.receiveComponent(e,n,o),a&&t._currentElement&&null!=t._currentElement.ref&&n.getReactMountReady().enqueue(i,t)}},performUpdateIfNecessary:function(t,e,n){t._updateBatchNumber===n&&t.performUpdateIfNecessary(e)}});t.exports=o},function(t,e,n){"use strict";var i=n(6),r=n(671),o=n(172),s=n(676),a=n(672),u=n(673),l=n(51),c=n(675),h=n(677),f=n(680),p=(n(3),l.createElement),d=l.createFactory,b=l.cloneElement,m=i,y={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:f},Component:o,PureComponent:s,createElement:p,cloneElement:b,isValidElement:l.isValidElement,PropTypes:c,createClass:a.createClass,createFactory:d,createMixin:function(t){return t},DOM:u,version:h,__spread:m};t.exports=y},function(t,e,n){"use strict";function i(t){return void 0!==t.ref}function r(t){return void 0!==t.key}var o=n(6),s=n(30),a=(n(3),n(298),Object.prototype.hasOwnProperty),u=n(297),l={key:!0,ref:!0,__self:!0,__source:!0},c=function(t,e,n,i,r,o,s){var a={$$typeof:u,type:t,key:e,ref:n,props:s,_owner:o};return a};c.createElement=function(t,e,n){var o,u={},h=null,f=null,p=null,d=null;if(null!=e){i(e)&&(f=e.ref),r(e)&&(h=""+e.key),p=void 0===e.__self?null:e.__self,d=void 0===e.__source?null:e.__source;for(o in e)a.call(e,o)&&!l.hasOwnProperty(o)&&(u[o]=e[o])}var b=arguments.length-2;if(1===b)u.children=n;else if(b>1){for(var m=Array(b),y=0;y<b;y++)m[y]=arguments[y+2];u.children=m}if(t&&t.defaultProps){var v=t.defaultProps;for(o in v)void 0===u[o]&&(u[o]=v[o])}return c(t,h,f,p,d,s.current,u)},c.createFactory=function(t){var e=c.createElement.bind(null,t);return e.type=t,e},c.cloneAndReplaceKey=function(t,e){var n=c(t.type,e,t.ref,t._self,t._source,t._owner,t.props);return n},c.cloneElement=function(t,e,n){var u,h=o({},t.props),f=t.key,p=t.ref,d=t._self,b=t._source,m=t._owner;if(null!=e){i(e)&&(p=e.ref,m=s.current),r(e)&&(f=""+e.key);var y;t.type&&t.type.defaultProps&&(y=t.type.defaultProps);for(u in e)a.call(e,u)&&!l.hasOwnProperty(u)&&(void 0===e[u]&&void 0!==y?h[u]=y[u]:h[u]=e[u])}var v=arguments.length-2;if(1===v)h.children=n;else if(v>1){for(var g=Array(v),_=0;_<v;_++)g[_]=arguments[_+2];h.children=g}return c(t.type,f,p,d,b,m,h)},c.isValidElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===u},t.exports=c},4,function(t,e,n){"use strict";t.exports=n(50)},function(t,e,n){"use strict";function i(t){var e=p.asNotePitch(t);return e?p.chr(e):null}function r(t){var e=p.asNotePitch(t);return e?p.strNote(e):null}function o(t){var e=p.asNotePitch(t);if(!e)return null;var n=p.decode(e);return{step:n[0],alt:n[1],oct:n[2]}}function s(t){return t?f.build(t.step,t.alt,t.oct):null}function a(t){return function(e){var n=o(e);return n?n[t]:null}}function u(t){var e=p.asNotePitch(t);return e?p.fifths(e):null}function l(t){var e=p.asNotePitch(t);return e?p.strNote([e[0],[p.fifths(e)]]):null}function c(t){var e=[];return e.push(d.transpose(T,t)),null===e[0]?null:(e.push(t),e.push(d.transpose(E,t)),e)}function h(t){return c(t).reduce(function(t,e){return t?t.length>e.length?e:t:e},null)}Object.defineProperty(e,"__esModule",{value:!0});var f=n(38),p=n(36),d=n(37),b=n(103),m=n(312),y=b.toMidi,v=b.note,g=m.toFreq;const _=r;var x=a("oct"),w=a("step"),S=a("alt"),E=p.parseIvl("2d"),T=p.parseIvl("-2d");e.midi=y,e.fromMidi=v,e.freq=g,e.chroma=i,e.note=r,e.name=_,e.props=o,e.fromProps=s,e.oct=x,e.step=w,e.pcFifths=u,e.alt=S,e.pc=l,e.enharmonics=c,e.simplify=h},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function i(t){return"boolean"==typeof t}function r(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function l(t){return void 0===t}function c(t){return"[object RegExp]"===m(t)}function h(t){return"object"==typeof t&&null!==t}function f(t){return"[object Date]"===m(t)}function p(t){return"[object Error]"===m(t)||t instanceof Error}function d(t){return"function"==typeof t}function b(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function m(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=i,e.isNull=r,e.isNullOrUndefined=o,e.isNumber=s,e.isString=a,e.isSymbol=u,e.isUndefined=l,e.isRegExp=c,e.isObject=h,e.isDate=f,e.isError=p,e.isFunction=d,e.isPrimitive=b,e.isBuffer=t.isBuffer}).call(e,n(21).Buffer)},function(t,e,n){"use strict";function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}var o=Object.prototype.hasOwnProperty,s="function"!=typeof Object.create&&"~";r.prototype._events=void 0,r.prototype.eventNames=function(){var t,e=this._events,n=[];if(!e)return n;for(t in e)o.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},r.prototype.listeners=function(t,e){var n=s?s+t:t,i=this._events&&this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},r.prototype.emit=function(t,e,n,i,r,o){var a=s?s+t:t;if(!this._events||!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if("function"==typeof c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},r.prototype.on=function(t,e,n){var r=new i(e,n||this),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},r.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),o=s?s+t:t;return this._events||(this._events=s?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):this._events[o]=r,this},r.prototype.removeListener=function(t,e,n,i){var r=s?s+t:t;if(!this._events||!this._events[r])return this;var o=this._events[r],a=[];if(e)if(o.fn)(o.fn!==e||i&&!o.once||n&&o.context!==n)&&a.push(o);else for(var u=0,l=o.length;u<l;u++)(o[u].fn!==e||i&&!o[u].once||n&&o[u].context!==n)&&a.push(o[u]);return a.length?this._events[r]=1===a.length?a[0]:a:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[s?s+t:t]:this._events=s?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=s,t.exports=r},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(399),t.exports={Promise:i}},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.LeftTop=0]="LeftTop",t[t.LeftCenter=1]="LeftCenter",t[t.LeftBottom=2]="LeftBottom",t[t.CenterTop=3]="CenterTop",t[t.CenterCenter=4]="CenterCenter",t[t.CenterBottom=5]="CenterBottom",t[t.RightTop=6]="RightTop",t[t.RightCenter=7]="RightCenter",t[t.RightBottom=8]="RightBottom"}(n=e.TextAlignment||(e.TextAlignment={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(71),r=n(20),o=n(35),s=n(28),a=n(14),u=n(14),l=n(84),c=n(474),h=n(236),f=function(){function t(){}return t.duration=function(t){var e=t.RealValue;return e>=1?"w":e<1&&e>=.5?"h":e<.5&&e>=.25?"q":e<.25&&e>=.125?"8":e<.125&&e>=.0625?"16":e<.0625&&e>=.03125?"32":"128"},t.pitch=function(e,n){var i=u.NoteEnum[e.FundamentalNote].toLowerCase(),r=e.Octave-n.OctaveOffset+3,o=t.accidental(e.Accidental);return[i+"n/"+r,o,n]},t.accidental=function(t){var e;switch(t){case a.AccidentalEnum.NONE:e="n";break;case a.AccidentalEnum.FLAT:e="b";break;case a.AccidentalEnum.SHARP:e="#";break;case a.AccidentalEnum.DOUBLESHARP:e="##";break;case a.AccidentalEnum.DOUBLEFLAT:e="bb"}return e},t.StaveNote=function(e){for(var n=[],r=[],o=e[0].graphicalNoteLength,s=t.duration(o),a=void 0,u=0,l=0,c=e;l<c.length;l++){var h=c[l],f=h.vfpitch;if(void 0===f){n=["b/4"],s+="r";break}if(n.push(f[0]),r.push(f[1]),!a){var p=t.Clef(f[2]);a=p.type}u<h.numberOfDots&&(u=h.numberOfDots)}for(var d=0,b=u;d<b;++d)s+="d";for(var m=new i.Flow.StaveNote({auto_stem:!0,clef:a,duration:s,duration_override:{denominator:o.Denominator,numerator:o.Numerator},keys:n}),d=0,b=e.length;d<b;d+=1)e[d].setIndex(m,d),r[d]&&m.addAccidental(d,new i.Flow.Accidental(r[d]));for(var d=0,b=u;d<b;++d)m.addDotToAll();return m},t.Clef=function(t){var e,n=void 0;switch(t.ClefType){case r.ClefEnum.G:e="treble";break;case r.ClefEnum.F:e="bass";break;case r.ClefEnum.C:e="alto";break;case r.ClefEnum.percussion:e="percussion";break;case r.ClefEnum.TAB:e="tab"}switch(t.OctaveOffset){case 1:n="8va";break;case-1:n="8vb"}return{type:e,annotation:n}},t.TimeSignature=function(t){var e;switch(t.SymbolEnum){case o.RhythmSymbolEnum.NONE:e=t.Rhythm.Numerator+"/"+t.Rhythm.Denominator;break;case o.RhythmSymbolEnum.COMMON:e="C";break;case o.RhythmSymbolEnum.CUT:e="C|"}return new i.Flow.TimeSignature(e)},t.keySignature=function(e){if(void 0!==e){var n;switch(e.Mode){case s.KeyEnum.minor:n=t.minorMap[e.Key]+"m";break;case s.KeyEnum.major:n=t.majorMap[e.Key];break;case s.KeyEnum.none:default:n="C"}return n}},t.line=function(t){switch(t){case l.SystemLinesEnum.SingleThin:return i.Flow.StaveConnector.type.SINGLE;case l.SystemLinesEnum.DoubleThin:return i.Flow.StaveConnector.type.DOUBLE;case l.SystemLinesEnum.ThinBold:return i.Flow.StaveConnector.type.SINGLE;case l.SystemLinesEnum.BoldThinDots:return i.Flow.StaveConnector.type.DOUBLE;case l.SystemLinesEnum.DotsThinBold:return i.Flow.StaveConnector.type.DOUBLE;case l.SystemLinesEnum.DotsBoldBoldDots:return i.Flow.StaveConnector.type.DOUBLE;case l.SystemLinesEnum.None:return i.Flow.StaveConnector.type.NONE}},t.font=function(t,e,n){void 0===e&&(e=c.FontStyles.Regular),void 0===n&&(n=h.Fonts.TimesNewRoman);var i="normal",r="normal",o="'Times New Roman'";switch(e){case c.FontStyles.Bold:r="bold";break;case c.FontStyles.Italic:i="italic";break;case c.FontStyles.BoldItalic:i="italic",r="bold";break;case c.FontStyles.Underlined:}switch(n){case h.Fonts.Kokila:}return i+" "+r+" "+Math.floor(t)+"px "+o},t.style=function(t){return"lightgreen"},t}();f.majorMap={"-1":"F","-2":"Bb","-3":"Eb","-4":"Ab","-5":"Db","-6":"Gb","-7":"Cb","-8":"Fb",0:"C",1:"G",2:"D",3:"A",4:"E",5:"B",6:"F#",7:"C#",8:"G#"},f.minorMap={"-1":"D","-2":"G","-3":"C","-4":"F","-5":"Bb","-6":"Eb","-7":"Ab","-8":"Db",0:"A",1:"E",2:"B",3:"F#",4:"C#",5:"G#",6:"D#",7:"A#",8:"E#"},e.VexFlowConverter=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(20),o=n(28),s=n(35),a=function(){function t(t,e){this.voiceEntries=[],this.instructions=[],this.verticalContainerParent=t,this.parentStaff=e}return Object.defineProperty(t.prototype,"ParentStaff",{get:function(){return this.parentStaff},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VerticalContainerParent",{get:function(){return this.verticalContainerParent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Timestamp",{get:function(){if(void 0!==this.VerticalContainerParent)return this.VerticalContainerParent.Timestamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AbsoluteTimestamp",{get:function(){if(void 0!==this.VerticalContainerParent)return i.Fraction.plus(this.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp,this.VerticalContainerParent.Timestamp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VoiceEntries",{get:function(){return this.voiceEntries},set:function(t){this.voiceEntries=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Link",{get:function(){return this.staffEntryLink},set:function(t){this.staffEntryLink=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Instructions",{get:function(){return this.instructions},set:function(t){this.instructions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChordContainer",{get:function(){return this.chordSymbolContainer},set:function(t){this.chordSymbolContainer=t},enumerable:!0,configurable:!0}),t.prototype.removeAllInstructionsOfTypeClefInstruction=function(){for(var t=0,e=0;t<this.instructions.length;)this.instructions[t]instanceof r.ClefInstruction?(this.instructions.splice(t,1),e++):t++;return e},t.prototype.removeFirstInstructionOfTypeClefInstruction=function(){for(var t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof r.ClefInstruction)return this.instructions.splice(t,1),!0;return!1},t.prototype.removeAllInstructionsOfTypeKeyInstruction=function(){for(var t=0,e=0;t<this.instructions.length;)this.instructions[t]instanceof o.KeyInstruction?(this.instructions.splice(t,1),e++):t++;return e},t.prototype.removeFirstInstructionOfTypeKeyInstruction=function(){for(var t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof o.KeyInstruction)return this.instructions.splice(t,1),!0;return!1},t.prototype.removeAllInstructionsOfTypeRhythmInstruction=function(){for(var t=0,e=0;t<this.instructions.length;)this.instructions[t]instanceof s.RhythmInstruction?(this.instructions.splice(t,1),e++):t++;return e},t.prototype.removeFirstInstructionOfTypeRhythmInstruction=function(){for(var t=0;t<this.instructions.length;t++)if(this.instructions[t]instanceof s.RhythmInstruction)return this.instructions.splice(t,1),!0;return!1},t.prototype.calculateMinNoteLength=function(){for(var t=new i.Fraction(Number.MAX_VALUE,1),e=0,n=this.VoiceEntries.length;e<n;++e)for(var r=this.VoiceEntries[e],o=0,s=r.Notes.length;o<s;++o){var a=r.Notes[o];void 0!==a.NoteTie?a.calculateNoteLengthWithoutTie().lt(t)&&(t=a.calculateNoteLengthWithoutTie()):a.Length.lt(t)&&(t=a.Length)}return t},t.prototype.calculateMaxNoteLength=function(){for(var t=new i.Fraction(0,1),e=0,n=this.VoiceEntries.length;e<n;++e)for(var r=this.VoiceEntries[e],o=0,s=r.Notes.length;o<s;++o){var a=r.Notes[o];if(void 0!==a.NoteTie){if(t<a.calculateNoteLengthWithoutTie()){t=a.calculateNoteLengthWithoutTie();for(var u=0,l=a.NoteTie.Fractions.length;u<l;++u){var c=a.NoteTie.Fractions[u];t.Add(c)}}}else t<a.Length&&(t=a.Length)}return t},t.prototype.hasNotes=function(){for(var t=0,e=this.VoiceEntries.length;t<e;++t){var n=this.VoiceEntries[t];if(n.Notes.length>0)return!0}return!1},t.prototype.hasTie=function(){for(var t=0,e=this.VoiceEntries.length;t<e;++t){var n=this.VoiceEntries[t];if(n.hasTie())return!0}return!1},t.prototype.findLinkedNotes=function(t){for(var e=0,n=this.voiceEntries.length;e<n;++e)for(var i=this.voiceEntries[e],r=0,o=i.Notes.length;r<o;++r){var s=i.Notes[r];s.ParentStaffEntry===this&&t.push(s)}},t}();e.SourceStaffEntry=a},function(t,e,n){function i(t){r.call(this,t)}var r=n(46);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.start=function(){},i.prototype.stop=function(){this.flush()},i.prototype.flush=function(){},i.prototype.render=function(t){}},function(t,e,n){function i(t,e,n,r,o){a.call(this),this.noFrame=!1,e||(this.noFrame=!0,e=new u.Rectangle(0,0,1,1)),t instanceof i&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=r,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=n||e,this.rotate=!!o,t.hasLoaded?(this.noFrame&&(e=new u.Rectangle(0,0,t.width,t.height),t.on("update",this.onBaseTextureUpdated,this)),this.frame=e):t.once("loaded",this.onBaseTextureLoaded,this)}var r=n(91),o=n(262),s=n(261),a=n(56),u=n(11),l=n(12);i.prototype=Object.create(a.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{frame:{get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,this.width=t.width,this.height=t.height,!this.trim&&!this.rotate&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=t,this.valid&&this._updateUvs()}}}),i.prototype.update=function(){this.baseTexture.update()},i.prototype.onBaseTextureLoaded=function(t){this.noFrame?this.frame=new u.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},i.prototype.onBaseTextureUpdated=function(t){this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},i.prototype.destroy=function(t){this.baseTexture&&(t&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1},i.prototype.clone=function(){return new i(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},i.prototype._updateUvs=function(){this._uvs||(this._uvs=new s),this._uvs.set(this.crop,this.baseTexture,this.rotate)},i.fromImage=function(t,e,n){var o=l.TextureCache[t];return o||(o=new i(r.fromImage(t,e,n)),l.TextureCache[t]=o),o},i.fromFrame=function(t){var e=l.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},i.fromCanvas=function(t,e){return new i(r.fromCanvas(t,e))},i.fromVideo=function(t,e){return"string"==typeof t?i.fromVideoUrl(t,e):new i(o.fromVideo(t,e))},i.fromVideoUrl=function(t,e){return new i(o.fromUrl(t,e))},i.addTextureToCache=function(t,e){l.TextureCache[e]=t},i.removeTextureFromCache=function(t){var e=l.TextureCache[t];return delete l.TextureCache[t],delete l.BaseTextureCache[t],e},i.EMPTY=new i(new r)},function(t,e,n){"use strict";function i(t){return"button"===t||"input"===t||"select"===t||"textarea"===t}function r(t,e,n){switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!i(e));default:return!1}}var o=n(4),s=n(158),a=n(159),u=n(163),l=n(288),c=n(289),h=(n(2),{}),f=null,p=function(t,e){t&&(a.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))},d=function(t){return p(t,!0)},b=function(t){return p(t,!1)},m=function(t){return"."+t._rootNodeID},y={injection:{injectEventPluginOrder:s.injectEventPluginOrder,injectEventPluginsByName:s.injectEventPluginsByName},putListener:function(t,e,n){"function"!=typeof n?o("94",e,typeof n):void 0;var i=m(t),r=h[e]||(h[e]={});r[i]=n;var a=s.registrationNameModules[e];a&&a.didPutListener&&a.didPutListener(t,e,n)},getListener:function(t,e){var n=h[e];if(r(e,t._currentElement.type,t._currentElement.props))return null;var i=m(t);return n&&n[i]},deleteListener:function(t,e){var n=s.registrationNameModules[e];n&&n.willDeleteListener&&n.willDeleteListener(t,e);var i=h[e];if(i){var r=m(t);delete i[r]}},deleteAllListeners:function(t){var e=m(t);for(var n in h)if(h.hasOwnProperty(n)&&h[n][e]){var i=s.registrationNameModules[n];i&&i.willDeleteListener&&i.willDeleteListener(t,n),delete h[n][e]}},extractEvents:function(t,e,n,i){for(var r,o=s.plugins,a=0;a<o.length;a++){var u=o[a];if(u){var c=u.extractEvents(t,e,n,i);c&&(r=l(r,c))}}return r},enqueueEvents:function(t){t&&(f=l(f,t))},processEventQueue:function(t){var e=f;f=null,t?c(e,d):c(e,b),f?o("95"):void 0,u.rethrowCaughtError()},__purge:function(){h={}},__getListenerBank:function(){return h}};t.exports=y},function(t,e,n){"use strict";function i(t,e,n){var i=e.dispatchConfig.phasedRegistrationNames[n];return y(t,i)}function r(t,e,n){var r=i(t,n,e);r&&(n._dispatchListeners=b(n._dispatchListeners,r),n._dispatchInstances=b(n._dispatchInstances,t))}function o(t){t&&t.dispatchConfig.phasedRegistrationNames&&d.traverseTwoPhase(t._targetInst,r,t)}function s(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst,n=e?d.getParentInstance(e):null;d.traverseTwoPhase(n,r,t)}}function a(t,e,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=y(t,i);r&&(n._dispatchListeners=b(n._dispatchListeners,r),n._dispatchInstances=b(n._dispatchInstances,t))}}function u(t){t&&t.dispatchConfig.registrationName&&a(t._targetInst,null,t)}function l(t){m(t,o)}function c(t){m(t,s)}function h(t,e,n,i){d.traverseEnterLeave(n,i,a,t,e)}function f(t){m(t,u)}var p=n(65),d=n(159),b=n(288),m=n(289),y=(n(3),p.getListener),v={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:f,accumulateEnterLeaveDispatches:h};t.exports=v},function(t,e){"use strict";var n={remove:function(t){t._reactInternalInstance=void 0},get:function(t){return t._reactInternalInstance},has:function(t){return void 0!==t._reactInternalInstance},set:function(t,e){t._reactInternalInstance=e}};t.exports=n},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(29),o=n(168),s={view:function(t){if(t.view)return t.view;var e=o(t);if(e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(i,s),t.exports=i},function(t,e){t.exports={notes:{c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]},intervals:{unison:[0,0],second:[3,-5],third:[2,-3],fourth:[1,-1],fifth:[0,1],sixth:[3,-4],seventh:[2,-2],octave:[1,0]},intervalFromFifth:["second","sixth","third","seventh","fourth","unison","fifth"],intervalsIndex:["unison","second","third","fourth","fifth","sixth","seventh","octave","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth"],fifths:["f","c","g","d","a","e","b"],accidentals:["bb","b","","#","x"],sharp:[-4,7],A4:[3,3],durations:{.25:"longa",.5:"breve",1:"whole",2:"half",4:"quarter",8:"eighth",16:"sixteenth",32:"thirty-second",64:"sixty-fourth",128:"hundred-twenty-eighth"},qualityLong:{P:"perfect",M:"major",m:"minor",A:"augmented",AA:"doubly augmented",d:"diminished",dd:"doubly diminished"},alterations:{perfect:["dd","d","P","A","AA"],minor:["dd","d","m","M","A","AA"]},symbols:{min:["m3","P5"],m:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"]},chordShort:{major:"M",minor:"m",augmented:"aug",diminished:"dim","half-diminished":"7b5",power:"5",dominant:"7"},stepNumber:{unison:1,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,octave:8,ninth:9,eleventh:11,thirteenth:13},intervalSolfege:{dd1:"daw",d1:"de",P1:"do",A1:"di",AA1:"dai",d2:"raw",m2:"ra",M2:"re",A2:"ri",AA2:"rai",d3:"maw",m3:"me",M3:"mi",A3:"mai",dd4:"faw",d4:"fe",P4:"fa",A4:"fi",AA4:"fai",dd5:"saw",d5:"se",P5:"so",A5:"si",AA5:"sai",d6:"law",m6:"le",M6:"la",A6:"li",AA6:"lai",d7:"taw",m7:"te",M7:"ti",A7:"tai",dd8:"daw",d8:"de",P8:"do",A8:"di",AA8:"dai"}}},function(t,e,n){"use strict";var i=n(719),r=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||i.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!i.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!i.isUndefined(t)&&!i.isUndefined(e)){var n,r="$"+this.toStr(t),o=this.table[r];return i.isUndefined(o)?(this.nElements++,n=void 0):n=o.value,this.table[r]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!i.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(i.has(this.table,e)){var n=this.table[e],r=t(n.key,n.value);if(r===!1)return}},t.prototype.containsKey=function(t){return!i.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(2),o=n(5),s=n(3),a=n(10),u=n(14),l=n(30),c=n(4),h=n(43),f=n(20),p=n(45),d=n(18),b=n(29),m=n(15),y=n(33),v=n(55),g=n(56),_=n(41),x=n(42),w=n(57),S=n(22),E=n(27),T=n(39),P=n(37),M=n(40),O=n(44),A=n(21),C=n(19),k=n(58),R=n(52),I=n(53),N=n(59),L=n(17),F=n(34),B=n(51),D=n(25),j=n(60),G=n(16),V=n(61),U=n(62),W=n(63),H=n(64),Y=n(65),z=n(8),X=n(35),q=n(50),Z=n(66),K=n(67),J=n(68),Q=n(38),$=n(69),tt=n(70),et=n(28),nt=n(46),it=n(71),rt=n(72),ot=n(31),st=n(32),at=n(73),ut=n(36),lt=n(74),ct=n(54),ht=n(9),ft=n(75),pt=n(76),dt=n(78),bt=n(77),mt=n(6);i.Vex.Flow=r.Flow,i.Vex.Flow.Element=o.Element,i.Vex.Flow.Fraction=s.Fraction,i.Vex.Flow.Renderer=a.Renderer,i.Vex.Flow.Formatter=u.Formatter,i.Vex.Flow.Music=l.Music,i.Vex.Flow.Glyph=c.Glyph,i.Vex.Flow.Stave=h.Stave,i.Vex.Flow.StaveNote=f.StaveNote,i.Vex.Flow.StaveModifier=p.StaveModifier,i.Vex.Flow.Voice=d.Voice,i.Vex.Flow.Accidental=b.Accidental,i.Vex.Flow.Beam=m.Beam,i.Vex.Flow.StaveTie=y.StaveTie,i.Vex.Flow.TabStave=v.TabStave,i.Vex.Flow.TabNote=g.TabNote,i.Vex.Flow.Bend=_.Bend,i.Vex.Flow.Vibrato=x.Vibrato,i.Vex.Flow.VibratoBracket=w.VibratoBracket,i.Vex.Flow.Note=S.Note,i.Vex.Flow.ModifierContext=E.ModifierContext,i.Vex.Flow.TickContext=T.TickContext,i.Vex.Flow.Articulation=P.Articulation,i.Vex.Flow.Annotation=M.Annotation,i.Vex.Flow.Barline=O.Barline,i.Vex.Flow.NoteHead=A.NoteHead,i.Vex.Flow.StaveConnector=C.StaveConnector,i.Vex.Flow.ClefNote=k.ClefNote,i.Vex.Flow.KeySignature=R.KeySignature,i.Vex.Flow.TimeSignature=I.TimeSignature,i.Vex.Flow.TimeSigNote=N.TimeSigNote,i.Vex.Flow.Stem=L.Stem,i.Vex.Flow.TabTie=F.TabTie,i.Vex.Flow.Clef=B.Clef,i.Vex.Flow.Modifier=D.Modifier,i.Vex.Flow.TabSlide=j.TabSlide,
i.Vex.Flow.Tuplet=G.Tuplet,i.Vex.Flow.GraceNote=V.GraceNote,i.Vex.Flow.GraceTabNote=U.GraceTabNote,i.Vex.Flow.Tuning=W.Tuning,i.Vex.Flow.KeyManager=H.KeyManager,i.Vex.Flow.StaveHairpin=Y.StaveHairpin,i.Vex.Flow.BoundingBox=z.BoundingBox,i.Vex.Flow.Stroke=X.Stroke,i.Vex.Flow.TextNote=q.TextNote,i.Vex.Flow.Curve=Z.Curve,i.Vex.Flow.TextDynamics=K.TextDynamics,i.Vex.Flow.StaveLine=J.StaveLine,i.Vex.Flow.Ornament=Q.Ornament,i.Vex.Flow.PedalMarking=$.PedalMarking,i.Vex.Flow.TextBracket=tt.TextBracket,i.Vex.Flow.FretHandFinger=et.FretHandFinger,i.Vex.Flow.Repetition=nt.Repetition,i.Vex.Flow.BarNote=it.BarNote,i.Vex.Flow.GhostNote=rt.GhostNote,i.Vex.Flow.NoteSubGroup=ot.NoteSubGroup,i.Vex.Flow.GraceNoteGroup=st.GraceNoteGroup,i.Vex.Flow.Tremolo=at.Tremolo,i.Vex.Flow.StringNumber=ut.StringNumber,i.Vex.Flow.Crescendo=lt.Crescendo,i.Vex.Flow.Volta=ct.Volta,i.Vex.Flow.Font=ht.Font,i.Vex.Flow.System=ft.System,i.Vex.Flow.Factory=pt.Factory,i.Vex.Flow.Parser=dt.Parser,i.Vex.Flow.EasyScore=bt.EasyScore,i.Vex.Flow.Registry=mt.Registry,e.default=i.Vex,t.exports=e.default},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){};s.L=function(t,e){if(e){var n=Array.prototype.slice.call(e).join(" ");window.console.log(t+": "+n)}},s.MakeException=function(t){var e=function(e){function o(e,r){n(this,o);var s=i(this,Object.getPrototypeOf(o).call(this,e));return s.name=t,s.message=e,s.data=r,s}return r(o,e),o}(Error);return e};var a=function(){function t(e,i){n(this,t),this.code=e,this.message=i}return o(t,[{key:"toString",value:function(){return"[RuntimeError] "+this.code+":"+this.message}}]),t}();s.RuntimeError=a,s.RERR=s.RuntimeError,s.Merge=function(t,e){for(var n in e)t[n]=e[n];return t},s.Min=Math.min,s.Max=Math.max,s.forEach=function(t,e){for(var n=0;n<t.length;n++)e(t[n],n)},s.RoundN=function(t,e){return t%e>=e/2?parseInt(t/e,10)*e+e:parseInt(t/e,10)*e},s.MidLine=function(t,e){var n=e+(t-e)/2;return n%2>0&&(n=s.RoundN(10*n,5)/10),n},s.SortAndUnique=function(t,e,n){if(t.length>1){var i=[],r=void 0;t.sort(e);for(var o=0;o<t.length;++o)0!==o&&n(t[o],r)||i.push(t[o]),r=t[o];return i}return t},s.Contains=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},s.getCanvasContext=function(t){if(!t)throw new s.RERR("BadArgument","Invalid canvas selector: "+t);var e=document.getElementById(t);if(!e||!e.getContext)throw new s.RERR("UnsupportedBrowserError","This browser does not support HTML5 Canvas");return e.getContext("2d")},s.drawDot=function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?"#55":arguments[3];t.save(),t.setFillStyle(i),t.beginPath(),t.arc(e,n,3,0,2*Math.PI,!0),t.closePath(),t.fill(),t.restore()},s.BM=function(t,e){var n=(new Date).getTime();e();var i=(new Date).getTime()-n;s.L(t+i+"ms")},s.StackTrace=function(){var t=new Error;return t.stack},s.W=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Array.prototype.slice.call(e).join(" ");window.console.log("Warning: ",i,s.StackTrace())},s.Prefix=function(t){return s.Prefix.prefix+t},s.Prefix.prefix="vf-",e.Vex=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Flow=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=n(1),o=n(3),s=n(4),a={STEM_WIDTH:1.5,STEM_HEIGHT:35,STAVE_LINE_THICKNESS:1,RESOLUTION:16384,DEFAULT_NOTATION_FONT_SCALE:39,DEFAULT_TABLATURE_FONT_SCALE:39,SLASH_NOTEHEAD_WIDTH:15,TEXT_HEIGHT_OFFSET_HACK:1,IsKerned:!0};a.clefProperties=function(t){if(!t)throw new r.Vex.RERR("BadArgument","Invalid clef: "+t);var e=a.clefProperties.values[t];if(!e)throw new r.Vex.RERR("BadArgument","Invalid clef: "+t);return e},a.clefProperties.values={treble:{line_shift:0},bass:{line_shift:6},tenor:{line_shift:4},alto:{line_shift:3},soprano:{line_shift:1},percussion:{line_shift:0},"mezzo-soprano":{line_shift:2},"baritone-c":{line_shift:5},"baritone-f":{line_shift:5},subbass:{line_shift:7},french:{line_shift:-1}},a.keyProperties=function(t,e,n){void 0===e&&(e="treble");var o={octave_shift:0};"object"===("undefined"==typeof n?"undefined":i(n))&&r.Vex.Merge(o,n);var s=t.split("/");if(s.length<2)throw new r.Vex.RERR("BadArguments","Key must have note + octave and an optional glyph: "+t);var u=s[0].toUpperCase(),l=a.keyProperties.note_values[u];if(!l)throw new r.Vex.RERR("BadArguments","Invalid key name: "+u);l.octave&&(s[1]=l.octave);var c=parseInt(s[1],10);c+=-1*o.octave_shift;var h=7*c-28,f=(h+l.index)/2;f+=a.clefProperties(e).line_shift;var p=0;f<=0&&2*f%2===0&&(p=1),f>=6&&2*f%2===0&&(p=-1);var d="undefined"!=typeof l.int_val?12*c+l.int_val:null,b=l.code,m=l.shift_right;if(s.length>2&&s[2]){var y=s[2].toUpperCase(),v=a.keyProperties.note_glyph[y];v&&(b=v.code,m=v.shift_right)}return{key:u,octave:c,line:f,int_value:d,accidental:l.accidental,code:b,stroke:p,shift_right:m,displaced:!1}},a.keyProperties.note_values={C:{index:0,int_val:0,accidental:null},CN:{index:0,int_val:0,accidental:"n"},"C#":{index:0,int_val:1,accidental:"#"},"C##":{index:0,int_val:2,accidental:"##"},CB:{index:0,int_val:-1,accidental:"b"},CBB:{index:0,int_val:-2,accidental:"bb"},D:{index:1,int_val:2,accidental:null},DN:{index:1,int_val:2,accidental:"n"},"D#":{index:1,int_val:3,accidental:"#"},"D##":{index:1,int_val:4,accidental:"##"},DB:{index:1,int_val:1,accidental:"b"},DBB:{index:1,int_val:0,accidental:"bb"},E:{index:2,int_val:4,accidental:null},EN:{index:2,int_val:4,accidental:"n"},"E#":{index:2,int_val:5,accidental:"#"},"E##":{index:2,int_val:6,accidental:"##"},EB:{index:2,int_val:3,accidental:"b"},EBB:{index:2,int_val:2,accidental:"bb"},F:{index:3,int_val:5,accidental:null},FN:{index:3,int_val:5,accidental:"n"},"F#":{index:3,int_val:6,accidental:"#"},"F##":{index:3,int_val:7,accidental:"##"},FB:{index:3,int_val:4,accidental:"b"},FBB:{index:3,int_val:3,accidental:"bb"},G:{index:4,int_val:7,accidental:null},GN:{index:4,int_val:7,accidental:"n"},"G#":{index:4,int_val:8,accidental:"#"},"G##":{index:4,int_val:9,accidental:"##"},GB:{index:4,int_val:6,accidental:"b"},GBB:{index:4,int_val:5,accidental:"bb"},A:{index:5,int_val:9,accidental:null},AN:{index:5,int_val:9,accidental:"n"},"A#":{index:5,int_val:10,accidental:"#"},"A##":{index:5,int_val:11,accidental:"##"},AB:{index:5,int_val:8,accidental:"b"},ABB:{index:5,int_val:7,accidental:"bb"},B:{index:6,int_val:11,accidental:null},BN:{index:6,int_val:11,accidental:"n"},"B#":{index:6,int_val:12,accidental:"#"},"B##":{index:6,int_val:13,accidental:"##"},BB:{index:6,int_val:10,accidental:"b"},BBB:{index:6,int_val:9,accidental:"bb"},R:{index:6,int_val:9,rest:!0},X:{index:6,accidental:"",octave:4,code:"v3e",shift_right:5.5}},a.keyProperties.note_glyph={D0:{code:"v27",shift_right:-.5},D1:{code:"v2d",shift_right:-.5},D2:{code:"v22",shift_right:-.5},D3:{code:"v70",shift_right:-.5},T0:{code:"v49",shift_right:-2},T1:{code:"v93",shift_right:.5},T2:{code:"v40",shift_right:.5},T3:{code:"v7d",shift_right:.5},X0:{code:"v92",shift_right:-2},X1:{code:"v95",shift_right:-.5},X2:{code:"v7f",shift_right:.5},X3:{code:"v3b",shift_right:-2}},a.integerToNote=function(t){if("undefined"==typeof t)throw new r.Vex.RERR("BadArguments","Undefined integer for integerToNote");if(t<-2)throw new r.Vex.RERR("BadArguments","integerToNote requires integer > -2: "+t);var e=a.integerToNote.table[t];if(!e)throw new r.Vex.RERR("BadArguments","Unknown note value for integer: "+t);return e},a.integerToNote.table={0:"C",1:"C#",2:"D",3:"D#",4:"E",5:"F",6:"F#",7:"G",8:"G#",9:"A",10:"A#",11:"B"},a.tabToGlyph=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=null,i=0,r=0;if("X"===t.toString().toUpperCase()){var o=new s.Glyph("v7f",a.DEFAULT_TABLATURE_FONT_SCALE).getMetrics();n="v7f",i=o.width,r=-o.height/2}else i=a.textWidth(t.toString());return{text:t,code:n,getWidth:function(){return i*e},shift_y:r}},a.textWidth=function(t){return 7*t.toString().length},a.articulationCodes=function(t){return a.articulationCodes.articulations[t]},a.articulationCodes.articulations={"a.":{code:"v23",between_lines:!0},av:{code:"v28",between_lines:!0},"a>":{code:"v42",between_lines:!0},"a-":{code:"v25",between_lines:!0},"a^":{code:"va",between_lines:!1},"a+":{code:"v8b",between_lines:!1},ao:{code:"v94",between_lines:!1},ah:{code:"vb9",between_lines:!1},"a@a":{code:"v43",between_lines:!1},"a@u":{code:"v5b",between_lines:!1},"a|":{code:"v75",between_lines:!1},am:{code:"v97",between_lines:!1},"a,":{code:"vb3",between_lines:!1}},a.accidentalCodes=function(t){return a.accidentalCodes.accidentals[t]},a.accidentalCodes.accidentals={"#":{code:"v18",parenRightPaddingAdjustment:-1},"##":{code:"v7f",parenRightPaddingAdjustment:-1},b:{code:"v44",parenRightPaddingAdjustment:-2},bb:{code:"v26",parenRightPaddingAdjustment:-2},n:{code:"v4e",parenRightPaddingAdjustment:-1},"{":{code:"v9c",parenRightPaddingAdjustment:-1},"}":{code:"v84",parenRightPaddingAdjustment:-1},db:{code:"v9e",parenRightPaddingAdjustment:-1},d:{code:"vab",parenRightPaddingAdjustment:0},bbs:{code:"v90",parenRightPaddingAdjustment:-1},"++":{code:"v51",parenRightPaddingAdjustment:-1},"+":{code:"v78",parenRightPaddingAdjustment:-1},"+-":{code:"v8d",parenRightPaddingAdjustment:-1},"++-":{code:"v7a",parenRightPaddingAdjustment:-1},bs:{code:"vb7",parenRightPaddingAdjustment:-1},bss:{code:"v39",parenRightPaddingAdjustment:-1}},a.accidentalColumnsTable={1:{a:[1],b:[1]},2:{a:[1,2]},3:{a:[1,3,2],b:[1,2,1],second_on_bottom:[1,2,3]},4:{a:[1,3,4,2],b:[1,2,3,1],spaced_out_tetrachord:[1,2,1,2]},5:{a:[1,3,5,4,2],b:[1,2,4,3,1],spaced_out_pentachord:[1,2,3,2,1],very_spaced_out_pentachord:[1,2,1,2,1]},6:{a:[1,3,5,6,4,2],b:[1,2,4,5,3,1],spaced_out_hexachord:[1,3,2,1,3,2],very_spaced_out_hexachord:[1,2,1,2,1,2]}},a.ornamentCodes=function(t){return a.ornamentCodes.ornaments[t]},a.ornamentCodes.ornaments={mordent:{code:"v1e"},mordent_inverted:{code:"v45"},turn:{code:"v72"},turn_inverted:{code:"v33"},tr:{code:"v1f"},upprall:{code:"v60"},downprall:{code:"vb4"},prallup:{code:"v6d"},pralldown:{code:"v2c"},upmordent:{code:"v29"},downmordent:{code:"v68"},lineprall:{code:"v20"},prallprall:{code:"v86"}},a.keySignature=function(t){var e=a.keySignature.keySpecs[t];if(!e)throw new r.Vex.RERR("BadKeySignature","Bad key signature spec: '"+t+"'");if(!e.acc)return[];for(var n=a.keySignature.accidentalList(e.acc),i=[],o=0;o<e.num;++o){var s=n[o];i.push({type:e.acc,line:s})}return i},a.keySignature.keySpecs={C:{acc:null,num:0},Am:{acc:null,num:0},F:{acc:"b",num:1},Dm:{acc:"b",num:1},Bb:{acc:"b",num:2},Gm:{acc:"b",num:2},Eb:{acc:"b",num:3},Cm:{acc:"b",num:3},Ab:{acc:"b",num:4},Fm:{acc:"b",num:4},Db:{acc:"b",num:5},Bbm:{acc:"b",num:5},Gb:{acc:"b",num:6},Ebm:{acc:"b",num:6},Cb:{acc:"b",num:7},Abm:{acc:"b",num:7},G:{acc:"#",num:1},Em:{acc:"#",num:1},D:{acc:"#",num:2},Bm:{acc:"#",num:2},A:{acc:"#",num:3},"F#m":{acc:"#",num:3},E:{acc:"#",num:4},"C#m":{acc:"#",num:4},B:{acc:"#",num:5},"G#m":{acc:"#",num:5},"F#":{acc:"#",num:6},"D#m":{acc:"#",num:6},"C#":{acc:"#",num:7},"A#m":{acc:"#",num:7}},a.unicode={sharp:String.fromCharCode(parseInt("266F",16)),flat:String.fromCharCode(parseInt("266D",16)),natural:String.fromCharCode(parseInt("266E",16)),triangle:String.fromCharCode(parseInt("25B3",16)),"o-with-slash":String.fromCharCode(parseInt("00F8",16)),degrees:String.fromCharCode(parseInt("00B0",16)),circle:String.fromCharCode(parseInt("25CB",16))},a.keySignature.accidentalList=function(t){var e={b:[2,.5,2.5,1,3,1.5,3.5],"#":[0,1.5,-.5,1,2.5,.5,2]};return e[t]},a.parseNoteDurationString=function(t){if("string"!=typeof t)return null;var e=/(\d*\/?\d+|[a-z])(d*)([nrhms]|$)/,n=e.exec(t);if(!n)return null;var i=n[1],r=n[2].length,o=n[3];return 0===o.length&&(o="n"),{duration:i,dots:r,type:o}},a.parseNoteData=function(t){var e=t.duration,n=a.parseNoteDurationString(e);if(!n)return null;var i=a.durationToTicks(n.duration);if(null==i)return null;var r=t.type;if(r){if("n"!==r&&"r"!==r&&"h"!==r&&"m"!==r&&"s"!==r)return null}else r=n.type,r||(r="n");var o=t.dots?t.dots:n.dots;if("number"!=typeof o)return null;for(var s=i,u=0;u<o;u++){if(s<=1)return null;s/=2,i+=s}return{duration:n.duration,type:r,dots:o,ticks:i}},a.sanitizeDuration=function(t){var e=a.durationAliases[t];if(void 0!==e&&(t=e),void 0===a.durationToTicks.durations[t])throw new r.Vex.RERR("BadArguments","The provided duration is not valid: "+t);return t},a.durationToFraction=function(t){return(new o.Fraction).parse(a.sanitizeDuration(t))},a.durationToNumber=function(t){return a.durationToFraction(t).value()},a.durationToTicks=function(t){t=a.sanitizeDuration(t);var e=a.durationToTicks.durations[t];return void 0===e?null:e},a.durationToTicks.durations={"1/2":2*a.RESOLUTION,1:a.RESOLUTION/1,2:a.RESOLUTION/2,4:a.RESOLUTION/4,8:a.RESOLUTION/8,16:a.RESOLUTION/16,32:a.RESOLUTION/32,64:a.RESOLUTION/64,128:a.RESOLUTION/128,256:a.RESOLUTION/256},a.durationAliases={w:"1",h:"2",q:"4",b:"256"},a.durationToGlyph=function(t,e){t=a.sanitizeDuration(t);var n=a.durationToGlyph.duration_codes[t];if(void 0===n)return null;e||(e="n");var i=n.type[e];return void 0===i?null:r.Vex.Merge(r.Vex.Merge({},n.common),i)},a.durationToGlyph.duration_codes={"1/2":{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"v53",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-a.STEM_HEIGHT,stem_down_extension:-a.STEM_HEIGHT,gracenote_stem_up_extension:-a.STEM_HEIGHT,gracenote_stem_down_extension:-a.STEM_HEIGHT,tabnote_stem_up_extension:-a.STEM_HEIGHT,tabnote_stem_down_extension:-a.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v53"},h:{code_head:"v59"},m:{code_head:"vf",stem_offset:0},r:{code_head:"v31",rest:!0,position:"B/5",dot_shiftY:.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},1:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"v1d",t).getMetrics().width},stem:!1,stem_offset:0,flag:!1,stem_up_extension:-a.STEM_HEIGHT,stem_down_extension:-a.STEM_HEIGHT,gracenote_stem_up_extension:-a.STEM_HEIGHT,gracenote_stem_down_extension:-a.STEM_HEIGHT,tabnote_stem_up_extension:-a.STEM_HEIGHT,tabnote_stem_down_extension:-a.STEM_HEIGHT,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v1d"},h:{code_head:"v46"},m:{code_head:"v92",stem_offset:-3},r:{code_head:"v5c",rest:!0,position:"D/5",dot_shiftY:.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},2:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"v81",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"v81"},h:{code_head:"v2d"},m:{code_head:"v95",stem_offset:-3},r:{code_head:"vc",stem:!1,rest:!0,position:"B/4",dot_shiftY:-.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},4:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!1,stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e",stem_offset:-3},r:{code_head:"v7c",stem:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1.5,line_below:1.5},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},8:{common:{getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,beam_count:1,code_flag_upstem:"v54",code_flag_downstem:"v9a",stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"va5",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1,line_below:1},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},16:{common:{beam_count:2,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v3f",code_flag_downstem:"v8f",stem_up_extension:0,stem_down_extension:0,gracenote_stem_up_extension:-14,gracenote_stem_down_extension:-14,tabnote_stem_up_extension:0,tabnote_stem_down_extension:0,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v3c",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-.5,line_above:1,line_below:2},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},32:{common:{beam_count:3,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v47",code_flag_downstem:"v2a",stem_up_extension:9,stem_down_extension:9,gracenote_stem_up_extension:-12,gracenote_stem_down_extension:-12,tabnote_stem_up_extension:8,tabnote_stem_down_extension:5,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v55",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-1.5,line_above:2,line_below:2},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},64:{common:{beam_count:4,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"va9",code_flag_downstem:"v58",stem_up_extension:13,stem_down_extension:13,gracenote_stem_up_extension:-10,gracenote_stem_down_extension:-10,tabnote_stem_up_extension:12,tabnote_stem_down_extension:9,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"v38",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:-1.5,line_above:2,line_below:3},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}},128:{common:{beam_count:5,getWidth:function(){var t=arguments.length<=0||void 0===arguments[0]?a.DEFAULT_NOTATION_FONT_SCALE:arguments[0];return new s.Glyph(this.code_head||"vb",t).getMetrics().width},stem:!0,stem_offset:0,flag:!0,code_flag_upstem:"v9b",code_flag_downstem:"v30",stem_up_extension:22,stem_down_extension:22,gracenote_stem_up_extension:-8,gracenote_stem_down_extension:-8,tabnote_stem_up_extension:21,tabnote_stem_down_extension:18,dot_shiftY:0,line_above:0,line_below:0},type:{n:{code_head:"vb"},h:{code_head:"v22"},m:{code_head:"v3e"},r:{code_head:"vaa",stem:!1,flag:!1,rest:!0,position:"B/4",dot_shiftY:1.5,line_above:3,line_below:3},s:{getWidth:function(){return a.SLASH_NOTEHEAD_WIDTH},position:"B/4"}}}},a.TIME4_4={num_beats:4,beat_value:4,resolution:a.RESOLUTION},e.Flow=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Fraction=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=function(){function t(e,n){i(this,t),this.set(e,n)}return r(t,null,[{key:"GCD",value:function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new o.Vex.RERR("BadArgument","Invalid numbers: "+t+", "+e);for(var n=void 0;0!==e;)n=e,e=t%e,t=n;return t}},{key:"LCM",value:function(e,n){return e*n/t.GCD(e,n)}},{key:"LCMM",value:function(e){if(0===e.length)return 0;if(1===e.length)return e[0];if(2===e.length)return t.LCM(e[0],e[1]);var n=e[0];return e.shift(),t.LCM(n,t.LCMM(e))}}]),r(t,[{key:"set",value:function(t,e){return this.numerator=void 0===t?1:t,this.denominator=void 0===e?1:e,this}},{key:"value",value:function(){return this.numerator/this.denominator}},{key:"simplify",value:function(){var e=this.numerator,n=this.denominator,i=t.GCD(e,n);return e/=i,n/=i,n<0&&(n=-n,e=-e),this.set(e,n)}},{key:"add",value:function(e,n){var i=void 0,r=void 0;e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:0,r=void 0!==n?n:1);var o=t.LCM(this.denominator,r),s=o/this.denominator,a=o/r,u=this.numerator*s+i*a;return this.set(u,o)}},{key:"subtract",value:function(e,n){var i=void 0,r=void 0;e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:0,r=void 0!==n?n:1);var o=t.LCM(this.denominator,r),s=o/this.denominator,a=o/r,u=this.numerator*s-i*a;return this.set(u,o)}},{key:"multiply",value:function(e,n){var i=void 0,r=void 0;return e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:1,r=void 0!==n?n:1),this.set(this.numerator*i,this.denominator*r)}},{key:"divide",value:function(e,n){var i=void 0,r=void 0;return e instanceof t?(i=e.numerator,r=e.denominator):(i=void 0!==e?e:1,r=void 0!==n?n:1),this.set(this.numerator*r,this.denominator*i)}},{key:"equals",value:function(e){var n=t.__compareA.copy(e).simplify(),i=t.__compareB.copy(this).simplify();return n.numerator===i.numerator&&n.denominator===i.denominator}},{key:"greaterThan",value:function(e){var n=t.__compareB.copy(this);return n.subtract(e),n.numerator>0}},{key:"greaterThanEquals",value:function(e){var n=t.__compareB.copy(this);return n.subtract(e),n.numerator>=0}},{key:"lessThan",value:function(t){return!this.greaterThanEquals(t)}},{key:"lessThanEquals",value:function(t){return!this.greaterThan(t)}},{key:"clone",value:function(){return new t(this.numerator,this.denominator)}},{key:"copy",value:function(t){return this.set(t.numerator,t.denominator)}},{key:"quotient",value:function(){return Math.floor(this.numerator/this.denominator)}},{key:"fraction",value:function(){return this.numerator%this.denominator}},{key:"abs",value:function(){return this.denominator=Math.abs(this.denominator),this.numerator=Math.abs(this.numerator),this}},{key:"toString",value:function(){return this.numerator+"/"+this.denominator}},{key:"toSimplifiedString",value:function(){return t.__tmp.copy(this).simplify().toString()}},{key:"toMixedString",value:function(){var e="",n=this.quotient(),i=t.__tmp.copy(this);return n<0?i.abs().fraction():i.fraction(),0!==n?(e+=n,0!==i.numerator&&(e+=" "+i.toSimplifiedString())):e=0===i.numerator?"0":i.toSimplifiedString(),e}},{key:"parse",value:function(t){var e=t.split("/"),n=parseInt(e[0],10),i=e[1]?parseInt(e[1],10):1;return this.set(n,i)}}]),t}();e.Fraction=s,s.__compareA=new s,s.__compareB=new s,s.__tmp=new s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,i,r,o){function s(){return e+t[h++]*i}function a(){return n+t[h++]*r}for(var u=void 0,l=void 0,c=void 0,h=0;h<t.length;)switch(u=t[h++]){case"m":case"l":o[u](s(),a());break;case"q":l=s(),c=a(),o.q(s(),a(),l,c);break;case"b":l=s(),c=a(),o.b(s(),a(),s(),a(),l,c)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Glyph=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(5),c=n(7),h=n(8),f=n(9);e.Glyph=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","Glyph"),s.code=t,s.point=n,s.options={cache:!0,font:f.Font},s.metrics=null,s.x_shift=0,s.y_shift=0,s.originShift={x:0,y:0},o?s.setOptions(o):s.reset(),s}return o(e,t),a(e,null,[{key:"loadMetrics",value:function(t,e,n){var i=t.glyphs[e];if(!i)throw new u.Vex.RERR("BadGlyph","Glyph "+e+" does not exist in font.");var r=i.x_min,o=i.x_max,s=i.ha,a=void 0;if(i.o)return n?i.cached_outline?a=i.cached_outline:(a=i.o.split(" "),i.cached_outline=a):(i.cached_outline&&delete i.cached_outline,a=i.o.split(" ")),{x_min:r,x_max:o,ha:s,outline:a};throw new u.Vex.RERR("BadGlyph","Glyph "+e+" has no outline defined.")}},{key:"renderGlyph",value:function(t,n,i,r,o,s){var a=72*r/(100*f.Font.resolution),u=e.loadMetrics(f.Font,o,!s);e.renderOutline(t,u.outline,a,n,i)}},{key:"renderOutline",value:function(t,e,n,i,r){t.beginPath(),t.moveTo(i,r),s(e,i,r,n,-n,{m:t.moveTo.bind(t),l:t.lineTo.bind(t),q:t.quadraticCurveTo.bind(t),b:t.bezierCurveTo.bind(t)}),t.fill()}},{key:"getOutlineBoundingBox",value:function(t,e,n,i){var r=new c.BoundingBoxComputation;return s(t,n,i,e,-e,{m:r.addPoint.bind(r),l:r.addPoint.bind(r),q:r.addQuadraticCurve.bind(r),b:r.addBezierCurve.bind(r)}),new h.BoundingBox(r.x1,r.y1,r.width(),r.height())}}]),a(e,[{key:"setOptions",value:function(t){u.Vex.Merge(this.options,t),this.reset()}},{key:"setPoint",value:function(t){return this.point=t,this}},{key:"setStave",value:function(t){return this.stave=t,this}},{key:"setXShift",value:function(t){return this.x_shift=t,this}},{key:"setYShift",value:function(t){return this.y_shift=t,this}},{key:"reset",value:function(){this.scale=72*this.point/(100*this.options.font.resolution),this.metrics=e.loadMetrics(this.options.font,this.code,this.options.cache),this.bbox=e.getOutlineBoundingBox(this.metrics.outline,this.scale,0,0)}},{key:"getMetrics",value:function(){if(!this.metrics)throw new u.Vex.RuntimeError("BadGlyph","Glyph "+this.code+" is not initialized.");return{x_min:this.metrics.x_min*this.scale,x_max:this.metrics.x_max*this.scale,width:this.bbox.getW(),height:this.bbox.getH()}}},{key:"setOriginX",value:function(t){var e=this.bbox,n=Math.abs(e.getX()/e.getW()),i=(t-n)*e.getW();this.originShift.x=-i}},{key:"setOriginY",value:function(t){var e=this.bbox,n=Math.abs(e.getY()/e.getH()),i=(t-n)*e.getH();this.originShift.y=-i}},{key:"setOrigin",value:function(t,e){this.setOriginX(t),this.setOriginY(e)}},{key:"render",value:function(t,n,i){if(!this.metrics)throw new u.Vex.RuntimeError("BadGlyph","Glyph "+this.code+" is not initialized.");var r=this.metrics.outline,o=this.scale;this.setRendered(),e.renderOutline(t,r,o,n+this.originShift.x,i+this.originShift.y)}},{key:"renderToStave",value:function(t){if(this.checkContext(),!this.metrics)throw new u.Vex.RuntimeError("BadGlyph","Glyph "+this.code+" is not initialized.");if(!this.stave)throw new u.Vex.RuntimeError("GlyphError","No valid stave");var n=this.metrics.outline,i=this.scale;this.setRendered(),e.renderOutline(this.context,n,i,t+this.x_shift,this.stave.getYForGlyphs()+this.y_shift)}}]),e}(l.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Element=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(6),a=e.Element=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.type;i(this,t),this.attrs={id:t.newID(),el:null,type:n||"Base",classes:{}},this.boundingBox=null,this.context=null,this.rendered=!1,s.Registry.getDefaultRegistry()&&s.Registry.getDefaultRegistry().register(this)}return r(t,null,[{key:"newID",value:function(){return"auto"+t.ID++}}]),r(t,[{key:"hasClass",value:function(t){return this.attrs.classes[t]===!0}},{key:"addClass",value:function(t){return this.attrs.classes[t]=!0,this.registry&&this.registry.onUpdate({id:this.getAttribute("id"),name:"class",value:t,oldValue:null}),this}},{key:"removeClass",value:function(t){return delete this.attrs.classes[t],this.registry&&this.registry.onUpdate({id:this.getAttribute("id"),name:"class",value:null,oldValue:t}),this}},{key:"onRegister",value:function(t){return this.registry=t,this}},{key:"isRendered",value:function(){return this.rendered}},{key:"setRendered",value:function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];return this.rendered=t,this}},{key:"getAttributes",value:function(){return this.attrs}},{key:"getAttribute",value:function(t){return this.attrs[t]}},{key:"setAttribute",value:function(t,e){var n=this.attrs.id,i=this.attrs[t];return this.attrs[t]=e,this.registry&&this.registry.onUpdate({id:n,name:t,value:e,oldValue:i}),this}},{key:"getContext",value:function(){return this.context}},{key:"setContext",value:function(t){return this.context=t,this}},{key:"getBoundingBox",value:function(){return this.boundingBox}},{key:"checkContext",value:function(){if(!this.context)throw new o.Vex.RERR("NoContext","No rendering context attached to instance");return this.context}}]),t}();a.ID=1e3},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,n,i,r){t[e][n]||(t[e][n]={}),t[e][n][i]=r}Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=e.X=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=e.X=s.Vex.MakeException("RegistryError"),u=e.Registry=function(){function t(){i(this,t),this.clear()}return o(t,null,[{key:"INDEXES",get:function(){return["type"]}}]),o(t,[{key:"clear",value:function(){return this.index={id:{},type:{},class:{}},this}},{key:"updateIndex",value:function(t){var e=t.id,n=t.name,i=t.value,o=t.oldValue,s=this.getElementById(e);null!==o&&this.index[n][o]&&delete this.index[n][o][e],null!==i&&r(this.index,n,i,s.getAttribute("id"),s)}},{key:"register",value:function(e,n){var i=this;if(n=n||e.getAttribute("id"),!n)throw new a("Can't add element without `id` attribute to registry",e);return e.setAttribute("id",n),r(this.index,"id",n,n,e),t.INDEXES.forEach(function(t){i.updateIndex({id:n,name:t,value:e.getAttribute(t),oldValue:null})}),e.onRegister(this),this;
}},{key:"getElementById",value:function(t){return this.index.id[t]?this.index.id[t][t]:null}},{key:"getElementsByAttribute",value:function(t,e){var n=this.index[t];return n&&n[e]?Object.keys(n[e]).map(function(t){return n[e][t]}):[]}},{key:"getElementsByType",value:function(t){return this.getElementsByAttribute("type",t)}},{key:"getElementsByClass",value:function(t){return this.getElementsByAttribute("class",t)}},{key:"onUpdate",value:function(e){function n(t,e){return t.filter(function(t){return t===e}).length>0}var i=e.id,r=e.name,o=e.value,s=e.oldValue;return n(t.INDEXES.concat(["id","class"]),r)?(this.updateIndex({id:i,name:r,value:o,oldValue:s}),this):this}}],[{key:"enableDefaultRegistry",value:function(e){t.defaultRegistry=e}},{key:"getDefaultRegistry",value:function(){return t.defaultRegistry}},{key:"disableDefaultRegistry",value:function(){t.defaultRegistry=null}}]),t}();u.defaultRegistry=null},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.BoundingBoxComputation=function(){function t(e,i,r,o){n(this,t),this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.addPoint(e,i),this.addPoint(r,o)}return i(t,[{key:"width",value:function(){return this.x2-this.x1}},{key:"height",value:function(){return this.y2-this.y1}},{key:"addPoint",value:function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}},{key:"addX",value:function(t){this.addPoint(t,null)}},{key:"addY",value:function(t){this.addPoint(null,t)}},{key:"addQuadraticCurve",value:function(t,e,n,i,r,o){var s=t+2/3*(n-t),a=e+2/3*(i-e),u=s+1/3*(r-t),l=a+1/3*(o-e);this.addBezierCurve(t,e,s,a,u,l,r,o)}},{key:"addBezierCurve",value:function(t,e,n,i,r,o,s,a){var u=[t,e],l=[n,i],c=[r,o],h=[s,a],f=void 0;this.addPoint(u[0],u[1]),this.addPoint(h[0],h[1]);var p=function(t,e){return Math.pow(1-t,3)*u[e]+3*Math.pow(1-t,2)*t*l[e]+3*(1-t)*Math.pow(t,2)*c[e]+Math.pow(t,3)*h[e]};for(f=0;f<=1;f++){var d=6*u[f]-12*l[f]+6*c[f],b=-3*u[f]+9*l[f]-9*c[f]+3*h[f],m=3*l[f]-3*u[f];if(0!==b){var y=Math.pow(d,2)-4*m*b;if(!(y<0)){var v=(-d+Math.sqrt(y))/(2*b);0<v&&v<1&&(0===f&&this.addX(p(v,f)),1===f&&this.addY(p(v,f)));var g=(-d-Math.sqrt(y))/(2*b);0<g&&g<1&&(0===f&&this.addX(p(g,f)),1===f&&this.addY(p(g,f)))}}else{if(0===d)continue;var _=-m/d;0<_&&_<1&&(0===f&&this.addX(p(_,f)),1===f&&this.addY(p(_,f)))}}}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.BoundingBox=function(){function t(e,i,r,o){n(this,t),this.x=e,this.y=i,this.w=r,this.h=o}return i(t,null,[{key:"copy",value:function(e){return new t(e.x,e.y,e.w,e.h)}}]),i(t,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getW",value:function(){return this.w}},{key:"getH",value:function(){return this.h}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setH",value:function(t){return this.h=t,this}},{key:"move",value:function(t,e){this.x+=t,this.y+=e}},{key:"clone",value:function(){return t.copy(this)}},{key:"mergeWith",value:function(t,e){var n=t,i=this.x<n.x?this.x:n.x,r=this.y<n.y?this.y:n.y,o=this.x+this.w<n.x+n.w?n.x+n.w-this.x:this.x+this.w-Math.min(this.x,n.x),s=this.y+this.h<n.y+n.h?n.y+n.h-this.y:this.y+this.h-Math.min(this.y,n.y);return this.x=i,this.y=r,this.w=o,this.h=s,e&&this.draw(e),this}},{key:"draw",value:function(t,e,n){e||(e=0),n||(n=0),t.rect(this.x+e,this.y+n,this.w,this.h),t.stroke()}}]),t}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Font={glyphs:{v0:{x_min:0,x_max:514.5,ha:525,o:"m 236 648 b 246 648 238 648 242 648 b 288 646 261 648 283 648 b 472 513 364 634 428 587 b 514 347 502 464 514 413 b 462 163 514 272 499 217 b 257 44 409 83 333 44 b 50 163 181 44 103 83 b 0 347 14 217 0 272 b 40 513 0 413 12 464 b 236 648 87 591 155 638 m 277 614 b 253 616 273 616 261 616 b 242 616 247 616 243 616 b 170 499 193 609 181 589 b 159 348 163 446 159 398 b 166 222 159 308 161 266 b 201 91 174 138 183 106 b 257 76 215 81 235 76 b 311 91 277 76 299 81 b 347 222 330 106 338 138 b 353 348 352 266 353 308 b 344 499 353 398 351 446 b 277 614 333 587 322 606 m 257 -1 l 258 -1 l 255 -1 l 257 -1 m 257 673 l 258 673 l 255 673 l 257 673 "},v1:{x_min:-1.359375,x_max:344.359375,ha:351,o:"m 126 637 l 129 638 l 198 638 l 266 638 l 269 635 b 274 631 272 634 273 632 l 277 627 l 277 395 b 279 156 277 230 277 161 b 329 88 281 123 295 106 b 344 69 341 81 344 79 b 337 55 344 62 343 59 l 333 54 l 197 54 l 61 54 l 58 55 b 50 69 53 59 50 62 b 65 88 50 79 53 81 b 80 97 72 91 74 93 b 117 156 103 113 112 129 b 117 345 117 161 117 222 l 117 528 l 100 503 l 38 406 b 14 383 24 384 23 383 b -1 398 5 383 -1 390 b 4 415 -1 403 1 409 b 16 437 5 416 10 426 l 72 539 l 100 596 b 121 632 119 631 119 631 b 126 637 122 634 125 635 m 171 -1 l 172 -1 l 170 -1 l 171 -1 m 171 673 l 172 673 l 170 673 l 171 673 "},v2:{x_min:-1.359375,x_max:458.6875,ha:468,o:"m 197 648 b 216 648 201 648 208 648 b 258 646 232 648 253 648 b 419 546 333 637 393 599 b 432 489 428 528 432 509 b 356 342 432 440 405 384 b 235 278 322 313 288 295 b 69 170 166 256 107 217 b 69 169 69 170 69 169 b 69 169 69 169 69 169 b 74 173 69 169 72 170 b 209 222 112 204 163 222 b 310 195 247 222 274 215 b 371 179 332 184 352 179 b 396 181 379 179 387 179 b 428 202 409 184 423 194 b 442 212 431 209 436 212 b 458 197 450 212 458 206 b 441 148 458 190 449 165 b 299 44 409 84 353 44 b 288 45 295 44 292 44 b 250 61 274 45 268 49 b 122 99 212 86 164 99 b 73 91 104 99 88 97 b 28 63 53 84 34 72 b 14 54 25 56 20 54 b 1 62 9 54 4 56 l -1 65 l -1 79 b 0 99 -1 91 0 95 b 2 113 1 102 2 108 b 164 309 20 197 81 272 b 285 470 232 341 277 398 b 287 487 287 476 287 481 b 171 595 287 551 239 595 b 155 595 166 595 160 595 b 142 592 145 594 142 594 b 145 589 142 592 142 591 b 179 527 168 576 179 551 b 132 455 179 496 163 467 b 104 451 122 452 112 451 b 27 530 62 451 27 487 b 29 555 27 538 27 546 b 197 648 44 601 115 639 m 228 -1 l 230 -1 l 227 -1 l 228 -1 m 228 673 l 230 673 l 227 673 l 228 673 "},v3:{x_min:-1.359375,x_max:409.6875,ha:418,o:"m 174 648 b 191 648 176 648 183 648 b 225 648 204 648 220 648 b 402 523 317 638 389 588 b 404 503 404 517 404 510 b 402 484 404 495 404 488 b 264 373 389 437 334 394 b 257 370 259 371 257 371 b 257 370 257 370 257 370 b 264 369 258 370 261 369 b 409 202 359 334 409 267 b 318 72 409 152 381 104 b 200 43 281 52 240 43 b 23 113 134 43 69 68 b 0 169 6 129 0 149 b 77 249 0 210 29 249 l 77 249 b 152 174 125 249 152 212 b 103 102 152 145 137 116 b 103 102 103 102 103 102 b 147 94 103 101 132 95 b 153 94 149 94 151 94 b 265 206 219 94 265 141 b 264 226 265 213 265 219 b 147 355 253 299 204 353 b 126 371 133 356 126 362 b 147 388 126 383 132 388 b 254 474 196 391 238 424 b 259 502 258 484 259 494 b 182 592 259 544 228 582 b 156 595 175 595 166 595 b 115 592 142 595 129 594 l 111 591 l 115 588 b 152 524 141 574 152 549 b 92 449 152 491 130 458 b 76 448 87 448 81 448 b -1 530 32 448 -1 488 b 20 581 -1 548 5 566 b 174 648 55 619 108 641 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 "},v4:{x_min:0,x_max:468.21875,ha:478,o:"m 174 637 b 232 638 175 638 189 638 b 277 638 245 638 259 638 l 378 638 l 381 635 b 389 623 386 632 389 627 b 382 609 389 617 386 613 b 366 589 381 606 372 598 l 313 528 l 245 451 l 209 410 l 155 348 l 84 267 b 59 240 72 252 59 240 b 59 240 59 240 59 240 b 151 238 59 238 68 238 l 242 238 l 242 303 b 243 371 242 369 242 370 b 289 426 245 374 254 385 l 303 441 l 317 456 l 338 483 l 360 506 l 371 520 b 386 527 375 526 381 527 b 400 519 392 527 397 524 b 401 440 401 516 401 514 b 401 377 401 423 401 402 l 401 238 l 426 238 b 453 237 449 238 450 238 b 465 217 461 234 465 226 b 460 202 465 212 464 206 b 426 197 454 197 453 197 l 401 197 l 401 180 b 451 88 402 129 412 109 b 468 69 465 81 468 79 b 461 55 468 62 466 59 l 458 54 l 321 54 l 185 54 l 182 55 b 175 69 176 59 175 62 b 191 88 175 79 176 81 b 240 180 230 109 240 129 l 240 197 l 125 197 b 73 195 104 195 87 195 b 8 197 10 195 9 197 b 0 212 2 199 0 205 b 0 212 0 212 0 212 b 20 242 0 219 0 219 b 163 610 104 344 163 492 b 174 637 163 628 166 634 m 234 -1 l 235 -1 l 232 -1 l 234 -1 m 234 673 l 235 673 l 232 673 l 234 673 "},v5:{x_min:0,x_max:409.6875,ha:418,o:"m 47 637 b 53 638 49 638 50 638 b 69 634 55 638 61 637 b 210 610 114 619 161 610 b 363 634 259 610 311 619 b 382 638 372 637 378 638 b 392 634 386 638 389 637 b 397 623 396 630 397 627 b 393 610 397 620 396 616 b 298 505 368 552 338 520 b 212 494 277 498 246 494 b 65 517 163 494 106 502 b 61 517 62 517 61 517 b 61 517 61 517 61 517 b 51 408 61 517 51 412 b 51 408 51 408 51 408 b 51 408 51 408 51 408 b 61 412 53 408 55 409 b 125 434 80 421 103 430 b 185 441 145 440 166 441 b 409 244 310 441 409 353 b 401 191 409 227 406 209 b 197 43 375 105 287 43 b 159 47 183 43 171 44 b 23 123 112 56 61 86 b 0 180 6 140 0 159 b 76 260 0 220 31 260 b 92 259 81 260 87 259 b 152 183 132 251 152 216 b 100 112 152 152 134 122 b 95 111 98 112 95 111 b 95 111 95 111 95 111 b 129 98 95 109 119 101 b 148 97 136 97 141 97 b 264 235 206 97 261 158 b 265 248 265 240 265 244 b 210 398 265 312 243 373 b 179 408 201 406 194 408 b 174 408 178 408 176 408 b 53 369 130 408 88 394 b 34 359 39 359 38 359 b 17 374 24 359 17 365 b 39 628 17 384 38 625 b 47 637 40 631 43 635 m 204 -1 l 205 -1 l 202 -1 l 204 -1 m 204 673 l 205 673 l 202 673 l 204 673 "},v6:{x_min:0,x_max:475.03125,ha:485,o:"m 255 648 b 274 648 259 648 266 648 b 314 646 288 648 307 648 b 450 555 374 637 438 594 b 454 530 453 546 454 538 b 375 451 454 485 416 451 b 328 467 359 451 343 455 b 300 526 310 483 300 503 b 352 598 300 557 319 589 b 356 599 355 598 356 599 b 352 602 356 599 355 601 b 288 616 330 612 308 616 b 210 584 257 616 230 605 b 164 433 189 559 174 508 b 160 374 163 415 160 381 b 160 374 160 374 160 374 b 160 374 160 374 160 374 b 168 377 160 374 164 376 b 258 395 200 390 228 395 b 366 367 294 395 328 387 b 475 223 436 333 475 283 b 472 197 475 215 473 206 b 349 65 462 141 419 95 b 259 43 317 51 288 43 b 167 69 230 43 200 52 b 4 290 80 113 20 195 b 0 349 1 309 0 328 b 20 467 0 391 6 433 b 255 648 58 563 155 637 m 269 363 b 257 363 265 363 261 363 b 210 345 236 363 220 356 b 186 226 196 324 186 272 b 187 198 186 216 186 206 b 213 95 191 151 202 112 b 257 76 221 83 238 76 b 270 77 261 76 266 76 b 321 156 299 81 310 99 b 329 229 326 183 329 206 b 321 301 329 252 326 274 b 269 363 311 342 298 359 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 "},v7:{x_min:0,x_max:442.359375,ha:451,o:"m 147 648 b 166 649 153 649 160 649 b 313 598 217 649 273 630 b 340 587 323 588 328 587 l 341 587 b 412 628 367 587 390 601 b 427 638 416 635 421 638 b 439 632 431 638 435 637 b 442 623 441 630 442 628 b 430 569 442 616 439 603 b 352 369 408 492 377 410 b 300 259 325 324 313 298 b 273 84 283 205 273 140 b 265 55 273 65 272 59 l 261 54 l 181 54 l 99 54 l 96 55 b 91 61 95 56 92 59 l 89 63 l 89 77 b 147 263 89 133 111 202 b 261 401 176 313 212 355 b 378 541 315 449 349 489 l 382 548 l 375 544 b 240 495 333 512 285 495 b 129 535 198 495 160 509 b 84 560 108 552 95 560 b 76 559 81 560 78 560 b 31 487 59 555 43 530 b 14 470 27 473 24 470 b 1 477 8 470 4 471 l 0 480 l 0 553 l 0 627 l 1 630 b 16 638 4 635 9 638 b 23 635 17 638 20 637 b 49 626 36 626 39 626 b 96 638 59 626 80 630 b 104 639 99 638 102 639 b 117 644 107 641 112 642 b 147 648 125 645 137 648 m 220 -1 l 221 -1 l 219 -1 l 220 -1 m 220 673 l 221 673 l 219 673 l 220 673 "},v8:{x_min:0,x_max:488.640625,ha:499,o:"m 217 648 b 245 649 225 648 235 649 b 453 516 343 649 430 595 b 458 478 455 503 458 491 b 412 370 458 440 441 398 b 411 369 412 369 411 369 b 415 365 411 367 412 367 b 488 231 462 331 488 281 b 472 165 488 208 483 186 b 243 43 434 86 338 43 b 63 104 178 43 112 62 b 0 233 20 140 0 186 b 73 365 0 283 24 331 l 77 369 l 72 374 b 29 476 42 406 29 441 b 217 648 29 557 103 635 m 258 605 b 242 606 253 605 247 606 b 157 552 198 606 157 580 b 160 541 157 548 159 544 b 319 413 176 503 242 452 l 337 403 l 338 406 b 359 476 352 428 359 452 b 258 605 359 537 318 595 m 138 326 b 130 330 134 328 130 330 b 130 330 130 330 130 330 b 107 305 127 330 112 313 b 84 231 91 281 84 256 b 243 86 84 156 151 86 b 249 87 245 86 246 87 b 347 156 303 88 347 120 b 344 172 347 162 345 167 b 156 319 325 227 257 281 b 138 326 151 322 144 324 m 243 -1 l 245 -1 l 242 -1 l 243 -1 m 243 673 l 245 673 l 242 673 l 243 673 "},v9:{x_min:0,x_max:475.03125,ha:485,o:"m 191 646 b 212 649 198 648 205 649 b 255 644 227 649 243 646 b 458 448 348 616 428 539 b 475 342 469 415 475 378 b 460 244 475 308 469 274 b 193 44 421 124 303 44 b 91 69 157 44 122 51 b 19 161 43 97 19 126 b 21 181 19 167 20 174 b 98 241 32 220 65 241 b 170 186 129 241 160 223 b 172 166 171 179 172 173 b 121 94 172 134 152 102 b 117 93 118 94 117 93 b 121 90 117 93 118 91 b 185 76 142 80 164 76 b 270 119 220 76 251 91 b 308 259 287 145 300 194 b 313 317 310 277 313 310 b 313 317 313 317 313 317 b 313 317 313 317 313 317 b 304 315 313 317 308 316 b 216 295 273 302 245 295 b 145 308 193 295 170 299 b 19 398 88 327 42 360 b 0 469 5 420 0 444 b 24 551 0 496 8 526 b 191 646 54 596 125 637 m 227 614 b 215 616 224 616 220 616 b 202 614 210 616 206 616 b 152 535 174 610 163 592 b 144 463 147 509 144 485 b 152 391 144 440 147 417 b 216 328 163 344 179 328 b 280 391 253 328 269 344 b 288 463 285 417 288 440 b 280 535 288 485 285 509 b 227 614 269 594 258 610 m 236 -1 l 238 -1 l 235 -1 l 236 -1 m 236 673 l 238 673 l 235 673 l 236 673 "},va:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -8 -1 b -1 0 -5 -1 -4 0 b 16 -11 5 0 13 -4 b 83 -186 17 -12 47 -90 l 148 -358 l 148 -363 b 127 -385 148 -376 138 -385 b 112 -378 122 -385 118 -383 b 54 -226 110 -374 114 -385 b 0 -81 24 -147 0 -81 b -55 -226 -1 -81 -25 -147 b -114 -378 -115 -385 -111 -374 b -129 -385 -119 -383 -123 -385 b -149 -363 -140 -385 -149 -376 l -149 -358 l -84 -186 b -19 -11 -49 -90 -19 -12 b -8 -1 -17 -8 -12 -4 "},vb:{x_min:0,x_max:428.75,ha:438,o:"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 "},vc:{x_min:0,x_max:447.8125,ha:457,o:"m 0 86 l 0 173 l 223 173 l 447 173 l 447 86 l 447 0 l 223 0 l 0 0 l 0 86 "},vd:{x_min:0,x_max:343,ha:350,o:"m 329 331 b 333 331 330 331 332 331 b 343 322 338 331 343 327 b 343 320 343 322 343 320 b 318 276 341 317 340 313 b 279 223 291 227 294 230 b 202 208 257 212 236 208 b 144 210 186 208 167 208 b 93 212 123 212 107 212 b 19 195 59 212 39 208 b 8 191 14 192 10 191 b 0 198 5 191 2 194 b 0 201 0 199 0 199 b 23 248 0 205 4 213 b 62 301 50 297 47 292 b 140 316 84 312 104 316 b 197 313 155 316 174 315 b 249 310 217 312 234 310 b 322 328 283 310 303 316 b 329 331 325 328 328 331 "},ve:{x_min:-390.640625,x_max:389.28125,ha:397,o:"m -378 502 l -374 503 l 0 503 l 372 503 l 377 502 b 387 491 381 499 385 496 l 389 488 l 389 251 l 389 15 l 387 12 b 367 0 383 4 375 0 b 348 12 360 0 352 4 l 347 15 l 347 174 l 347 335 l 0 335 l -348 335 l -348 174 l -348 15 l -349 12 b -368 0 -353 4 -362 0 b -389 12 -377 0 -385 4 l -390 15 l -390 251 l -390 488 l -389 491 b -378 502 -386 496 -382 499 m -13 131 b -1 133 -9 133 -5 133 b 50 105 19 133 39 123 b 61 70 57 95 61 83 b 50 34 61 58 57 45 b -1 6 39 16 19 6 b -46 27 -17 6 -34 13 b -62 69 -58 38 -62 55 b -13 131 -62 98 -44 124 "},vf:{x_min:0,x_max:370.21875,ha:378,o:"m 0 0 l 0 277 l 61 277 l 122 277 l 122 0 l 122 -278 l 61 -278 l 0 -278 l 0 0 m 246 -1 l 246 277 l 308 277 l 370 277 l 370 -1 l 370 -278 l 308 -278 l 246 -278 l 246 -1 "},v10:{x_min:0,x_max:559.421875,ha:571,o:"m 5 127 b 14 127 6 127 9 127 b 51 126 25 127 43 127 b 175 98 93 122 138 112 l 186 94 b 279 51 210 86 255 65 b 285 47 280 51 283 48 b 319 27 291 44 311 31 l 326 22 b 359 0 332 19 352 4 l 367 -6 b 371 -9 368 -6 370 -8 l 379 -15 b 387 -22 383 -18 386 -20 l 398 -30 l 411 -40 l 417 -47 l 427 -55 l 434 -61 b 441 -66 436 -62 439 -65 l 446 -72 l 453 -77 l 462 -87 b 558 -188 490 -113 549 -176 b 559 -195 559 -191 559 -194 b 548 -205 559 -201 555 -205 b 541 -204 547 -205 544 -205 b 534 -198 539 -201 536 -199 l 525 -191 b 481 -162 518 -187 490 -167 b 472 -155 477 -159 472 -156 b 468 -152 470 -155 469 -154 b 461 -149 466 -152 464 -151 b 428 -130 454 -145 441 -137 b 371 -99 413 -122 372 -99 b 363 -95 371 -99 367 -98 b 353 -91 357 -94 353 -91 b 348 -90 353 -91 352 -91 b 332 -81 343 -87 341 -86 b 27 -12 230 -37 127 -13 b 0 -5 4 -11 2 -11 b 0 58 0 -2 0 27 b 0 122 0 88 0 120 b 5 127 1 124 4 126 "},v11:{x_min:-155.171875,x_max:153.8125,ha:157,o:"m -137 353 b -130 353 -136 353 -133 353 b -112 349 -125 353 -119 352 b -100 342 -110 347 -104 344 b 0 317 -69 326 -35 317 b 111 349 38 317 76 328 b 129 353 117 352 123 353 b 153 327 142 353 153 344 b 144 302 153 320 153 317 b 27 6 93 226 50 113 b 21 -13 24 -11 24 -11 b 0 -26 17 -22 8 -26 b -24 -12 -9 -26 -19 -22 b -28 5 -24 -9 -27 -2 b -145 302 -53 117 -95 224 b -155 327 -155 317 -155 320 b -137 353 -155 340 -148 349 "},v12:{x_min:0,x_max:699.609375,ha:714,o:"m 0 0 l 0 563 l 65 563 l 132 563 l 132 0 l 132 -564 l 65 -564 l 0 -564 l 0 0 m 181 0 l 181 563 l 197 563 l 215 563 l 215 294 b 215 24 215 95 215 24 b 228 37 216 24 221 30 b 332 245 274 84 311 159 b 344 262 334 258 338 262 b 349 262 347 262 348 262 b 359 244 356 259 357 256 b 488 91 364 158 424 91 b 519 97 499 91 509 94 b 582 306 570 113 582 156 l 582 308 b 544 501 582 423 573 471 b 464 528 525 520 496 528 b 387 512 439 528 412 523 b 381 508 383 509 381 508 b 383 508 381 508 382 508 b 430 473 400 508 421 491 b 436 445 434 464 436 455 b 372 380 436 412 408 380 b 366 380 370 380 368 380 b 304 449 328 384 304 416 b 323 498 304 467 310 484 b 465 555 362 537 413 555 b 656 453 536 555 611 520 b 699 312 686 410 699 360 b 496 66 699 191 617 74 b 487 66 494 66 490 66 b 412 91 461 66 438 74 b 404 97 408 95 405 97 b 404 95 404 97 404 97 b 348 1 404 95 352 9 l 347 0 l 375 -49 b 405 -98 392 -76 404 -98 l 405 -98 b 415 -91 405 -97 409 -94 b 492 -68 438 -74 464 -68 b 598 -105 526 -68 564 -80 b 688 -238 641 -136 673 -184 b 699 -313 695 -263 699 -290 b 594 -516 699 -395 661 -469 b 465 -556 555 -542 510 -556 b 353 -523 426 -556 386 -545 b 304 -460 321 -501 307 -484 b 304 -451 304 -458 304 -453 b 372 -381 304 -410 337 -381 b 408 -392 383 -381 396 -384 b 436 -445 427 -405 436 -426 b 385 -508 436 -474 417 -503 l 379 -509 l 387 -513 b 464 -530 412 -524 438 -530 b 522 -517 485 -530 506 -526 b 579 -390 558 -501 574 -463 b 582 -299 582 -370 582 -334 b 581 -226 582 -272 582 -242 b 519 -98 575 -144 560 -112 b 488 -93 510 -95 499 -93 b 359 -245 424 -93 364 -158 b 345 -263 357 -258 355 -263 b 332 -244 337 -263 336 -260 b 220 -30 310 -155 268 -73 l 215 -24 l 215 -295 l 215 -564 l 197 -564 l 181 -564 l 181 0 "},v13:{x_min:-1.359375,x_max:455.96875,ha:465,o:"m 352 541 b 357 542 353 542 355 542 b 377 530 364 542 372 537 l 378 526 l 378 394 l 379 262 l 404 266 b 436 270 420 269 430 270 b 450 265 443 270 446 269 b 455 220 455 259 455 260 l 455 208 l 455 161 l 454 156 b 411 140 449 147 447 147 b 378 133 393 137 379 134 b 378 68 378 133 378 106 b 378 22 378 54 378 38 l 379 -87 l 404 -83 b 436 -79 420 -80 430 -79 b 450 -84 443 -79 446 -80 b 455 -129 455 -90 455 -88 l 455 -141 l 455 -188 l 454 -192 b 413 -209 449 -202 447 -202 b 382 -215 398 -212 383 -215 l 378 -215 l 378 -345 l 378 -380 b 375 -485 378 -484 378 -480 b 357 -494 371 -491 364 -494 b 340 -485 351 -494 344 -491 b 336 -383 337 -480 336 -484 l 336 -349 l 336 -223 l 334 -223 b 291 -231 334 -223 314 -227 l 247 -240 l 247 -371 l 246 -503 l 245 -506 b 225 -519 242 -514 234 -519 b 206 -506 219 -519 210 -514 l 205 -503 l 205 -376 l 205 -248 l 160 -256 l 115 -265 l 115 -396 l 115 -527 l 114 -531 b 95 -544 110 -539 102 -544 b 76 -531 87 -544 78 -539 l 73 -527 l 73 -399 b 73 -273 73 -330 73 -273 b 49 -277 73 -273 61 -274 b 17 -281 32 -280 24 -281 b 4 -276 10 -281 8 -280 b -1 -234 0 -269 -1 -272 b 0 -219 -1 -229 0 -224 l 0 -170 l 1 -167 b 10 -158 2 -163 6 -159 b 49 -149 13 -156 16 -155 l 73 -145 l 73 -34 b 73 76 73 26 73 76 b 49 72 73 76 61 74 b 17 68 32 69 24 68 b 4 73 10 68 8 69 b -1 115 0 80 -1 77 b 0 130 -1 120 0 124 l 0 179 l 1 181 b 10 191 2 186 6 190 b 49 199 13 192 16 194 l 73 204 l 73 338 b 73 374 73 352 73 365 b 77 483 73 484 73 477 b 95 492 81 489 88 492 b 111 483 100 492 107 489 b 115 378 115 477 115 483 l 115 342 b 117 212 115 223 115 212 b 204 229 117 212 200 227 l 205 229 l 205 365 l 205 502 l 206 505 b 225 517 210 513 219 517 b 245 505 234 517 242 513 l 246 502 l 247 369 l 247 237 l 249 237 b 336 254 253 238 336 254 b 337 390 336 254 337 302 l 337 526 l 338 530 b 352 541 341 535 347 539 m 336 15 b 336 126 336 102 336 126 l 336 126 b 291 117 336 126 315 122 l 247 109 l 247 -1 l 247 -112 l 249 -112 b 336 -95 253 -111 336 -95 b 336 15 336 -95 336 -56 m 205 -120 b 205 -55 205 -120 205 -93 b 205 -9 205 -41 205 -24 l 205 101 l 160 93 l 115 84 l 115 -26 b 115 -83 115 -49 115 -69 b 117 -137 115 -133 115 -137 b 205 -120 118 -137 204 -120 "},v14:{x_min:-1.359375,x_max:349.8125,ha:357,o:"m 230 287 b 243 287 234 287 238 287 b 266 285 251 287 261 287 b 349 180 319 274 349 227 b 307 95 349 149 336 117 b 208 63 280 74 245 63 b 84 106 166 63 122 79 b 76 113 80 111 77 113 b 76 113 76 113 76 113 b 132 -74 76 112 102 27 b 187 -272 179 -235 187 -263 b 186 -276 187 -273 186 -274 b 166 -288 183 -284 174 -288 b 148 -278 159 -288 152 -285 b -1 231 145 -273 -1 227 b 20 252 -1 244 9 252 b 36 244 25 252 32 249 b 40 234 38 242 39 238 b 167 112 63 174 112 127 l 174 111 l 170 113 b 142 181 152 133 142 158 b 230 287 142 230 176 277 "},v15:{x_min:-209.609375,x_max:208.25,ha:213,o:"m -12 248 b -1 249 -9 249 -5 249 b 55 219 20 249 43 237 b 66 180 62 206 66 194 b 36 123 66 158 55 137 b 0 112 25 116 12 112 b -57 142 -21 112 -43 122 b -68 180 -63 154 -68 167 b -12 248 -68 212 -46 242 m -197 19 b 1 20 -194 19 -96 20 b 196 19 98 20 193 19 b 208 -1 204 15 208 6 b 202 -15 208 -5 206 -11 b 95 -22 197 -20 212 -22 b -1 -22 69 -22 38 -22 b -96 -22 -39 -22 -70 -22 b -204 -15 -213 -22 -198 -20 b -209 -1 -208 -11 -209 -5 b -197 19 -209 6 -205 15 "},v16:{x_min:-155.171875,x_max:153.8125,ha:157,o:"m -137 353 b -129 355 -134 353 -132 355 b -102 333 -118 355 -111 348 b -8 129 -63 273 -32 205 b 0 106 -4 116 -1 106 b 6 129 0 106 2 116 b 100 333 31 205 62 273 b 114 349 107 344 108 347 b 127 353 118 352 123 353 b 153 327 141 353 153 344 b 144 302 153 320 153 317 b 29 18 96 227 54 123 l 25 -4 b -1 -26 21 -19 13 -26 b -27 -4 -14 -26 -23 -19 l -31 18 b -145 302 -55 123 -98 227 b -155 327 -155 317 -155 320 b -137 353 -155 340 -148 349 "},v17:{x_min:0,x_max:102.078125,ha:104,o:"m 42 104 b 47 104 43 104 46 104 b 66 102 54 104 62 102 b 102 51 89 94 102 72 b 76 5 102 33 93 15 b 51 -1 68 1 59 -1 b 10 18 35 -1 20 5 b 0 51 2 27 0 38 b 42 104 0 76 16 99 "},v18:{x_min:0,x_max:323.9375,ha:331,o:"m 217 535 b 225 537 220 537 221 537 b 245 524 235 537 242 533 l 246 521 l 247 390 l 247 258 l 273 265 b 306 270 288 269 299 270 b 322 259 315 270 319 267 b 323 208 323 256 323 233 b 322 158 323 184 323 159 b 288 140 318 148 315 147 b 247 130 254 131 247 130 b 247 65 247 130 247 104 b 247 20 247 51 247 36 l 247 -88 l 273 -81 b 306 -76 289 -77 299 -76 b 318 -81 311 -76 315 -77 b 323 -123 323 -87 323 -86 l 323 -138 l 323 -154 b 318 -195 323 -191 323 -190 b 269 -210 314 -199 315 -199 b 249 -216 259 -213 250 -216 l 247 -216 l 247 -349 l 246 -483 l 245 -487 b 225 -499 242 -495 234 -499 b 206 -487 219 -499 210 -495 l 205 -483 l 205 -355 l 205 -227 l 204 -227 l 181 -233 l 138 -244 b 117 -249 127 -247 117 -249 b 115 -385 115 -249 115 -256 l 115 -523 l 114 -526 b 95 -538 110 -534 102 -538 b 74 -526 87 -538 78 -534 l 73 -523 l 73 -391 b 72 -260 73 -269 73 -260 b 72 -260 72 -260 72 -260 b 19 -273 61 -263 23 -273 b 0 -260 10 -273 4 -267 b 0 -209 0 -256 0 -256 l 0 -162 l 1 -158 b 61 -134 5 -148 5 -148 l 73 -131 l 73 -22 b 72 86 73 79 73 86 b 72 86 72 86 72 86 b 19 74 61 83 23 74 b 0 86 10 74 4 79 b 0 137 0 90 0 90 l 0 184 l 1 188 b 61 212 5 198 5 198 l 73 215 l 73 348 l 73 481 l 74 485 b 95 498 78 492 87 498 b 103 495 98 498 100 496 b 114 485 107 494 111 489 l 115 481 l 115 353 l 115 226 l 121 226 b 159 235 123 227 141 231 l 198 247 l 205 248 l 205 384 l 205 521 l 206 524 b 217 535 209 528 212 533 m 205 9 b 205 119 205 70 205 119 l 205 119 b 182 113 204 119 194 116 l 138 102 b 117 97 127 99 117 97 b 115 -12 115 97 115 91 l 115 -122 l 121 -120 b 159 -111 123 -119 141 -115 l 198 -101 l 205 -98 l 205 9 "},v19:{x_min:-10.890625,x_max:366.140625,ha:363,o:"m 98 172 b 110 173 102 173 106 173 b 210 120 142 173 172 156 b 281 66 235 95 264 74 b 294 63 285 63 289 63 b 341 87 307 63 322 72 b 356 97 348 94 352 97 b 363 93 359 97 362 95 b 366 87 364 90 366 88 b 355 72 366 83 363 79 b 268 2 317 31 288 9 b 243 -1 259 0 251 -1 b 144 52 212 -1 181 16 b 72 106 119 77 91 98 b 61 109 69 108 65 109 b 13 84 47 109 31 101 b 0 76 5 77 2 76 b -10 86 -6 76 -10 80 b -10 88 -10 87 -10 88 b 62 158 -9 95 43 145 b 98 172 73 165 87 170 "},v1a:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -9 151 b -1 152 -6 151 -2 152 b 1 152 0 152 0 152 l 9 151 b 144 37 72 148 127 99 b 148 -62 148 19 148 15 b 148 -111 148 -76 148 -93 l 148 -216 l 147 -219 b 127 -231 144 -227 136 -231 b 108 -219 119 -231 112 -227 l 107 -216 l 107 -104 b 103 26 106 18 107 12 b -1 109 89 76 46 109 b -38 102 -13 109 -25 106 b -104 27 -70 90 -96 62 b -108 -101 -108 15 -108 22 l -108 -216 l -110 -219 b -129 -231 -114 -227 -122 -231 b -148 -219 -137 -231 -145 -227 l -149 -216 l -149 -99 b -149 -63 -149 -87 -149 -74 b -145 37 -149 26 -149 20 b -9 151 -130 101 -74 148 "},v1b:{x_min:0,x_max:559.421875,ha:571,o:"m 544 204 b 548 204 545 204 547 204 b 559 194 555 204 559 199 b 559 190 559 192 559 191 b 530 156 559 188 556 184 b 462 86 510 134 481 104 b 453 76 458 81 454 77 l 446 70 l 441 65 b 434 59 439 63 436 61 l 427 54 b 409 37 426 51 416 44 b 392 23 398 29 394 26 b 387 19 389 22 387 20 b 379 13 386 19 383 16 l 371 8 l 367 5 l 359 -1 l 337 -16 b 285 -48 319 -29 298 -41 l 279 -52 b 186 -95 255 -66 210 -87 l 175 -99 b 23 -129 127 -117 68 -129 b 17 -129 20 -129 19 -129 b 1 -123 2 -129 2 -129 b 0 -49 0 -122 0 -83 b 0 4 0 -22 0 1 b 27 11 2 9 4 9 b 185 31 78 12 145 20 b 198 34 186 31 193 33 b 314 73 234 44 277 58 b 349 88 328 79 340 84 b 353 90 352 90 353 90 b 363 94 353 90 357 93 b 371 98 367 97 371 98 b 428 129 372 98 413 120 b 461 148 441 136 454 144 b 468 151 464 149 466 151 b 472 154 469 152 470 154 b 481 161 473 155 477 158 b 525 190 490 166 518 186 l 534 197 b 540 201 536 198 539 199 b 544 204 541 202 544 204 "},v1c:{x_min:0,x_max:326.671875,ha:333,o:"m 10 460 b 20 462 13 462 14 462 b 39 449 28 462 35 458 l 40 446 l 40 326 b 40 205 40 259 40 205 b 127 227 40 205 80 215 b 220 249 196 244 213 249 b 227 247 224 249 225 248 b 238 237 231 245 235 241 l 239 233 l 239 -105 b 239 -262 239 -167 239 -219 b 238 -448 239 -416 239 -445 b 238 -451 238 -449 238 -451 b 238 -452 238 -452 238 -452 b 243 -451 239 -452 240 -451 b 298 -431 262 -448 280 -441 b 308 -427 300 -428 304 -427 b 326 -446 318 -427 326 -435 l 326 -446 l 326 -452 l 321 -462 b 238 -674 283 -520 253 -599 b 219 -695 234 -689 230 -695 b 197 -670 206 -695 202 -689 b 115 -462 179 -591 152 -520 l 110 -452 l 110 -446 l 110 -446 b 127 -427 110 -435 118 -427 b 138 -431 130 -427 134 -428 b 193 -451 155 -441 172 -448 b 198 -452 196 -452 197 -452 b 198 -451 198 -452 198 -452 b 198 -448 198 -451 198 -449 b 197 -323 197 -445 197 -426 b 197 -201 197 -247 197 -201 b 110 -223 196 -201 157 -210 b 17 -245 42 -240 24 -245 b 10 -242 13 -245 13 -244 b 0 -233 6 -241 2 -237 l 0 -230 l 0 108 l 0 446 l 0 449 b 10 460 2 453 6 458 m 197 22 b 197 70 197 41 197 58 b 196 116 197 113 197 116 l 196 116 b 118 97 196 116 160 106 l 40 77 l 40 -18 b 40 -112 40 -69 40 -112 l 119 -93 l 197 -73 l 197 22 "},v1d:{x_min:0,x_max:619.3125,ha:632,o:"m 274 184 b 307 186 285 186 296 186 b 616 22 465 186 597 116 b 619 -1 617 13 619 5 b 308 -187 619 -104 483 -187 b 0 -1 133 -187 0 -102 b 5 36 0 11 1 23 b 274 184 29 115 141 176 m 289 161 b 272 162 284 162 277 162 b 171 41 209 162 171 108 b 205 -73 171 5 182 -34 b 345 -163 243 -133 298 -163 b 436 -98 385 -163 420 -142 b 446 -43 443 -80 446 -62 b 289 161 446 47 377 147 "},v1e:{x_min:-402.890625,x_max:401.53125,ha:410,o:"m -219 173 b -213 174 -217 174 -215 174 b -202 173 -209 174 -205 173 b -114 86 -200 172 -179 151 b -28 0 -66 37 -28 0 b 40 84 -28 0 2 37 b 117 174 111 173 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b -42 -86 27 0 -4 -38 b -118 -174 -112 -174 -111 -173 b -123 -176 -119 -176 -121 -176 b -133 -174 -126 -176 -130 -174 b -296 -12 -136 -173 -172 -137 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 172 -398 -43 -228 167 b -219 173 -223 172 -220 173 "},v1f:{x_min:-340.28125,x_max:338.921875,ha:346,o:"m -32 520 b -29 521 -31 520 -31 521 b -23 519 -27 521 -24 520 b -20 513 -21 517 -20 516 b -21 506 -20 512 -20 509 b -31 474 -23 502 -27 488 l -53 402 l -66 352 l -68 349 l -57 349 b -32 351 -51 349 -40 351 b 123 370 19 352 74 359 b 137 371 127 370 133 371 b 170 356 152 371 164 366 b 171 355 170 355 170 355 b 216 366 174 355 183 358 b 280 378 268 377 266 377 b 287 378 283 378 284 378 b 332 349 307 378 322 369 b 338 319 336 341 338 330 b 332 301 338 310 336 302 b 242 280 329 299 246 280 b 242 280 242 280 242 280 b 235 288 236 280 235 283 b 235 292 235 290 235 291 b 236 302 236 297 236 299 b 220 337 236 316 230 330 l 216 340 l 210 335 b 159 276 189 322 172 301 b 118 149 152 265 156 274 b 81 34 84 36 85 36 b -8 13 78 33 -4 13 b -8 13 -8 13 -8 13 b -14 20 -12 15 -14 15 b -8 44 -14 24 -12 31 b -2 66 -5 55 -2 65 b -2 66 -2 66 -2 66 l -2 66 b -43 41 -2 66 -21 55 b -114 4 -98 8 -98 8 b -144 0 -123 0 -134 0 b -242 99 -197 0 -242 43 b -242 109 -242 102 -242 105 b -212 219 -240 122 -242 116 b -185 312 -197 270 -185 312 l -185 312 b -189 312 -185 312 -186 312 b -259 312 -200 312 -227 312 b -321 310 -291 312 -310 310 b -334 312 -330 310 -334 312 b -340 319 -338 313 -340 316 b -336 326 -340 322 -338 324 b -291 337 -334 326 -314 331 l -247 347 l -210 348 b -172 348 -190 348 -172 348 b -168 363 -172 348 -171 355 b -145 442 -151 424 -145 441 b -133 452 -144 444 -140 446 l -77 489 b -32 520 -53 506 -32 520 m 57 334 b 53 335 55 335 54 335 b 44 334 50 335 49 335 b -70 316 8 326 -28 320 b -78 309 -78 316 -78 316 b -108 202 -80 305 -88 274 b -141 81 -136 112 -141 93 b -140 74 -141 79 -141 77 b -117 49 -137 59 -127 49 b -107 52 -114 49 -110 51 b 16 127 -106 54 14 126 b 42 217 16 127 42 215 b 49 241 42 222 44 229 b 73 320 53 251 73 317 b 57 334 73 327 65 333 "},v20:{x_min:-571.671875,x_max:570.3125,ha:582,o:"m -559 351 b -551 352 -556 352 -553 352 b -530 338 -543 352 -533 348 b -529 169 -530 337 -529 291 l -529 1 l -507 27 l -441 112 b -382 174 -394 169 -390 174 b -378 174 -381 174 -379 174 b -281 86 -370 174 -375 179 b -196 0 -234 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 279 172 b 289 174 285 174 288 174 b 300 173 294 174 298 173 b 462 11 303 172 340 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 375 -176 371 -176 b 280 -87 367 -173 347 -152 b 194 0 234 -38 194 0 b 126 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 44 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -140 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -288 -176 b -300 -174 -294 -176 -298 -174 b -464 -11 -303 -173 -374 -102 l -476 0 l -506 -37 b -539 -76 -528 -65 -537 -74 b -551 -80 -543 -79 -547 -80 b -570 -68 -558 -80 -566 -76 l -571 -65 l -571 136 b -570 340 -571 331 -571 337 b -559 351 -568 344 -564 348 "
},v21:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -138 229 b -129 230 -136 230 -133 230 b -110 217 -121 230 -114 226 l -108 215 l -108 99 b -104 -29 -108 -23 -108 -16 b -38 -104 -96 -63 -70 -91 b -1 -111 -25 -108 -13 -111 b 103 -27 46 -111 89 -77 b 107 102 107 -13 106 -19 l 107 215 l 108 217 b 127 230 112 226 119 230 b 137 229 130 230 134 230 b 147 217 141 226 145 223 l 148 215 l 148 109 b 148 63 148 91 148 76 b 147 -24 148 -1 148 -13 b -1 -154 134 -101 70 -154 b -38 -148 -13 -154 -25 -151 b -145 -38 -91 -134 -133 -93 b -149 62 -149 -22 -149 -27 b -149 98 -149 73 -149 86 l -149 215 l -148 217 b -138 229 -147 223 -142 226 "},v22:{x_min:0,x_max:432.828125,ha:442,o:"m 209 186 b 213 187 210 187 212 187 b 216 187 215 187 216 187 b 224 174 216 186 220 180 b 420 -1 269 105 338 43 b 432 -12 431 -8 432 -9 b 421 -23 432 -15 432 -16 b 228 -180 345 -70 264 -137 b 219 -188 221 -188 221 -188 l 219 -188 b 208 -177 215 -188 215 -188 b 10 1 163 -106 93 -44 b 0 11 0 6 0 8 b 10 22 0 13 0 15 b 202 179 87 69 167 136 b 209 186 206 183 209 186 "},v23:{x_min:0,x_max:133.390625,ha:136,o:"m 54 66 b 65 68 58 68 61 68 b 122 37 88 68 110 56 b 133 -1 130 26 133 12 b 104 -58 133 -23 123 -44 b 66 -69 92 -65 78 -69 b 10 -38 44 -69 23 -58 b 0 -1 2 -27 0 -13 b 54 66 0 30 20 61 "},v24:{x_min:-627.46875,x_max:626.109375,ha:639,o:"m -69 173 b -53 174 -62 174 -58 174 b -42 172 -49 174 -44 174 b -28 149 -32 166 -28 158 b -42 126 -28 140 -32 131 b -231 73 -44 124 -29 129 l -371 34 l -469 8 b -499 0 -485 2 -499 0 b -469 -9 -499 -1 -485 -4 l -371 -36 l -231 -74 b -40 -129 -21 -131 -44 -124 b -28 -151 -32 -133 -28 -141 b -40 -172 -28 -159 -32 -167 b -54 -176 -44 -174 -49 -176 b -69 -174 -58 -176 -62 -176 l -288 -113 l -552 -41 b -616 -22 -619 -23 -611 -24 b -627 0 -623 -18 -627 -9 b -616 20 -627 8 -623 16 b -615 22 -615 22 -615 22 b -615 22 -615 22 -615 22 b -288 112 -615 23 -598 27 l -69 173 m 44 174 b 51 174 47 174 49 174 b 68 173 55 174 61 174 l 287 112 l 551 40 b 615 20 617 22 609 23 b 626 0 622 16 626 8 b 615 -22 626 -9 622 -18 b 613 -23 613 -23 613 -23 b 613 -23 613 -23 613 -23 b 287 -113 613 -24 597 -29 l 68 -174 b 53 -176 61 -176 57 -176 b 39 -172 47 -176 43 -174 b 27 -151 31 -167 27 -159 b 39 -129 27 -141 31 -133 b 230 -74 43 -124 20 -131 l 370 -36 l 468 -9 b 498 0 484 -4 498 -1 b 468 8 498 0 484 2 l 370 34 l 230 73 b 40 126 28 129 43 124 b 27 149 31 131 27 140 b 44 174 27 161 34 170 "},v25:{x_min:0,x_max:318.5,ha:325,o:"m 20 376 b 167 377 23 377 96 377 b 296 376 231 377 294 377 b 318 347 311 371 318 359 b 296 316 318 333 311 320 b 159 315 294 315 227 315 b 21 316 91 315 24 315 b 0 345 6 320 0 333 b 20 376 0 359 6 371 "},v26:{x_min:-21.78125,x_max:483.1875,ha:493,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 179 164 199 187 192 l 210 176 l 210 396 l 210 617 l 212 621 b 231 632 216 628 223 632 b 250 620 239 632 247 628 b 251 383 251 616 251 616 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 "},v27:{x_min:0,x_max:432.828125,ha:442,o:"m 208 184 b 213 187 209 186 212 187 b 224 176 217 187 221 183 b 245 147 225 172 235 159 b 419 -1 288 90 347 38 b 431 -8 424 -4 431 -8 b 432 -12 432 -9 432 -11 b 430 -18 432 -13 432 -16 b 364 -61 424 -20 383 -47 b 225 -183 307 -102 250 -152 b 223 -187 224 -184 223 -187 b 220 -188 221 -188 220 -188 b 208 -176 216 -188 210 -184 b 187 -148 205 -173 197 -159 b 12 0 144 -90 84 -38 b 0 11 4 5 0 8 b 16 24 0 13 4 18 b 183 158 83 69 141 115 b 208 184 194 169 198 173 m 183 105 b 176 113 181 109 176 113 b 172 109 176 113 175 112 b 92 45 149 90 117 62 l 88 41 l 102 31 b 247 -105 160 -6 210 -55 l 254 -115 l 257 -112 l 269 -102 b 340 -45 287 -87 319 -61 l 344 -43 l 330 -33 b 183 105 272 6 221 54 "},v28:{x_min:-73.5,x_max:72.140625,ha:74,o:"m -72 252 l -73 254 l 0 254 l 72 254 l 70 252 b 0 -1 70 248 0 -1 b -72 252 -1 -1 -72 248 "},v29:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m 175 273 b 182 274 178 273 181 274 b 202 262 190 274 198 269 b 204 158 204 259 204 259 l 204 56 l 250 112 b 303 174 296 172 298 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 208 -6 213 0 210 -2 l 204 -12 l 204 -147 b 204 -210 204 -173 204 -194 b 198 -292 204 -297 204 -287 b 183 -299 194 -297 189 -299 b 164 -287 175 -299 167 -295 b 163 -174 163 -284 163 -284 l 161 -63 l 119 -117 b 65 -176 76 -170 73 -176 b 61 -176 63 -176 62 -176 b -35 -87 51 -174 57 -180 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -363 174 -374 170 -371 174 b -359 174 -362 174 -360 174 b -262 86 -351 174 -356 179 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 147 11 -13 172 35 123 l 157 -1 l 160 1 l 163 4 l 163 130 b 164 260 163 256 163 258 b 175 273 166 266 170 270 "},v2a:{x_min:-21.78125,x_max:366.140625,ha:374,o:"m 276 1378 b 284 1379 279 1379 281 1379 b 306 1360 292 1379 298 1374 b 352 1247 326 1326 343 1286 b 366 1139 362 1213 366 1175 b 347 1009 366 1093 359 1049 l 344 1002 l 347 992 b 352 971 348 986 351 977 b 366 863 362 936 366 899 b 347 732 366 818 359 773 l 344 725 l 347 716 b 352 695 348 710 351 700 b 366 588 362 659 366 623 b 223 262 366 464 314 345 b 189 233 212 252 212 252 b 35 76 126 183 73 129 b -1 16 20 56 2 27 b -19 4 -4 9 -12 4 l -21 4 l -21 137 l -21 270 l -17 270 b 186 344 59 281 134 308 b 319 606 270 399 319 499 b 317 650 319 620 319 635 l 315 659 l 314 655 b 223 537 288 607 258 570 b 189 509 212 528 212 528 b 35 352 126 459 73 405 b -1 292 20 333 2 303 b -19 280 -4 285 -12 280 l -21 280 l -21 413 l -21 546 l -17 546 b 186 620 59 557 134 584 b 319 882 270 675 319 775 b 317 925 319 896 319 911 l 315 935 l 314 931 b 223 813 288 884 258 846 b 189 785 212 805 212 805 b 35 628 126 735 73 681 b -1 569 20 609 2 580 b -19 556 -4 562 -12 556 l -21 556 l -21 689 l -21 823 l -17 823 b 202 907 68 835 152 867 b 319 1157 280 968 319 1061 b 270 1338 319 1218 303 1281 b 262 1358 264 1349 262 1353 b 262 1364 262 1360 262 1363 b 276 1378 265 1371 269 1376 "},v2b:{x_min:0,x_max:386.5625,ha:394,o:"m 0 0 l 0 347 l 193 347 l 386 347 l 386 0 l 386 -348 l 193 -348 l 0 -348 l 0 0 "},v2c:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -413 173 b -408 174 -412 174 -409 174 b -397 173 -404 174 -400 173 b -308 86 -394 172 -374 151 b -223 0 -261 37 -223 0 b -153 84 -223 0 -191 37 b -77 174 -83 173 -84 172 b -72 174 -76 174 -74 174 b -62 173 -68 174 -63 173 b 25 86 -59 172 -39 151 b 112 0 73 37 111 0 b 181 84 112 0 144 37 b 257 174 251 173 251 172 b 262 174 258 174 261 174 b 273 173 266 174 270 173 b 436 9 276 172 347 101 l 447 -1 l 477 36 b 522 79 511 79 513 79 l 522 79 b 552 51 533 79 539 73 b 596 -112 582 6 596 -51 b 567 -262 596 -161 586 -213 b 539 -322 558 -287 544 -316 b 524 -327 534 -326 529 -327 b 504 -315 515 -327 507 -323 b 503 -308 503 -312 503 -309 b 511 -285 503 -302 504 -297 b 555 -113 540 -227 555 -169 b 544 -34 555 -86 551 -59 b 522 19 540 -16 530 8 l 521 22 l 481 -26 l 405 -122 b 353 -176 366 -172 362 -176 b 349 -176 352 -176 351 -176 b 253 -87 341 -176 347 -180 b 167 0 206 -38 167 0 b 99 -86 167 0 136 -38 b 21 -174 27 -174 28 -173 b 17 -176 20 -176 19 -176 b 6 -174 13 -176 9 -174 b -81 -87 4 -173 -14 -152 b -167 0 -129 -38 -167 0 b -236 -86 -167 0 -198 -38 b -313 -174 -307 -174 -306 -173 b -318 -176 -314 -176 -315 -176 b -328 -174 -321 -176 -325 -174 b -491 -12 -330 -173 -367 -137 l -503 0 l -530 -34 b -570 -77 -562 -73 -564 -76 b -577 -79 -571 -79 -574 -79 b -597 -58 -588 -79 -597 -69 b -596 -49 -597 -55 -597 -52 b -417 172 -593 -43 -423 167 b -413 173 -417 172 -415 173 "},v2d:{x_min:0,x_max:438.28125,ha:447,o:"m 212 190 b 219 191 213 191 216 191 b 236 176 225 191 228 190 b 419 18 277 105 341 49 b 436 5 431 13 434 11 b 438 -1 438 4 438 1 b 424 -16 438 -8 432 -13 b 356 -49 409 -20 379 -36 b 234 -180 306 -83 258 -133 b 219 -192 230 -188 224 -192 b 200 -176 213 -192 206 -187 b 9 -15 157 -102 89 -45 b 0 0 2 -12 0 -6 b 16 18 0 9 2 12 b 200 176 93 48 159 104 b 212 190 205 186 208 188 m 239 113 b 236 117 238 116 238 117 b 230 108 235 117 234 115 b 92 -15 196 58 140 8 b 88 -18 91 -16 88 -18 b 92 -20 88 -18 91 -19 b 198 -116 130 -43 166 -74 b 200 -117 200 -117 200 -117 b 201 -117 200 -117 201 -117 b 264 -43 212 -98 242 -62 b 345 15 288 -19 321 4 b 348 18 347 16 348 16 b 344 20 348 18 347 19 b 239 113 307 41 266 79 "},v2e:{x_min:-108.890625,x_max:251.8125,ha:257,o:"m -8 863 b 0 864 -5 864 -2 864 b 12 859 4 864 9 863 b 19 843 16 856 16 853 b 102 631 34 768 65 689 l 107 621 l 107 616 l 107 616 b 89 596 107 605 99 596 b 78 601 85 596 83 598 b 47 614 69 606 55 612 b 19 621 39 617 21 621 b 19 621 19 621 19 621 b 19 619 19 621 19 620 b 20 383 20 616 20 585 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 b -20 619 -21 563 -21 616 b -20 621 -20 620 -20 621 b -20 621 -20 621 -20 621 b -49 614 -23 621 -40 617 b -80 601 -57 612 -70 606 b -91 596 -84 598 -87 596 b -108 616 -100 596 -108 605 l -108 616 l -108 621 l -103 631 b -20 839 -66 689 -38 760 b -8 863 -17 856 -14 859 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v2f:{x_min:-1.359375,x_max:680.5625,ha:694,o:"m 597 1042 b 604 1042 600 1042 602 1042 b 642 1002 627 1042 642 1022 b 619 966 642 988 635 974 b 439 927 574 942 503 927 l 426 927 l 426 921 b 430 838 428 893 430 866 b 345 480 430 696 398 560 b 179 391 307 423 249 391 b 156 392 171 391 164 392 b 138 394 149 394 142 394 b 103 434 115 396 103 416 b 129 471 103 451 111 466 b 141 474 133 473 137 474 b 172 459 153 474 164 469 b 181 455 175 456 176 455 b 187 456 182 455 185 455 b 253 520 212 460 234 483 b 315 836 294 605 315 714 b 311 928 315 867 314 898 b 302 945 310 943 311 942 b 245 953 283 950 262 953 b 130 891 193 953 149 931 b 84 860 119 870 102 860 b 36 905 61 860 39 877 b 36 910 36 907 36 909 b 80 970 36 931 50 949 b 249 1017 125 1000 187 1017 b 322 1009 273 1017 299 1014 l 341 1003 b 436 991 372 995 406 991 b 577 1031 495 991 545 1004 b 597 1042 583 1038 590 1041 m 416 360 b 424 360 419 360 421 360 b 481 309 454 360 479 338 b 503 145 484 280 495 199 b 585 -185 525 16 555 -106 b 630 -245 596 -213 613 -237 l 634 -247 l 638 -245 b 647 -244 641 -245 645 -244 b 680 -278 666 -244 680 -262 b 664 -308 680 -290 675 -301 b 638 -312 658 -310 650 -312 b 613 -309 631 -312 623 -310 b 477 -201 555 -303 502 -260 b 417 -2 460 -159 434 -72 b 416 5 417 1 416 5 b 416 5 416 5 416 5 b 411 -5 415 5 413 0 b 359 -97 397 -33 377 -70 b 353 -106 355 -102 353 -105 b 359 -112 353 -108 355 -109 b 409 -130 375 -123 390 -129 b 426 -134 420 -130 421 -131 b 431 -147 428 -137 431 -141 b 420 -162 431 -152 427 -159 b 382 -169 409 -166 396 -169 b 323 -155 363 -169 341 -165 l 317 -152 l 314 -155 b 62 -303 240 -240 148 -295 b 36 -305 55 -305 44 -305 b 23 -303 29 -305 24 -305 b -1 -273 6 -299 -1 -287 b 31 -240 -1 -256 10 -240 b 36 -240 32 -240 34 -240 b 42 -241 38 -241 39 -241 b 134 -204 63 -241 99 -226 b 367 288 265 -115 357 81 b 375 330 368 313 370 320 b 416 360 383 347 400 358 m 360 -359 b 379 -359 363 -359 371 -359 b 424 -360 396 -359 416 -359 b 646 -502 536 -373 624 -430 b 649 -527 649 -510 649 -519 b 530 -673 649 -578 604 -635 l 521 -677 l 529 -681 b 653 -811 592 -714 637 -762 b 660 -853 658 -827 660 -839 b 645 -911 660 -873 656 -892 b 426 -1021 608 -981 519 -1021 b 283 -989 377 -1021 328 -1011 b 235 -949 249 -972 239 -964 b 234 -936 234 -946 234 -941 b 234 -928 234 -934 234 -931 l 235 -925 l 234 -927 l 225 -934 b 87 -982 186 -966 138 -982 b 80 -982 85 -982 83 -982 b 55 -981 70 -981 58 -981 b 17 -943 32 -981 17 -964 b 54 -904 17 -921 35 -904 b 78 -914 62 -904 72 -909 l 83 -918 l 88 -918 b 190 -831 122 -918 166 -881 b 269 -506 242 -727 269 -612 b 268 -462 269 -492 269 -477 b 266 -449 266 -458 266 -452 b 265 -444 266 -445 266 -444 b 257 -446 264 -444 261 -445 b 132 -545 196 -470 152 -505 b 88 -573 122 -563 104 -573 b 39 -523 63 -573 39 -553 b 63 -476 39 -505 44 -494 b 360 -359 136 -408 235 -369 m 419 -424 b 393 -423 411 -423 406 -423 l 375 -423 l 377 -426 b 379 -439 377 -427 378 -434 b 383 -510 382 -463 383 -487 b 314 -811 383 -609 360 -710 b 266 -893 296 -850 285 -870 b 264 -898 265 -896 264 -898 l 264 -898 b 264 -898 264 -898 264 -898 b 268 -898 264 -898 266 -898 b 273 -898 270 -898 272 -898 b 300 -909 283 -898 291 -900 b 426 -957 340 -941 385 -957 b 476 -949 443 -957 460 -954 b 547 -853 522 -931 547 -893 b 485 -745 547 -816 526 -775 b 397 -707 460 -727 432 -714 b 366 -675 375 -703 366 -692 b 396 -642 366 -657 377 -645 b 530 -557 455 -637 511 -601 b 536 -527 534 -548 536 -537 b 419 -424 536 -480 490 -437 "},v30:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 276 1900 b 284 1901 279 1900 281 1901 b 306 1883 291 1901 298 1896 b 367 1686 347 1825 367 1757 b 343 1558 367 1643 359 1600 l 338 1549 l 343 1537 b 367 1411 359 1497 367 1454 b 343 1282 367 1367 359 1324 l 338 1272 l 343 1261 b 367 1135 359 1221 367 1178 b 343 1007 367 1090 359 1047 l 338 996 l 343 985 b 367 859 359 945 367 902 b 343 731 367 814 359 771 l 338 720 l 343 709 b 367 582 359 667 367 626 b 289 362 367 503 340 426 b 239 312 276 345 259 330 b 29 77 152 237 76 152 b -1 18 14 54 2 30 b -19 4 -4 11 -12 4 l -21 4 l -21 133 l -20 260 l -13 262 b 98 299 17 269 62 284 b 111 305 103 302 110 305 b 167 334 123 310 156 327 b 319 595 264 391 319 491 b 313 659 319 616 318 638 b 310 667 311 664 311 667 b 307 663 310 667 308 666 b 240 588 289 637 269 614 b 16 331 141 505 62 413 b -1 294 8 316 1 302 b -19 280 -4 287 -12 280 l -21 280 l -21 408 l -20 537 l -13 538 b 98 576 17 545 62 560 b 111 581 103 578 110 581 b 167 610 123 587 156 603 b 319 871 264 667 319 767 b 313 935 319 892 318 913 b 310 942 311 941 311 942 b 307 939 310 942 308 941 b 240 864 289 913 269 889 b 16 607 141 781 62 689 b -1 570 8 592 1 578 b -19 556 -4 563 -12 556 l -21 556 l -21 684 l -20 813 l -13 814 b 98 852 17 821 62 836 b 111 857 103 855 110 857 b 167 886 123 863 156 880 b 319 1147 264 943 319 1043 b 313 1211 319 1168 318 1189 b 310 1218 311 1217 311 1218 b 307 1215 310 1218 308 1217 b 240 1140 289 1188 269 1165 b 16 884 141 1057 62 966 b -1 846 8 868 1 855 b -19 832 -4 839 -12 832 l -21 832 l -21 960 l -20 1089 l -13 1090 b 98 1128 17 1097 62 1111 b 111 1134 103 1131 110 1134 b 167 1163 123 1139 156 1156 b 319 1424 264 1220 319 1320 b 313 1486 319 1444 318 1465 b 310 1494 311 1493 311 1494 b 307 1492 310 1494 308 1493 b 240 1417 289 1464 269 1442 b 16 1160 141 1333 62 1242 b -1 1121 8 1145 1 1131 b -19 1109 -4 1115 -12 1109 l -21 1109 l -21 1236 l -20 1365 l -13 1367 b 98 1404 17 1374 62 1388 b 111 1410 103 1407 110 1410 b 250 1508 172 1437 215 1467 b 319 1701 296 1564 319 1633 b 270 1859 319 1757 303 1814 b 262 1882 265 1868 262 1875 b 276 1900 262 1890 266 1896 "},v31:{x_min:0,x_max:386.5625,ha:394,o:"m 0 173 l 0 347 l 193 347 l 386 347 l 386 173 l 386 0 l 193 0 l 0 0 l 0 173 "},v32:{x_min:-390.640625,x_max:389.28125,ha:397,o:"m -378 573 l -374 576 l 0 576 l 372 576 l 377 573 b 387 563 381 571 385 567 l 389 559 l 389 287 l 389 15 l 387 12 b 367 0 383 4 375 0 b 348 12 360 0 352 4 l 347 15 l 347 210 l 347 406 l 0 406 l -348 406 l -348 210 l -348 15 l -349 12 b -368 0 -353 4 -362 0 b -389 12 -377 0 -385 4 l -390 15 l -390 287 l -390 559 l -389 563 b -378 573 -386 567 -382 571 m -274 337 l -270 338 l 0 338 l 269 338 l 273 337 b 284 326 279 334 281 330 l 285 323 l 285 169 l 285 15 l 284 12 b 265 -1 280 4 272 -1 b 245 12 257 -1 249 4 l 245 15 l 243 108 l 243 201 l 0 201 l -245 201 l -245 108 l -245 15 l -246 12 b -266 -1 -250 4 -258 -1 b -285 12 -273 -1 -281 4 l -287 15 l -287 169 l -287 323 l -285 326 b -274 337 -283 330 -280 334 m -13 131 b -1 133 -9 133 -5 133 b 50 105 19 133 39 123 b 61 70 57 95 61 83 b 50 34 61 58 57 45 b -1 6 39 16 19 6 b -46 27 -17 6 -34 13 b -62 69 -58 38 -62 55 b -13 131 -62 98 -44 124 "},v33:{x_min:-423.3125,x_max:421.9375,ha:431,o:"m -10 276 b -2 277 -8 277 -5 277 b 17 265 5 277 13 273 b 19 163 19 260 19 260 l 19 68 l 39 45 b 277 -95 122 -34 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -54 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 200 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 137 b 421 22 421 37 421 29 b 257 -198 421 -86 347 -188 b 242 -198 251 -198 247 -198 b 20 -105 181 -198 95 -163 l 19 -104 l 19 -183 b 19 -216 19 -195 19 -206 b 12 -273 19 -272 17 -267 b -2 -278 8 -277 2 -278 b -21 -266 -10 -278 -19 -274 b -23 -165 -23 -263 -23 -262 l -23 -69 l -44 -47 b -250 86 -117 23 -183 66 b -295 94 -270 93 -284 94 b -315 91 -302 94 -308 94 b -381 5 -356 81 -381 43 b -355 -56 -381 -16 -372 -40 b -299 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -168 -77 -196 -58 -179 -65 b -151 -122 -156 -90 -151 -105 b -179 -174 -151 -141 -160 -162 b -239 -195 -194 -184 -217 -192 b -257 -197 -245 -195 -250 -197 b -423 -5 -349 -197 -423 -113 b -423 0 -423 -4 -423 -1 b -277 194 -420 97 -362 173 b -247 197 -268 197 -258 197 b -24 104 -185 197 -100 162 l -23 102 l -23 181 b -21 265 -23 260 -23 260 b -10 276 -20 269 -14 274 "},v34:{x_min:0,x_max:622.03125,ha:635,o:"m 398 417 b 406 419 401 419 404 419 b 427 398 417 419 427 409 b 427 391 427 395 427 392 b 34 -274 424 385 38 -272 b 20 -280 29 -278 25 -280 b 0 -259 9 -280 0 -270 b 0 -252 0 -256 0 -254 b 393 413 2 -247 389 410 b 398 417 394 415 397 416 m 592 417 b 600 419 594 419 597 419 b 622 398 611 419 622 409 b 620 391 622 395 620 392 b 227 -274 617 385 231 -272 b 213 -280 223 -278 219 -280 b 193 -259 202 -280 193 -270 b 194 -252 193 -256 193 -254 b 586 413 196 -247 582 410 b 592 417 588 415 590 416 "},v35:{x_min:0,x_max:323.9375,ha:331,o:"m 217 535 b 225 537 220 537 221 537 b 245 524 235 537 242 533 l 246 521 l 247 390 l 247 258 l 273 265 b 306 270 288 269 299 270 b 322 259 315 270 319 267 b 323 208 323 256 323 233 b 322 158 323 184 323 159 b 288 140 318 148 315 147 b 247 130 254 131 247 130 b 247 65 247 130 247 104 b 247 20 247 51 247 36 l 247 -88 l 273 -81 b 306 -76 289 -77 299 -76 b 318 -81 311 -76 315 -77 b 323 -123 323 -87 323 -86 l 323 -138 l 323 -154 b 318 -195 323 -191 323 -190 b 269 -210 314 -199 315 -199 b 249 -216 259 -213 250 -216 l 247 -216 l 247 -349 l 246 -483 l 245 -487 b 225 -499 242 -495 234 -499 b 206 -487 219 -499 210 -495 l 205 -483 l 205 -355 l 205 -227 l 204 -227 l 181 -233 l 138 -244 b 117 -249 127 -247 117 -249 b 115 -385 115 -249 115 -256 l 115 -523 l 114 -526 b 95 -538 110 -534 102 -538 b 74 -526 87 -538 78 -534 l 73 -523 l 73 -391 b 72 -260 73 -269 73 -260 b 72 -260 72 -260 72 -260 b 19 -273 61 -263 23 -273 b 0 -260 10 -273 4 -267 b 0 -209 0 -256 0 -256 l 0 -162 l 1 -158 b 61 -134 5 -148 5 -148 l 73 -131 l 73 -22 b 72 86 73 79 73 86 b 72 86 72 86 72 86 b 19 74 61 83 23 74 b 0 86 10 74 4 79 b 0 137 0 90 0 90 l 0 184 l 1 188 b 61 212 5 198 5 198 l 73 215 l 73 348 l 73 481 l 74 485 b 95 498 78 492 87 498 b 103 495 98 498 100 496 b 114 485 107 494 111 489 l 115 481 l 115 353 l 115 226 l 121 226 b 159 235 123 227 141 231 l 198 247 l 205 248 l 205 384 l 205 521 l 206 524 b 217 535 209 528 212 533 m 205 9 b 205 119 205 70 205 119 l 205 119 b 182 113 204 119 194 116 l 138 102 b 117 97 127 99 117 97 b 115 -12 115 97 115 91 l 115 -122 l 121 -120 b 159 -111 123 -119 141 -115 l 198 -101 l 205 -98 l 205 9 "},v36:{x_min:-1.359375,x_max:1064.390625,ha:1086,o:"m 296 692 b 314 694 302 694 307 694 b 386 685 337 694 366 689 b 548 498 480 660 548 580 b 548 481 548 492 548 487 b 455 395 541 426 499 395 b 370 462 420 395 383 417 b 362 496 364 477 362 488 b 377 514 362 509 367 514 b 393 501 386 514 390 510 b 432 474 397 484 413 474 b 470 487 445 474 458 478 b 491 530 484 496 491 510 b 490 544 491 534 491 539 b 333 660 479 606 411 657 l 323 662 l 315 646 b 269 524 285 591 269 556 b 321 431 269 492 287 466 b 349 395 338 413 343 408 b 363 342 359 378 363 362 b 359 312 363 333 362 322 b 285 158 348 266 318 206 b 281 152 283 155 281 152 b 281 152 281 152 281 152 b 287 154 283 152 284 152 b 318 155 298 154 308 155 b 461 98 371 155 419 136 l 464 97 l 483 112 b 503 129 494 120 503 127 b 504 130 503 129 504 129 b 503 138 504 131 503 134 b 500 180 500 152 500 166 b 553 326 500 238 518 288 b 604 366 560 331 592 358 b 649 381 617 376 632 381 b 696 362 665 381 681 374 b 724 302 714 347 724 324 b 695 238 724 278 714 255 b 660 210 691 234 662 212 b 579 148 658 209 582 151 b 579 148 579 148 579 148 b 596 106 579 144 589 119 b 622 77 604 88 609 83 b 657 69 632 72 645 69 b 748 112 688 69 721 84 b 755 123 754 117 755 120 b 755 127 755 124 755 126 b 751 165 752 137 751 151 b 758 219 751 183 754 202 b 894 387 774 290 820 347 b 896 390 896 388 896 388 b 891 398 896 391 895 392 b 622 560 827 477 730 535 b 600 580 605 564 600 569 b 617 596 600 591 607 596 b 628 595 622 596 624 596 b 1057 248 846 552 1020 412 b 1064 191 1061 229 1064 209 b 922 0 1064 94 1005 9 b 902 -1 916 -1 909 -1 b 774 76 847 -1 800 26 b 769 83 770 81 770 83 b 769 81 769 83 769 83 b 627 -1 733 29 677 -1 b 548 27 597 -1 570 8 b 515 88 537 37 525 61 l 513 95 l 510 93 l 453 45 b 390 0 396 0 396 0 b 390 0 390 0 390 0 b 374 15 381 0 377 4 b 268 105 359 69 314 105 b 250 104 262 105 257 105 l 243 102 l 234 90 b 155 1 201 49 159 2 b 147 -1 152 0 149 -1 b 130 15 138 -1 130 6 b 132 20 130 18 132 19 b 136 31 133 22 134 27 b 220 131 149 74 178 109 b 231 137 225 134 230 136 b 302 278 280 202 302 244 b 265 335 302 299 295 309 b 209 442 234 363 213 402 b 209 455 209 446 209 451 b 279 648 209 502 232 564 l 285 659 l 283 659 b 176 627 238 653 210 645 b 57 477 111 594 66 538 b 55 459 55 471 55 464 b 72 409 55 437 61 415 b 93 403 78 405 87 403 b 152 467 123 403 151 431 b 168 488 153 483 157 488 b 185 462 181 488 185 483 l 185 460 b 137 344 183 409 168 369 b 78 322 119 328 98 322 b 13 360 50 322 25 335 b -1 426 4 380 -1 402 b 89 610 -1 488 32 559 b 296 692 147 659 210 685 m 926 348 b 921 353 924 351 922 353 b 914 348 920 353 918 351 b 823 167 857 306 823 237 b 828 124 823 154 826 138 b 890 31 837 79 862 40 b 896 31 892 31 894 31 b 956 104 916 31 940 59 b 970 191 965 129 970 159 b 966 241 970 208 969 224 b 926 348 959 277 945 313 m 627 326 b 619 326 624 326 622 326 b 598 316 611 326 604 323 b 568 215 579 288 568 255 b 568 208 568 213 568 210 b 571 183 570 195 570 184 l 571 183 b 594 201 571 183 582 191 l 634 231 b 660 259 653 247 656 248 b 664 278 662 266 664 272 b 627 326 664 299 649 320 "},v37:{x_min:0,x_max:333.46875,ha:340,o:"m 219 818 b 225 821 220 820 223 821 b 239 816 231 821 235 818 b 245 800 242 811 243 810 b 328 587 259 725 291 646 l 333 578 l 333 573 l 333 571 b 315 553 333 560 325 553 b 306 556 313 553 308 555 b 251 577 288 567 270 574 b 246 578 249 577 247 578 b 245 577 246 578 245 578 b 246 576 245 577 246 577 b 247 416 246 574 246 542 l 247 258 l 273 265 b 306 270 288 269 299 270 b 322 259 315 270 319 267 b 323 208 323 256 323 233 b 322 158 323 184 323 159 b 288 140 318 148 315 147 b 247 130 254 131 247 130 b 247 65 247 130 247 104 b 247 20 247 51 247 36 l 247 -88 l 273 -81 b 306 -76 289 -77 299 -76 b 318 -81 311 -76 315 -77 b 323 -123 323 -87 323 -86 l 323 -138 l 323 -154 b 318 -195 323 -191 323 -190 b 269 -210 314 -199 315 -199 b 249 -216 259 -213 250 -216 l 247 -216 l 247 -349 l 246 -483 l 245 -487 b 225 -499 242 -495 234 -499 b 206 -487 219 -499 210 -495 l 205 -483 l 205 -355 l 205 -227 l 204 -227 l 181 -233 l 138 -244 b 117 -249 127 -247 117 -249 b 115 -385 115 -249 115 -256 l 115 -523 l 114 -526 b 95 -538 110 -534 102 -538 b 74 -526 87 -538 78 -534 l 73 -523 l 73 -391 b 72 -260 73 -269 73 -260 b 72 -260 72 -260 72 -260 b 19 -273 61 -263 23 -273 b 0 -260 10 -273 4 -267 b 0 -209 0 -256 0 -256 l 0 -162 l 1 -158 b 61 -134 5 -148 5 -148 l 73 -131 l 73 -22 b 72 86 73 79 73 86 b 72 86 72 86 72 86 b 19 74 61 83 23 74 b 0 86 10 74 4 79 b 0 137 0 90 0 90 l 0 184 l 1 188 b 61 212 5 198 5 198 l 73 215 l 73 348 l 73 481 l 74 485 b 95 498 78 494 87 498 b 114 485 102 498 110 494 l 115 481 l 115 353 l 115 226 l 121 226 b 159 235 123 227 141 231 l 198 247 l 205 248 l 205 409 b 206 574 205 546 205 571 b 206 577 206 576 206 577 b 205 578 206 578 206 578 b 200 577 205 578 202 577 b 147 556 181 574 163 567 b 136 553 142 555 138 553 b 118 571 126 553 118 560 l 118 573 l 118 578 l 123 587 b 205 796 160 646 187 717 b 219 818 209 813 210 816 m 205 9 b 205 119 205 70 205 119 l 205 119 b 182 113 204 119 194 116 l 138 102 b 117 97 127 99 117 97 b 115 -12 115 97 115 91 l 115 -122 l 121 -120 b 159 -111 123 -119 141 -115 l 198 -101 l 205 -98 l 205 9 "},v38:{x_min:-1.359375,x_max:651.96875,ha:665,o:"m 389 644 b 405 645 394 645 400 645 b 504 566 450 645 492 613 b 507 541 506 557 507 549 b 480 471 507 514 498 489 l 477 467 l 483 470 b 609 591 539 485 586 531 b 613 601 611 595 613 599 b 631 609 619 607 624 609 b 651 588 641 609 651 602 b 200 -946 651 584 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 537 313 478 300 508 b 389 644 300 585 334 635 "},v39:{x_min:-171.5,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 553 20 616 20 614 b 20 491 20 503 20 491 l 20 491 b 153 535 47 501 149 535 b 174 514 167 535 174 524 b 164 496 174 508 171 501 b 92 470 164 495 132 484 l 20 445 l 20 390 b 20 363 20 378 20 370 b 20 333 20 340 20 333 l 20 333 b 153 377 47 344 149 377 b 174 356 167 377 174 367 b 164 338 174 349 171 342 b 92 312 164 338 132 326 l 20 288 l 20 219 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 30 -21 -212 -21 -212 b -21 273 -21 163 -21 273 b -84 252 -21 273 -50 263 b -152 230 -133 234 -145 230 b -157 231 -155 230 -156 231 b -171 252 -166 234 -171 244 b -160 270 -171 259 -167 266 b -27 316 -159 270 -93 294 l -21 319 l -21 374 b -21 431 -21 406 -21 431 b -84 409 -21 431 -50 421 b -152 388 -133 392 -145 388 b -157 390 -155 388 -156 388 b -171 409 -166 392 -171 401 b -160 428 -171 417 -167 424 b -27 474 -159 428 -93 451 l -21 476 l -21 546 b -20 620 -21 614 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v3a:{x_min:-1.359375,x_max:227.3125,ha:232,o:"m 182 210 b 196 215 189 213 193 215 b 204 209 200 215 202 212 b 205 204 205 206 205 205 b 193 191 205 199 201 195 b 104 54 137 159 104 105 b 122 -8 104 31 110 11 l 123 -11 l 130 -11 b 202 -45 156 -11 185 -24 b 227 -112 219 -65 227 -88 b 172 -205 227 -149 208 -186 b 127 -216 157 -212 142 -216 b -1 -52 59 -216 -1 -144 b 0 -37 -1 -48 0 -43 b 182 210 6 58 80 155 "},v3b:{x_min:0,x_max:484.5625,ha:494,o:"m 228 245 b 239 247 234 247 239 247 b 243 247 240 247 242 247 b 303 238 257 247 287 242 b 484 -2 417 208 484 104 b 412 -177 484 -65 461 -127 b 243 -248 363 -226 303 -248 b 6 -63 138 -248 36 -180 b 0 -1 1 -41 0 -20 b 228 245 0 127 98 240 m 255 181 b 240 183 247 183 245 183 b 232 181 238 183 235 183 b 142 152 200 180 168 170 l 138 149 l 190 97 l 242 44 l 294 97 l 345 149 l 340 152 b 255 181 315 169 284 180 m 147 -54 l 197 -1 l 147 51 l 95 104 l 91 99 b 62 -1 72 70 62 34 b 66 -43 62 -15 63 -29 b 91 -101 72 -63 80 -84 l 95 -106 l 147 -54 m 393 99 b 389 104 390 102 389 104 b 337 51 389 104 366 80 l 285 -1 l 337 -54 l 389 -106 l 393 -101 b 421 -1 412 -72 421 -36 b 393 99 421 34 412 69 m 294 -98 b 242 -45 265 -69 242 -45 b 190 -98 242 -45 219 -69 l 138 -151 l 142 -154 b 242 -184 172 -174 206 -184 b 340 -154 276 -184 311 -174 l 345 -151 l 294 -98 "},v3c:{x_min:0,x_max:450.53125,ha:460,o:"m 189 302 b 204 303 193 302 198 303 b 303 224 250 303 292 270 b 306 199 304 216 306 208 b 279 129 306 173 296 147 l 276 126 l 281 127 b 408 249 337 142 385 190 b 412 259 409 254 412 258 b 430 267 417 265 423 267 b 450 247 441 267 450 259 b 200 -605 450 242 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 194 111 136 99 165 b 189 302 99 244 133 292 "},v3d:{x_min:0,x_max:677.828125,ha:692,o:"m 390 1199 b 396 1200 392 1200 394 1200 b 426 1179 404 1200 412 1195 b 528 975 468 1135 507 1059 b 543 863 537 938 543 900 b 401 533 543 743 494 627 l 364 496 l 344 476 l 345 471 l 355 430 l 383 291 l 385 284 l 387 284 b 420 287 398 285 409 287 b 616 192 494 287 567 251 b 677 18 658 140 677 79 b 502 -244 677 -88 615 -195 b 496 -247 499 -245 496 -247 b 514 -334 496 -247 499 -259 l 526 -394 b 537 -467 536 -437 537 -444 b 307 -700 536 -602 428 -700 b 215 -681 276 -700 245 -695 b 114 -595 174 -663 130 -626 b 103 -544 107 -578 103 -562 b 156 -444 103 -505 122 -466 b 219 -424 175 -431 197 -424 b 303 -463 250 -424 283 -438 b 329 -535 321 -485 329 -510 b 234 -644 329 -588 292 -638 l 224 -644 l 225 -645 b 268 -659 235 -650 254 -656 b 307 -663 281 -662 294 -663 b 498 -494 401 -663 484 -592 b 500 -467 499 -484 500 -476 b 491 -406 500 -452 498 -435 l 480 -348 b 461 -259 466 -284 461 -259 b 461 -259 461 -259 461 -259 b 457 -260 460 -259 458 -259 b 374 -270 430 -267 402 -270 b 190 -222 311 -270 246 -254 b 0 115 68 -151 0 -20 b 46 303 0 179 14 242 b 268 581 80 369 182 496 l 281 595 l 280 605 l 254 730 b 236 850 239 799 236 813 b 235 868 235 857 235 863 b 239 927 235 888 236 903 b 340 1153 250 1010 285 1090 b 390 1199 356 1171 383 1197 m 446 1039 b 434 1041 442 1041 438 1041 b 306 921 389 1041 332 989 b 284 810 291 884 284 849 b 296 705 284 780 288 745 l 308 649 b 313 627 311 637 313 627 l 313 627 b 344 657 314 627 332 645 b 487 957 434 757 487 870 b 483 995 487 970 485 982 b 446 1039 477 1021 468 1034 m 315 437 b 314 442 314 440 314 442 b 314 442 314 442 314 442 b 230 345 311 442 255 378 b 104 101 142 234 115 183 b 102 55 103 86 102 70 b 374 -242 102 -108 225 -242 b 420 -238 389 -242 404 -241 b 454 -229 431 -237 453 -230 b 454 -229 454 -229 454 -229 b 451 -213 454 -227 453 -220 l 441 -162 l 426 -93 l 378 136 b 372 149 375 145 375 149 b 364 147 371 149 368 148 b 270 12 306 123 270 70 b 274 -20 270 1 272 -9 b 333 -101 281 -52 302 -80 b 343 -117 340 -105 343 -112 b 330 -133 343 -124 338 -130 b 328 -133 329 -133 328 -133 b 238 -70 308 -133 262 -101 b 193 61 206 -30 193 15 b 340 272 193 151 247 240 b 348 276 345 274 348 276 b 347 284 348 276 348 280 l 315 437 m 443 155 b 421 156 436 156 428 156 b 412 155 416 156 412 156 b 412 155 412 155 412 155 b 420 117 412 154 416 137 l 435 44 l 449 -19 l 460 -72 l 475 -147 b 488 -212 484 -188 488 -208 b 490 -213 488 -212 490 -213 b 494 -210 490 -213 491 -212 b 571 -134 525 -194 553 -165 b 601 -33 592 -102 601 -66 b 443 155 601 56 539 140 "
},v3e:{x_min:0,x_max:406.96875,ha:415,o:"m 21 183 b 28 183 24 183 25 183 b 42 181 34 183 39 183 b 127 108 47 179 47 179 b 202 41 168 72 202 41 b 279 108 204 41 238 72 b 357 177 321 145 356 176 b 375 183 363 181 370 183 b 406 151 392 183 406 169 b 404 137 406 147 405 141 b 322 62 401 131 398 129 b 251 0 284 27 251 0 b 322 -63 251 -1 284 -29 b 404 -138 398 -130 401 -133 b 406 -152 405 -142 406 -148 b 375 -184 406 -170 392 -184 b 357 -179 370 -184 363 -183 b 279 -109 356 -177 321 -147 b 202 -43 238 -73 204 -43 b 127 -109 202 -43 168 -73 b 49 -179 85 -147 50 -177 b 31 -184 43 -183 36 -184 b 0 -152 13 -184 0 -170 b 2 -138 0 -148 0 -142 b 83 -63 5 -133 8 -130 b 155 0 122 -29 155 -1 b 83 62 155 0 122 27 b 8 129 43 97 10 127 b 0 151 2 136 0 144 b 21 183 0 165 8 177 "},v3f:{x_min:-24.5,x_max:317.140625,ha:324,o:"m -24 -147 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 58 -123 6 -43 31 -86 b 196 -278 93 -173 134 -219 b 317 -570 274 -356 317 -460 b 294 -713 317 -617 308 -666 l 289 -724 l 294 -735 b 317 -873 308 -780 317 -827 b 235 -1132 317 -963 288 -1054 b 209 -1165 228 -1140 224 -1146 b 189 -1177 204 -1172 196 -1177 b 171 -1164 182 -1177 175 -1172 b 168 -1154 170 -1161 168 -1159 b 181 -1132 168 -1149 172 -1142 b 269 -891 238 -1064 269 -975 b 269 -881 269 -886 269 -884 b 262 -814 269 -857 265 -827 b 258 -800 261 -811 259 -806 b 142 -628 240 -731 198 -667 b -8 -589 112 -606 47 -589 b -20 -589 -13 -589 -19 -589 l -24 -589 l -24 -449 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 58 -424 6 -345 31 -388 b 194 -580 93 -476 136 -523 b 259 -660 221 -606 245 -635 b 261 -663 259 -662 261 -663 b 264 -656 262 -663 262 -660 b 269 -587 268 -632 269 -610 b 264 -521 269 -566 268 -544 b 262 -512 264 -517 262 -513 b 258 -498 261 -509 259 -503 b 142 -326 240 -428 198 -365 b -8 -287 112 -303 47 -288 b -20 -287 -13 -287 -19 -287 l -24 -287 l -24 -147 "},v40:{x_min:-1.359375,x_max:436.921875,ha:446,o:"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 "},v41:{x_min:-1.359375,x_max:556.6875,ha:568,o:"m 294 322 b 318 323 299 322 308 323 b 360 320 334 323 352 322 b 526 217 430 310 490 273 b 543 166 537 202 543 184 b 447 70 543 117 503 70 b 445 70 447 70 446 70 b 359 159 394 72 359 113 b 368 201 359 173 362 187 b 442 245 382 229 412 245 b 455 244 446 245 451 245 b 460 244 458 244 460 244 b 460 244 460 244 460 244 b 454 248 460 244 458 245 b 325 291 417 276 372 291 b 285 287 313 291 299 290 b 144 -2 183 269 144 190 b 281 -290 144 -208 179 -280 b 304 -291 289 -291 298 -291 b 524 -105 412 -291 506 -212 b 541 -84 526 -88 530 -84 b 556 -101 551 -84 556 -90 b 549 -138 556 -111 553 -122 b 334 -322 521 -237 435 -310 b 302 -324 323 -323 313 -324 b 13 -101 172 -324 54 -234 b -1 -1 4 -68 -1 -34 b 294 322 -1 161 121 303 "},v42:{x_min:-348.4375,x_max:24.5,ha:25,o:"m -330 155 b -322 156 -329 156 -326 156 b -315 156 -319 156 -317 156 b -298 147 -311 155 -308 154 b -19 30 -224 98 -122 55 l 2 26 b 24 -1 17 22 24 13 b 2 -27 24 -15 17 -23 l -19 -31 b -298 -148 -122 -56 -224 -99 b -322 -158 -313 -158 -315 -158 b -348 -131 -338 -158 -348 -145 b -344 -117 -348 -127 -347 -122 b -328 -104 -341 -112 -338 -111 b -127 -8 -269 -65 -202 -33 b -106 0 -115 -4 -106 -1 b -127 6 -106 0 -115 2 b -328 102 -202 31 -269 63 b -344 116 -338 109 -341 111 b -348 130 -347 120 -348 124 b -330 155 -348 141 -341 152 "},v43:{x_min:-442.359375,x_max:441,ha:450,o:"m -31 487 b -1 488 -21 488 -10 488 b 434 104 216 488 397 330 b 441 27 438 79 441 47 b 439 12 441 20 439 15 b 419 0 435 4 427 0 b 404 5 413 0 408 1 b 398 30 400 11 398 13 b 0 351 390 213 213 351 b -59 348 -20 351 -39 349 b -400 30 -251 324 -393 191 b -405 5 -400 13 -401 11 b -420 0 -409 1 -415 0 b -441 12 -428 0 -436 4 b -442 27 -441 15 -442 20 b -435 104 -442 47 -439 79 b -31 487 -401 316 -235 474 m -13 131 b -1 133 -9 133 -5 133 b 51 105 19 133 39 123 b 61 70 58 95 61 83 b 51 34 61 58 58 45 b -1 6 39 16 19 6 b -46 27 -17 6 -34 13 b -62 69 -57 38 -62 54 b -13 131 -62 98 -44 124 "},v44:{x_min:-21.78125,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v45:{x_min:-402.890625,x_max:401.53125,ha:410,o:"m -10 273 b -4 274 -9 273 -6 274 b 16 262 4 274 12 269 b 17 158 17 259 17 259 l 17 56 l 62 112 b 117 174 110 172 110 172 b 122 174 118 174 119 174 b 132 173 125 174 129 173 b 295 11 134 172 171 134 l 307 -1 l 336 34 b 374 76 366 72 368 74 b 381 77 375 77 378 77 b 401 56 392 77 401 68 b 400 48 401 54 401 51 b 223 -172 397 41 230 -166 b 210 -176 220 -174 215 -176 b 201 -174 206 -176 204 -176 b 112 -87 198 -173 178 -152 b 27 0 65 -38 27 0 b 21 -6 27 0 24 -2 l 17 -12 l 17 -147 b 17 -210 17 -173 17 -194 b 10 -292 17 -297 16 -287 b -2 -299 6 -297 2 -299 b -21 -287 -10 -299 -19 -295 b -24 -174 -23 -284 -23 -284 l -24 -63 l -66 -117 b -121 -176 -110 -170 -114 -176 b -125 -176 -122 -176 -123 -176 b -296 -12 -134 -174 -125 -184 l -308 0 l -337 -34 b -375 -77 -367 -73 -370 -76 b -382 -79 -377 -79 -379 -79 b -402 -58 -393 -79 -402 -69 b -401 -49 -402 -55 -402 -52 b -224 170 -398 -43 -231 165 b -212 174 -221 173 -216 174 b -202 173 -208 174 -205 174 b -39 11 -200 172 -151 122 l -28 -1 l -25 1 l -24 4 l -24 130 b -23 260 -24 256 -24 258 b -10 273 -20 266 -16 270 "},v46:{x_min:0,x_max:627.46875,ha:640,o:"m 306 190 b 314 191 308 191 311 191 b 326 184 318 191 322 190 l 336 173 b 510 52 377 127 442 80 b 515 49 513 51 515 49 b 611 16 537 40 579 24 b 627 0 624 13 627 9 b 607 -18 627 -11 624 -13 b 330 -181 490 -49 389 -109 b 314 -192 323 -190 319 -192 b 306 -191 311 -192 308 -192 b 294 -177 302 -188 302 -188 b 257 -140 287 -170 265 -148 b 19 -18 193 -84 114 -44 b 0 0 2 -13 0 -11 b 16 16 0 9 2 13 b 110 49 47 24 89 40 b 117 52 111 49 114 51 b 145 65 126 56 130 58 b 281 163 200 93 245 124 b 300 186 288 170 291 174 b 306 190 300 187 303 188 m 317 137 b 313 142 315 141 314 142 b 308 137 313 142 311 141 b 161 4 276 84 220 33 b 155 0 159 1 155 0 b 163 -4 155 0 159 -2 b 308 -138 220 -34 276 -84 b 313 -142 311 -141 313 -142 b 317 -138 314 -142 315 -141 b 464 -4 351 -84 406 -34 b 470 0 468 -2 470 0 b 464 4 470 0 468 1 b 317 137 406 33 351 84 "},v47:{x_min:-24.5,x_max:315.78125,ha:322,o:"m -24 -145 l -24 -5 l -20 -5 b 1 -26 -10 -5 -6 -9 b 175 -241 31 -86 96 -166 b 314 -548 259 -323 304 -420 b 315 -589 315 -555 315 -571 b 314 -630 315 -606 315 -623 b 298 -730 311 -664 306 -699 l 295 -742 l 296 -748 b 314 -850 304 -778 311 -813 b 315 -892 315 -857 315 -874 b 314 -932 315 -909 315 -925 b 298 -1032 311 -967 306 -1002 l 295 -1045 l 296 -1050 b 314 -1153 304 -1081 311 -1115 b 315 -1193 315 -1160 315 -1177 b 314 -1235 315 -1211 315 -1228 b 217 -1526 306 -1338 270 -1444 b 201 -1533 213 -1532 208 -1533 b 182 -1522 193 -1533 185 -1529 b 179 -1514 181 -1518 179 -1517 b 189 -1489 179 -1508 182 -1501 b 266 -1217 240 -1403 266 -1308 b 262 -1156 266 -1196 265 -1177 b 110 -907 247 -1043 190 -950 b 0 -889 87 -895 50 -889 l -1 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 1 -631 -10 -610 -6 -614 b 175 -846 31 -691 96 -771 b 259 -956 213 -884 236 -914 b 265 -966 262 -961 264 -966 b 265 -966 265 -966 265 -966 b 265 -953 265 -964 265 -959 b 266 -920 266 -943 266 -932 b 262 -853 266 -898 265 -873 b 110 -605 247 -741 190 -648 b 0 -587 87 -592 50 -587 l -1 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 1 -328 -10 -308 -6 -312 b 175 -544 31 -388 96 -469 b 259 -655 213 -581 236 -612 b 265 -663 262 -659 264 -663 b 265 -663 265 -663 265 -663 b 265 -650 265 -663 265 -657 b 266 -617 266 -641 266 -630 b 262 -551 266 -595 265 -570 b 110 -303 247 -438 190 -345 b 0 -284 87 -290 50 -284 l -1 -284 l -24 -284 l -24 -145 "},v48:{x_min:0,x_max:720.03125,ha:735,o:"m 251 280 b 269 280 258 280 264 280 b 487 215 348 280 432 255 b 594 -2 558 159 594 87 b 590 -55 594 -19 593 -37 b 44 -598 553 -309 330 -533 b 10 -605 25 -603 16 -605 b 1 -599 5 -605 2 -603 b 0 -594 0 -598 0 -595 b 8 -580 0 -587 2 -580 b 43 -566 9 -580 32 -571 b 453 -54 279 -467 434 -274 b 454 -9 454 -48 454 -29 b 453 34 454 9 454 29 b 351 230 443 129 411 192 b 259 255 323 247 292 255 b 70 133 183 255 103 208 b 68 124 68 127 68 124 b 68 123 68 123 68 123 b 70 126 68 123 69 124 b 126 141 88 137 107 141 b 202 109 153 141 182 131 b 234 33 224 87 234 59 b 126 -77 234 -23 191 -77 b 5 61 53 -77 5 -13 b 27 147 5 88 12 119 b 251 280 68 226 151 274 m 672 172 b 677 173 673 173 676 173 b 720 130 700 173 720 152 b 714 111 720 124 717 117 b 677 88 707 95 692 88 b 642 108 664 88 650 95 b 637 130 638 115 637 123 b 672 172 637 151 650 169 m 672 -90 b 677 -90 673 -90 676 -90 b 720 -131 700 -90 720 -109 b 714 -151 720 -138 717 -144 b 677 -174 707 -166 692 -174 b 642 -154 664 -174 650 -167 b 637 -133 638 -147 637 -140 b 672 -90 637 -112 650 -93 "},v49:{x_min:0,x_max:630.203125,ha:643,o:"m 308 204 b 314 205 310 205 313 205 b 326 201 319 205 323 204 b 355 154 328 199 338 180 b 401 83 362 142 392 95 l 409 72 b 431 41 412 66 424 49 b 619 -174 498 -51 570 -134 b 630 -192 626 -180 630 -186 b 626 -202 630 -195 628 -199 b 616 -206 623 -205 620 -206 b 552 -188 608 -206 592 -202 b 310 -155 488 -169 392 -155 b 268 -156 295 -155 281 -155 b 77 -188 197 -161 126 -173 b 13 -206 35 -202 20 -206 b 9 -206 12 -206 10 -206 b 0 -191 2 -202 0 -197 b 8 -176 0 -186 2 -180 b 204 49 58 -136 138 -43 l 220 72 l 227 83 b 295 188 245 108 281 166 b 308 204 299 197 304 202 m 315 147 b 314 147 315 147 314 147 b 314 147 314 147 314 147 b 306 129 314 145 310 138 l 296 105 b 281 72 292 97 284 77 l 274 56 b 181 -123 247 -4 212 -72 l 174 -134 l 176 -133 b 314 -123 215 -127 272 -123 b 451 -133 356 -123 413 -127 l 454 -134 l 449 -123 b 353 56 417 -72 381 -4 l 347 72 b 332 105 344 77 336 97 l 322 129 b 315 147 318 138 315 145 "},v4a:{x_min:70.78125,x_max:378.390625,ha:315,o:"m 246 373 b 254 373 249 373 251 373 b 372 324 303 373 360 351 b 378 302 377 317 378 309 b 338 251 378 278 362 255 b 328 249 334 249 332 249 b 283 294 303 249 283 270 b 288 315 283 301 284 308 b 289 319 289 317 289 319 b 289 319 289 319 289 319 b 283 320 289 320 287 320 b 270 322 279 322 274 322 b 206 288 242 322 215 308 b 206 283 206 287 206 285 b 257 223 206 267 230 238 b 284 206 272 213 277 210 b 351 90 328 173 351 130 b 340 47 351 74 348 59 b 205 -30 314 -2 264 -30 b 182 -29 198 -30 190 -30 b 84 15 147 -24 103 -5 b 70 48 74 24 70 36 b 108 99 70 70 85 94 b 121 102 112 101 117 102 b 167 56 147 102 167 80 b 159 31 167 48 164 40 l 156 26 l 157 26 b 190 20 167 22 178 20 b 220 26 201 20 212 22 b 258 65 243 34 258 51 b 257 70 258 66 258 69 b 204 126 249 94 234 109 b 114 258 148 158 114 209 b 125 302 114 273 118 288 b 246 373 147 342 193 370 "},v4b:{x_min:0,x_max:503.609375,ha:514,o:"m 274 430 b 277 430 276 430 277 430 b 310 394 296 430 310 415 b 308 383 310 391 308 387 b 306 367 307 381 307 374 b 236 120 298 305 272 210 b 40 -273 189 -5 125 -134 b 20 -287 35 -283 27 -287 b 5 -281 14 -287 9 -285 b 0 -267 1 -277 0 -273 b 9 -242 0 -262 2 -255 b 246 395 137 -12 232 242 b 274 430 249 416 257 427 m 468 430 b 472 430 469 430 470 430 b 503 394 490 430 503 415 b 502 383 503 391 503 387 b 499 367 502 381 500 374 b 431 120 491 305 465 210 b 234 -273 382 -5 318 -134 b 213 -287 228 -283 220 -287 b 198 -281 208 -287 202 -285 b 193 -267 194 -277 193 -273 b 202 -242 193 -262 196 -255 b 439 395 330 -12 426 242 b 468 430 442 416 451 427 "},v4c:{x_min:-348.4375,x_max:24.5,ha:25,o:"m -330 155 b -322 156 -329 156 -326 156 b -315 156 -319 156 -317 156 b -298 147 -311 155 -308 154 b -6 27 -221 95 -117 52 b 10 23 1 26 8 23 b 24 -1 20 18 24 8 b 12 -23 24 -9 20 -19 b -8 -29 9 -26 9 -26 b -298 -148 -112 -52 -223 -97 b -322 -158 -313 -158 -315 -158 b -348 -133 -338 -158 -348 -147 b -343 -115 -348 -127 -347 -120 b -313 -1 -323 -79 -313 -40 b -337 101 -313 34 -321 69 b -343 113 -338 105 -341 111 b -348 131 -347 119 -348 126 b -330 155 -348 142 -343 152 "},v4d:{x_min:-311.6875,x_max:310.328125,ha:317,o:"m -9 388 b -2 390 -8 390 -5 390 b 5 388 1 390 4 390 b 19 378 10 387 16 383 b 23 333 23 371 23 371 b 24 298 23 299 24 298 b 81 276 34 298 65 285 b 213 91 145 240 190 177 b 224 24 217 76 224 36 b 257 24 224 24 235 24 b 299 19 292 24 292 24 b 310 -1 306 15 310 6 b 299 -23 310 -11 306 -19 b 257 -27 292 -27 292 -27 b 224 -29 235 -27 224 -29 b 213 -95 224 -40 217 -80 b 81 -280 190 -181 145 -244 b 24 -301 65 -290 34 -301 b 23 -335 24 -301 23 -303 l 23 -340 b 17 -381 23 -374 23 -374 b -1 -391 13 -388 5 -391 b -21 -381 -9 -391 -17 -388 b -27 -340 -27 -374 -27 -374 l -27 -335 b -28 -301 -27 -303 -27 -301 b -85 -280 -38 -301 -69 -290 b -217 -95 -149 -244 -194 -181 b -228 -29 -221 -80 -228 -40 b -259 -27 -228 -29 -238 -27 b -300 -23 -294 -27 -294 -27 b -311 -2 -307 -19 -311 -11 b -294 23 -311 8 -304 19 b -259 24 -291 23 -284 24 b -228 24 -239 24 -228 24 b -217 91 -228 36 -221 76 b -85 276 -194 177 -149 240 b -28 298 -69 285 -38 298 b -27 333 -27 298 -27 299 b -27 371 -27 362 -27 369 b -9 388 -24 378 -17 385 m -27 136 b -28 247 -27 197 -28 247 b -61 216 -31 247 -53 226 b -123 33 -95 172 -121 98 l -125 24 l -76 24 l -27 24 l -27 136 m 29 242 b 24 247 27 245 24 247 b 23 136 24 247 23 197 l 23 24 l 72 24 l 121 24 l 119 33 b 29 242 115 116 77 206 m -27 -140 l -27 -27 l -76 -27 l -125 -27 l -123 -36 b -61 -220 -121 -102 -95 -176 b -28 -251 -53 -230 -31 -251 b -27 -140 -28 -251 -27 -201 m 119 -36 l 121 -27 l 72 -27 l 23 -27 l 23 -140 b 24 -251 23 -201 24 -251 b 57 -220 27 -251 49 -230 b 119 -36 91 -176 117 -102 "},v4e:{x_min:0,x_max:239.5625,ha:244,o:"m 10 460 b 20 462 13 462 14 462 b 39 449 28 462 35 458 l 40 446 l 40 326 b 40 205 40 259 40 205 b 127 227 40 205 80 215 b 220 249 196 244 213 249 b 227 247 224 249 225 248 b 238 237 231 245 235 241 l 239 233 l 239 -106 l 239 -448 l 238 -451 b 219 -463 234 -459 225 -463 b 198 -451 210 -463 202 -459 l 197 -448 l 197 -324 b 197 -201 197 -248 197 -201 b 110 -223 196 -201 157 -210 b 17 -245 42 -240 24 -245 b 10 -242 13 -245 13 -244 b 0 -233 6 -241 2 -237 l 0 -230 l 0 108 l 0 446 l 0 449 b 10 460 2 453 6 458 m 197 22 b 197 70 197 41 197 58 b 196 116 197 113 197 116 l 196 116 b 118 97 196 116 160 106 l 40 77 l 40 -18 b 40 -112 40 -69 40 -112 l 119 -93 l 197 -73 l 197 22 "},v4f:{x_min:0,x_max:193.28125,ha:197,o:"m 85 514 b 95 517 88 517 89 517 b 114 505 103 517 110 513 l 115 502 l 115 376 b 115 249 115 306 115 249 b 141 258 117 249 127 252 l 167 266 l 172 266 b 190 254 181 265 187 262 l 193 251 l 193 202 l 193 188 b 187 147 193 149 191 152 b 147 130 183 142 182 141 l 115 119 l 115 9 b 115 -99 115 -51 115 -99 b 141 -91 115 -99 127 -95 b 171 -81 166 -81 167 -81 l 171 -81 b 191 -94 181 -81 189 -87 b 193 -142 191 -97 193 -120 b 191 -195 193 -167 191 -194 b 125 -227 187 -205 187 -204 l 115 -230 l 115 -366 l 115 -503 l 114 -506 b 95 -519 110 -514 102 -519 b 74 -506 87 -519 78 -514 l 73 -503 l 73 -374 b 73 -245 73 -260 73 -245 b 73 -245 73 -245 73 -245 b 55 -252 72 -245 63 -249 l 32 -260 b 19 -263 27 -262 23 -263 b 4 -256 13 -263 8 -260 b 0 -215 0 -251 0 -254 b 0 -199 0 -210 0 -206 l 0 -152 l 1 -149 b 8 -140 2 -145 5 -141 b 42 -127 9 -140 24 -133 l 73 -116 l 73 -5 b 73 23 73 4 73 15 b 73 105 73 70 73 105 b 49 97 73 105 61 101 b 17 88 32 91 23 88 b 4 95 10 88 8 91 b 0 137 0 101 0 98 b 0 151 0 141 0 145 l 0 199 l 1 202 b 43 224 5 212 5 212 l 73 234 l 73 367 l 73 502 l 74 505 b 85 514 77 509 81 513 "},v50:{x_min:-111.609375,x_max:110.25,ha:113,o:"m -8 112 b -1 112 -5 112 -2 112 b 110 -1 63 112 110 58 b 87 -69 110 -24 103 -48 b -1 -113 65 -98 32 -113 b -88 -69 -34 -113 -66 -98 b -111 -1 -104 -48 -111 -24 b -8 112 -111 55 -70 108 m 17 94 b 0 95 12 95 6 95 b -53 79 -17 95 -38 90 b -95 -1 -80 61 -95 30 b -72 -63 -95 -23 -88 -45 b -1 -97 -53 -87 -27 -97 b 89 -31 38 -97 74 -73 b 93 0 92 -20 93 -11 b 17 94 93 44 63 83 "},v51:{x_min:-1.359375,x_max:455.96875,ha:465,o:"m 352 541 b 357 542 353 542 355 542 b 377 530 364 542 372 537 l 378 526 l 378 394 l 379 262 l 404 266 b 436 270 420 269 430 270 b 450 265 443 270 446 269 b 455 220 455 259 455 260 l 455 208 l 455 161 l 454 156 b 411 140 449 147 447 147 b 378 133 393 137 379 134 b 378 68 378 133 378 106 b 378 22 378 54 378 38 l 379 -87 l 404 -83 b 436 -79 420 -80 430 -79 b 450 -84 443 -79 446 -80 b 455 -129 455 -90 455 -88 l 455 -141 l 455 -188 l 454 -192 b 413 -209 449 -202 447 -202 b 382 -215 398 -212 383 -215 l 378 -215 l 378 -345 l 378 -380 b 375 -485 378 -484 378 -480 b 357 -494 371 -491 364 -494 b 340 -485 351 -494 344 -491 b 336 -383 337 -480 336 -484 l 336 -349 l 336 -223 l 334 -223 b 291 -231 334 -223 314 -227 l 247 -240 l 247 -371 l 246 -503 l 245 -506 b 225 -519 242 -514 234 -519 b 206 -506 219 -519 210 -514 l 205 -503 l 205 -376 l 205 -248 l 160 -256 l 115 -265 l 115 -396 l 115 -527 l 114 -531 b 95 -544 110 -539 102 -544 b 76 -531 87 -544 78 -539 l 73 -527 l 73 -399 b 73 -273 73 -330 73 -273 b 49 -277 73 -273 61 -274 b 17 -281 32 -280 24 -281 b 4 -276 10 -281 8 -280 b -1 -234 0 -269 -1 -272 b 0 -219 -1 -229 0 -224 l 0 -170 l 1 -167 b 10 -158 2 -163 6 -159 b 49 -149 13 -156 16 -155 l 73 -145 l 73 -34 b 73 76 73 26 73 76 b 49 72 73 76 61 74 b 17 68 32 69 24 68 b 4 73 10 68 8 69 b -1 115 0 80 -1 77 b 0 130 -1 120 0 124 l 0 179 l 1 181 b 10 191 2 186 6 190 b 49 199 13 192 16 194 l 73 204 l 73 338 b 73 374 73 352 73 365 b 77 483 73 484 73 477 b 95 492 81 489 88 492 b 111 483 100 492 107 489 b 115 378 115 477 115 483 l 115 342 b 117 212 115 223 115 212 b 204 229 117 212 200 227 l 205 229 l 205 365 l 205 502 l 206 505 b 225 517 210 513 219 517 b 245 505 234 517 242 513 l 246 502 l 247 369 l 247 237 l 249 237 b 336 254 253 238 336 254 b 337 390 336 254 337 302 l 337 526 l 338 530 b 352 541 341 535 347 539 m 336 15 b 336 126 336 102 336 126 l 336 126 b 291 117 336 126 315 122 l 247 109 l 247 -1 l 247 -112 l 249 -112 b 336 -95 253 -111 336 -95 b 336 15 336 -95 336 -56 m 205 -120 b 205 -55 205 -120 205 -93 b 205 -9 205 -41 205 -24 l 205 101 l 160 93 l 115 84 l 115 -26 b 115 -83 115 -49 115 -69 b 117 -137 115 -133 115 -137 b 205 -120 118 -137 204 -120 "},v52:{x_min:-10.890625,x_max:298.078125,ha:294,o:"m 138 473 b 142 474 140 473 141 474 b 164 459 148 474 153 470 b 191 402 183 442 191 423 b 181 353 191 388 187 371 b 178 349 179 352 178 349 b 179 348 178 348 179 348 b 185 349 181 348 182 348 b 255 376 210 355 234 363 b 272 381 264 381 266 381 b 298 355 287 381 298 370 b 288 330 298 348 298 345 b 171 34 238 254 194 141 b 166 13 168 16 168 16 b 144 1 161 5 152 1 b 121 15 134 1 125 5 b 115 33 119 18 117 24 b 0 330 91 145 49 252 b -10 355 -9 345 -10 348 b 13 381 -10 371 0 381 b 31 376 19 381 25 380 b 132 345 61 358 103 345 l 136 345 l 137 355 b 145 378 138 359 142 370 b 152 415 149 394 152 405 b 137 452 152 427 148 438 b 133 464 134 458 133 460 b 138 473 133 467 134 470 "},v53:{x_min:0,x_max:902.421875,ha:921,o:"m 17 240 b 24 241 19 241 21 241 b 32 240 28 241 31 241 b 46 229 38 238 43 234 b 50 88 50 223 50 237 b 50 -1 50 63 50 34 b 50 -90 50 -36 50 -65 b 46 -231 50 -238 50 -224 b 25 -242 42 -238 34 -242 b 0 -224 14 -242 4 -235 b 0 2 0 -222 0 -108 b 0 223 0 112 0 220 b 17 240 2 230 9 237 m 110 240 b 118 241 111 241 114 241 b 126 240 121 241 123 241 b 142 223 133 237 140 230 b 144 123 144 220 144 205 b 144 29 144 45 144 29 b 144 29 144 29 144 29 b 393 183 166 106 264 167 b 450 186 412 184 431 186 b 756 29 600 186 732 120 b 756 29 756 29 756 29 b 758 123 758 29 758 45 b 760 227 758 226 758 223 b 784 241 766 237 774 241 b 804 229 792 241 800 237 b 809 88 808 223 809 237 l 809 -1 l 809 -90 b 804 -231 809 -238 808 -224 b 784 -242 800 -238 792 -242 b 762 -231 775 -242 766 -238 b 758 -124 756 -224 758 -231 b 756 -30 758 -47 758 -30 b 756 -30 756 -30 756 -30 b 509 -184 736 -108 637 -169 b 450 -187 488 -187 469 -187 b 144 -30 300 -187 168 -122 b 144 -30 144 -30 144 -30 b 144 -124 144 -30 144 -47 b 140 -231 144 -231 144 -224 b 118 -242 134 -238 126 -242 b 92 -224 107 -242 96 -235 b 92 2 92 -222 92 -108 b 92 223 92 112 92 220 b 110 240 95 230 102 237 m 432 161 b 413 162 426 162 420 162 b 313 41 351 162 313 109 b 347 -73 313 5 323 -34 b 487 -163 385 -133 439 -163 b 578 -97 526 -163 562 -142 b 588 -43 585 -80 588 -62 b 432 161 588 47 518 147 m 868 240 b 876 241 869 241 872 241 b 884 240 879 241 882 241 b 898 229 890 238 894 234 b 902 88 902 223 902 237 l 902 -1 l 902 -90 b 898 -231 902 -238 902 -224 b 876 -242 892 -238 884 -242 b 852 -224 865 -242 854 -235 b 850 2 850 -222 850 -108 b 852 223 850 112 850 220 b 868 240 853 230 860 237 "},v54:{x_min:-24.5,x_max:317.140625,ha:324,o:"m -24 -161 l -24 -5 l -20 -5 b 0 -24 -9 -5 -2 -12 b 171 -315 21 -124 84 -233 b 317 -660 268 -406 317 -531 b 187 -1014 317 -782 274 -909 b 161 -1034 172 -1034 171 -1034 b 141 -1013 149 -1034 141 -1025 b 152 -991 141 -1004 142 -1002 b 266 -682 228 -899 266 -788 b 174 -430 266 -588 236 -498 b -23 -317 136 -388 66 -348 b -24 -161 -23 -316 -24 -285 "},v55:{x_min:0,x_max:551.25,ha:563,o:"m 289 644 b 304 645 294 645 299 645 b 404 566 349 645 392 613 b 406 541 405 557 406 549 b 379 471 406 514 397 489 l 377 467 l 382 470 b 509 591 438 485 485 531 b 513 601 510 595 513 599 b 530 609 518 607 524 609 b 551 588 540 609 551 602 b 200 -605 551 584 204 -599 b 182 -616 197 -612 190 -616 b 163 -602 174 -616 166 -610 b 161 -598 161 -601 161 -601 b 217 -402 161 -589 170 -562 b 272 -213 247 -298 272 -213 b 272 -213 272 -213 272 -213 b 264 -219 272 -213 268 -216 b 140 -262 227 -247 182 -262 b 36 -226 102 -262 65 -249 b 0 -145 12 -206 0 -176 b 17 -84 0 -124 5 -104 b 103 -38 38 -54 70 -38 b 191 -91 137 -38 172 -56 b 205 -141 201 -106 205 -124 b 178 -212 205 -167 196 -194 l 175 -215 l 182 -213 b 307 -93 236 -198 284 -151 b 372 129 308 -88 372 127 b 372 129 372 129 372 129 b 364 122 372 129 368 126 b 240 80 328 94 283 80 b 137 115 202 80 166 91 b 99 195 112 136 99 165 b 118 256 99 217 106 238 b 204 303 138 287 171 303 b 292 249 238 303 273 285 b 306 199 302 234 306 217 b 279 129 306 173 296 148 l 276 126 l 281 127 b 408 248 336 142 385 190 b 473 470 409 254 473 469 b 473 470 473 470 473 470 b 465 464 473 470 469 467 b 341 421 428 435 383 421 b 236 458 303 421 266 433 b 200 537 212 478 200 508 b 289 644 200 585 234 635 "},v56:{x_min:0,x_max:1159.671875,ha:1183,o:"m 0 0 l 0 347 l 193 347 l 386 347 l 386 0 l 386 -348 l 193 -348 l 0 -348 l 0 0 m 773 -1 l 773 347 l 966 347 l 1159 347 l 1159 -1 l 1159 -348 l 966 -348 l 773 -348 l 773 -1 "},v57:{x_min:0,x_max:272.21875,ha:278,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 "},v58:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 259 1553 b 265 1553 261 1553 264 1553 b 288 1540 272 1553 277 1550 b 367 1351 340 1493 367 1424 b 336 1221 367 1308 357 1263 l 332 1211 l 333 1208 b 367 1077 356 1170 367 1124 b 336 945 367 1032 357 986 l 332 935 l 333 932 b 367 800 356 893 367 848 b 336 669 367 756 357 710 l 332 659 l 333 656 b 367 523 356 617 367 571 b 345 412 367 485 360 446 b 231 273 322 356 284 310 b -1 19 121 195 27 93 b -17 4 -4 11 -10 5 l -21 4 l -21 134 l -21 265 l -17 265 b 133 291 20 265 96 278 b 318 537 245 328 318 433 b 307 603 318 559 315 582 b 303 614 304 612 304 614 b 298 609 302 614 300 613 b 231 549 281 589 258 567 b -1 295 121 471 27 369 b -17 280 -4 287 -10 281 l -21 280 l -21 410 l -21 541 l -17 541 b 133 567 20 541 96 555 b 318 813 245 605 318 709 b 307 880 318 835 315 859 b 303 891 304 888 304 891 b 298 885 302 891 300 888 b 231 825 281 866 258 843 b -1 571 121 748 27 645 b -17 556 -4 563 -10 557 l -21 556 l -21 687 l -21 817 l -17 817 b 133 843 20 817 96 830 b 318 1089 245 881 318 985 b 307 1156 318 1111 315 1134 b 303 1167 304 1164 304 1167 b 298 1161 302 1167 300 1164 b 231 1102 281 1140 258 1120 b -1 848 121 1024 27 921 b -17 832 -4 839 -10 834 l -21 832 l -21 963 l -21 1093 l -17 1093 b 114 1113 12 1093 78 1103 b 313 1314 215 1142 289 1218 b 318 1364 317 1331 318 1347 b 255 1511 318 1422 295 1478 b 243 1532 247 1519 243 1525 b 259 1553 243 1540 250 1550 "},v59:{x_min:0,x_max:464.140625,ha:474,o:"m 0 0 l 0 347 l 76 347 l 153 347 l 153 0 l 153 -348 l 76 -348 l 0 -348 l 0 0 m 308 -1 l 308 347 l 386 347 l 464 347 l 464 -1 l 464 -348 l 386 -348 l 308 -348 l 308 -1 "},v5a:{x_min:-171.5,x_max:170.140625,ha:174,o:"m -6 566 b 0 567 -5 567 -2 567 b 14 556 6 567 12 563 b 92 285 14 555 50 433 b 170 13 166 33 170 19 b 168 13 170 13 170 13 b 161 1 168 8 167 4 l 159 0 l 122 0 l 84 0 l 81 1 b 21 195 76 5 78 -5 b -32 381 -8 297 -32 381 b -87 197 -32 381 -57 298 b -141 8 -115 94 -140 9 b -155 0 -142 2 -149 0 b -171 15 -163 0 -171 5 b -14 556 -171 18 -24 528 b -6 566 -14 560 -10 564 "},v5b:{x_min:-441,x_max:439.640625,ha:449,o:"m -428 -2 b -421 0 -427 -1 -424 0 b -406 -6 -416 0 -409 -2 b -400 -31 -401 -12 -400 -15 b -1 -352 -392 -215 -215 -352 b 58 -349 19 -352 38 -351 b 398 -31 250 -326 392 -192 b 404 -6 398 -15 400 -12 b 419 -1 408 -2 413 -1 b 439 -13 427 -1 435 -5 b 439 -29 439 -16 439 -22 b 434 -105 439 -48 438 -80 b 0 -489 397 -333 213 -489 b -68 -484 -23 -489 -44 -488 b -441 -36 -280 -452 -436 -263 b -441 -30 -441 -34 -441 -31 b -428 -2 -441 -11 -439 -5 m -13 -9 b -1 -8 -9 -8 -5 -8 b 50 -36 19 -8 39 -19 b 61 -72 57 -47 61 -59 b 50 -106 61 -84 57 -97 b -1 -134 39 -124 19 -134 b -46 -115 -17 -134 -34 -129 b -62 -72 -57 -102 -62 -87 b -13 -9 -62 -44 -44 -16 "},v5c:{x_min:0,x_max:447.8125,ha:457,o:"m 0 -87 l 0 0 l 223 0 l 447 0 l 447 -87 l 447 -174 l 223 -174 l 0 -174 l 0 -87 "},v5d:{x_min:-1.359375,x_max:592.078125,ha:604,o:"m 280 692 b 295 694 283 692 289 694 b 310 692 300 694 307 692 b 357 630 340 684 357 657 b 336 580 357 612 351 594 b 311 538 321 566 311 549 b 352 492 311 512 330 492 b 366 495 357 492 362 492 b 397 553 390 503 397 517 b 415 603 397 576 402 591 b 460 623 427 617 443 623 b 509 599 479 623 498 614 b 522 559 518 587 522 573 b 494 506 522 538 513 519 b 451 495 481 498 473 496 b 415 488 432 495 426 494 b 394 449 404 483 394 464 b 394 448 394 448 394 448 l 394 440 l 397 433 b 428 409 404 420 413 413 b 438 408 431 408 435 408 b 479 431 450 408 462 415 b 528 455 495 448 510 455 b 548 452 534 455 541 453 b 592 391 577 442 592 416 b 549 331 592 365 577 340 b 528 327 541 328 534 327 b 479 351 510 327 495 335 b 438 374 464 367 450 374 b 417 369 431 374 424 373 b 394 333 402 360 394 348 b 400 312 394 326 396 319 b 451 287 408 294 420 288 b 513 258 484 285 499 278 b 522 223 519 247 522 234 b 461 159 522 190 496 159 b 449 161 457 159 453 159 b 397 229 416 167 397 191 b 366 288 397 265 390 278 b 352 290 362 290 357 290 b 315 262 336 290 321 280 b 311 245 313 256 311 251 b 334 204 311 233 318 220 b 355 170 348 190 351 184 b 357 152 356 166 357 159 b 355 136 357 147 356 140 b 295 88 345 104 321 88 b 232 152 264 88 232 112 b 255 204 232 174 238 186 b 279 244 273 222 279 231 l 279 245 b 238 290 279 270 259 290 b 224 288 234 290 228 290 b 193 229 200 278 193 265 b 141 161 193 191 174 167 b 129 159 137 159 133 159 b 68 223 93 159 68 190 b 77 258 68 234 70 247 b 138 287 91 278 106 285 b 185 302 166 287 175 291 b 196 333 193 312 196 323 b 174 369 196 347 187 360 b 152 374 166 373 159 374 b 111 351 140 374 126 367 b 62 327 95 335 80 327 b 51 328 58 327 54 327 b -1 391 16 334 -1 363 b 53 455 -1 420 17 449 b 62 455 57 455 59 455 b 111 431 80 455 95 448 b 152 408 127 415 140 408 b 161 409 155 408 159 408 b 193 433 176 413 186 420 l 196 440 l 196 448 b 196 451 196 449 196 449 b 190 471 196 459 194 463 b 137 495 182 489 167 495 l 134 495 l 134 495 b 68 560 95 495 68 521 b 129 623 68 596 95 623 b 144 621 134 623 138 623 b 193 553 175 614 193 589 b 224 495 193 517 200 503 b 238 492 228 492 234 492 b 279 538 259 492 279 512 b 254 580 279 549 269 566 b 232 630 239 594 232 612 b 280 692 232 657 250 684 m 307 456 b 295 458 303 458 299 458 b 230 391 258 458 230 426 b 236 360 230 381 231 371 b 295 324 249 337 272 324 b 353 360 318 324 341 337 b 360 391 357 370 360 381 b 307 456 360 421 340 451 "},v5e:{x_min:-206.890625,x_max:428.75,ha:438,o:"m -178 811 b -172 811 -175 811 -174 811 b -145 800 -164 811 -157 809 l -114 778 l -50 735 l 13 691 l 77 646 l 141 602 l 205 559 l 269 514 l 332 471 l 394 427 b 428 392 421 409 426 405 b 428 384 428 390 428 387 b 394 349 428 365 412 349 b 375 355 387 349 382 351 b 272 426 372 356 303 403 l 209 469 l 145 513 l 83 556 l -34 638 l -87 674 l -151 718 b -202 759 -196 749 -198 752 b -206 775 -205 764 -206 770 b -178 811 -206 792 -196 809 "},v5f:{x_min:-390.640625,x_max:389.28125,ha:397,o:"m -378 -2 b -368 -1 -375 -1 -374 -1 b -349 -13 -360 -1 -353 -5 l -348 -16 l -348 -176 l -348 -337 l 0 -337 l 347 -337 l 347 -176 l 347 -16 l 348 -13 b 367 0 352 -5 360 0 b 387 -13 375 0 383 -5 l 389 -16 l 389 -252 l 389 -489 l 387 -492 b 377 -503 385 -498 381 -501 l 372 -505 l 0 -505 l -374 -505 l -378 -503 b -389 -492 -382 -501 -386 -498 l -390 -489 l -390 -252 l -390 -16 l -389 -13 b -378 -2 -386 -8 -382 -4 m -13 -9 b -1 -8 -9 -8 -5 -8 b 50 -36 19 -8 39 -19 b 61 -72 57 -47 61 -59 b 50 -106 61 -84 57 -97 b -1 -134 39 -124 19 -134 b -46 -115 -17 -134 -34 -129 b -62 -72 -58 -102 -62 -87 b -13 -9 -62 -44 -44 -16 "},v60:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m -367 173 b -362 174 -366 174 -364 174 b -351 173 -357 174 -353 173 b -262 86 -348 172 -328 151 b -176 0 -216 37 -176 0 b -107 84 -176 0 -145 37 b -31 174 -36 173 -38 172 b -25 174 -29 174 -28 174 b -16 173 -23 174 -19 173 b 72 86 -13 172 6 151 b 157 0 119 37 157 0 b 227 84 159 0 189 37 b 303 174 298 173 296 172 b 308 174 304 174 307 174 b 318 173 313 174 317 173 b 481 11 322 172 357 134 l 494 -1 l 522 34 b 560 76 553 72 555 74 b 567 77 563 77 564 77 b 589 56 579 77 589 68 b 586 48 589 54 588 51 b 411 -172 583 41 416 -166 b 397 -176 406 -174 401 -176 b 387 -174 393 -176 390 -176 b 299 -87 386 -173 366 -152 b 213 0 253 -38 213 0 b 144 -86 213 0 182 -38 b 68 -174 73 -174 74 -173 b 62 -176 66 -176 65 -176 b 53 -174 59 -176 55 -174 b -35 -87 50 -173 29 -152 b -121 0 -83 -38 -121 0 b -190 -86 -122 0 -152 -38 b -266 -174 -261 -174 -259 -173 b -272 -176 -268 -176 -270 -176 b -281 -174 -276 -176 -280 -174 b -371 -86 -284 -173 -304 -152 b -457 0 -417 -38 -457 0 l -457 0 b -477 -26 -457 0 -470 -16 b -548 -227 -524 -88 -548 -161 b -536 -303 -548 -254 -544 -280 b -533 -317 -534 -309 -533 -313 b -553 -338 -533 -330 -541 -338 b -577 -315 -566 -338 -571 -333 b -590 -227 -586 -287 -590 -258 b -518 -9 -590 -154 -564 -77 b -465 56 -509 2 -504 8 l -402 134 b -367 173 -375 169 -372 172 "},v61:{x_min:-108.890625,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 93 -148 206 -40 179 -70 l 38 -199 l 23 -215 l 20 -217 l 20 -241 b 19 -267 20 -260 20 -266 b 19 -270 19 -269 19 -270 b 19 -270 19 -270 19 -270 b 47 -263 21 -270 39 -266 b 78 -249 55 -260 69 -255 b 89 -247 83 -247 85 -247 b 107 -265 99 -247 107 -254 l 107 -265 l 107 -270 l 102 -280 b 19 -492 65 -338 34 -417 b 0 -513 14 -508 10 -513 b -20 -488 -12 -513 -16 -508 b -103 -280 -38 -409 -66 -338 l -108 -270 l -108 -265 l -108 -265 b -91 -247 -108 -254 -100 -247 b -80 -249 -87 -247 -84 -247 b -49 -263 -70 -255 -57 -260 b -20 -270 -40 -266 -23 -270 b -20 -270 -20 -270 -20 -270 b -20 -267 -20 -270 -20 -269 b -21 174 -21 -266 -21 -208 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "
},v62:{x_min:46.28125,x_max:669.671875,ha:563,o:"m 183 376 b 189 376 185 376 187 376 b 212 374 197 376 208 376 b 265 337 234 369 253 355 b 274 317 268 331 273 320 b 274 316 274 317 274 316 b 280 323 276 316 276 319 b 311 358 288 337 299 348 b 319 366 315 360 318 365 b 356 376 326 373 340 376 b 382 371 364 376 374 374 b 428 337 400 366 417 352 b 436 317 431 331 436 320 b 438 316 436 317 436 316 b 442 323 438 316 439 319 b 475 358 451 337 462 348 b 483 366 477 360 481 365 b 518 376 488 373 503 376 b 544 373 528 376 536 376 b 604 285 579 360 604 326 b 597 249 604 273 601 258 b 543 63 596 247 544 70 b 541 54 543 61 541 55 b 540 44 540 51 540 47 b 552 23 540 33 545 23 b 552 23 552 23 552 23 b 647 126 586 29 627 72 b 658 138 651 136 653 138 b 660 138 660 138 660 138 b 669 129 666 137 669 136 b 654 88 669 122 665 109 b 562 -12 631 43 602 9 l 549 -19 b 521 -27 540 -24 530 -27 b 447 30 490 -27 458 -4 b 443 58 445 38 443 48 b 450 93 443 72 446 84 b 504 278 453 97 504 272 b 507 288 506 283 506 287 b 509 298 507 292 509 295 b 491 326 509 310 502 320 b 487 327 490 327 488 327 b 479 324 484 327 483 326 b 441 270 462 316 443 288 b 435 249 441 265 436 254 b 398 127 434 248 419 195 b 362 4 379 61 362 5 b 328 -1 359 -1 362 -1 b 314 -1 323 -1 319 -1 b 302 -1 310 -1 306 -1 b 266 4 266 -1 269 -1 b 265 6 265 5 265 5 b 303 144 265 13 272 34 b 343 278 325 216 343 276 b 344 288 343 281 344 285 b 345 298 345 291 345 295 b 330 326 345 310 340 320 b 323 327 328 327 325 327 b 317 324 322 327 321 326 b 279 270 300 316 281 288 b 273 249 279 265 274 254 b 236 127 272 248 255 195 b 200 4 216 61 200 5 b 164 -1 197 -1 198 -1 b 151 -1 161 -1 156 -1 b 140 -1 147 -1 142 -1 b 103 4 104 -1 106 -1 b 103 6 103 5 103 5 b 141 144 103 13 108 34 b 181 278 161 216 179 276 b 182 288 181 281 181 285 b 183 298 182 291 183 295 b 168 324 183 310 178 320 b 160 327 166 326 163 327 b 141 320 156 327 151 324 b 69 230 112 305 85 272 b 57 215 65 217 62 215 b 55 215 57 215 55 215 b 46 224 49 215 46 217 b 59 260 46 231 50 242 b 151 363 81 306 112 341 b 161 369 155 365 160 367 b 183 376 166 371 174 374 "},v63:{x_min:-1.359375,x_max:392,ha:400,o:"m 253 341 b 317 341 276 341 298 341 b 363 341 344 341 362 341 b 392 309 379 340 392 326 l 392 309 b 266 -320 392 305 269 -310 b 246 -341 262 -330 255 -337 b 136 -342 243 -342 189 -342 b 21 -341 80 -342 24 -342 b -1 -310 8 -337 -1 -324 b 0 -310 -1 -310 0 -310 b 123 316 0 -306 118 297 b 144 340 126 327 133 335 b 253 341 147 341 151 341 m 321 276 b 250 277 321 277 307 277 b 179 276 194 277 179 277 b 123 -1 179 276 153 151 l 68 -278 l 140 -278 b 167 -278 149 -278 159 -278 b 210 -278 191 -278 210 -278 b 321 276 210 -278 321 274 "},v64:{x_min:-355.25,x_max:353.890625,ha:361,o:"m -355 534 l -355 1068 l 0 1068 l 353 1068 l 353 534 l 353 0 l 0 0 l -355 0 l -355 534 m 325 881 l 325 1041 l -1 1041 l -326 1041 l -326 881 l -326 721 l -1 721 l 325 721 l 325 881 m 325 534 l 325 694 l 0 694 l -326 694 l -326 534 l -326 374 l 0 374 l 325 374 l 325 534 m 325 187 l 325 347 l 0 347 l -326 347 l -326 187 l -326 27 l 0 27 l 325 27 l 325 187 "},v65:{x_min:-695.53125,x_max:694.171875,ha:708,o:"m -50 1414 b 1 1415 -32 1414 -16 1415 b 683 828 333 1415 626 1168 b 694 706 690 787 694 746 b -1 0 694 323 389 0 b -695 706 -385 0 -695 315 b -50 1413 -695 1079 -415 1386 l -50 1414 m 44 1385 b -2 1386 28 1386 13 1386 b -526 1124 -204 1386 -400 1289 b -564 1068 -539 1107 -564 1070 b -1 1067 -564 1068 -311 1067 b 563 1068 308 1067 563 1068 b 524 1124 563 1070 537 1107 b 44 1385 406 1276 235 1371 m 590 1021 l 581 1039 l -1 1039 l -582 1039 l -592 1021 b -666 728 -637 931 -666 816 l -666 720 l -1 720 l 665 720 l 665 728 b 590 1021 665 816 635 931 m 665 685 l 665 692 l -1 692 l -666 692 l -666 685 b -590 391 -666 596 -637 480 l -582 374 l -1 374 l 579 374 l 589 391 b 665 685 634 480 665 596 m 558 337 l 563 345 l -1 345 l -564 345 l -559 337 b 0 27 -436 142 -223 27 b 148 44 49 27 99 33 b 558 337 315 83 465 191 "},v66:{x_min:-73.5,x_max:72.140625,ha:74,o:"m -36 -126 b 0 0 -17 -56 -1 0 b 70 -254 0 0 70 -249 l 72 -255 l 0 -255 l -73 -255 l -72 -254 b -36 -126 -72 -254 -55 -195 "},v67:{x_min:-1.359375,x_max:549.890625,ha:561,o:"m 296 692 b 314 694 302 694 307 694 b 386 685 337 694 366 689 b 548 498 480 660 548 580 b 548 481 548 492 548 487 b 455 395 541 426 499 395 b 370 462 420 395 383 417 b 362 496 364 477 362 488 b 377 514 362 509 367 514 b 393 501 386 514 390 510 b 432 474 397 484 413 474 b 470 487 445 474 458 478 b 491 530 484 496 491 510 b 490 544 491 534 491 539 b 333 660 479 606 411 657 l 323 662 l 315 646 b 269 524 285 591 269 556 b 321 431 269 492 287 466 b 349 395 338 413 343 408 b 363 342 359 378 363 362 b 359 312 363 333 362 322 b 285 158 348 266 318 206 b 281 152 283 155 281 152 b 281 152 281 152 281 152 b 287 154 283 152 284 152 b 318 155 298 154 308 155 b 461 98 371 155 419 136 l 464 97 l 495 122 b 534 148 528 148 528 148 b 549 133 544 148 549 142 l 549 133 b 549 130 549 131 549 131 b 509 91 549 124 548 123 l 436 33 b 390 0 397 0 396 0 b 374 15 381 0 377 4 b 268 105 359 69 314 105 b 250 104 262 105 257 105 l 243 102 l 234 90 b 155 1 201 49 159 2 b 147 -1 152 0 149 -1 b 130 15 138 -1 130 6 b 132 20 130 18 132 19 b 136 31 133 22 134 27 b 220 131 149 74 178 109 b 231 137 225 134 230 136 b 302 278 280 202 302 244 b 265 335 302 299 295 309 b 209 442 234 363 213 402 b 209 455 209 446 209 451 b 279 648 209 502 232 564 l 285 659 l 283 659 b 176 627 238 653 210 645 b 57 477 111 594 66 538 b 55 459 55 471 55 464 b 72 409 55 437 61 415 b 93 403 78 405 87 403 b 152 467 123 403 151 431 b 168 488 153 483 157 488 b 185 462 181 488 185 483 l 185 460 b 137 344 183 409 168 369 b 78 322 119 328 98 322 b 13 360 50 322 25 335 b -1 426 4 380 -1 402 b 89 610 -1 488 32 559 b 296 692 147 659 210 685 "},v68:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 155 11 -5 172 43 123 l 166 -1 l 168 1 l 170 4 l 170 130 b 171 260 170 256 170 258 b 191 274 175 269 183 274 b 205 267 196 274 201 272 b 212 158 212 262 210 273 l 212 56 l 257 112 b 311 173 304 172 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 216 -6 221 -1 219 -2 l 212 -12 l 212 -147 b 212 -210 212 -173 212 -194 b 205 -292 212 -297 210 -287 b 191 -299 201 -297 196 -299 b 172 -287 183 -299 175 -295 b 170 -174 171 -284 171 -284 l 170 -63 l 127 -117 b 73 -176 84 -170 80 -176 b 68 -176 72 -176 70 -176 b -27 -87 59 -174 65 -180 b -114 0 -74 -38 -112 0 b -182 -86 -114 0 -145 -38 b -258 -174 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 "},v69:{x_min:-25.859375,x_max:347.078125,ha:354,o:"m 313 155 b 321 156 315 156 318 156 b 329 156 325 156 328 156 b 347 130 341 152 347 141 b 338 109 347 123 344 115 b 288 79 332 105 307 88 b 126 6 236 49 186 26 b 104 0 114 2 104 0 b 126 -8 104 -1 114 -4 b 326 -104 201 -33 268 -65 b 343 -117 337 -111 340 -112 b 347 -131 345 -122 347 -127 b 321 -158 347 -145 337 -158 b 296 -148 314 -158 311 -158 b 17 -31 223 -99 121 -56 l -4 -27 b -25 0 -19 -23 -25 -15 b -4 26 -25 13 -19 22 l 17 30 b 296 147 121 55 223 98 b 313 155 307 152 310 155 "},v6a:{x_min:-85.75,x_max:84.390625,ha:86,o:"m -17 84 b 0 86 -12 86 -6 86 b 84 -1 46 86 84 45 b 83 -18 84 -6 84 -12 b -1 -87 73 -62 36 -87 b -66 -55 -25 -87 -49 -77 b -85 -1 -80 -38 -85 -19 b -17 84 -85 37 -59 74 "},v6b:{x_min:-1.359375,x_max:544.4375,ha:556,o:"m 475 834 b 483 835 477 834 480 835 b 514 803 500 835 514 820 b 509 785 514 798 513 791 b 356 742 496 764 424 743 l 341 742 l 341 738 b 344 671 343 716 344 694 b 247 351 344 533 306 401 b 144 315 217 326 185 315 b 121 316 136 315 129 315 b 83 340 98 317 88 323 b 81 348 83 342 81 345 b 114 380 81 366 98 380 b 137 369 122 380 130 377 b 147 365 140 366 142 365 b 191 399 159 365 178 378 b 251 673 230 459 251 560 b 250 739 251 695 251 717 b 239 757 249 756 249 755 b 194 763 224 762 209 763 b 103 712 153 763 121 745 b 68 689 95 696 81 689 b 29 730 47 689 29 703 b 77 785 29 749 43 766 b 198 814 111 805 155 814 b 262 806 220 814 243 811 b 351 793 294 798 323 793 b 462 827 396 793 435 805 b 475 834 466 831 469 832 m 334 290 b 340 290 336 290 338 290 b 386 244 364 290 383 272 b 470 -154 397 115 439 -81 b 509 -195 481 -177 498 -195 b 510 -195 509 -195 510 -195 b 518 -194 513 -194 515 -194 b 544 -223 533 -194 544 -208 b 530 -244 544 -231 540 -240 b 510 -248 526 -247 519 -248 b 450 -235 491 -248 466 -244 b 351 -68 401 -210 381 -176 b 333 5 344 -44 333 1 b 333 5 333 5 333 5 b 326 -8 333 5 329 -1 b 289 -73 313 -34 302 -54 l 281 -84 l 284 -86 b 328 -102 295 -95 313 -102 b 344 -116 340 -104 344 -106 b 323 -131 344 -124 340 -129 b 304 -134 317 -133 311 -134 b 259 -123 289 -134 273 -130 l 254 -120 l 251 -124 b 78 -237 198 -183 141 -222 b 29 -242 63 -241 44 -242 b 16 -241 24 -242 19 -242 b -1 -217 5 -237 -1 -227 b 17 -192 -1 -206 5 -195 b 23 -191 19 -191 20 -191 b 29 -191 24 -191 27 -191 b 32 -191 29 -191 31 -191 b 175 -97 70 -191 132 -152 b 294 237 246 -12 287 105 b 306 273 295 256 298 263 b 334 290 313 281 323 288 m 292 -285 b 311 -285 299 -285 306 -285 b 517 -399 405 -285 496 -334 b 519 -420 518 -406 519 -413 b 427 -535 519 -462 485 -505 l 416 -541 l 427 -546 b 528 -681 491 -580 528 -631 b 518 -724 528 -695 525 -710 b 341 -816 488 -782 417 -816 b 216 -785 299 -816 255 -806 b 186 -750 194 -774 186 -764 b 187 -742 186 -748 186 -745 l 187 -739 l 186 -742 b 66 -784 151 -771 114 -784 b 59 -784 65 -784 62 -784 b 16 -767 31 -784 23 -781 b 13 -753 14 -763 13 -757 b 43 -723 13 -737 27 -723 b 62 -730 50 -723 55 -725 b 70 -734 66 -734 66 -734 b 151 -666 96 -734 130 -705 b 167 -630 153 -660 155 -656 b 213 -444 193 -570 209 -506 b 215 -412 215 -437 215 -426 b 212 -355 215 -385 213 -356 b 212 -353 212 -355 212 -353 b 176 -369 209 -353 187 -363 b 106 -433 145 -385 119 -409 b 69 -458 98 -449 83 -458 b 36 -437 57 -458 44 -451 b 31 -417 32 -431 31 -424 b 53 -378 31 -405 38 -391 b 292 -285 111 -324 191 -294 m 336 -338 b 310 -337 329 -338 318 -337 b 300 -338 304 -337 300 -337 b 300 -338 300 -338 300 -338 b 306 -408 303 -345 306 -381 b 306 -415 306 -410 306 -413 b 247 -657 304 -496 284 -578 b 217 -709 235 -682 228 -695 b 210 -717 215 -713 212 -716 b 210 -717 210 -717 210 -717 b 215 -717 210 -717 212 -717 b 217 -717 215 -717 216 -717 b 220 -717 217 -717 219 -717 b 242 -727 228 -717 232 -718 b 337 -764 273 -752 303 -763 b 341 -764 338 -764 340 -764 b 436 -681 396 -764 436 -728 b 435 -664 436 -675 436 -670 b 319 -566 427 -617 381 -578 b 299 -557 307 -563 304 -562 b 292 -539 294 -552 292 -545 b 317 -513 292 -527 302 -514 b 423 -445 364 -508 409 -480 b 428 -421 427 -437 428 -430 b 336 -338 428 -384 392 -349 "},v6c:{x_min:-1.359375,x_max:193.28125,ha:197,o:"m 78 233 b 87 233 81 233 84 233 b 187 140 132 233 174 195 b 193 102 190 127 193 115 b 43 -113 193 22 136 -62 b 27 -119 36 -116 31 -119 b 19 -108 21 -119 19 -115 b 29 -97 19 -102 20 -101 b 102 13 73 -72 102 -27 b 92 51 102 26 98 40 l 91 54 l 84 54 b 8 104 53 54 21 74 b -1 142 1 116 -1 130 b 78 233 -1 187 31 227 "},v6d:{x_min:-590.71875,x_max:589.359375,ha:601,o:"m 544 335 b 553 337 548 337 551 337 b 575 313 563 337 570 330 b 589 226 583 285 589 256 b 517 8 589 152 563 76 b 464 -58 507 -4 503 -9 l 401 -136 b 362 -176 372 -172 370 -176 b 357 -176 360 -176 359 -176 b 261 -87 349 -174 355 -180 b 175 0 215 -38 175 0 b 106 -86 175 0 144 -38 b 29 -174 35 -174 36 -173 b 24 -176 28 -176 27 -176 b 14 -174 21 -176 17 -174 b -73 -87 12 -173 -8 -152 b -159 0 -121 -38 -159 0 b -228 -86 -160 0 -190 -38 b -304 -174 -299 -174 -298 -173 b -310 -176 -306 -176 -308 -176 b -319 -174 -314 -176 -318 -174 b -483 -12 -323 -173 -359 -137 l -495 0 l -524 -34 b -562 -77 -553 -73 -556 -76 b -568 -79 -564 -79 -566 -79 b -590 -58 -581 -79 -590 -69 b -588 -49 -590 -55 -589 -52 b -412 170 -585 -43 -417 165 b -398 174 -408 173 -402 174 b -389 173 -394 174 -392 174 b -300 86 -387 172 -366 151 b -215 -1 -254 37 -215 -1 b -145 84 -215 -1 -183 37 b -69 173 -74 173 -76 172 b -63 174 -68 174 -66 174 b -54 173 -61 174 -57 173 b 34 86 -51 172 -31 151 b 119 -1 81 37 119 -1 b 189 84 121 -1 151 37 b 265 173 259 173 258 172 b 270 174 266 174 269 174 b 280 173 274 174 279 173 b 370 84 283 172 303 151 b 455 -1 416 37 455 -1 l 455 -1 b 476 24 455 -1 469 15 b 547 226 522 87 547 159 b 534 302 547 252 543 278 b 532 317 533 308 532 313 b 544 335 532 326 536 333 "},v6e:{x_min:-355.25,x_max:353.890625,ha:361,o:"m -27 720 b -13 721 -24 720 -20 721 b 42 718 4 721 34 720 b 343 446 190 699 308 591 b 353 360 349 417 353 390 b 84 9 353 197 245 49 b 0 0 55 2 27 0 b -344 273 -160 0 -306 109 b -355 359 -351 302 -355 331 b -39 718 -355 539 -221 700 l -27 720 m 39 691 b -13 692 32 691 4 692 b -25 692 -19 692 -23 692 b -326 383 -190 675 -314 548 l -326 374 l -1 374 l 325 374 l 325 383 b 39 691 314 541 197 667 m 325 337 l 325 345 l -1 345 l -326 345 l -326 337 b -55 33 -315 184 -204 58 b -1 29 -34 29 -29 29 b 54 33 28 29 32 29 b 325 337 201 58 314 184 "},v6f:{x_min:-80.3125,x_max:78.9375,ha:81,o:"m 63 191 b 69 192 65 192 66 192 b 77 188 72 192 76 191 b 78 183 78 187 78 186 b 74 158 78 179 77 172 l 66 115 b 9 -161 49 30 10 -158 b -10 -187 6 -172 -1 -181 b -34 -194 -17 -191 -25 -194 b -80 -147 -58 -194 -80 -174 b -80 -141 -80 -144 -80 -142 b 9 70 -80 -134 -73 -117 l 49 163 b 63 191 59 188 61 190 "},v70:{x_min:0,x_max:436.921875,ha:446,o:"m 213 190 b 217 191 215 191 216 191 b 231 184 223 191 228 188 b 249 154 240 167 246 159 b 419 18 292 91 348 45 b 436 -1 435 11 436 8 b 424 -16 436 -9 434 -13 b 308 -87 394 -26 340 -59 b 231 -186 276 -117 257 -142 b 219 -192 228 -191 225 -192 b 198 -174 209 -192 208 -191 b 47 -33 161 -113 110 -63 b 10 -16 34 -26 17 -19 b 0 -1 2 -13 0 -9 b 17 18 0 8 1 11 b 198 173 95 48 156 101 b 213 190 206 187 208 188 "},v71:{x_min:-25.859375,x_max:347.078125,ha:354,o:"m 313 155 b 321 156 315 156 318 156 b 334 154 325 156 330 155 b 347 131 343 148 347 140 b 341 113 347 126 345 120 b 336 101 340 111 337 105 b 311 -1 319 69 311 34 b 341 -115 311 -40 322 -79 b 347 -133 345 -120 347 -127 b 321 -158 347 -147 337 -158 b 296 -148 314 -158 311 -158 b 6 -29 221 -97 111 -52 b -13 -23 -10 -26 -10 -26 b -25 -1 -21 -19 -25 -9 b -12 23 -25 8 -21 18 b 5 27 -9 23 -2 26 b 296 147 115 52 220 95 b 313 155 307 152 310 155 "},v72:{x_min:-423.3125,x_max:421.9375,ha:431,o:"m -262 197 b -247 197 -257 197 -253 197 b -118 162 -210 197 -163 184 b 40 45 -61 134 -13 98 b 277 -95 119 -33 200 -81 b 289 -97 281 -97 285 -97 b 378 0 332 -97 371 -55 b 378 11 378 4 378 6 b 302 83 378 55 345 83 b 242 66 283 83 262 77 b 208 56 231 59 219 56 b 148 120 175 56 148 81 b 201 186 148 151 164 172 b 261 198 220 194 240 198 b 420 45 341 198 411 136 b 421 22 421 37 421 29 b 245 -199 421 -93 338 -199 b 238 -198 243 -199 240 -199 b -44 -47 148 -194 50 -141 b -250 86 -114 22 -183 66 b -295 94 -270 91 -283 94 b -315 91 -302 94 -307 94 b -381 4 -356 81 -381 43 b -355 -56 -381 -18 -372 -40 b -298 -81 -338 -73 -319 -81 b -246 -68 -283 -81 -265 -77 b -212 -58 -234 -61 -223 -58 b -178 -69 -200 -58 -189 -62 b -151 -122 -160 -81 -151 -101 b -171 -167 -151 -138 -157 -155 b -239 -195 -185 -181 -213 -192 b -257 -197 -245 -197 -250 -197 b -423 -5 -352 -197 -423 -109 b -412 65 -423 16 -419 40 b -262 197 -389 137 -329 188 "},v73:{x_min:0,x_max:347.078125,ha:354,o:"m 231 818 b 239 821 234 820 236 821 b 251 816 243 821 249 818 b 258 800 255 811 255 810 b 341 587 273 725 304 646 l 347 578 l 347 573 l 347 571 b 329 553 347 560 338 553 b 318 556 325 553 322 555 b 264 577 302 567 283 574 b 258 578 261 577 259 578 b 258 577 258 578 258 578 b 258 576 258 577 258 577 b 259 416 259 574 259 542 l 259 258 l 285 265 b 318 270 302 269 311 270 b 336 259 328 270 332 267 b 337 208 336 256 337 233 b 336 158 337 184 336 159 b 302 140 332 148 329 147 b 259 130 266 131 259 130 b 259 65 259 130 259 104 b 259 20 259 51 259 36 l 259 -88 l 285 -81 b 318 -76 302 -77 311 -76 b 332 -81 325 -76 328 -77 b 337 -123 336 -87 337 -86 l 337 -138 l 337 -154 b 332 -195 337 -191 336 -190 b 281 -210 328 -199 328 -199 b 262 -216 272 -213 264 -216 l 259 -216 l 259 -349 l 259 -483 l 258 -487 b 239 -499 254 -495 246 -499 b 220 -487 231 -499 223 -495 l 219 -483 l 217 -355 l 217 -227 l 216 -227 l 194 -233 l 152 -244 b 129 -249 140 -247 130 -249 b 127 -410 127 -249 127 -258 b 127 -576 127 -548 127 -573 b 126 -578 126 -577 126 -578 b 127 -580 126 -578 126 -580 b 133 -578 129 -580 130 -578 b 186 -557 152 -576 170 -569 b 197 -555 190 -556 194 -555 b 215 -573 206 -555 215 -562 l 215 -574 l 215 -580 l 209 -588 b 126 -802 172 -648 141 -727 b 107 -823 123 -817 118 -823 b 87 -798 95 -823 91 -817 b 5 -588 69 -718 40 -648 l 0 -580 l 0 -574 b 0 -573 0 -574 0 -574 b 16 -555 0 -562 6 -555 b 27 -557 20 -555 24 -556 b 81 -578 44 -569 62 -576 b 87 -580 84 -578 85 -580 b 88 -578 88 -580 88 -580 b 87 -576 88 -578 88 -577 b 87 -416 87 -573 87 -549 b 85 -260 87 -270 87 -260 b 85 -260 85 -260 85 -260 b 32 -273 74 -263 35 -273 b 13 -260 24 -273 16 -267 b 12 -209 12 -256 12 -256 l 12 -162 l 13 -158 b 74 -134 17 -148 17 -148 l 87 -131 l 87 -22 b 85 86 87 79 87 86 b 85 86 85 86 85 86 b 32 74 74 83 35 74 b 13 86 24 74 16 79 b 12 137 12 90 12 90 l 12 184 l 13 188 b 73 212 17 198 17 198 l 87 215 l 87 348 l 87 481 l 88 485 b 107 498 92 494 99 498 b 126 485 115 498 122 494 l 127 481 l 127 353 l 127 226 l 133 226 b 172 235 136 227 153 231 l 212 247 l 217 248 l 217 409 b 219 574 217 546 217 571 b 219 577 219 576 219 577 b 219 578 219 578 219 578 b 213 577 217 578 216 577 b 159 556 194 574 175 567 b 148 553 155 555 152 553 b 130 571 138 553 130 560 l 130 573 l 130 578 l 136 587 b 219 796 172 646 200 717 b 231 818 221 813 224 816 m 217 9 b 217 119 217 70 217 119 l 217 119 b 194 113 217 119 206 116 l 152 102 b 129 97 140 99 130 97 b 127 -12 127 97 127 91 l 127 -122 l 133 -120 b 172 -111 136 -119 153 -115 l 212 -101 l 217 -98 l 217 9 "},v74:{x_min:-206.890625,x_max:428.75,ha:438,o:"m 389 -351 b 394 -351 390 -351 393 -351 b 428 -385 413 -351 428 -367 b 428 -394 428 -388 428 -391 b 394 -428 426 -406 421 -410 l 332 -473 l 269 -516 l 205 -560 l 141 -603 l 77 -648 l 13 -692 l -50 -737 l -114 -780 l -145 -802 b -171 -813 -157 -810 -163 -813 b -175 -813 -172 -813 -174 -813 b -206 -777 -194 -811 -206 -795 b -202 -760 -206 -771 -205 -766 b -87 -675 -197 -752 -206 -757 l -34 -639 l 83 -557 l 145 -514 l 209 -470 l 272 -427 b 389 -351 375 -356 381 -352 "},v75:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -137 381 b -130 383 -134 383 -133 383 b -111 371 -122 383 -114 378 b -55 224 -110 370 -85 305 b 0 80 -25 145 -1 80 b 54 224 0 80 24 145 b 112 377 114 384 110 373 b 127 384 118 381 122 384 b 148 362 138 384 148 374 l 148 356 l 83 183 b 16 9 47 88 17 11 b -1 0 12 2 5 0 b -14 5 -5 0 -10 1 b -84 183 -19 9 -13 -6 l -149 356 l -149 362 b -137 381 -149 371 -145 378 "},v76:{x_min:0,x_max:737.71875,ha:753,o:"m 9 13 b 208 15 10 15 51 15 b 368 15 251 15 304 15 l 726 15 l 729 12 b 737 -1 735 9 737 4 b 729 -15 737 -6 735 -11 l 726 -16 l 660 -16 l 592 -16 l 592 -95 l 592 -174 l 368 -174 l 144 -174 l 144 -95 l 144 -16 l 77 -16 l 9 -16 l 6 -15 b 0 -1 1 -11 0 -6 b 9 13 0 5 2 11 "},v77:{x_min:-209.609375,x_max:208.25,ha:213,o:"m -197 19 b 1 20 -194 19 -96 20 b 196 19 98 20 193 19 b 208 -1 204 15 208 6 b 202 -15 208 -6 206 -11 b 95 -22 197 -20 212 -22 b -1 -22 69 -22 38 -22 b -96 -22 -39 -22 -70 -22 b -204 -15 -213 -22 -198 -20 b -209 -1 -208 -11 -209 -6 b -197 19 -209 6 -205 15 "},v78:{x_min:0,x_max:193.28125,ha:197,o:"m 85 514 b 95 517 88 517 89 517 b 114 505 103 517 110 513 l 115 502 l 115 376 b 115 249 115 306 115 249 b 141 258 117 249 127 252 l 167 266 l 172 266 b 190 254 181 265 187 262 l 193 251 l 193 202 l 193 188 b 187 147 193 149 191 152 b 147 130 183 142 182 141 l 115 119 l 115 9 b 115 -99 115 -51 115 -99 b 141 -91 115 -99 127 -95 b 171 -81 166 -81 167 -81 l 171 -81 b 191 -94 181 -81 189 -87 b 193 -142 191 -97 193 -120 b 191 -195 193 -167 191 -194 b 125 -227 187 -205 187 -204 l 115 -230 l 115 -366 l 115 -503 l 114 -506 b 95 -519 110 -514 102 -519 b 74 -506 87 -519 78 -514 l 73 -503 l 73 -374 b 73 -245 73 -260 73 -245 b 73 -245 73 -245 73 -245 b 55 -252 72 -245 63 -249 l 32 -260 b 19 -263 27 -262 23 -263 b 4 -256 13 -263 8 -260 b 0 -215 0 -251 0 -254 b 0 -199 0 -210 0 -206 l 0 -152 l 1 -149 b 8 -140 2 -145 5 -141 b 42 -127 9 -140 24 -133 l 73 -116 l 73 -5 b 73 23 73 4 73 15 b 73 105 73 70 73 105 b 49 97 73 105 61 101 b 17 88 32 91 23 88 b 4 95 10 88 8 91 b 0 137 0 101 0 98 b 0 151 0 141 0 145 l 0 199 l 1 202 b 43 224 5 212 5 212 l 73 234 l 73 367 l 73 502 l 74 505 b 85 514 77 509 81 513 "},v79:{x_min:-1.359375,x_max:899.703125,ha:918,o:"m 307 349 b 332 351 315 351 323 351 b 443 340 367 351 408 347 b 741 47 607 306 720 195 b 744 0 743 31 744 16 b 660 -303 744 -90 713 -206 b 28 -755 534 -531 304 -695 b 14 -756 23 -755 19 -756 b -1 -741 4 -756 -1 -750 b 21 -720 -1 -731 1 -728 b 567 -56 337 -601 548 -344 b 568 -11 568 -41 568 -24 b 442 285 568 129 525 233 b 325 319 406 308 367 319 b 93 177 232 319 137 266 b 84 154 91 170 84 155 b 84 154 84 154 84 154 b 88 156 84 154 85 155 b 159 177 110 170 134 177 b 257 134 194 177 231 162 b 294 41 281 108 294 73 b 171 -97 294 -24 246 -90 b 156 -98 166 -97 161 -98 b 6 74 73 -98 6 -22 b 6 80 6 76 6 79 b 307 349 10 223 141 340 m 839 215 b 845 216 841 216 842 216 b 862 213 852 216 860 215 b 899 163 887 206 899 184 b 872 117 899 145 890 127 b 847 111 865 112 856 111 b 808 130 833 111 818 117 b 796 162 800 140 796 151 b 839 215 796 187 812 212 m 839 -112 b 845 -112 841 -112 842 -112 b 862 -115 852 -112 860 -113 b 899 -165 887 -122 899 -144 b 872 -210 899 -183 890 -201 b 847 -217 865 -215 856 -217 b 808 -198 833 -217 818 -210 b 796 -165 800 -188 796 -177 b 839 -112 796 -140 812 -116 "},v7a:{x_min:-1.359375,x_max:386.5625,ha:394,o:"m 249 535 b 257 537 251 537 253 537 b 276 524 266 537 273 533 l 277 521 l 279 419 l 279 316 l 304 323 b 337 328 319 326 330 328 b 353 316 347 328 349 324 b 355 266 355 315 355 290 b 353 215 355 241 355 217 b 319 198 349 206 347 205 b 279 187 284 190 279 188 b 279 156 279 187 279 174 b 279 136 279 151 279 144 l 279 84 l 289 87 l 330 98 b 367 105 352 102 362 105 b 378 101 372 105 375 104 b 386 61 385 95 386 94 b 386 40 386 55 386 48 l 386 -5 l 385 -8 b 374 -19 383 -12 378 -18 b 291 -40 372 -19 347 -26 b 279 -43 284 -41 279 -43 b 279 -83 279 -43 279 -59 b 279 -95 279 -87 279 -91 l 279 -145 l 304 -140 b 337 -133 321 -136 330 -133 b 349 -140 343 -133 347 -136 b 355 -181 355 -145 355 -142 l 355 -197 l 355 -210 b 349 -252 355 -249 355 -247 b 300 -269 345 -258 347 -258 b 280 -274 291 -272 281 -273 l 279 -274 l 277 -378 l 277 -483 l 276 -487 b 257 -499 273 -495 265 -499 b 238 -487 249 -499 242 -495 l 236 -483 l 236 -384 l 236 -285 l 235 -285 l 212 -291 l 170 -301 b 148 -308 159 -305 148 -306 b 147 -415 147 -308 147 -313 l 147 -523 l 145 -526 b 126 -538 141 -534 133 -538 b 106 -526 118 -538 110 -534 l 104 -523 l 104 -420 b 103 -317 104 -326 104 -317 b 103 -317 103 -317 103 -317 b 50 -330 92 -322 54 -330 b 31 -317 42 -330 35 -326 b 29 -267 29 -315 29 -315 l 29 -219 l 32 -216 b 92 -192 36 -206 36 -206 l 104 -190 l 104 -138 b 103 -87 104 -91 104 -87 b 103 -87 103 -87 103 -87 b 88 -91 103 -87 96 -88 l 49 -101 b 17 -106 32 -105 23 -106 b 6 -102 13 -106 10 -105 b -1 -62 0 -97 -1 -95 b 0 -41 -1 -56 0 -49 l 0 4 l 1 6 b 10 16 2 11 6 15 b 91 37 12 18 38 24 l 104 41 l 104 93 b 103 144 104 140 104 144 b 103 144 103 144 103 144 b 50 131 92 141 54 131 b 31 144 42 131 35 137 b 29 195 29 147 29 148 l 29 242 l 32 245 b 92 269 36 255 36 255 l 104 273 l 104 377 l 104 481 l 106 485 b 126 498 110 492 118 498 b 134 495 129 498 132 496 b 145 485 138 494 142 489 l 147 481 l 147 383 l 147 283 l 152 284 b 190 294 155 285 171 290 l 230 303 l 236 305 l 236 413 l 236 521 l 238 524 b 249 535 240 528 243 533 m 236 126 b 235 177 236 154 236 177 l 235 177 b 213 172 235 177 225 174 l 170 161 b 147 155 157 158 147 155 b 147 124 147 155 147 142 b 147 102 147 117 147 111 l 147 52 l 153 54 l 228 72 l 236 74 l 236 126 m 236 -105 b 235 -54 236 -65 236 -54 l 235 -54 b 231 -55 235 -54 234 -54 b 172 -69 227 -55 204 -62 l 149 -76 l 147 -76 l 147 -127 l 147 -179 l 152 -177 b 190 -167 155 -177 171 -173 l 230 -158 l 236 -156 l 236 -105 "},v7b:{x_min:-212.328125,x_max:210.96875,ha:215,o:"m -8 216 b -1 217 -6 216 -4 217 b 19 204 8 217 16 212 b 20 111 20 201 20 199 l 20 20 l 107 20 b 142 20 121 20 133 20 b 205 13 205 20 198 19 b 210 0 209 9 210 4 b 198 -20 210 -9 206 -16 b 107 -22 194 -22 193 -22 l 20 -22 l 20 -112 b 20 -148 20 -126 20 -138 b 13 -212 20 -213 19 -206 b 0 -219 9 -216 4 -219 b -20 -205 -8 -219 -16 -213 b -21 -112 -21 -202 -21 -201 l -21 -22 l -108 -22 b -200 -20 -194 -22 -196 -22 b -212 0 -208 -16 -212 -9 b -206 13 -212 4 -210 9 b -144 20 -200 19 -206 20 b -108 20 -134 20 -122 20 l -21 20 l -21 111 b -20 204 -21 199 -21 201 b -8 216 -17 209 -13 213 "},v7c:{x_min:0,x_max:300.8125,ha:307,o:"m 49 505 b 53 506 50 505 51 506 b 70 496 58 506 62 503 b 81 485 73 492 78 488 l 96 473 l 111 459 l 122 449 l 134 438 l 182 396 l 255 330 b 292 291 292 298 292 298 l 292 290 l 292 284 l 283 270 b 209 36 234 197 209 113 b 288 -170 209 -44 235 -119 b 299 -184 295 -179 299 -181 b 300 -191 300 -187 300 -188 b 285 -206 300 -199 294 -206 b 280 -206 283 -206 281 -206 b 247 -201 270 -202 259 -201 b 176 -222 223 -201 197 -208 b 114 -340 136 -249 114 -292 b 172 -471 114 -384 134 -433 b 185 -492 182 -481 185 -487 b 181 -502 185 -496 183 -499 b 171 -508 176 -505 174 -508 b 152 -498 166 -508 160 -503 b 0 -284 65 -428 12 -352 b 0 -260 0 -278 0 -270 b 1 -238 0 -252 0 -242 b 148 -140 16 -177 73 -140 b 209 -148 167 -140 189 -142 b 215 -149 212 -148 215 -149 b 215 -149 215 -149 215 -149 l 215 -149 b 201 -136 215 -148 209 -142 l 157 -97 l 96 -41 b 17 34 21 24 17 29 b 17 37 17 36 17 36 b 17 38 17 37 17 38 b 25 56 17 44 17 44 b 110 298 81 131 110 219 b 46 474 110 367 88 431 b 38 491 40 480 38 487 b 49 505 38 498 42 502 "},v7d:{x_min:-1.359375,x_max:436.921875,ha:446,o:"m 213 205 b 217 205 215 205 216 205 b 234 194 224 205 234 199 b 236 187 234 194 235 190 l 245 167 l 261 129 l 270 106 b 355 -61 294 54 329 -13 b 420 -163 381 -105 402 -138 b 436 -188 435 -184 436 -184 b 436 -191 436 -190 436 -190 b 421 -206 436 -201 431 -206 l 421 -206 l 416 -206 l 405 -201 b 217 -158 347 -172 283 -158 b 31 -201 153 -158 88 -172 l 20 -206 l 14 -206 l 14 -206 b 0 -191 5 -206 0 -201 b -1 -188 0 -190 -1 -190 b 14 -163 -1 -186 0 -184 b 95 -34 36 -136 72 -77 b 166 106 119 8 148 68 l 175 129 l 183 148 l 200 188 b 213 205 205 199 208 202 "},v7e:{x_min:-390.640625,x_max:389.28125,ha:397,o:"m -377 -1 b -368 0 -375 -1 -372 0 b -362 -1 -366 0 -363 -1 b -343 -24 -356 -4 -352 -8 l -285 -119 l -187 -280 l -88 -444 l -35 -533 b -31 -538 -32 -537 -32 -538 b -28 -534 -31 -538 -29 -537 l -23 -526 l -19 -517 l -13 -509 l -8 -501 l -2 -492 l 2 -483 l 6 -476 l 17 -458 l 23 -449 l 32 -433 l 38 -424 l 42 -416 l 47 -408 l 53 -399 l 58 -391 l 63 -381 l 68 -373 l 73 -365 l 78 -356 l 84 -348 l 89 -340 l 93 -330 l 99 -322 l 104 -315 l 114 -297 l 125 -280 l 129 -272 l 134 -263 l 140 -255 l 145 -247 l 151 -238 l 155 -230 l 160 -220 l 166 -212 l 171 -204 l 176 -195 l 181 -187 l 186 -177 l 191 -169 l 196 -162 l 201 -154 l 206 -144 l 217 -127 l 221 -119 l 227 -111 l 232 -102 l 238 -94 l 242 -86 l 247 -77 l 253 -69 l 258 -59 l 262 -51 l 268 -43 l 273 -34 l 279 -26 l 283 -18 b 321 -1 292 -2 292 -1 b 338 -1 326 -1 332 -1 b 382 -6 378 -1 375 -1 b 389 -20 386 -9 389 -15 b 382 -38 389 -26 386 -31 l 378 -47 l 372 -55 l 367 -63 l 362 -72 l 356 -80 l 351 -90 l 347 -98 l 341 -106 l 336 -115 l 330 -123 l 325 -131 l 321 -141 l 315 -149 l 310 -158 l 304 -166 l 299 -174 b 295 -183 298 -177 296 -181 l 289 -191 l 285 -199 l 280 -208 l 274 -216 l 269 -224 l 264 -233 l 259 -242 l 254 -251 l 249 -259 l 243 -267 l 238 -276 l 234 -284 l 228 -292 l 223 -302 l 217 -310 l 213 -319 l 208 -327 b 202 -335 206 -330 204 -334 l 197 -344 l 193 -351 l 187 -360 l 182 -369 l 176 -377 l 172 -385 l 167 -394 l 161 -403 l 156 -412 l 152 -420 l 147 -428 l 141 -437 l 136 -445 l 130 -455 l 126 -463 l 121 -471 l 115 -480 b 110 -488 114 -483 111 -487 l 106 -496 l 100 -503 l 96 -512 l 89 -521 l 85 -530 l 80 -538 l 74 -546 l 69 -555 l 65 -564 l 59 -573 l 54 -581 l 49 -589 l 43 -598 l 39 -606 l 34 -616 l 28 -624 l 23 -632 b 19 -641 21 -635 20 -638 b 0 -653 14 -649 8 -653 b -25 -631 -10 -653 -14 -649 l -80 -541 l -359 -79 b -389 -29 -375 -52 -389 -30 b -390 -22 -389 -26 -390 -24 b -377 -1 -390 -13 -385 -5 m -13 -9 b -1 -8 -9 -8 -5 -8 b 51 -36 19 -8 39 -19 b 61 -72 58 -47 61 -59 b 51 -106 61 -84 58 -97 b -1 -134 39 -124 19 -134 b -46 -115 -17 -134 -34 -127 b -62 -72 -57 -102 -62 -87 b -13 -9 -62 -44 -44 -16 "},v7f:{x_min:0,x_max:367.5,ha:375,o:"m 0 124 l 0 187 l 61 187 l 122 187 l 122 138 l 122 91 l 153 61 l 183 30 l 213 61 l 243 91 l 243 138 l 243 187 l 306 187 l 367 187 l 367 124 l 367 61 l 321 61 l 274 61 l 243 30 l 213 0 l 243 -31 l 274 -62 l 321 -62 l 367 -62 l 367 -124 l 367 -188 l 306 -188 l 243 -188 l 243 -140 l 243 -93 l 213 -62 l 183 -31 l 153 -62 l 122 -93 l 122 -140 l 122 -188 l 61 -188 l 0 -188 l 0 -124 l 0 -62 l 46 -62 l 92 -62 l 123 -31 l 153 0 l 123 30 l 92 61 l 46 61 l 0 61 l 0 124 "},v80:{x_min:29.9375,x_max:420.578125,ha:371,o:"m 115 345 b 221 347 117 345 166 347 b 411 345 306 347 409 345 b 420 330 416 342 420 335 b 415 319 420 326 419 321 b 178 118 397 303 179 118 b 178 117 178 118 178 117 b 181 117 178 117 178 117 b 189 117 182 117 185 117 b 193 117 190 117 191 117 b 247 98 215 117 232 111 b 296 75 266 83 280 76 b 302 75 299 75 300 75 b 322 91 311 75 315 79 b 322 91 322 91 322 91 b 322 91 322 91 322 91 b 319 91 322 91 321 91 b 313 90 318 90 315 90 b 283 107 300 90 288 97 b 277 126 279 114 277 121 b 319 167 277 149 295 167 b 319 167 319 167 319 167 b 362 118 347 167 362 147 b 355 82 362 108 359 96 b 311 33 349 65 340 55 b 224 1 284 12 253 1 b 194 5 213 1 204 2 b 168 18 183 8 178 11 b 110 36 151 30 130 36 b 57 15 88 36 68 29 b 47 11 54 12 51 11 b 31 20 40 11 34 13 b 29 26 31 22 29 25 b 68 66 29 36 39 45 b 285 250 73 71 281 248 b 285 250 285 250 285 250 b 231 252 285 252 261 252 b 137 250 190 252 141 250 b 93 227 122 248 110 241 b 78 220 88 222 83 220 b 66 227 74 220 70 222 b 63 234 65 229 63 231 b 85 291 63 241 69 252 b 115 345 108 342 108 344 "},v81:{x_min:0,x_max:428.75,ha:438,o:"m 262 186 b 273 186 266 186 272 186 b 274 186 273 186 274 186 b 285 186 274 186 280 186 b 428 48 375 181 428 122 b 386 -68 428 12 416 -29 b 155 -187 329 -145 236 -187 b 12 -111 92 -187 38 -162 b 0 -51 4 -91 0 -72 b 262 186 0 58 122 179 m 366 131 b 352 134 362 133 357 134 b 219 81 321 134 269 115 b 47 -111 126 23 50 -62 b 47 -112 47 -111 47 -112 b 77 -136 47 -129 58 -136 b 264 -45 118 -136 194 -101 b 382 109 336 12 382 76 b 366 131 382 120 377 129 "},v82:{x_min:0,x_max:607.0625,ha:619,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 m 347 631 b 353 632 348 632 351 632 b 374 620 363 632 371 628 b 375 383 375 616 375 616 l 375 148 l 377 151 b 492 199 415 183 454 199 b 537 191 507 199 522 197 b 607 84 582 176 607 134 b 583 0 607 58 598 29 b 455 -142 562 -40 533 -72 l 378 -215 b 355 -229 364 -229 362 -229 b 334 -216 345 -229 337 -224 l 333 -212 l 333 201 l 333 616 l 334 620 b 347 631 337 624 341 630 m 465 131 b 451 133 461 133 455 133 b 445 133 449 133 446 133 b 379 87 419 129 396 113 l 375 80 l 375 -37 l 375 -156 l 378 -152 b 499 81 451 -72 499 20 l 499 83 b 465 131 499 113 490 126 "
},v83:{x_min:-1.359375,x_max:847.96875,ha:865,o:"m 488 1499 b 495 1500 490 1500 492 1500 b 541 1465 507 1500 521 1490 b 679 1078 622 1372 679 1210 b 677 1050 679 1068 677 1060 b 477 642 668 893 604 764 l 443 609 l 431 596 l 431 592 l 438 562 l 449 508 l 460 458 b 481 355 475 390 481 355 b 481 355 481 355 481 355 b 490 356 481 355 485 355 b 528 358 495 356 511 358 b 558 356 540 358 552 356 b 839 95 699 338 808 237 b 847 22 845 72 847 47 b 631 -303 847 -113 766 -242 b 620 -309 623 -308 620 -309 l 620 -310 b 631 -359 620 -310 626 -333 l 646 -435 l 660 -496 b 672 -588 668 -535 672 -563 b 664 -653 672 -610 669 -630 b 383 -875 630 -792 509 -875 b 201 -810 321 -875 257 -855 b 129 -680 151 -768 129 -730 b 274 -530 129 -592 200 -530 b 351 -553 300 -530 326 -538 b 412 -669 393 -582 412 -626 b 287 -805 412 -735 366 -800 l 279 -805 l 285 -809 b 383 -830 318 -823 351 -830 b 586 -718 464 -830 540 -789 b 626 -584 612 -678 626 -631 b 619 -528 626 -566 623 -548 b 612 -495 619 -526 616 -510 b 577 -324 590 -387 577 -324 b 577 -324 577 -324 577 -324 b 568 -326 575 -324 571 -324 b 528 -334 558 -328 537 -333 b 465 -338 506 -337 485 -338 b 24 -11 269 -338 87 -206 b -1 145 8 41 -1 93 b 96 442 -1 249 32 351 b 322 714 166 541 236 626 l 352 745 l 345 782 l 332 843 l 315 921 b 303 984 310 950 304 978 b 295 1082 298 1017 295 1049 b 413 1426 295 1208 336 1329 b 488 1499 436 1456 477 1496 m 549 1301 b 541 1301 547 1301 544 1301 b 411 1207 500 1301 447 1263 b 355 1004 374 1152 355 1079 b 359 942 355 984 356 963 b 371 881 362 927 363 917 l 385 818 b 392 782 389 799 392 784 l 392 782 b 434 828 393 782 424 816 b 607 1165 534 941 594 1060 b 608 1193 608 1175 608 1183 b 597 1270 608 1224 604 1254 b 549 1301 589 1286 571 1299 m 398 528 b 393 555 396 542 393 553 b 392 555 393 555 393 555 b 317 470 390 555 347 505 b 190 298 266 408 212 334 b 127 70 148 227 127 148 b 155 -77 127 19 137 -30 b 468 -303 209 -216 333 -303 b 519 -299 484 -303 502 -302 b 568 -284 541 -295 568 -287 l 568 -284 b 563 -263 568 -284 566 -274 l 534 -120 l 511 -13 l 496 61 l 480 133 b 469 187 472 176 469 187 b 468 188 469 187 469 188 b 416 162 462 188 430 172 b 337 13 364 126 337 69 b 413 -124 337 -40 363 -93 b 428 -144 424 -131 428 -137 b 428 -149 428 -145 428 -148 b 409 -166 426 -161 419 -166 b 394 -162 405 -166 400 -165 b 240 77 302 -122 240 -27 l 240 77 b 430 342 240 197 315 301 l 436 344 l 426 394 l 398 528 m 548 194 b 526 195 540 195 532 195 b 519 195 524 195 521 195 l 514 195 l 518 177 l 539 79 l 552 15 l 566 -48 l 594 -187 l 605 -240 b 612 -266 609 -254 611 -266 b 612 -266 612 -266 612 -266 b 641 -248 613 -266 630 -256 b 744 -98 692 -212 730 -156 b 751 -40 749 -79 751 -59 b 548 194 751 76 665 181 "},v84:{x_min:25.859375,x_max:164.6875,ha:168,o:"m 34 369 b 40 370 35 370 38 370 b 59 353 49 370 50 367 b 164 40 122 254 155 158 b 164 0 164 33 164 16 b 164 -40 164 -16 164 -34 b 59 -353 155 -158 122 -254 b 40 -371 53 -366 47 -371 b 34 -370 38 -371 36 -370 b 25 -358 28 -367 25 -363 b 31 -337 25 -352 27 -347 b 92 0 72 -234 92 -117 b 31 335 92 116 72 233 b 25 356 27 345 25 352 b 34 369 25 363 28 366 "},v85:{x_min:-21.78125,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},v86:{x_min:-571.671875,x_max:570.3125,ha:582,o:"m -386 173 b -381 174 -385 174 -383 174 b -370 173 -377 174 -372 173 b -281 86 -367 172 -347 151 b -196 0 -235 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 53 86 -32 172 -12 151 b 138 0 100 37 138 0 b 208 84 140 0 170 37 b 284 174 279 173 277 172 b 289 174 285 174 288 174 b 299 173 294 174 298 173 b 462 11 303 172 338 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 374 -176 371 -176 b 280 -87 367 -173 345 -152 b 194 0 234 -38 194 0 b 125 -86 194 0 163 -38 b 49 -174 54 -174 55 -173 b 43 -176 47 -176 46 -176 b 34 -174 40 -176 36 -174 b -54 -87 31 -173 10 -152 b -140 0 -102 -38 -140 0 b -209 -86 -141 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -289 -176 b -300 -174 -295 -176 -299 -174 b -464 -12 -304 -173 -340 -137 l -476 0 l -504 -34 b -543 -77 -534 -73 -537 -76 b -549 -79 -545 -79 -547 -79 b -571 -58 -562 -79 -571 -69 b -568 -49 -571 -55 -570 -52 b -392 172 -566 -43 -396 167 b -386 173 -390 172 -387 173 "},v87:{x_min:0,x_max:0,ha:263},v88:{x_min:-1.359375,x_max:413.78125,ha:422,o:"m 99 692 b 107 694 102 692 104 694 b 121 688 112 694 117 691 b 126 673 123 685 125 682 b 209 460 141 598 172 519 l 215 451 l 215 445 l 215 445 b 197 426 215 434 206 426 b 186 430 194 426 190 427 b 133 449 170 440 152 446 b 127 451 130 449 129 451 b 126 449 126 451 126 451 b 127 446 126 449 127 448 b 127 324 127 444 127 424 b 129 205 127 259 129 205 b 215 227 129 205 167 215 b 308 249 283 244 300 249 b 315 247 311 249 313 248 b 325 237 319 245 323 241 l 326 233 l 326 -105 b 326 -262 326 -167 326 -219 b 326 -448 326 -416 326 -445 b 325 -451 325 -449 325 -451 b 326 -452 325 -452 325 -452 b 330 -451 326 -452 329 -451 b 385 -431 351 -448 368 -441 b 396 -427 389 -428 393 -427 b 413 -446 405 -427 413 -435 l 413 -446 l 413 -452 l 408 -462 b 325 -674 371 -520 340 -599 b 306 -695 322 -689 317 -695 b 285 -670 294 -695 289 -689 b 204 -462 268 -591 239 -520 l 197 -452 l 197 -446 l 197 -446 b 215 -427 197 -435 205 -427 b 225 -431 219 -427 223 -428 b 280 -451 243 -441 261 -448 b 285 -452 283 -452 284 -452 b 287 -451 287 -452 287 -452 b 285 -448 287 -451 287 -449 b 285 -323 285 -445 285 -426 b 284 -201 285 -247 284 -201 b 197 -223 284 -201 245 -210 b 104 -245 129 -240 111 -245 b 98 -242 102 -245 100 -244 b 88 -233 93 -241 89 -237 l 87 -230 l 87 106 b 87 262 87 169 87 220 b 87 446 87 415 87 444 b 88 449 88 448 88 449 b 87 451 88 451 88 451 b 81 449 85 451 84 451 b 27 430 62 446 44 440 b 16 426 24 427 20 426 b -1 445 6 426 -1 434 b 0 445 -1 445 0 445 l 0 451 l 5 460 b 87 669 40 519 69 589 b 99 692 91 685 92 688 m 284 22 b 285 70 285 41 285 58 b 284 116 285 113 284 116 l 284 116 b 205 97 283 116 247 106 l 127 77 l 127 -18 b 129 -112 127 -69 129 -112 l 206 -93 l 284 -73 l 284 22 "},v89:{x_min:0,x_max:737.71875,ha:753,o:"m 144 94 l 144 173 l 368 173 l 592 173 l 592 94 l 592 15 l 660 15 l 726 15 l 729 12 b 737 -1 735 9 737 4 b 729 -15 737 -6 735 -11 l 726 -16 l 368 -16 l 9 -16 l 6 -15 b 0 -1 1 -11 0 -6 b 6 12 0 4 1 9 l 9 15 l 77 15 l 144 15 l 144 94 "},v8a:{x_min:-170.140625,x_max:168.78125,ha:172,o:"m -160 567 b -122 567 -159 567 -149 567 l -87 567 l -84 566 b -74 553 -78 563 -77 560 b -20 366 -73 551 -49 466 b 31 186 8 267 31 186 b 85 371 31 186 55 269 b 140 559 114 473 138 557 b 153 567 141 564 148 567 b 168 559 159 567 166 564 b 168 555 168 557 168 557 b 92 281 168 548 159 513 b 14 13 50 134 14 13 b 0 0 14 6 6 0 b -17 15 -8 0 -17 8 b -93 283 -17 15 -51 136 b -170 552 -166 533 -170 548 b -170 553 -170 552 -170 552 b -160 567 -170 560 -167 564 "},v8b:{x_min:0,x_max:319.859375,ha:326,o:"m 149 508 b 159 509 152 509 155 509 b 186 494 170 509 181 503 b 190 440 190 487 190 488 l 190 430 l 190 377 l 242 377 l 251 377 b 303 373 298 377 296 377 b 319 345 314 367 319 356 b 304 319 319 335 314 324 b 250 315 296 315 299 315 l 242 315 l 190 315 l 190 262 l 190 252 b 186 198 190 204 190 205 b 159 183 179 188 170 183 b 132 198 148 183 138 188 b 127 252 127 205 127 204 l 127 262 l 127 315 l 76 315 l 68 315 b 14 319 20 315 21 315 b 0 347 4 324 0 335 b 14 373 0 356 4 367 b 68 377 21 377 20 377 l 76 377 l 127 377 l 127 430 l 127 440 b 132 494 127 488 127 487 b 149 508 136 501 142 505 "},v8c:{x_min:-330.75,x_max:329.390625,ha:336,o:"m -133 483 b -117 484 -127 484 -122 484 b 31 373 -51 484 9 440 b 35 348 34 365 35 356 b -25 285 35 313 10 285 b -87 331 -55 285 -76 302 b -167 402 -100 376 -133 402 b -191 398 -175 402 -183 401 b -227 341 -215 388 -227 369 b -225 320 -227 334 -227 327 b -13 74 -209 230 -125 133 b 6 65 -4 70 5 66 l 9 63 l 10 65 b 117 231 12 68 40 112 l 189 341 l 242 424 b 268 460 262 456 264 458 b 283 464 273 463 277 464 b 308 438 296 464 308 453 l 308 437 b 287 396 308 430 308 428 l 95 98 l 59 43 l 58 41 l 65 37 b 253 -156 151 -8 217 -77 b 281 -285 272 -199 281 -244 b 148 -481 281 -381 231 -463 b 115 -485 137 -484 126 -485 b -32 -376 51 -485 -9 -442 b -36 -349 -35 -366 -36 -358 b 25 -287 -36 -315 -12 -287 b 85 -333 54 -287 74 -302 b 166 -403 99 -377 133 -403 b 190 -399 174 -403 182 -402 b 225 -342 215 -390 225 -370 b 224 -322 225 -335 225 -328 b 12 -76 208 -231 125 -134 b -8 -66 2 -72 -6 -68 l -10 -65 l -12 -66 b -118 -231 -13 -68 -42 -113 l -190 -342 l -243 -426 b -269 -462 -264 -458 -265 -458 b -284 -466 -274 -464 -279 -466 b -310 -440 -298 -466 -310 -455 l -310 -438 b -288 -398 -310 -430 -308 -430 l -96 -99 l -59 -44 l -59 -43 l -66 -38 b -281 284 -198 33 -281 158 l -281 284 b -133 483 -281 392 -220 474 m 254 177 b 266 179 258 177 262 179 b 319 149 287 179 307 167 b 329 115 326 140 329 127 b 319 79 329 102 326 90 b 268 51 307 61 287 51 b 221 72 250 51 234 58 b 205 115 210 84 205 99 b 254 177 205 142 223 170 m -281 -54 b -269 -52 -277 -52 -273 -52 b -223 -73 -253 -52 -235 -59 b -206 -116 -212 -84 -206 -101 b -216 -151 -206 -129 -209 -141 b -269 -179 -228 -170 -249 -179 b -314 -159 -285 -179 -302 -173 b -330 -116 -325 -147 -330 -131 b -281 -54 -330 -88 -313 -61 "},v8d:{x_min:-1.359375,x_max:255.890625,ha:261,o:"m 118 514 b 127 517 121 517 122 517 b 147 505 136 517 142 513 l 148 502 l 148 403 b 148 306 148 351 148 306 b 174 315 149 306 160 310 l 200 324 l 205 323 b 223 312 213 323 220 319 l 225 308 l 225 260 b 225 245 225 255 225 249 b 220 204 225 208 224 209 b 179 188 216 199 215 199 l 148 177 l 148 124 l 148 70 l 189 84 b 236 98 219 94 230 98 b 247 94 240 98 243 97 b 255 52 254 88 255 87 b 255 33 255 47 255 40 l 254 -12 l 253 -15 b 249 -22 253 -18 250 -20 l 245 -24 l 196 -41 l 148 -58 l 148 -108 b 148 -158 148 -136 148 -158 b 174 -148 148 -158 160 -154 b 204 -140 198 -140 200 -140 l 204 -140 b 224 -152 213 -140 221 -145 b 225 -201 224 -155 225 -177 b 224 -254 225 -226 224 -251 b 157 -284 220 -262 220 -262 l 148 -288 l 148 -395 l 148 -503 l 147 -506 b 127 -519 142 -514 134 -519 b 107 -506 119 -519 111 -514 l 106 -503 l 106 -403 b 106 -303 106 -316 106 -303 b 104 -303 104 -303 104 -303 b 88 -310 104 -303 96 -306 l 63 -319 b 51 -322 59 -320 55 -322 b 36 -315 46 -322 40 -319 b 31 -273 32 -309 31 -312 b 31 -258 31 -269 31 -263 l 31 -210 l 34 -206 b 40 -198 35 -204 38 -199 b 74 -186 42 -197 57 -191 l 106 -173 l 106 -123 b 106 -97 106 -112 106 -104 b 106 -72 106 -76 106 -72 b 104 -72 106 -72 106 -72 b 20 -99 89 -79 23 -99 b 0 -84 10 -99 2 -93 b -1 -37 0 -81 -1 -59 b 0 11 -1 -15 0 9 b 58 40 4 22 2 22 l 106 56 l 106 109 b 106 123 106 115 106 119 b 106 162 106 147 106 162 b 81 155 106 162 93 159 b 50 147 65 149 55 147 b 36 152 43 147 40 148 b 31 194 32 158 31 156 b 31 209 31 198 31 204 l 31 256 l 34 260 b 76 281 38 269 38 269 l 106 292 l 106 396 l 106 502 l 107 505 b 118 514 110 509 114 513 "},v8e:{x_min:-299.4375,x_max:298.078125,ha:304,o:"m -281 174 b -274 174 -280 174 -277 174 b -259 173 -270 174 -265 174 l -40 112 l 224 40 b 287 20 289 22 283 23 b 298 0 295 16 298 8 b 287 -22 298 -9 295 -18 b 287 -23 287 -23 287 -23 b 287 -23 287 -23 287 -23 b -40 -113 287 -24 270 -29 l -259 -174 b -274 -176 -265 -176 -270 -176 b -288 -172 -280 -176 -284 -174 b -299 -151 -296 -167 -299 -159 b -288 -129 -299 -141 -296 -133 b -98 -74 -284 -124 -307 -131 l 42 -36 l 140 -9 b 170 0 156 -4 170 -1 b 140 8 170 0 156 2 l 42 34 l -98 73 b -287 126 -299 129 -284 124 b -299 149 -295 131 -299 140 b -281 174 -299 161 -294 170 "},v8f:{x_min:-21.78125,x_max:362.0625,ha:369,o:"m 302 1031 b 308 1032 304 1032 307 1032 b 330 1016 318 1032 325 1027 b 362 867 351 970 362 920 b 340 738 362 824 353 780 l 336 727 l 340 717 b 362 591 355 677 362 634 b 257 323 362 496 325 401 b 204 272 243 306 227 290 b 20 56 129 206 66 133 b -1 18 12 44 0 22 b -19 4 -4 9 -12 4 l -21 4 l -21 140 l -21 276 l -12 277 b 167 333 61 288 127 309 b 319 598 262 388 319 491 b 311 664 319 620 317 642 l 310 673 l 304 664 b 204 548 279 620 250 587 b 20 333 129 483 66 409 b -1 292 12 320 0 298 b -19 280 -4 285 -12 280 l -21 280 l -21 416 l -21 552 l -12 553 b 167 609 61 564 127 585 b 319 874 264 666 319 770 b 294 992 319 914 311 954 b 288 1011 288 1004 288 1007 b 302 1031 288 1021 294 1028 "},v90:{x_min:-171.5,x_max:483.1875,ha:493,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 495 20 616 20 616 b 20 373 20 427 20 373 b 115 410 20 373 63 390 l 210 448 l 210 531 b 212 620 210 614 210 616 b 231 632 215 628 223 632 b 246 627 236 632 242 631 b 251 541 251 620 251 628 l 251 463 l 315 489 b 387 514 368 509 381 514 b 393 513 390 514 392 514 b 406 494 402 510 406 502 b 397 476 406 487 404 480 b 323 446 396 474 363 462 l 251 417 l 251 283 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -19 -217 -9 -229 -16 -224 l -20 -215 l -21 48 l -21 310 l -83 287 b -152 262 -133 266 -145 262 b -157 263 -153 262 -155 262 b -171 283 -166 266 -171 274 b -161 301 -171 290 -167 297 b -91 328 -160 302 -129 315 l -21 356 l -21 487 l -20 617 l -19 621 b -8 631 -17 626 -12 630 m 210 288 b 210 401 210 351 210 401 b 114 365 209 401 167 384 l 20 327 l 20 238 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 180 164 199 187 192 l 209 177 b 209 177 209 177 209 177 b 210 288 210 177 210 199 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 "},v91:{x_min:-355.25,x_max:353.890625,ha:361,o:"m -27 720 b -13 721 -24 720 -20 721 b 42 718 4 721 34 720 b 343 446 190 699 308 591 b 353 360 349 417 353 390 b 84 9 353 197 245 49 b 0 0 55 2 27 0 b -344 273 -160 0 -306 109 b -355 359 -351 302 -355 331 b -39 718 -355 539 -221 700 l -27 720 m 39 691 b -13 692 32 691 4 692 b -25 692 -19 692 -23 692 b -322 416 -178 677 -296 566 b -326 360 -325 394 -326 390 b -325 323 -326 341 -325 328 b -36 29 -303 163 -193 51 b -1 29 -31 29 -16 29 b 35 29 14 29 29 29 b 323 323 191 51 302 163 b 325 360 323 328 325 341 b 321 416 325 390 323 394 b 39 691 296 560 185 669 m -12 655 b -4 655 -9 655 -6 655 b 20 652 4 655 14 653 b 66 585 50 642 66 613 b 32 524 66 562 55 538 b 25 521 28 523 25 521 b 16 403 25 520 16 408 b 16 403 16 403 16 403 l 16 403 b 54 448 17 403 34 423 l 92 492 l 89 499 b 87 519 88 506 87 513 b 103 564 87 535 92 552 b 155 589 117 581 136 589 b 216 551 179 589 204 576 b 224 520 221 541 224 530 b 156 449 224 483 193 449 b 136 453 149 449 142 451 l 129 455 l 85 416 b 42 377 61 395 42 378 l 42 377 l 42 377 b 156 387 46 377 156 387 b 160 394 156 387 159 390 b 220 430 172 417 197 430 b 280 394 243 430 266 417 b 288 360 285 384 288 371 b 280 326 288 348 285 337 b 220 291 266 302 243 291 b 160 327 197 291 172 302 b 156 333 159 330 156 333 b 42 342 156 333 46 342 b 42 342 42 342 42 342 l 42 342 b 85 303 42 342 61 324 l 129 265 l 136 267 b 155 270 142 269 148 270 b 198 254 171 270 186 265 b 223 201 216 240 223 220 b 186 138 223 176 210 151 b 155 131 176 133 166 131 b 87 201 119 131 87 162 b 89 220 87 206 88 213 l 92 227 l 54 272 b 16 316 34 297 17 316 l 16 316 b 16 316 16 316 16 316 b 25 199 16 313 25 199 b 32 195 25 199 28 198 b 68 134 55 183 68 158 b 32 73 68 111 55 87 b -1 65 23 68 10 65 b -34 73 -12 65 -24 68 b -69 134 -57 87 -69 111 b -34 195 -69 158 -57 183 b -27 199 -29 198 -27 199 b -17 316 -27 199 -17 313 b -17 316 -17 316 -17 316 l -17 316 b -55 272 -19 316 -35 297 l -93 227 l -91 220 b -88 201 -89 215 -88 208 b -104 156 -88 184 -93 169 b -156 131 -118 140 -137 131 b -217 169 -181 131 -205 144 b -225 201 -223 179 -225 190 b -157 270 -225 238 -194 270 b -137 267 -151 270 -144 269 l -130 265 l -87 303 b -43 342 -62 324 -43 342 l -43 342 b -43 342 -43 342 -43 342 b -157 333 -47 342 -157 333 b -161 327 -159 333 -160 330 b -221 291 -175 302 -198 291 b -281 326 -245 291 -268 302 b -289 360 -287 337 -289 348 b -281 394 -289 371 -287 384 b -221 430 -268 417 -245 430 b -161 394 -198 430 -175 417 b -157 387 -160 390 -159 387 b -43 377 -157 387 -47 377 l -43 377 l -43 377 b -87 416 -43 378 -62 395 l -130 455 l -137 453 b -156 449 -144 451 -149 449 b -200 466 -172 449 -187 455 b -224 520 -217 480 -224 499 b -187 581 -224 545 -212 569 b -156 589 -178 587 -167 589 b -88 520 -121 589 -88 559 b -91 499 -88 513 -89 506 l -93 492 l -55 448 b -17 403 -35 423 -19 403 l -17 403 b -17 403 -17 403 -17 403 b -27 521 -17 408 -27 520 b -34 524 -27 521 -29 523 b -68 585 -57 538 -68 562 b -12 655 -68 617 -47 649 "},v92:{x_min:0,x_max:598.890625,ha:611,o:"m 62 181 b 77 183 66 183 72 183 b 91 181 83 183 88 183 b 202 131 100 180 106 177 l 299 87 l 394 131 b 517 183 499 181 502 183 b 519 183 517 183 518 183 b 598 104 567 183 598 144 b 577 49 598 84 592 65 b 518 15 567 38 563 37 b 484 0 499 6 484 0 b 518 -16 484 -1 499 -8 b 577 -51 563 -38 567 -40 b 598 -105 592 -66 598 -86 b 519 -184 598 -145 567 -184 b 517 -184 518 -184 517 -184 b 394 -133 502 -184 499 -183 l 299 -88 l 202 -133 b 81 -184 99 -183 95 -184 b 77 -184 80 -184 78 -184 b 0 -105 29 -184 0 -145 b 20 -51 0 -86 5 -66 b 80 -16 29 -40 34 -38 b 114 -1 98 -8 114 -1 b 80 15 114 0 98 6 b 20 49 34 37 29 38 b 0 104 6 65 0 84 b 62 181 0 140 23 174 m 88 134 b 74 136 85 134 80 136 b 68 134 72 136 69 136 b 46 104 54 130 46 117 b 55 81 46 95 49 88 b 149 34 59 76 53 80 b 224 -1 190 15 224 0 b 144 -38 224 -1 187 -18 b 54 -84 59 -79 58 -79 b 46 -105 49 -90 46 -98 b 76 -137 46 -122 58 -137 b 78 -137 77 -137 77 -137 b 194 -86 87 -137 76 -141 b 298 -36 250 -58 298 -36 b 298 -36 298 -36 298 -36 b 402 -84 299 -36 345 -58 b 518 -137 522 -141 510 -137 b 521 -137 519 -137 519 -137 b 551 -105 539 -137 551 -122 b 541 -83 551 -98 548 -90 b 447 -36 537 -77 544 -81 b 374 -1 406 -16 374 -1 b 447 34 374 0 406 15 b 541 81 544 80 537 76 b 551 104 548 88 551 97 b 521 136 551 120 539 136 b 518 136 519 136 519 136 b 517 136 518 136 517 136 l 517 136 b 402 83 511 136 511 136 b 298 34 345 56 299 34 b 298 34 298 34 298 34 b 194 84 298 34 250 56 b 88 134 137 111 89 133 "},v93:{x_min:0,x_max:438.28125,ha:447,o:"m 212 205 b 219 205 213 205 216 205 b 239 183 228 205 231 204 b 421 -163 298 40 363 -83 b 438 -191 434 -180 438 -186 b 436 -197 438 -192 438 -195 b 424 -206 434 -204 431 -206 b 406 -201 420 -206 415 -205 b 216 -156 347 -172 281 -156 b 23 -205 148 -156 80 -173 b 14 -206 20 -206 17 -206 b 0 -191 6 -206 0 -201 b 6 -176 0 -187 1 -183 b 202 192 63 -104 142 45 b 212 205 205 199 208 202 m 264 48 l 249 81 l 243 94 l 242 91 b 89 -126 208 36 137 -66 b 81 -138 85 -133 81 -138 b 81 -138 81 -138 81 -138 b 81 -138 81 -138 81 -138 b 95 -133 81 -138 87 -136 b 280 -94 156 -108 221 -94 b 334 -98 299 -94 317 -95 b 343 -99 338 -99 343 -99 b 343 -99 343 -99 343 -99 b 338 -94 343 -99 341 -97 b 264 48 318 -58 287 1 "},v94:{x_min:-149.71875,x_max:148.359375,ha:151,o:"m -9 215 b 0 217 -6 217 -4 217 b 19 205 8 217 14 213 b 20 142 20 202 20 201 l 20 84 l 23 84 b 144 -27 81 74 129 30 b 148 -66 147 -40 148 -54 b 36 -213 148 -134 103 -197 b 0 -219 24 -217 12 -219 b -145 -104 -68 -219 -129 -173 b -149 -68 -148 -91 -149 -79 b -24 84 -149 6 -98 74 l -21 84 l -21 142 b -19 205 -20 201 -20 202 b -9 215 -17 209 -13 213 m -21 -15 b -23 41 -21 37 -21 41 b -23 41 -23 41 -23 41 b -76 11 -35 40 -62 26 b -108 -65 -98 -11 -108 -38 b -1 -176 -108 -122 -65 -176 b 107 -65 63 -176 107 -122 b 74 11 107 -38 96 -11 b 20 41 61 26 32 41 b 20 -15 20 41 20 15 b 19 -74 20 -72 20 -72 b 0 -87 14 -83 6 -87 b -19 -74 -8 -87 -16 -83 b -21 -15 -20 -72 -20 -72 "},v95:{x_min:0,x_max:406.96875,ha:415,o:"m 55 181 b 70 183 61 183 66 183 b 111 170 85 183 99 179 b 160 130 115 167 137 149 l 202 95 l 245 130 b 319 181 299 176 302 179 b 334 183 325 183 330 183 b 406 109 375 183 406 148 b 401 81 406 99 405 91 b 348 24 394 65 390 59 b 318 -1 332 11 318 0 b 348 -26 318 -1 332 -12 b 401 -83 390 -61 394 -66 b 406 -111 405 -93 406 -101 b 334 -184 406 -149 375 -184 b 319 -183 330 -184 325 -184 b 245 -131 302 -180 299 -177 l 202 -97 l 160 -131 b 85 -183 107 -177 103 -180 b 70 -184 80 -184 76 -184 b 0 -111 31 -184 0 -149 b 4 -83 0 -101 1 -93 b 58 -26 10 -66 16 -61 b 88 -1 74 -12 88 -1 b 58 24 88 0 74 11 b 10 69 23 54 17 59 b 0 109 2 81 0 95 b 55 181 0 142 21 173 m 83 133 b 72 136 78 136 76 136 b 57 131 66 136 61 134 b 46 109 49 126 46 117 b 50 93 46 104 47 98 b 107 45 51 91 77 70 b 160 0 137 20 160 0 b 107 -47 160 -1 137 -22 b 50 -94 77 -72 51 -93 b 46 -111 47 -99 46 -105 b 59 -134 46 -120 50 -130 b 72 -137 62 -136 68 -137 b 83 -136 76 -137 80 -136 b 144 -84 84 -134 107 -116 b 202 -36 176 -58 202 -36 b 261 -84 202 -36 230 -58 b 323 -136 299 -116 321 -134 b 334 -137 326 -136 330 -137 b 345 -134 338 -137 343 -136 b 360 -111 355 -130 360 -120 b 355 -94 360 -105 359 -99 b 299 -47 353 -93 329 -72 b 245 0 269 -22 245 -1 b 299 45 245 0 269 20 b 355 93 329 70 353 91 b 360 109 359 98 360 104 b 345 133 360 119 355 129 b 334 136 343 134 338 136 b 323 134 330 136 326 134 b 261 83 321 133 299 115 b 202 34 230 56 202 34 b 144 83 202 34 176 56 b 83 133 106 115 84 133 "},v96:{x_min:0,x_max:597.53125,ha:610,o:"m 356 341 b 479 341 402 341 445 341 b 570 341 533 341 568 341 b 597 309 586 340 597 326 l 597 309 b 472 -320 597 305 475 -310 b 451 -341 469 -330 462 -337 b 242 -342 450 -342 347 -342 b 21 -341 134 -342 24 -342 b 0 -310 8 -337 0 -324 b 0 -310 0 -310 0 -310 b 123 316 0 -306 118 297 b 144 340 126 327 133 335 b 356 341 147 341 153 341 m 528 276 b 353 277 528 277 492 277 b 179 276 215 277 179 277 b 123 -1 179 276 153 151 l 68 -278 l 242 -278 b 310 -278 266 -278 289 -278 b 416 -278 372 -278 416 -278 b 528 276 417 -278 528 274 "},v97:{x_min:-228.671875,x_max:227.3125,ha:232,o:"m -217 487 l -213 488 l 0 488 l 212 488 l 216 487 b 225 476 220 484 224 480 l 227 473 l 227 244 l 227 15 l 225 12 b 206 0 223 4 215 0 b 197 1 204 0 200 0 b 187 12 193 4 189 6 l 186 15 l 186 138 l 186 262 l -1 262 l -187 262 l -187 138 l -187 15 l -189 12 b -208 0 -193 4 -200 0 b -227 12 -216 0 -223 4 l -228 15 l -228 244 l -228 473 l -227 476 b -217 487 -225 480 -221 484 "},v98:{x_min:-1.359375,x_max:427.390625,ha:436,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 b 272 494 272 616 272 616 l 272 370 l 344 333 b 426 285 426 292 423 294 b 427 277 426 283 427 280 b 405 256 427 266 417 256 b 405 256 405 256 405 256 l 400 256 l 336 290 b 272 322 300 308 272 322 b 272 54 272 322 272 201 b 270 -216 272 -212 272 -212 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b -1 84 9 18 -1 52 b 111 199 -1 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 245 l 231 342 l 157 380 b 81 420 92 413 84 417 b 76 435 77 424 76 430 b 96 456 76 446 84 456 b 98 456 96 456 98 456 l 103 456 l 166 424 b 230 391 201 406 230 391 b 231 503 230 391 231 442 b 232 620 231 614 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 "},v99:{x_min:0,x_max:239.5625,ha:244,o:"m 10 460 b 20 462 13 462 14 462 b 39 449 28 462 35 458 l 40 446 l 40 326 b 40 205 40 259 40 205 b 127 227 40 205 80 215 b 220 249 196 244 213 249 b 227 247 224 249 225 248 b 238 237 231 245 235 241 l 239 233 l 239 -106 l 239 -448 l 238 -451 b 219 -463 234 -459 225 -463 b 198 -451 210 -463 202 -459 l 197 -448 l 197 -324 b 197 -201 197 -248 197 -201 b 110 -223 196 -201 157 -210 b 17 -245 42 -240 24 -245 b 10 -242 13 -245 13 -244 b 0 -233 6 -241 2 -237 l 0 -230 l 0 108 l 0 446 l 0 449 b 10 460 2 453 6 458 m 197 22 b 197 70 197 41 197 58 b 196 116 197 113 197 116 l 196 116 b 118 97 196 116 160 106 l 40 77 l 40 -18 b 40 -112 40 -69 40 -112 l 119 -93 l 197 -73 l 197 22 "},v9a:{x_min:-21.78125,x_max:367.5,ha:375,o:"m 230 1031 b 238 1032 232 1032 235 1032 b 259 1014 245 1032 251 1027 b 367 662 330 906 367 782 b 364 602 367 641 367 621 b 232 317 352 488 304 384 b 57 120 155 245 103 187 b -1 18 31 84 6 40 b -19 4 -4 11 -12 4 l -21 4 l -21 159 l -21 315 l -16 315 b 96 335 10 315 62 324 b 315 695 227 380 315 527 b 313 738 315 709 314 724 b 224 991 304 825 273 916 b 216 1013 219 999 216 1007 b 230 1031 216 1021 220 1028 "},v9b:{x_min:-24.5,x_max:313.0625,ha:319,o:"m -24 -133 l -24 -5 l -20 -5 b -1 -19 -12 -5 -4 -11 b 142 -213 13 -61 74 -144 b 258 -376 196 -269 230 -315 b 313 -605 295 -449 313 -528 b 292 -742 313 -652 306 -699 b 288 -752 289 -748 288 -752 b 288 -752 288 -752 288 -752 b 292 -764 289 -753 291 -757 b 313 -907 306 -811 313 -860 b 292 -1045 313 -954 306 -1002 b 288 -1054 289 -1050 288 -1054 b 288 -1054 288 -1054 288 -1054 b 292 -1067 289 -1054 291 -1060 b 313 -1210 306 -1113 313 -1161 b 292 -1346 313 -1257 306 -1304 b 288 -1357 289 -1353 288 -1357 b 288 -1357 288 -1357 288 -1357 b 292 -1368 289 -1357 291 -1363 b 313 -1512 306 -1415 313 -1464 b 292 -1648 313 -1560 306 -1605 b 288 -1660 289 -1654 288 -1660 b 288 -1660 288 -1660 288 -1660 b 292 -1671 289 -1660 291 -1665 b 313 -1814 306 -1719 313 -1766 b 250 -2040 313 -1897 291 -1977 b 232 -2062 238 -2057 236 -2059 b 221 -2065 230 -2063 225 -2065 b 200 -2045 210 -2065 201 -2057 b 200 -2043 200 -2044 200 -2044 b 208 -2026 200 -2037 202 -2034 b 269 -1826 249 -1966 269 -1897 b 153 -1544 269 -1726 230 -1625 b -9 -1472 115 -1506 58 -1481 b -21 -1471 -14 -1471 -19 -1471 l -24 -1471 l -24 -1343 l -24 -1215 l -20 -1215 b -1 -1229 -12 -1215 -4 -1221 b 142 -1424 13 -1270 74 -1353 b 257 -1582 196 -1478 228 -1524 b 264 -1594 261 -1589 264 -1594 l 264 -1594 b 265 -1582 264 -1594 264 -1589 b 270 -1525 268 -1562 270 -1544 b 153 -1243 270 -1424 228 -1321 b -9 -1170 115 -1203 58 -1178 b -21 -1168 -14 -1170 -19 -1168 l -24 -1168 l -24 -1041 l -24 -913 l -20 -913 b -1 -927 -12 -913 -4 -918 b 142 -1121 13 -967 74 -1050 b 257 -1281 196 -1175 228 -1221 b 264 -1292 261 -1286 264 -1292 l 264 -1292 b 265 -1279 264 -1292 264 -1286 b 270 -1222 268 -1261 270 -1242 b 153 -941 270 -1121 228 -1018 b -9 -867 115 -900 58 -875 b -21 -866 -14 -867 -19 -866 l -24 -866 l -24 -738 l -24 -610 l -20 -610 b -1 -624 -12 -610 -4 -616 b 142 -818 13 -664 74 -749 b 257 -978 196 -873 228 -918 b 264 -989 261 -984 264 -989 l 264 -989 b 265 -977 264 -989 264 -984 b 270 -920 268 -959 270 -939 b 153 -638 270 -818 228 -716 b -9 -564 115 -598 58 -573 b -21 -563 -14 -564 -19 -563 l -24 -563 l -24 -435 l -24 -308 l -20 -308 b -1 -322 -12 -308 -4 -313 b 142 -516 13 -363 74 -446 b 257 -675 196 -571 228 -616 b 264 -687 261 -681 264 -687 l 264 -687 b 265 -674 264 -687 264 -681 b 270 -617 268 -656 270 -637 b 153 -335 270 -516 228 -413 b -9 -262 115 -295 58 -270 b -21 -260 -14 -262 -19 -260 l -24 -260 l -24 -133 "},v9c:{x_min:-166.0625,x_max:-25.859375,ha:0,o:"m -49 369 b -42 370 -46 369 -44 370 b -27 360 -36 370 -29 366 b -25 355 -27 359 -25 358 b -32 335 -25 351 -28 347 b -92 52 -66 248 -87 159 b -93 -1 -93 43 -93 20 b -92 -54 -93 -23 -93 -45 b -32 -337 -85 -162 -66 -251 b -25 -355 -27 -349 -25 -352 b -42 -371 -25 -365 -32 -371 b -61 -353 -50 -371 -51 -369 b -163 -63 -119 -262 -153 -165 b -166 -1 -166 -37 -166 -31 b -163 62 -166 30 -166 36 b -61 352 -153 163 -119 260 b -49 369 -54 365 -51 366 "},v9d:{x_min:-1.359375,x_max:326.671875,ha:333,o:"m 99 692 b 107 694 102 692 104 694 b 121 688 112 694 117 691 b 126 673 123 685 125 682 b 209 460 141 598 172 519 l 215 451 l 215 445 l 215 445 b 197 426 215 434 206 426 b 186 430 194 426 190 427 b 133 449 170 440 152 446 b 127 451 130 449 129 451 b 126 449 126 451 126 451 b 127 446 126 449 127 448 b 127 324 127 444 127 424 b 129 205 127 259 129 205 b 215 227 129 205 167 215 b 308 249 283 244 300 249 b 315 247 311 249 313 248 b 325 237 319 245 323 241 l 326 233 l 326 -106 l 326 -448 l 325 -451 b 306 -463 321 -459 314 -463 b 287 -451 298 -463 291 -459 l 285 -448 l 285 -324 b 284 -201 285 -248 284 -201 b 197 -223 284 -201 245 -210 b 104 -245 129 -240 111 -245 b 98 -242 102 -245 100 -244 b 88 -233 93 -241 89 -237 l 87 -230 l 87 106 b 87 262 87 169 87 220 b 87 446 87 415 87 444 b 88 449 88 448 88 449 b 87 451 88 451 88 451 b 81 449 85 451 84 451 b 27 430 62 446 44 440 b 16 426 24 427 20 426 b -1 445 6 426 -1 434 b 0 445 -1 445 0 445 l 0 451 l 5 460 b 87 669 40 519 69 589 b 99 692 91 685 92 688 m 284 22 b 285 70 285 41 285 58 b 284 116 285 113 284 116 l 284 116 b 205 97 283 116 247 106 l 127 77 l 127 -18 b 129 -112 127 -69 129 -112 l 206 -93 l 284 -73 l 284 22 "},v9e:{x_min:0,x_max:607.0625,ha:619,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 m 347 631 b 353 632 348 632 351 632 b 374 620 363 632 371 628 b 375 383 375 616 375 616 l 375 148 l 377 151 b 492 199 415 183 454 199 b 537 191 507 199 522 197 b 607 84 582 176 607 134 b 583 0 607 58 598 29 b 455 -142 562 -40 533 -72 l 378 -215 b 355 -229 364 -229 362 -229 b 334 -216 345 -229 337 -224 l 333 -212 l 333 201 l 333 616 l 334 620 b 347 631 337 624 341 630 m 465 131 b 451 133 461 133 455 133 b 445 133 449 133 446 133 b 379 87 419 129 396 113 l 375 80 l 375 -37 l 375 -156 l 378 -152 b 499 81 451 -72 499 20 l 499 83 b 465 131 499 113 490 126 "},v9f:{x_min:-311.6875,x_max:310.328125,ha:317,o:"m -9 388 b -2 390 -8 390 -5 390 b 5 388 1 390 4 390 b 19 378 10 387 16 383 b 23 333 23 371 23 371 l 23 328 l 23 290 l 27 290 b 172 274 62 290 129 283 b 200 259 191 270 196 267 b 215 40 204 249 215 102 b 215 26 215 33 215 26 l 216 24 l 253 24 l 255 24 b 299 19 292 24 292 23 b 310 -1 306 15 310 6 b 299 -23 310 -11 306 -19 b 255 -27 292 -27 292 -27 l 253 -27 l 216 -27 l 215 -30 b 215 -55 215 -31 215 -43 b 202 -244 213 -111 209 -179 b 174 -277 200 -270 198 -273 b 40 -294 132 -285 87 -291 l 23 -294 l 23 -331 b 23 -340 23 -334 23 -337 b 17 -381 23 -376 23 -374 b -1 -391 13 -388 5 -391 b -21 -381 -9 -391 -17 -388 b -27 -340 -27 -374 -27 -376 b -27 -331 -27 -337 -27 -334 l -27 -294 l -44 -294 b -178 -277 -91 -291 -136 -285 b -205 -258 -198 -273 -204 -270 b -219 -44 -210 -215 -219 -94 b -219 -29 -219 -37 -219 -30 l -220 -27 l -255 -27 l -258 -27 b -300 -23 -294 -27 -294 -27 b -311 -2 -307 -19 -311 -11 b -294 23 -311 8 -304 19 b -255 24 -291 23 -284 24 l -220 24 l -219 26 b -219 40 -219 26 -219 33 b -204 259 -219 104 -208 249 b -176 274 -200 267 -196 270 b -31 290 -133 283 -66 290 l -27 290 l -27 328 b -27 371 -27 360 -27 369 b -9 388 -24 378 -17 385 m -27 136 l -27 247 l -28 247 b -103 233 -46 245 -100 235 b -107 197 -103 233 -106 217 b -115 52 -111 147 -114 94 b -115 27 -115 40 -115 29 l -115 24 l -72 24 l -27 24 l -27 136 m 34 245 b 24 247 28 247 24 247 b 23 136 24 247 23 197 l 23 24 l 68 24 l 111 24 l 111 27 b 111 52 111 29 111 40 b 103 197 110 94 107 147 b 99 233 102 217 100 233 b 34 245 98 235 54 244 m -27 -140 l -27 -27 l -72 -27 l -115 -27 l -115 -30 b -115 -56 -115 -33 -115 -44 b -107 -201 -114 -98 -111 -151 b -103 -237 -106 -222 -103 -237 b -28 -251 -100 -240 -40 -251 b -27 -140 -28 -251 -27 -201 m 111 -30 l 111 -27 l 68 -27 l 23 -27 l 23 -140 b 24 -251 23 -201 24 -251 b 99 -237 36 -251 96 -240 b 103 -201 100 -237 102 -222 b 111 -56 107 -151 110 -98 b 111 -30 111 -44 111 -33 "
},va0:{x_min:0,x_max:622.03125,ha:635,o:"m 398 417 b 406 419 401 419 404 419 b 427 398 417 419 427 409 b 427 391 427 395 427 392 b 34 -274 424 385 38 -272 b 20 -280 29 -278 25 -280 b 0 -259 9 -280 0 -270 b 0 -252 0 -256 0 -254 b 393 413 2 -247 389 410 b 398 417 394 415 397 416 m 592 417 b 600 419 594 419 597 419 b 622 398 611 419 622 409 b 620 391 622 395 620 392 b 227 -274 617 385 231 -272 b 213 -280 223 -278 219 -280 b 193 -259 202 -280 193 -270 b 194 -252 193 -256 193 -254 b 586 413 196 -247 582 410 b 592 417 588 415 590 416 "},va1:{x_min:0,x_max:294,ha:300,o:"m 138 381 b 147 381 141 381 144 381 b 221 299 191 381 221 341 b 194 238 221 278 213 255 b 159 210 190 234 161 212 b 78 148 157 209 81 151 b 78 148 78 148 78 148 b 95 106 78 144 88 119 b 121 77 103 88 108 83 b 156 69 132 72 144 69 b 259 127 193 69 232 91 b 273 140 266 137 269 138 b 279 141 274 141 276 141 b 294 124 287 141 294 134 b 292 117 294 123 294 120 b 255 66 289 113 261 72 b 126 -1 220 22 171 -1 b 47 27 96 -1 69 8 b 2 133 31 43 9 93 b 0 180 0 149 0 165 b 53 326 0 237 17 288 b 103 366 59 331 91 358 b 138 381 112 373 129 380 m 126 326 b 118 326 123 326 121 326 b 98 316 110 326 103 323 b 68 215 78 288 68 255 b 68 208 68 213 68 210 b 70 183 69 195 69 184 l 70 183 b 93 201 70 183 81 191 l 133 231 b 159 259 152 247 155 248 b 163 278 161 266 163 272 b 126 326 163 299 148 320 "},va2:{x_min:0,x_max:367.5,ha:375,o:"m 0 124 l 0 187 l 61 187 l 122 187 l 122 138 l 122 91 l 153 61 l 183 30 l 213 61 l 243 91 l 243 138 l 243 187 l 306 187 l 367 187 l 367 124 l 367 61 l 321 61 l 274 61 l 243 30 l 213 0 l 243 -31 l 274 -62 l 321 -62 l 367 -62 l 367 -124 l 367 -188 l 306 -188 l 243 -188 l 243 -140 l 243 -93 l 213 -62 l 183 -31 l 153 -62 l 122 -93 l 122 -140 l 122 -188 l 61 -188 l 0 -188 l 0 -124 l 0 -62 l 46 -62 l 92 -62 l 123 -31 l 153 0 l 123 30 l 92 61 l 46 61 l 0 61 l 0 124 "},va3:{x_min:58.53125,x_max:228.671875,ha:294,o:"m 138 371 b 142 373 140 371 141 373 b 178 342 149 373 156 366 b 228 251 217 297 228 278 b 228 244 228 248 228 247 b 176 147 227 212 212 184 b 123 73 152 122 132 93 b 121 62 122 70 121 66 b 145 13 121 48 129 31 b 153 -2 151 6 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 145 -11 b 129 -1 140 -11 136 -8 b 61 87 89 37 68 68 b 58 113 59 95 58 105 b 110 215 58 144 74 177 b 163 287 134 240 155 269 b 166 299 166 291 166 295 b 141 348 166 313 157 330 b 133 360 134 356 133 358 b 133 363 133 362 133 362 b 138 371 133 367 136 370 "},va4:{x_min:-21.78125,x_max:483.1875,ha:493,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 383 20 616 20 616 l 20 148 l 21 151 b 140 199 59 183 102 199 b 206 179 164 199 187 192 l 210 176 l 210 396 l 210 617 l 212 621 b 231 632 216 628 223 632 b 250 620 239 632 247 628 b 251 383 251 616 251 616 l 251 148 l 254 151 b 370 199 291 183 332 199 b 415 191 385 199 400 197 b 483 84 458 176 483 134 b 461 0 483 58 476 29 b 332 -142 439 -40 411 -72 l 255 -215 b 231 -229 240 -229 239 -229 b 216 -223 224 -229 220 -227 b 210 -158 210 -217 210 -223 b 210 -120 210 -148 210 -136 l 210 -29 l 205 -34 b 100 -142 182 -65 159 -88 l 23 -215 b -1 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 l -21 -212 l -21 201 l -21 616 l -20 620 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 m 341 131 b 328 133 337 133 332 133 b 322 133 326 133 323 133 b 257 87 296 129 273 113 l 251 80 l 251 -37 l 251 -156 l 255 -152 b 375 81 328 -72 375 20 l 375 83 b 341 131 375 113 367 126 "},va5:{x_min:0,x_max:349.8125,ha:357,o:"m 88 302 b 103 303 93 302 98 303 b 202 224 149 303 191 270 b 205 199 204 216 205 208 b 178 129 205 173 196 147 l 175 126 l 182 127 b 307 249 236 142 284 190 b 313 259 308 254 311 258 b 329 267 317 265 323 267 b 349 247 340 267 349 259 b 201 -263 349 242 204 -258 b 182 -273 197 -270 190 -273 b 163 -260 174 -273 166 -269 b 161 -256 161 -259 161 -258 b 217 -59 161 -248 170 -220 b 272 129 247 43 272 127 b 272 129 272 129 272 129 b 264 122 272 129 268 126 b 140 80 227 94 183 80 b 36 115 102 80 65 91 b 0 194 10 136 0 165 b 88 302 0 244 32 292 "},va6:{x_min:0,x_max:462.78125,ha:472,o:"m 8 595 b 14 596 10 596 12 596 b 50 591 21 596 29 595 b 455 248 255 544 420 405 b 462 191 460 229 462 209 b 321 0 462 94 404 9 b 300 -1 314 -1 307 -1 b 149 167 215 -1 149 69 b 294 387 149 258 201 337 b 296 390 295 388 296 388 b 289 398 296 391 294 392 b 21 560 225 477 130 535 b 2 569 9 563 5 566 b 0 580 0 573 0 576 b 8 595 0 587 2 592 m 325 348 b 321 353 322 351 322 353 b 313 348 319 353 317 351 b 223 167 255 306 223 237 b 227 124 223 154 224 138 b 289 31 236 79 261 40 b 295 31 291 31 294 31 b 355 104 315 31 338 59 b 368 191 364 129 368 159 b 364 241 368 208 367 224 b 325 348 357 277 344 313 "},va7:{x_min:-155.171875,x_max:153.8125,ha:157,o:"m -9 24 b 0 26 -5 24 -2 26 b 25 2 12 26 21 16 l 29 -19 b 144 -303 54 -124 96 -229 b 153 -328 153 -319 153 -322 b 127 -355 153 -344 142 -355 b 100 -334 115 -355 111 -351 b 6 -130 62 -274 31 -206 b -1 -108 2 -117 0 -108 b -8 -130 -1 -108 -4 -117 b -102 -334 -32 -206 -63 -274 b -129 -355 -112 -351 -117 -355 b -155 -328 -144 -355 -155 -344 b -145 -303 -155 -322 -155 -319 b -31 -19 -98 -229 -55 -124 l -27 2 b -9 24 -24 13 -17 22 "},va8:{x_min:-68.0625,x_max:66.6875,ha:68,o:"m -12 66 b -1 68 -9 68 -5 68 b 55 37 20 68 43 56 b 66 -1 62 26 66 12 b 36 -58 66 -23 55 -44 b 0 -69 25 -65 12 -69 b -57 -38 -21 -69 -43 -58 b -68 -1 -63 -27 -68 -13 b -12 66 -68 30 -46 61 "},va9:{x_min:-24.5,x_max:314.421875,ha:321,o:"m -24 -145 l -24 -5 l -20 -5 b 0 -23 -9 -5 -2 -12 b 27 -87 4 -38 14 -66 b 138 -220 53 -136 88 -177 b 235 -328 179 -255 208 -288 b 314 -592 287 -409 314 -501 b 292 -732 314 -639 307 -687 l 289 -742 l 294 -756 b 314 -896 307 -802 314 -849 b 292 -1035 314 -943 307 -991 l 289 -1045 l 294 -1057 b 314 -1197 307 -1104 314 -1152 b 292 -1338 314 -1246 307 -1292 l 289 -1347 l 294 -1360 b 314 -1500 307 -1407 314 -1454 b 273 -1689 314 -1565 300 -1628 b 250 -1712 265 -1710 261 -1712 b 228 -1691 236 -1712 228 -1704 l 228 -1685 l 234 -1675 b 270 -1507 258 -1621 270 -1564 b 98 -1193 270 -1381 209 -1261 b 40 -1174 76 -1179 58 -1174 b -10 -1189 24 -1174 8 -1178 b -20 -1192 -14 -1192 -16 -1192 l -24 -1192 l -24 -1052 l -24 -913 l -20 -913 b 0 -931 -9 -913 -2 -920 b 27 -995 4 -946 14 -974 b 138 -1128 53 -1043 88 -1085 b 257 -1275 190 -1172 228 -1220 b 262 -1283 259 -1279 262 -1283 l 262 -1283 b 269 -1249 264 -1282 268 -1260 b 270 -1206 270 -1233 270 -1220 b 98 -891 270 -1075 206 -957 b 40 -871 76 -877 58 -871 b -10 -886 24 -871 8 -875 b -20 -889 -14 -889 -16 -889 l -24 -889 l -24 -749 l -24 -610 l -20 -610 b 0 -628 -9 -610 -2 -617 b 27 -692 4 -644 14 -671 b 138 -825 53 -741 88 -782 b 257 -973 190 -870 228 -917 b 262 -981 259 -977 262 -981 l 262 -981 b 269 -946 264 -979 268 -957 b 270 -903 270 -931 270 -917 b 98 -588 270 -774 206 -655 b 40 -569 76 -574 58 -569 b -10 -584 24 -569 8 -574 b -20 -587 -14 -587 -16 -587 l -24 -587 l -24 -448 l -24 -308 l -20 -308 b 0 -326 -9 -308 -2 -315 b 27 -390 4 -341 14 -369 b 138 -523 53 -438 88 -480 b 257 -670 190 -567 228 -614 b 262 -678 259 -674 262 -678 b 262 -678 262 -678 262 -678 b 269 -644 264 -677 268 -656 b 270 -601 270 -628 270 -614 b 98 -285 270 -471 206 -352 b 40 -266 76 -273 58 -266 b -10 -281 24 -266 8 -272 b -20 -284 -14 -284 -16 -284 l -24 -284 l -24 -145 "},vaa:{x_min:-1.359375,x_max:752.703125,ha:768,o:"m 490 985 b 504 986 495 986 500 986 b 604 907 551 986 593 954 b 607 884 607 900 607 892 b 581 813 607 857 597 831 l 578 810 l 583 811 b 710 932 638 827 687 873 b 714 943 711 936 713 942 b 730 952 720 949 725 952 b 752 931 741 952 752 943 b 200 -946 752 927 204 -941 b 182 -957 197 -953 190 -957 b 163 -945 174 -957 166 -953 b 161 -939 161 -942 161 -942 b 217 -743 161 -931 170 -904 b 272 -555 247 -639 272 -555 b 272 -555 272 -555 272 -555 b 264 -560 272 -555 268 -557 b 140 -603 227 -589 182 -603 b 36 -567 102 -603 65 -592 b -1 -487 12 -548 -1 -517 b 17 -427 -1 -466 5 -445 b 103 -380 38 -395 70 -380 b 191 -433 137 -380 172 -398 b 205 -484 201 -448 205 -466 b 178 -553 205 -509 196 -535 l 175 -557 l 182 -555 b 307 -435 236 -539 284 -494 b 372 -213 308 -430 372 -215 b 372 -213 372 -213 372 -213 b 364 -219 372 -213 368 -216 b 240 -262 328 -247 283 -262 b 137 -226 202 -262 166 -249 b 99 -145 112 -206 99 -176 b 118 -84 99 -124 106 -104 b 204 -38 138 -54 171 -38 b 292 -91 238 -38 273 -56 b 306 -141 302 -106 306 -124 b 279 -212 306 -167 296 -194 l 276 -215 l 281 -213 b 408 -93 336 -198 385 -151 b 473 129 409 -88 473 127 b 473 129 473 129 473 129 b 465 122 473 129 469 126 b 341 80 428 94 383 80 b 236 115 303 80 266 91 b 200 195 213 136 200 165 b 217 256 200 217 206 238 b 304 303 239 287 272 303 b 393 249 338 303 374 285 b 406 199 402 234 406 217 b 379 129 406 173 397 148 l 377 126 l 382 127 b 509 248 436 142 485 190 b 574 470 510 254 574 469 b 574 470 574 470 574 470 b 566 464 574 470 570 467 b 442 421 529 435 484 421 b 337 458 404 421 367 433 b 300 538 314 477 300 508 b 318 598 300 559 306 580 b 404 645 340 630 372 645 b 494 592 439 645 475 627 b 507 541 502 577 507 559 b 480 471 507 516 498 489 l 477 467 l 483 470 b 608 589 537 485 586 531 b 675 811 611 595 675 810 b 675 811 675 811 675 811 b 666 806 675 811 671 809 b 543 763 628 777 585 763 b 438 799 504 763 468 775 b 401 878 412 820 401 849 b 490 985 401 928 434 977 "},vab:{x_min:0,x_max:272.21875,ha:278,o:"m 243 631 b 250 632 246 632 249 632 b 270 620 259 632 268 628 l 272 616 l 272 201 l 272 -212 l 270 -216 b 251 -229 268 -224 259 -229 b 227 -215 243 -229 240 -229 l 151 -142 b 32 -16 81 -80 53 -49 b 0 84 9 18 0 52 b 111 199 0 149 42 199 b 137 197 119 199 127 198 b 228 151 168 191 197 177 l 231 148 l 231 383 b 232 620 231 616 231 616 b 243 631 234 624 238 630 m 168 131 b 152 133 163 133 157 133 b 107 102 130 133 111 120 b 106 86 107 97 106 91 b 111 41 106 73 108 56 b 227 -152 125 -13 171 -90 l 231 -156 l 231 -37 l 231 80 l 225 87 b 168 131 210 111 190 126 "},vac:{x_min:-390.640625,x_max:389.28125,ha:397,o:"m -9 650 b -1 652 -6 650 -4 652 b 19 639 6 652 13 648 l 23 631 b 28 623 24 628 27 626 l 34 614 l 39 606 l 43 598 l 49 588 l 54 580 l 59 571 l 65 563 l 69 555 l 74 546 l 80 537 l 85 528 b 89 520 87 526 89 523 l 95 512 l 100 503 l 106 494 l 111 487 l 115 478 l 121 470 l 126 462 l 130 453 l 136 445 l 141 437 l 147 427 l 151 419 l 156 410 l 161 402 l 167 394 l 172 385 l 176 376 b 182 367 179 374 181 370 l 187 359 l 193 351 l 198 342 l 202 334 l 208 326 l 212 317 l 217 309 l 223 301 l 228 292 l 234 284 l 238 274 l 243 266 l 249 258 l 254 249 l 259 241 l 264 233 l 269 224 b 274 216 270 222 273 217 l 280 206 l 285 198 l 295 180 l 299 174 l 304 165 l 310 156 l 315 148 l 321 140 l 325 131 l 330 123 l 336 113 l 341 105 l 347 97 l 351 88 l 356 80 l 360 72 b 364 66 362 70 363 68 b 370 58 366 65 368 61 l 379 41 b 389 19 386 31 389 24 b 382 4 389 13 386 8 b 347 0 377 0 378 0 b 337 0 344 0 340 0 b 336 0 336 0 336 0 b 287 11 294 0 294 0 l 281 19 l 276 27 l 272 37 l 266 45 l 261 54 l 255 62 l 250 70 l 246 79 l 240 87 l 235 97 l 230 105 l 224 113 l 220 122 l 215 130 l 209 140 l 204 148 l 200 155 l 194 163 b 189 172 193 165 191 169 l 185 180 l 179 188 l 174 198 l 168 206 l 163 215 l 159 223 l 153 231 l 148 240 l 142 249 l 138 258 l 133 266 l 127 274 l 122 283 l 117 292 l 111 301 l 107 308 l 102 316 b 98 324 102 317 99 322 l 92 333 l 87 341 l 81 349 l 77 359 l 72 367 l 66 376 l 61 384 l 55 392 l 51 401 l 46 410 l 40 419 l 35 427 l 31 435 l 24 444 l 20 453 l 14 460 l 10 469 b 5 477 9 470 6 474 l 0 485 l -5 494 l -9 502 l -14 512 b -20 519 -16 513 -19 517 l -24 526 l -28 534 b -31 537 -29 535 -31 537 b -35 533 -32 537 -32 535 l -88 444 l -187 280 l -285 117 l -343 23 b -362 1 -352 6 -356 2 b -368 0 -364 0 -367 0 b -390 20 -381 0 -390 8 l -390 20 b -359 77 -390 27 -390 27 l -80 539 l -25 631 b -9 650 -17 644 -13 648 m -13 133 b -1 134 -9 133 -5 134 b 50 105 19 134 39 123 b 61 70 57 95 61 83 b 50 34 61 58 57 45 b -1 6 39 16 19 6 b -46 27 -17 6 -34 13 b -62 70 -57 40 -62 55 b -13 133 -62 98 -44 126 "},vad:{x_min:0,x_max:873.828125,ha:892,o:"m 0 0 l 0 703 l 81 703 l 164 703 l 164 0 l 164 -705 l 81 -705 l 0 -705 l 0 0 m 225 0 l 225 703 l 246 703 l 268 703 l 268 366 l 268 30 l 274 36 b 314 79 284 44 302 63 b 413 302 357 137 392 213 b 432 327 419 324 421 327 b 449 306 443 327 447 322 b 611 115 457 195 529 115 b 651 122 624 115 638 117 b 728 316 705 140 724 188 b 729 388 728 342 729 366 b 671 635 729 533 711 602 b 581 662 649 652 616 662 b 477 637 545 662 510 653 l 475 635 l 477 634 b 503 627 488 632 495 631 b 545 556 532 612 545 584 b 491 480 545 524 526 491 b 465 474 481 476 473 474 b 379 563 417 474 379 516 b 389 602 379 576 382 588 b 541 691 409 641 479 681 b 582 694 555 692 568 694 b 865 462 714 694 834 598 b 873 392 871 440 873 416 b 865 317 873 367 871 341 b 639 84 839 194 748 101 b 612 83 630 83 620 83 b 511 116 577 83 543 94 b 504 120 509 119 506 120 b 504 120 504 120 504 120 b 469 59 504 120 488 93 l 432 -1 l 469 -61 b 504 -122 488 -94 504 -122 b 504 -122 504 -122 504 -122 b 511 -117 506 -122 509 -120 b 612 -84 543 -95 577 -84 b 665 -91 630 -84 647 -87 b 869 -338 771 -122 850 -216 b 873 -392 872 -356 873 -374 b 798 -595 873 -469 847 -539 b 581 -695 741 -662 660 -695 b 406 -626 517 -695 454 -671 b 381 -563 389 -607 381 -585 b 465 -477 381 -519 413 -477 b 545 -559 514 -477 545 -519 b 503 -628 545 -587 532 -613 b 477 -635 495 -632 488 -634 l 475 -637 l 477 -638 b 581 -663 510 -655 545 -663 b 671 -637 616 -663 649 -653 b 729 -391 711 -603 729 -534 b 728 -317 729 -367 728 -344 b 623 -117 722 -173 698 -124 b 611 -116 619 -116 615 -116 b 449 -308 528 -116 457 -198 b 432 -328 447 -323 443 -328 b 413 -303 421 -328 419 -326 b 314 -80 392 -215 357 -138 b 274 -37 302 -65 284 -45 l 268 -31 l 268 -367 l 268 -705 l 246 -705 l 225 -705 l 225 0 "},vae:{x_min:-108.890625,x_max:251.8125,ha:257,o:"m -8 863 b 0 864 -5 864 -2 864 b 12 859 4 864 9 863 b 19 843 16 856 16 853 b 102 631 34 768 65 689 l 107 621 l 107 616 l 107 616 b 89 596 107 605 99 596 b 78 601 85 596 83 598 b 47 614 69 606 55 612 b 19 621 39 617 21 621 b 19 621 19 621 19 621 b 19 619 19 621 19 620 b 20 383 20 616 20 585 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 93 -148 206 -40 179 -70 l 38 -199 l 23 -215 l 20 -217 l 20 -241 b 19 -267 20 -260 20 -266 b 19 -270 19 -269 19 -270 b 19 -270 19 -270 19 -270 b 47 -263 21 -270 39 -266 b 78 -249 55 -260 69 -255 b 89 -247 83 -247 85 -247 b 107 -265 99 -247 107 -254 l 107 -265 l 107 -270 l 102 -280 b 19 -492 65 -338 34 -417 b 0 -513 14 -508 10 -513 b -20 -488 -12 -513 -16 -508 b -103 -280 -38 -409 -66 -338 l -108 -270 l -108 -265 l -108 -265 b -91 -247 -108 -254 -100 -247 b -80 -249 -87 -247 -84 -247 b -49 -263 -70 -255 -57 -260 b -20 -270 -40 -266 -23 -270 b -20 -270 -20 -270 -20 -270 b -20 -267 -20 -270 -20 -269 b -21 174 -21 -266 -21 -208 b -20 619 -21 559 -21 616 b -20 621 -20 620 -20 621 b -20 621 -20 621 -20 621 b -49 614 -23 621 -40 617 b -80 601 -57 612 -70 606 b -91 596 -84 598 -87 596 b -108 616 -100 596 -108 605 l -108 616 l -108 621 l -103 631 b -20 839 -66 689 -38 760 b -8 863 -17 856 -14 859 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},vaf:{x_min:-209.609375,x_max:208.25,ha:213,o:"m -197 19 b 1 20 -194 19 -96 20 b 196 19 98 20 193 19 b 208 -1 204 15 208 6 b 202 -15 208 -5 206 -11 b 95 -22 197 -20 212 -22 b -1 -22 69 -22 38 -22 b -96 -22 -39 -22 -70 -22 b -204 -15 -213 -22 -198 -20 b -209 -1 -208 -11 -209 -5 b -197 19 -209 6 -205 15 m -12 -113 b -1 -113 -9 -113 -5 -113 b 55 -144 20 -113 43 -124 b 66 -181 62 -155 66 -169 b 27 -244 66 -208 53 -233 b 0 -251 19 -248 9 -251 b -57 -220 -21 -251 -43 -240 b -68 -181 -63 -208 -68 -195 b -12 -113 -68 -151 -46 -120 "},vb0:{x_min:0,x_max:438.28125,ha:447,o:"m 212 205 b 219 205 213 205 216 205 b 239 183 228 205 231 204 b 421 -163 298 40 363 -83 b 438 -191 434 -180 438 -186 b 436 -197 438 -192 438 -195 b 424 -206 434 -204 431 -206 b 406 -201 420 -206 415 -205 b 216 -156 347 -172 281 -156 b 23 -205 148 -156 80 -173 b 14 -206 20 -206 17 -206 b 0 -191 6 -206 0 -201 b 6 -176 0 -187 1 -183 b 202 192 63 -104 142 45 b 212 205 205 199 208 202 m 264 48 l 249 81 l 243 94 l 242 91 b 89 -126 208 36 137 -66 b 81 -138 85 -133 81 -138 b 81 -138 81 -138 81 -138 b 81 -138 81 -138 81 -138 b 95 -133 81 -138 87 -136 b 280 -94 156 -108 221 -94 b 334 -98 299 -94 317 -95 b 343 -99 338 -99 343 -99 b 343 -99 343 -99 343 -99 b 338 -94 343 -99 341 -97 b 264 48 318 -58 287 1 "},vb1:{x_min:78.9375,x_max:485.921875,ha:417,o:"m 362 378 b 378 380 367 380 372 380 b 472 348 415 380 453 367 b 485 315 481 338 485 327 b 462 273 485 298 477 281 b 439 267 454 269 446 267 b 398 290 424 267 409 274 b 344 319 385 309 364 319 b 281 269 315 319 289 301 b 279 262 280 266 279 262 b 276 256 279 260 277 258 b 274 249 276 254 274 251 b 238 127 273 248 257 192 b 201 4 217 61 201 5 b 166 -1 198 -1 200 -1 b 153 -1 163 -1 157 -1 b 141 -1 148 -1 144 -1 b 104 4 106 -1 107 -1 b 104 6 104 5 104 5 b 142 144 104 13 110 34 b 182 278 164 219 181 276 b 183 288 182 281 182 285 b 185 302 185 292 185 298 b 164 330 185 317 176 328 b 159 330 163 330 161 330 b 102 302 140 330 119 320 b 91 294 95 295 93 294 b 88 294 91 294 89 294 b 78 303 83 294 78 298 b 81 312 78 306 78 309 b 200 373 106 347 160 373 b 215 371 205 373 209 371 b 266 335 235 367 254 353 b 269 331 268 333 269 331 b 269 331 269 331 269 331 b 273 335 269 331 270 334 b 362 378 298 359 330 376 "},vb2:{x_min:-80.3125,x_max:78.9375,ha:81,o:"m 23 191 b 32 192 27 192 29 192 b 78 145 57 192 78 172 b 78 140 78 142 78 141 b -10 -72 78 133 70 116 l -50 -165 b -70 -194 -63 -194 -63 -194 b -80 -184 -77 -194 -80 -192 b -76 -159 -80 -179 -78 -172 l -68 -116 b -12 159 -51 -31 -13 156 b 23 191 -6 176 6 188 "},vb3:{x_min:0,x_max:227.3125,ha:232,o:"m 91 213 b 100 215 93 215 96 215 b 227 58 167 215 224 144 b 227 52 227 56 227 54 b 61 -201 227 -43 164 -138 b 29 -216 44 -212 36 -216 b 23 -210 27 -216 24 -213 b 21 -205 21 -208 21 -206 b 34 -192 21 -201 25 -197 b 122 -55 89 -161 122 -106 b 104 6 122 -33 117 -12 l 103 9 l 96 9 b 4 79 57 9 17 38 b 0 112 1 90 0 101 b 91 213 0 163 36 209 "},vb4:{x_min:-597.53125,x_max:596.171875,ha:608,o:"m -533 324 b -525 327 -530 326 -528 327 b -504 305 -514 327 -504 317 b -504 305 -504 305 -504 305 b -513 284 -504 299 -504 299 b -556 112 -541 226 -556 167 b -545 33 -556 84 -552 58 b -524 -20 -541 15 -532 -9 l -522 -23 l -491 15 l -413 111 b -355 174 -367 169 -363 174 b -351 174 -353 174 -352 174 b -254 86 -343 174 -348 179 b -168 -1 -208 37 -168 -1 b -100 84 -168 -1 -137 37 b -23 173 -28 173 -29 172 b -19 174 -21 174 -20 174 b -8 173 -14 174 -10 173 b 80 86 -5 172 13 151 b 166 -1 127 37 166 -1 b 235 84 166 -1 197 37 b 311 173 306 173 304 172 b 317 174 313 174 314 174 b 326 173 319 174 323 173 b 490 11 329 172 366 134 l 502 -1 l 530 34 b 568 76 560 72 563 74 b 575 77 570 77 573 77 b 596 56 586 77 596 68 b 594 48 596 54 596 51 b 417 -172 592 41 424 -166 b 405 -176 415 -174 409 -176 b 396 -174 401 -176 398 -176 b 307 -87 393 -173 372 -152 b 221 -1 259 -38 221 -1 b 152 -86 221 -1 190 -38 b 76 -176 81 -174 83 -173 b 70 -176 74 -176 73 -176 b 61 -174 66 -176 62 -174 b -27 -87 58 -173 38 -152 b -114 -1 -74 -38 -112 -1 b -182 -86 -114 -1 -145 -38 b -258 -176 -253 -174 -253 -173 b -264 -176 -259 -176 -262 -176 b -274 -174 -268 -176 -272 -174 b -438 -11 -277 -173 -348 -102 l -449 0 l -479 -37 b -524 -80 -513 -80 -514 -80 l -524 -80 b -553 -52 -534 -80 -540 -74 b -597 109 -583 -8 -597 48 b -560 280 -597 165 -585 224 b -533 324 -548 310 -540 322 "},vb5:{x_min:-170.140625,x_max:168.78125,ha:172,o:"m -160 -1 b -122 -1 -159 -1 -149 -1 l -87 -1 l -84 -2 b -74 -15 -78 -4 -77 -6 b -20 -201 -73 -18 -49 -102 b 31 -383 8 -301 31 -383 b 85 -197 31 -383 55 -299 b 140 -9 114 -95 138 -11 b 153 0 141 -4 148 0 b 168 -9 159 0 166 -4 b 168 -12 168 -11 168 -11 b 92 -287 168 -20 159 -55 b 14 -555 50 -434 14 -555 b 0 -569 14 -562 6 -569 b -17 -553 -8 -569 -17 -560 b -93 -285 -17 -552 -51 -433 b -170 -16 -166 -36 -170 -20 b -170 -15 -170 -15 -170 -15 b -160 -1 -170 -8 -167 -4 "},vb6:{x_min:0,x_max:556.6875,ha:568,o:"m 289 545 b 298 546 292 545 295 546 b 318 533 306 546 315 541 b 319 428 319 530 319 528 l 319 327 l 334 327 b 526 223 412 326 485 285 b 543 172 537 206 543 190 b 447 76 543 122 503 76 b 445 76 446 76 446 76 b 359 165 394 77 359 119 b 368 205 359 179 362 192 b 441 251 382 233 412 251 b 455 249 446 251 451 251 b 460 248 458 249 460 248 b 460 248 460 248 460 248 b 454 254 460 249 458 251 b 334 295 419 280 378 294 l 319 295 l 319 4 l 319 -287 l 321 -285 b 328 -285 322 -285 325 -285 b 524 -99 424 -277 507 -198 b 541 -79 526 -84 530 -79 b 556 -97 551 -79 556 -84 b 548 -133 556 -105 553 -117 b 334 -317 521 -233 434 -306 b 322 -319 329 -317 323 -317 l 319 -319 l 319 -424 b 319 -471 319 -444 319 -459 b 313 -541 319 -544 318 -535 b 298 -548 308 -545 303 -548 b 279 -534 289 -548 281 -542 b 277 -424 277 -531 277 -530 l 277 -317 l 273 -317 b 13 -95 153 -305 51 -217 b 0 2 4 -62 0 -29 b 182 295 0 126 66 238 b 274 324 210 309 249 320 l 277 324 l 277 427 b 279 533 277 528 277 530 b 289 545 281 538 285 542 m 277 2 b 277 291 277 161 277 291 b 268 288 277 291 273 290 b 144 1 179 265 144 184 b 276 -284 144 -199 175 -267 l 277 -285 l 277 2 "},vb7:{x_min:-176.9375,x_max:251.8125,ha:257,o:"m -8 631 b -1 632 -6 632 -4 632 b 19 620 8 632 16 628 b 20 503 20 616 20 614 b 20 391 20 442 20 391 b 84 424 20 391 49 406 l 147 456 l 152 456 b 153 456 153 456 153 456 b 175 435 166 456 175 446 b 172 427 175 433 174 430 b 92 380 170 420 172 421 l 20 342 l 20 245 l 20 148 l 21 151 b 137 199 59 183 99 199 b 182 191 152 199 167 197 b 251 84 227 176 251 134 b 228 0 251 58 243 29 b 100 -142 206 -40 178 -72 l 23 -215 b 0 -229 9 -229 6 -229 b -20 -216 -9 -229 -17 -224 b -21 54 -21 -212 -21 -212 b -21 322 -21 201 -21 322 b -85 290 -21 322 -50 308 l -148 256 l -153 256 b -155 256 -155 256 -155 256 b -176 277 -167 256 -176 266 b -174 285 -176 280 -175 283 b -93 333 -171 294 -174 292 l -21 370 l -21 494 b -20 620 -21 616 -21 616 b -8 631 -17 624 -13 630 m 110 131 b 96 133 106 133 100 133 b 89 133 93 133 91 133 b 24 87 63 129 40 113 l 20 80 l 20 -37 l 20 -156 l 23 -152 b 144 81 96 -72 144 20 l 144 83 b 110 131 144 113 134 126 "},vb8:{x_min:0,x_max:175.578125,ha:179,o:"m 72 231 b 87 233 77 233 81 233 b 175 142 137 233 175 191 b 164 102 175 130 171 116 b 87 54 149 70 118 54 b 24 80 63 54 42 62 b 0 142 6 98 0 120 b 72 231 0 184 27 224 "},vb9:{x_min:-122.5,x_max:121.140625,ha:124,o:"m -16 145 b 0 147 -10 147 -5 147 b 121 -1 66 147 121 77 b 114 -49 121 -16 118 -33 b -1 -148 95 -112 47 -148 b -85 -106 -31 -148 -61 -134 b -122 -1 -110 -76 -122 -38 b -16 145 -122 68 -81 134 m 12 111 b 0 113 8 113 4 113 b -68 22 -29 113 -61 73 b -70 0 -69 15 -70 6 b -13 -113 -70 -49 -47 -98 b -1 -115 -9 -115 -5 -115 b 63 -40 24 -115 53 -83 b 68 -1 66 -27 68 -15 b 12 111 68 48 46 97 "},vba:{x_min:-118.421875,x_max:597.53125,ha:381,o:"m 460 574 b 464 574 461 574 462 574 b 488 574 470 574 481 574 b 500 573 491 574 498 574 b 594 503 543 570 588 538 b 597 488 596 498 597 494 b 528 417 597 449 564 417 b 502 423 519 417 510 419 b 465 481 477 434 465 458 b 488 528 465 499 472 516 b 490 530 490 530 490 530 b 490 530 490 530 490 530 b 468 517 488 530 475 523 b 349 340 419 485 377 420 b 347 330 348 334 347 330 b 383 328 347 328 363 328 b 428 326 423 328 424 328 b 442 302 438 320 442 312 b 430 281 442 294 438 285 b 385 276 424 277 426 276 l 377 276 l 332 276 l 330 269 b 178 -117 303 126 250 -9 b 1 -249 129 -194 69 -237 b -20 -251 -6 -251 -13 -251 b -114 -187 -65 -251 -100 -227 b -118 -156 -117 -177 -118 -166 b -51 -84 -118 -116 -91 -84 b -31 -87 -46 -84 -39 -86 b 16 -152 0 -95 16 -124 b -12 -205 16 -173 8 -194 b -16 -208 -14 -206 -16 -208 b -14 -208 -16 -208 -14 -208 b -9 -206 -14 -208 -12 -208 b 74 -124 23 -197 54 -166 b 172 224 98 -79 125 22 b 185 276 178 252 183 274 b 185 276 185 276 185 276 b 141 276 185 276 181 276 b 91 280 96 276 96 276 b 77 302 83 285 77 294 b 91 326 77 312 83 320 b 148 328 95 328 96 328 l 198 330 l 202 341 b 460 574 249 473 351 566 "},vbb:{x_min:0,x_max:288.5625,ha:294,o:"m 202 341 b 235 341 213 341 225 341 b 261 341 249 341 259 341 b 288 309 276 340 288 326 l 288 309 b 163 -320 288 305 166 -310 b 142 -341 160 -330 153 -337 b 83 -342 140 -342 111 -342 b 21 -341 54 -342 24 -342 b 0 -310 8 -337 0 -324 b 0 -310 0 -310 0 -310 b 123 316 0 -306 118 297 b 144 340 126 327 133 335 b 202 341 147 341 151 341 "},vbc:{x_min:-155.171875,x_max:153.8125,ha:158,o:"m -8 24 b -1 26 -6 24 -4 26 b 21 12 8 26 17 20 b 27 -8 24 9 24 9 b 144 -303 50 -115 93 -227 b 153 -322 151 -315 152 -317 b 153 -330 153 -324 153 -327 b 129 -355 153 -344 142 -355 b 111 -351 123 -355 117 -353 b 0 -319 76 -330 38 -319 b -100 -344 -35 -319 -69 -327 b -112 -351 -104 -345 -110 -348 b -129 -355 -119 -355 -123 -355 b -155 -328 -144 -355 -155 -344 b -145 -303 -155 -322 -155 -319 b -28 -6 -95 -226 -53 -119 b -8 24 -24 13 -20 19 "},vbd:{x_min:-390.640625,x_max:389.28125,ha:397,o:"m -378 -2 b -368 -1 -375 -1 -374 -1 b -349 -13 -360 -1 -353 -5 l -348 -16 l -348 -212 l -348 -408 l 0 -408 l 347 -408 l 347 -212 l 347 -16 l 348 -13 b 367 0 352 -5 360 0 b 387 -13 375 0 383 -5 l 389 -16 l 389 -288 l 389 -560 l 387 -564 b 377 -574 385 -569 381 -573 l 372 -577 l 0 -577 l -374 -577 l -378 -574 b -389 -564 -382 -573 -386 -569 l -390 -560 l -390 -288 l -390 -16 l -389 -13 b -378 -2 -386 -8 -382 -4 m -274 -2 b -266 -1 -272 -1 -270 -1 b -246 -13 -257 -1 -250 -5 l -245 -16 l -245 -109 l -245 -202 l 0 -202 l 243 -202 l 243 -109 l 245 -16 l 245 -13 b 265 0 249 -5 257 0 b 284 -13 272 0 280 -5 l 285 -16 l 285 -170 l 285 -324 l 284 -327 b 273 -338 281 -331 279 -335 l 269 -340 l 0 -340 l -270 -340 l -274 -338 b -285 -327 -280 -335 -283 -331 l -287 -324 l -287 -170 l -287 -16 l -285 -13 b -274 -2 -283 -8 -280 -4 m -13 -9 b -1 -8 -9 -8 -5 -8 b 50 -36 19 -8 39 -19 b 61 -72 57 -47 61 -59 b 50 -106 61 -84 57 -97 b -1 -134 39 -124 19 -134 b -46 -115 -17 -134 -34 -129 b -62 -72 -58 -102 -62 -87 b -13 -9 -62 -44 -44 -16 "},vbe:{x_min:-122.5,x_max:121.140625,ha:124,o:"m -16 145 b -1 147 -10 147 -5 147 b 119 20 58 147 111 93 b 121 0 119 13 121 6 b 32 -142 121 -66 84 -124 l 24 -144 l 24 -180 b 24 -187 24 -183 24 -184 b 19 -227 24 -222 24 -220 b 0 -237 14 -234 6 -237 b -20 -227 -8 -237 -16 -234 b -25 -187 -25 -220 -25 -222 b -25 -180 -25 -184 -25 -183 l -25 -144 l -34 -142 b -122 0 -85 -124 -122 -66 b -121 20 -122 6 -121 13 b -16 145 -114 84 -70 137 m 12 111 b 0 113 8 113 4 113 b -68 22 -29 113 -61 73 b -69 0 -69 15 -69 6 b -13 -113 -69 -49 -46 -98 b -1 -115 -9 -115 -5 -115 b 63 -40 24 -115 53 -83 b 68 -1 66 -27 68 -15 b 12 111 68 48 46 97 "},vbf:{x_min:-53.078125,x_max:513.140625,ha:485,o:"m 185 383 b 196 384 187 383 191 384 b 277 334 230 384 259 365 b 288 301 281 324 288 306 b 288 297 288 298 288 297 b 294 302 289 297 291 299 b 394 370 323 338 367 367 b 404 371 398 370 401 371 b 510 272 453 371 498 328 b 513 237 513 262 513 251 b 507 172 513 217 511 192 b 326 -34 487 59 412 -26 b 314 -36 322 -36 318 -36 b 274 -24 298 -36 283 -31 l 265 -16 b 224 44 246 -1 232 20 b 223 49 224 47 223 49 b 223 49 223 49 223 49 b 149 -197 221 48 149 -194 b 149 -198 149 -197 149 -198 b 170 -210 149 -202 155 -205 b 187 -215 174 -210 175 -212 b 204 -231 201 -219 204 -222 b 197 -245 204 -240 202 -242 l 194 -248 l 76 -248 l -42 -248 l -46 -245 b -53 -231 -51 -242 -53 -240 b -35 -215 -53 -222 -49 -217 b -13 -210 -21 -212 -20 -212 b -6 -208 -10 -209 -8 -208 b 0 -206 -6 -208 -2 -206 b 25 -188 13 -201 21 -195 b 163 280 28 -183 163 276 b 166 291 163 283 164 287 b 167 302 167 295 167 299 b 155 324 167 315 161 324 b 155 324 155 324 155 324 b 65 230 125 322 85 280 b 53 215 61 217 58 215 b 51 215 53 215 51 215 b 42 224 46 215 42 217 b 57 263 42 231 47 244 b 140 360 77 305 104 337 b 152 370 144 365 149 369 b 185 383 157 376 172 381 m 374 306 b 366 308 371 308 368 308 b 300 273 348 308 321 294 b 284 254 288 262 287 259 b 280 242 283 249 281 245 b 257 169 279 240 270 213 l 236 98 l 236 93 b 251 48 238 77 243 61 b 279 27 258 37 272 27 b 281 27 279 27 280 27 b 291 31 281 27 287 30 b 396 170 334 52 378 109 b 406 247 402 197 406 224 b 401 277 406 259 405 270 b 374 306 397 290 383 303 "},vc0:{x_min:-571.671875,x_max:570.3125,ha:582,o:"m 156 273 b 163 274 159 273 161 274 b 183 262 171 274 179 269 b 185 158 185 259 185 259 l 185 56 l 231 112 b 284 174 277 172 279 172 b 289 174 285 174 288 174 b 299 173 294 174 298 173 b 462 11 303 172 338 134 l 475 -1 l 503 34 b 541 76 534 72 536 74 b 548 77 544 77 545 77 b 570 56 560 77 570 68 b 567 48 570 54 568 51 b 392 -172 564 41 397 -166 b 378 -176 387 -174 382 -176 b 368 -174 374 -176 371 -176 b 280 -87 367 -173 345 -152 b 194 0 234 -38 194 0 b 189 -6 194 0 191 -2 l 185 -12 l 185 -147 b 185 -210 185 -173 185 -194 b 179 -292 185 -297 185 -287 b 164 -299 175 -297 170 -299 b 145 -287 156 -299 148 -295 b 144 -174 144 -284 144 -284 l 142 -63 l 100 -117 b 46 -176 57 -170 54 -176 b 42 -176 44 -176 43 -176 b -54 -87 32 -174 38 -180 b -140 0 -102 -38 -140 0 b -209 -86 -141 0 -171 -38 b -285 -174 -280 -174 -279 -173 b -291 -176 -287 -176 -289 -176 b -300 -174 -295 -176 -299 -174 b -464 -12 -304 -173 -340 -137 l -476 0 l -504 -34 b -543 -77 -534 -73 -537 -76 b -549 -79 -545 -79 -547 -79 b -571 -58 -562 -79 -571 -69 b -568 -49 -571 -55 -570 -52 b -393 170 -566 -43 -398 165 b -379 174 -389 173 -383 174 b -370 173 -375 174 -372 174 b -281 86 -367 172 -347 151 b -196 0 -235 37 -196 0 b -126 84 -196 0 -164 37 b -50 174 -55 173 -57 172 b -44 174 -49 174 -47 174 b -35 173 -42 174 -38 173 b 127 11 -32 172 16 123 l 138 -1 l 141 1 l 144 4 l 144 130 b 145 260 144 256 144 258 b 156 273 147 266 151 270 "},vc1:{x_min:-525.390625,x_max:524.03125,ha:535,o:"m -42 1067 b 1 1068 -27 1068 -13 1068 b 524 534 285 1068 524 831 b 0 0 524 231 283 0 b -118 12 -38 0 -77 4 b -487 335 -284 51 -424 174 b -525 534 -513 402 -525 469 b -42 1067 -525 802 -325 1042 m 38 1038 b 0 1039 25 1039 12 1039 b -460 725 -198 1039 -386 914 l -461 721 l 0 721 l 460 721 l 458 725 b 38 1038 390 899 224 1022 m 472 685 l 470 692 l 0 692 l -470 692 l -473 685 b -496 535 -488 638 -496 587 b -472 377 -496 483 -488 428 l -470 374 l 0 374 l 470 374 l 470 377 b 495 535 487 428 495 483 b 472 685 495 587 488 638 m 458 344 l 460 345 l 0 345 l -461 345 l -460 344 b -402 238 -454 323 -424 269 b 0 27 -303 98 -152 27 b 401 238 151 27 302 98 b 458 344 423 269 453 323 "},vc2:{x_min:0,x_max:337.5625,ha:344,o:"m 230 535 b 239 537 232 537 234 537 b 258 524 247 537 254 533 l 259 521 l 259 390 l 259 258 l 285 265 b 318 270 302 269 311 270 b 336 259 328 270 332 267 b 337 208 336 256 337 233 b 336 158 337 184 336 159 b 302 140 332 148 329 147 b 259 130 266 131 259 130 b 259 65 259 130 259 104 b 259 20 259 51 259 36 l 259 -88 l 285 -81 b 318 -76 302 -77 311 -76 b 332 -81 325 -76 328 -77 b 337 -123 336 -87 337 -86 l 337 -138 l 337 -154 b 332 -195 337 -191 336 -190 b 281 -210 328 -199 328 -199 b 262 -216 272 -213 264 -216 l 259 -216 l 259 -349 l 259 -483 l 258 -487 b 239 -499 254 -495 246 -499 b 220 -487 231 -499 223 -495 l 219 -483 l 217 -355 l 217 -227 l 216 -227 l 194 -233 l 152 -244 b 129 -249 140 -247 130 -249 b 127 -410 127 -249 127 -258 b 127 -576 127 -548 127 -573 b 126 -578 126 -577 126 -578 b 127 -580 126 -578 126 -580 b 133 -578 129 -580 130 -578 b 186 -557 152 -576 170 -569 b 197 -555 190 -556 194 -555 b 215 -573 206 -555 215 -562 l 215 -574 l 215 -580 l 209 -588 b 126 -802 172 -648 141 -727 b 107 -823 123 -817 118 -823 b 87 -798 95 -823 91 -817 b 5 -588 69 -718 40 -648 l 0 -580 l 0 -574 b 0 -573 0 -574 0 -574 b 16 -555 0 -562 6 -555 b 27 -557 20 -555 24 -556 b 81 -578 44 -569 62 -576 b 87 -580 84 -578 85 -580 b 88 -578 88 -580 88 -580 b 87 -576 88 -578 88 -577 b 87 -416 87 -573 87 -549 b 85 -260 87 -270 87 -260 b 85 -260 85 -260 85 -260 b 32 -273 74 -263 35 -273 b 13 -260 24 -273 16 -267 b 12 -209 12 -256 12 -256 l 12 -162 l 13 -158 b 74 -134 17 -148 17 -148 l 87 -131 l 87 -22 b 85 86 87 79 87 86 b 85 86 85 86 85 86 b 32 74 74 83 35 74 b 13 86 24 74 16 79 b 12 137 12 90 12 90 l 12 184 l 13 188 b 73 212 17 198 17 198 l 87 215 l 87 348 l 87 481 l 88 485 b 107 498 92 492 99 498 b 117 495 110 498 114 496 b 126 485 121 494 125 489 l 127 481 l 127 353 l 127 226 l 133 226 b 172 235 136 227 153 231 l 212 247 l 217 248 l 217 384 l 219 521 l 220 524 b 230 535 221 528 225 533 m 217 9 b 217 119 217 70 217 119 l 217 119 b 194 113 217 119 206 116 l 152 102 b 129 97 140 99 130 97 b 127 -12 127 97 127 91 l 127 -122 l 133 -120 b 172 -111 136 -119 153 -115 l 212 -101 l 217 -98 l 217 9 "
},vc3:{x_min:-10.890625,x_max:299.4375,ha:294,o:"m 136 460 b 142 462 137 462 140 462 b 166 449 152 462 161 456 b 171 428 168 446 168 445 b 288 131 194 322 238 209 b 298 115 295 120 296 117 b 299 106 298 112 299 109 b 273 81 299 91 287 81 b 255 86 268 81 261 83 b 155 116 225 104 183 116 l 152 116 l 149 108 b 141 83 148 102 144 91 b 134 48 137 69 134 58 b 149 9 134 34 140 24 b 153 -1 152 5 153 1 b 149 -9 153 -5 152 -6 b 144 -11 148 -11 147 -11 b 122 2 138 -11 133 -6 b 95 61 104 20 95 38 b 107 108 95 74 99 90 b 108 113 107 111 108 112 b 107 113 108 113 108 113 b 102 113 106 113 104 113 b 31 86 76 108 53 98 b 14 80 24 81 20 80 b -10 106 0 80 -10 91 b 0 131 -10 115 -9 116 b 115 430 49 209 91 317 b 136 460 119 451 123 456 "}},cssFontWeight:"normal",ascender:1903,underlinePosition:-125,cssFontStyle:"normal",boundingBox:{yMin:-2065.375,xMin:-695.53125,yMax:1901.578125,xMax:1159.671875},resolution:1e3,original_font_information:{postscript_name:"Gonville-18",version_string:"Version 0.1.8904 ",vendor_url:"",full_font_name:"Gonville-18",font_family_name:"Gonville-18",copyright:"No copyright is claimed on this font file.",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"FontForge 2.0 :Gonville-18 :17-3-2010",license_url:"",license_description:"",manufacturer_name:"",font_sub_family_name:"18"},descender:-2066,familyName:"Gonville-18",lineHeight:4093,underlineThickness:50}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Renderer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(11),s=n(12),a=n(13),u=n(1),l=null;e.Renderer=function(){function t(e,n){if(i(this,t),this.sel=e,!this.sel)throw new u.Vex.RERR("BadArgument","Invalid selector for renderer.");if(this.element=document.getElementById(e),this.element||(this.element=e),this.ctx=null,this.paper=null,this.backend=n,this.backend===t.Backends.CANVAS){if(!this.element.getContext)throw new u.Vex.RERR("BadElement","Can't get canvas context from element: "+e);this.ctx=t.bolsterCanvasContext(this.element.getContext("2d"))}else if(this.backend===t.Backends.RAPHAEL)this.ctx=new s.RaphaelContext(this.element);else{if(this.backend!==t.Backends.SVG)throw new u.Vex.RERR("InvalidBackend","No support for backend: "+this.backend);this.ctx=new a.SVGContext(this.element)}}return r(t,null,[{key:"buildContext",value:function(e,n,i,r,o){var s=new t(e,n);i&&r&&s.resize(i,r),o||(o="#FFF");var a=s.getContext();return a.setBackgroundFillStyle(o),t.lastContext=a,a}},{key:"getCanvasContext",value:function(e,n,i,r){return t.buildContext(e,t.Backends.CANVAS,n,i,r)}},{key:"getRaphaelContext",value:function(e,n,i,r){return t.buildContext(e,t.Backends.RAPHAEL,n,i,r)}},{key:"getSVGContext",value:function(e,n,i,r){return t.buildContext(e,t.Backends.SVG,n,i,r)}},{key:"bolsterCanvasContext",value:function(e){if(t.USE_CANVAS_PROXY)return new o.CanvasContext(e);var n=["clear","setFont","setRawFont","setFillStyle","setBackgroundFillStyle","setStrokeStyle","setShadowColor","setShadowBlur","setLineWidth","setLineCap","setLineDash","openGroup","closeGroup","getGroup"];return e.vexFlowCanvasContext=e,n.forEach(function(t){e[t]=e[t]||o.CanvasContext.prototype[t]}),e}},{key:"drawDashedLine",value:function(t,e,n,i,r,o){t.beginPath();var s=i-e,a=r-n,u=Math.atan2(a,s),l=e,c=n;t.moveTo(e,n);for(var h=0,f=!0;!(s<0?l<=i:l>=i)||!(a<0?c<=r:c>=r);){var p=o[h++%o.length],d=l+Math.cos(u)*p;l=s<0?Math.max(i,d):Math.min(i,d);var b=c+Math.sin(u)*p;c=a<0?Math.max(r,b):Math.min(r,b),f?t.lineTo(l,c):t.moveTo(l,c),f=!f}t.closePath(),t.stroke()}},{key:"Backends",get:function(){return{CANVAS:1,RAPHAEL:2,SVG:3,VML:4}}},{key:"LineEndType",get:function(){return{NONE:1,UP:2,DOWN:3}}},{key:"USE_CANVAS_PROXY",get:function(){return!1}},{key:"lastContext",get:function(){return l},set:function(t){l=t}}]),r(t,[{key:"resize",value:function(e,n){if(this.backend===t.Backends.CANVAS){if(!this.element.getContext)throw new u.Vex.RERR("BadElement","Can't get canvas context from element: "+this.sel);this.element.width=e,this.element.height=n,this.ctx=t.bolsterCanvasContext(this.element.getContext("2d"))}else this.ctx.resize(e,n);return this}},{key:"getContext",value:function(){return this.ctx}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.CanvasContext=function(){function t(e){n(this,t),this.vexFlowCanvasContext=e,e.canvas?this.canvas=e.canvas:this.canvas={width:t.WIDTH,height:t.HEIGHT}}return i(t,null,[{key:"WIDTH",get:function(){return 600}},{key:"HEIGHT",get:function(){return 400}}]),i(t,[{key:"clear",value:function(){this.vexFlowCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"openGroup",value:function(){}},{key:"closeGroup",value:function(){}},{key:"add",value:function(){}},{key:"setFont",value:function(t,e,n){return this.vexFlowCanvasContext.font=(n||"")+" "+e+"pt "+t,this}},{key:"setRawFont",value:function(t){return this.vexFlowCanvasContext.font=t,this}},{key:"setFillStyle",value:function(t){return this.vexFlowCanvasContext.fillStyle=t,this}},{key:"setBackgroundFillStyle",value:function(t){return this.background_fillStyle=t,this}},{key:"setStrokeStyle",value:function(t){return this.vexFlowCanvasContext.strokeStyle=t,this}},{key:"setShadowColor",value:function(t){return this.vexFlowCanvasContext.shadowColor=t,this}},{key:"setShadowBlur",value:function(t){return this.vexFlowCanvasContext.shadowBlur=t,this}},{key:"setLineWidth",value:function(t){return this.vexFlowCanvasContext.lineWidth=t,this}},{key:"setLineCap",value:function(t){return this.vexFlowCanvasContext.lineCap=t,this}},{key:"setLineDash",value:function(t){return this.vexFlowCanvasContext.lineDash=t,this}},{key:"scale",value:function(t,e){return this.vexFlowCanvasContext.scale(parseFloat(t),parseFloat(e))}},{key:"resize",value:function(t,e){return this.vexFlowCanvasContext.resize(parseInt(t,10),parseInt(e,10))}},{key:"rect",value:function(t,e,n,i){return this.vexFlowCanvasContext.rect(t,e,n,i)}},{key:"fillRect",value:function(t,e,n,i){return this.vexFlowCanvasContext.fillRect(t,e,n,i)}},{key:"clearRect",value:function(t,e,n,i){return this.vexFlowCanvasContext.clearRect(t,e,n,i)}},{key:"beginPath",value:function(){return this.vexFlowCanvasContext.beginPath()}},{key:"moveTo",value:function(t,e){return this.vexFlowCanvasContext.moveTo(t,e)}},{key:"lineTo",value:function(t,e){return this.vexFlowCanvasContext.lineTo(t,e)}},{key:"bezierCurveTo",value:function(t,e,n,i,r,o){return this.vexFlowCanvasContext.bezierCurveTo(t,e,n,i,r,o)}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.vexFlowCanvasContext.quadraticCurveTo(t,e,n,i)}},{key:"arc",value:function(t,e,n,i,r,o){return this.vexFlowCanvasContext.arc(t,e,n,i,r,o)}},{key:"glow",value:function(){return this.vexFlowCanvasContext.glow()}},{key:"fill",value:function(){return this.vexFlowCanvasContext.fill()}},{key:"stroke",value:function(){return this.vexFlowCanvasContext.stroke()}},{key:"closePath",value:function(){return this.vexFlowCanvasContext.closePath()}},{key:"measureText",value:function(t){return this.vexFlowCanvasContext.measureText(t)}},{key:"fillText",value:function(t,e,n){return this.vexFlowCanvasContext.fillText(t,e,n)}},{key:"save",value:function(){return this.vexFlowCanvasContext.save()}},{key:"restore",value:function(){return this.vexFlowCanvasContext.restore()}}]),t}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.RaphaelContext=function(){function t(e){n(this,t),this.element=e,this.paper=Raphael(e),this.path="",this.pen={x:0,y:0},this.lineWidth=1,this.state={scale:{x:1,y:1},font_family:"Arial",font_size:8,font_weight:800},this.attributes={"stroke-width":.3,fill:"black",stroke:"black",font:"10pt Arial"},this.background_attributes={"stroke-width":0,fill:"white",stroke:"white",font:"10pt Arial"},this.shadow_attributes={width:0,color:"black"},this.state_stack=[]}return i(t,[{key:"openGroup",value:function(){}},{key:"closeGroup",value:function(){}},{key:"add",value:function(){}},{key:"setFont",value:function(t,e,n){return this.state.font_family=t,this.state.font_size=e,this.state.font_weight=n,this.attributes.font=(this.state.font_weight||"")+" "+this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this}},{key:"setRawFont",value:function(t){return this.attributes.font=t,this}},{key:"setFillStyle",value:function(t){return this.attributes.fill=t,this}},{key:"setBackgroundFillStyle",value:function(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}},{key:"setStrokeStyle",value:function(t){return this.attributes.stroke=t,this}},{key:"setShadowColor",value:function(t){return this.shadow_attributes.color=t,this}},{key:"setShadowBlur",value:function(t){return this.shadow_attributes.width=t,this}},{key:"setLineWidth",value:function(t){this.attributes["stroke-width"]=t,this.lineWidth=t}},{key:"setLineDash",value:function(){return this}},{key:"setLineCap",value:function(){return this}},{key:"scale",value:function(t,e){return this.state.scale={x:t,y:e},this.attributes.transform="S"+t+","+e+",0,0",this.attributes.scale=t+","+e+",0,0",this.attributes.font=this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this.background_attributes.transform="S"+t+","+e+",0,0",this.background_attributes.font=this.state.font_size*this.state.scale.x+"pt "+this.state.font_family,this}},{key:"clear",value:function(){this.paper.clear()}},{key:"resize",value:function(t,e){return this.element.style.width=t,this.paper.setSize(t,e),this}},{key:"setViewBox",value:function(t){this.paper.canvas.setAttribute("viewBox",t)}},{key:"rect",value:function(t,e,n,i){return i<0&&(e+=i,i=-i),this.paper.rect(t,e,n-.5,i-.5).attr(this.attributes).attr("fill","none").attr("stroke-width",this.lineWidth),this}},{key:"fillRect",value:function(t,e,n,i){return i<0&&(e+=i,i=-i),this.paper.rect(t,e,n-.5,i-.5).attr(this.attributes),this}},{key:"clearRect",value:function(t,e,n,i){return i<0&&(e+=i,i=-i),this.paper.rect(t,e,n-.5,i-.5).attr(this.background_attributes),this}},{key:"beginPath",value:function(){return this.path="",this.pen.x=0,this.pen.y=0,this}},{key:"moveTo",value:function(t,e){return this.path+="M"+t+","+e,this.pen.x=t,this.pen.y=e,this}},{key:"lineTo",value:function(t,e){return this.path+="L"+t+","+e,this.pen.x=t,this.pen.y=e,this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,o){return this.path+="C"+t+","+e+","+n+","+i+","+r+","+o,this.pen.x=r,this.pen.y=o,this}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.path+="Q"+t+","+e+","+n+","+i,this.pen.x=n,this.pen.y=i,this}},{key:"arc",value:function(t,e,n,i,r,o){function s(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if(i=s(i),r=s(r),i>r){var a=i;i=r,r=a,o=!o}var u=r-i;return u>Math.PI?(this.arcHelper(t,e,n,i,i+u/2,o),this.arcHelper(t,e,n,i+u/2,r,o)):this.arcHelper(t,e,n,i,r,o),this}},{key:"arcHelper",value:function(t,e,n,i,r,o){var s=t+n*Math.cos(i),a=e+n*Math.sin(i),u=t+n*Math.cos(r),l=e+n*Math.sin(r),c=0,h=0;o?(h=1,r-i<Math.PI&&(c=1)):r-i>Math.PI&&(c=1),this.path+="M"+s+","+a+",A"+n+","+n+",0,"+c+","+h+","+u+","+l+"M"+this.pen.x+","+this.pen.y}},{key:"glow",value:function(){var t=this.paper.set();if(this.shadow_attributes.width>0)for(var e=this.shadow_attributes,n=e.width/2,i=1;i<=n;i++)t.push(this.paper.path(this.path).attr({stroke:e.color,"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*i).toFixed(3),opacity:+((e.opacity||.3)/n).toFixed(3),transform:this.attributes.transform,scale:this.attributes.scale}));return t}},{key:"fill",value:function(){var t=this.paper.path(this.path).attr(this.attributes).attr("stroke-width",0);return this.glow(t),this}},{key:"stroke",value:function(){var t=this.lineWidth*(this.state.scale.x+this.state.scale.y)/2,e=this.paper.path(this.path).attr(this.attributes).attr("fill","none").attr("stroke-width",t);return this.glow(e),this}},{key:"closePath",value:function(){return this.path+="Z",this}},{key:"measureText",value:function(t){var e=this.paper.text(0,0,t).attr(this.attributes).attr("fill","none").attr("stroke","none"),n=e.getBBox();return e.remove(),{width:n.width,height:n.height}}},{key:"fillText",value:function(t,e,n){return this.paper.text(e+this.measureText(t).width/2,n-this.state.font_size/(2.25*this.state.scale.y),t).attr(this.attributes),this}},{key:"save",value:function(){return this.state_stack.push({state:{font_family:this.state.font_family},attributes:{font:this.attributes.font,fill:this.attributes.fill,stroke:this.attributes.stroke,"stroke-width":this.attributes["stroke-width"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color}}),this}},{key:"restore",value:function(){var t=this.state_stack.pop();return this.state.font_family=t.state.font_family,this.attributes.font=t.attributes.font,this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes["stroke-width"]=t.attributes["stroke-width"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.SVGContext=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1);e.SVGContext=function(){function t(e){i(this,t),this.element=e,this.svgNS="http://www.w3.org/2000/svg";var n=this.create("svg");this.element.appendChild(n),this.svg=n,this.groups=[this.svg],this.parent=this.svg,this.path="",this.pen={x:0,y:0},this.lineWidth=1,this.state={scale:{x:1,y:1},"font-family":"Arial","font-size":"8pt","font-weight":"normal"},this.attributes={"stroke-width":.3,fill:"black",stroke:"black","stroke-dasharray":"none","font-family":"Arial","font-size":"10pt","font-weight":"normal","font-style":"normal"},this.background_attributes={"stroke-width":0,fill:"white",stroke:"white","stroke-dasharray":"none","font-family":"Arial","font-size":"10pt","font-weight":"normal","font-style":"normal"},this.shadow_attributes={width:0,color:"black"},this.state_stack=[],this.iePolyfill()}return r(t,[{key:"create",value:function(t){return document.createElementNS(this.svgNS,t)}},{key:"openGroup",value:function(t,e,n){var i=this.create("g");return this.groups.push(i),this.parent.appendChild(i),this.parent=i,t&&i.setAttribute("class",o.Vex.Prefix(t)),e&&i.setAttribute("id",o.Vex.Prefix(e)),n&&n.pointerBBox&&i.setAttribute("pointer-events","bounding-box"),i}},{key:"closeGroup",value:function(){this.groups.pop(),this.parent=this.groups[this.groups.length-1]}},{key:"add",value:function(t){this.parent.appendChild(t)}},{key:"iePolyfill",value:function(){"undefined"!=typeof navigator&&(this.ie=/MSIE 9/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent)||/rv:11\.0/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent))}},{key:"setFont",value:function(t,e,n){var i=!1,r=!1,s="normal";"string"==typeof n&&(n.indexOf("italic")!==-1&&(n=n.replace(/italic/g,""),r=!0),n.indexOf("bold")!==-1&&(n=n.replace(/bold/g,""),i=!0),n=n.replace(/ /g,"")),n=i?"bold":n,n="undefined"==typeof n||""===n?"normal":n,s=r?"italic":s;var a={"font-family":t,"font-size":e+"pt","font-weight":n,"font-style":s};return this.fontSize=Number(e),o.Vex.Merge(this.attributes,a),o.Vex.Merge(this.state,a),this}},{key:"setRawFont",value:function(t){t=t.trim();var e=t.split(" ");return this.attributes["font-family"]=e[1],this.state["font-family"]=e[1],this.attributes["font-size"]=e[0],this.state["font-size"]=e[0],this.fontSize=Number(e[0].match(/\d+/)),this}},{key:"setFillStyle",value:function(t){return this.attributes.fill=t,this}},{key:"setBackgroundFillStyle",value:function(t){return this.background_attributes.fill=t,this.background_attributes.stroke=t,this}},{key:"setStrokeStyle",value:function(t){return this.attributes.stroke=t,this}},{key:"setShadowColor",value:function(t){return this.shadow_attributes.color=t,this}},{key:"setShadowBlur",value:function(t){return this.shadow_attributes.width=t,this}},{key:"setLineWidth",value:function(t){this.attributes["stroke-width"]=t,this.lineWidth=t}},{key:"setLineDash",value:function(t){if("[object Array]"===Object.prototype.toString.call(t))return t=t.join(", "),this.attributes["stroke-dasharray"]=t,this;throw new o.Vex.RERR("ArgumentError","lineDash must be an array of integers.")}},{key:"setLineCap",value:function(t){return this.attributes["stroke-linecap"]=t,this}},{key:"resize",value:function(t,e){this.width=t,this.height=e,this.element.style.width=t;var n={width:t,height:e};return this.applyAttributes(this.svg,n),this}},{key:"scale",value:function(t,e){this.state.scale={x:t,y:e};var n=this.width/t,i=this.height/e;return this.setViewBox(0,0,n,i),this}},{key:"setViewBox",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];this.svg.setAttribute("viewBox",i)}else{var r=e[0],o=e[1],s=e[2],a=e[3],u=r+" "+o+" "+s+" "+a;this.svg.setAttribute("viewBox",u)}}},{key:"applyAttributes",value:function(t,e){return Object.keys(e).forEach(function(n){return t.setAttributeNS(null,n,e[n])}),t}},{key:"clear",value:function(){for(;this.svg.lastChild;)this.svg.removeChild(this.svg.lastChild);this.scale(this.state.scale.x,this.state.scale.y)}},{key:"rect",value:function(t,e,n,i,r){i<0&&(e+=i,i*=-1);var s=this.create("rect");return"undefined"==typeof r&&(r={fill:"none","stroke-width":this.lineWidth,stroke:"black"}),o.Vex.Merge(r,{x:t,y:e,width:n,height:i}),this.applyAttributes(s,r),this.add(s),this}},{key:"fillRect",value:function(t,e,n,i){return i<0&&(e+=i,i*=-1),this.rect(t,e,n,i,this.attributes),this}},{key:"clearRect",value:function(t,e,n,i){return this.rect(t,e,n,i,this.background_attributes),this}},{key:"beginPath",value:function(){return this.path="",this.pen.x=0,this.pen.y=0,this}},{key:"moveTo",value:function(t,e){return this.path+="M"+t+" "+e,this.pen.x=t,this.pen.y=e,this}},{key:"lineTo",value:function(t,e){return this.path+="L"+t+" "+e,this.pen.x=t,this.pen.y=e,this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,o){return this.path+="C"+t+" "+e+","+n+" "+i+","+r+" "+o,this.pen.x=r,this.pen.y=o,this}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.path+="Q"+t+" "+e+","+n+" "+i,this.pen.x=n,this.pen.y=i,this}},{key:"arc",value:function(t,e,n,i,r,o){function s(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}if(i=s(i),r=s(r),i>r){var a=i;i=r,r=a,o=!o}var u=r-i;return u>Math.PI?(this.arcHelper(t,e,n,i,i+u/2,o),this.arcHelper(t,e,n,i+u/2,r,o)):this.arcHelper(t,e,n,i,r,o),this}},{key:"arcHelper",value:function(t,e,n,i,r,o){var s=t+n*Math.cos(i),a=e+n*Math.sin(i),u=t+n*Math.cos(r),l=e+n*Math.sin(r),c=0,h=0;o?(h=1,r-i<Math.PI&&(c=1)):r-i>Math.PI&&(c=1),this.path+="M"+s+" "+a+" A"+n+" "+n+" 0 "+c+" "+h+" "+u+" "+l+"M"+this.pen.x+" "+this.pen.y}},{key:"closePath",value:function(){return this.path+="Z",this}},{key:"glow",value:function(){if(this.shadow_attributes.width>0)for(var t=this.shadow_attributes,e=t.width/2,n=1;n<=e;n++){var i={stroke:t.color,"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(.4*t.width/e*n).toFixed(3),opacity:+((t.opacity||.3)/e).toFixed(3)},r=this.create("path");i.d=this.path,this.applyAttributes(r,i),this.add(r)}return this}},{key:"fill",value:function(t){this.glow();var e=this.create("path");return"undefined"==typeof t&&(t={},o.Vex.Merge(t,this.attributes),t.stroke="none"),t.d=this.path,this.applyAttributes(e,t),this.add(e),this}},{key:"stroke",value:function(){this.glow();var t=this.create("path"),e={};return o.Vex.Merge(e,this.attributes),e.fill="none",e["stroke-width"]=this.lineWidth,e.d=this.path,this.applyAttributes(t,e),this.add(t),this}},{key:"measureText",value:function(t){var e=this.create("text");if("function"!=typeof e.getBBox)return{x:0,y:0,width:0,height:0};e.textContent=t,this.applyAttributes(e,this.attributes),this.svg.appendChild(e);var n=e.getBBox();return this.ie&&""!==t&&"italic"===this.attributes["font-style"]&&(n=this.ieMeasureTextFix(n,t)),this.svg.removeChild(e),n}},{key:"ieMeasureTextFix",value:function(t){var e=Number(this.fontSize),n=1.196,i=1.9598,r=n*e+i,o=t.width-r,s=t.height-1.5,a={x:t.x,y:t.y,width:o,height:s};return a}},{key:"fillText",value:function(t,e,n){var i={};o.Vex.Merge(i,this.attributes),i.stroke="none",i.x=e,i.y=n;var r=this.create("text");r.textContent=t,this.applyAttributes(r,i),this.add(r)}},{key:"save",value:function(){return this.state_stack.push({state:{"font-family":this.state["font-family"],"font-weight":this.state["font-weight"],"font-style":this.state["font-style"],"font-size":this.state["font-size"]},attributes:{"font-family":this.attributes["font-family"],"font-weight":this.attributes["font-weight"],"font-style":this.attributes["font-style"],"font-size":this.attributes["font-size"],fill:this.attributes.fill,stroke:this.attributes.stroke,"stroke-width":this.attributes["stroke-width"],"stroke-dasharray":this.attributes["stroke-dasharray"]},shadow_attributes:{width:this.shadow_attributes.width,color:this.shadow_attributes.color}}),this}},{key:"restore",value:function(){var t=this.state_stack.pop();return this.state["font-family"]=t.state["font-family"],this.state["font-weight"]=t.state["font-weight"],this.state["font-style"]=t.state["font-style"],this.state["font-size"]=t.state["font-size"],this.attributes["font-family"]=t.attributes["font-family"],this.attributes["font-weight"]=t.attributes["font-weight"],this.attributes["font-style"]=t.attributes["font-style"],this.attributes["font-size"]=t.attributes["font-size"],this.attributes.fill=t.attributes.fill,this.attributes.stroke=t.attributes.stroke,this.attributes["stroke-width"]=t.attributes["stroke-width"],this.attributes["stroke-dasharray"]=t.attributes["stroke-dasharray"],this.shadow_attributes.width=t.shadow_attributes.width,this.shadow_attributes.color=t.shadow_attributes.color,this}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];g.DEBUG&&l.Vex.L("Vex.Flow.Formatter",e)}function o(t,e,n,i){var r=e;for(n+=1;n<t.length;n+=1){var o=t[n];if(!o.isRest()&&!o.shouldIgnoreTicks()){r=o.getLineForRest();break}}if(i&&e!==r){var s=Math.max(e,r),a=Math.min(e,r);r=l.Vex.MidLine(s,a)}return r}function s(t,e,n){if(!t||!t.length)throw new l.Vex.RERR("BadArgument","No voices to format");var i=t[0].getTotalTicks(),r=t.reduce(function(t,e){if(!e.getTotalTicks().equals(i))throw new l.Vex.RERR("TickMismatch","Voices should have same total note duration in ticks.");if(e.getMode()===p.Voice.Mode.STRICT&&!e.isComplete())throw new l.Vex.RERR("IncompleteVoice","Voice does not have enough notes.");return Math.max(t,f.Fraction.LCM(t,e.getResolutionMultiplier()))},1),o={},s=[],a=[];return t.forEach(function(t){var i=new f.Fraction(0,r);t.getTickables().forEach(function(t){var r=i.numerator;if(!o[r]){var u=new e;a.push(u),o[r]=u}n(t,o[r]),s.push(r),i.add(t.getTicks())})}),{map:o,array:a,list:l.Vex.SortAndUnique(s,function(t,e){return t-e},function(t,e){return t===e}),resolutionMultiplier:r}}Object.defineProperty(e,"__esModule",{value:!0}),e.Formatter=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=n(15),h=n(2),f=n(3),p=n(18),d=n(19),b=n(20),m=n(22),y=n(27),v=n(39),g=e.Formatter=function(){function t(){i(this,t),this.minTotalWidth=0,this.hasMinTotalWidth=!1,this.totalTicks=new f.Fraction(0,1),this.tickContexts=null,this.modiferContexts=null,this.contextGaps={total:0,gaps:[]},this.voices=[]}return u(t,null,[{key:"SimpleFormat",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=n.paddingBetween,r=void 0===i?10:i;t.reduce(function(t,e){e.addToModifierContext(new y.ModifierContext);var n=(new v.TickContext).addTickable(e).preFormat(),i=n.getExtraPx();return n.setX(t+i.left),t+n.getWidth()+i.right+r},e)}},{key:"plotDebugging",value:function(t,e,n,i,r){function o(e,n,o){t.beginPath(),t.setStrokeStyle(o),t.setFillStyle(o),t.setLineWidth(1),t.fillRect(e,i,n-e,r-i)}var s=n+m.Note.STAVEPADDING,a=e.contextGaps;t.save(),t.setFont("Arial",8,""),a.gaps.forEach(function(e){o(s+e.x1,s+e.x2,"#aaa"),t.fillText(Math.round(e.x2-e.x1),s+e.x1,r+12)}),t.fillText(Math.round(a.total)+"px",s-20,r+12),t.setFillStyle("red"),t.fillText("Loss: "+e.lossHistory.map(function(t){return Math.round(t)}),s-20,r+22),t.restore()}},{key:"FormatAndDraw",value:function(e,n,i,r){var o={auto_beam:!1,align_rests:!1};"object"===("undefined"==typeof r?"undefined":a(r))?l.Vex.Merge(o,r):"boolean"==typeof r&&(o.auto_beam=r);var s=new p.Voice(h.Flow.TIME4_4).setMode(p.Voice.Mode.SOFT).addTickables(i),u=o.auto_beam?c.Beam.applyAndGetBeams(s):[];return(new t).joinVoices([s],{align_rests:o.align_rests}).formatToStave([s],n,{align_rests:o.align_rests,stave:n}),s.setStave(n).draw(e,n),u.forEach(function(t){return t.setContext(e).draw()}),s.getBoundingBox()}},{key:"FormatAndDrawTab",value:function(e,n,i,r,o,s,u){var f={auto_beam:s,align_rests:!1};"object"===("undefined"==typeof u?"undefined":a(u))?l.Vex.Merge(f,u):"boolean"==typeof u&&(f.auto_beam=u);var b=new p.Voice(h.Flow.TIME4_4).setMode(p.Voice.Mode.SOFT).addTickables(o),m=new p.Voice(h.Flow.TIME4_4).setMode(p.Voice.Mode.SOFT).addTickables(r),y=f.auto_beam?c.Beam.applyAndGetBeams(b):[];(new t).joinVoices([b],{align_rests:f.align_rests}).joinVoices([m]).formatToStave([b,m],i,{align_rests:f.align_rests}),b.draw(e,i),m.draw(e,n),y.forEach(function(t){return t.setContext(e).draw()}),new d.StaveConnector(i,n).setContext(e).draw()}},{key:"AlignRestsToNotes",value:function(t,e,n){return t.forEach(function(i,r){if(i instanceof b.StaveNote&&i.isRest()){if(i.tuplet&&!n)return;var s=i.getGlyph().position.toUpperCase();if("R/4"!==s&&"B/4"!==s)return;if(e||null!=i.beam){var a=i.getKeyProps()[0];if(0===r)a.line=o(t,a.line,r,!1),i.setKeyLine(0,a.line);else if(r>0&&r<t.length){var u=void 0;t[r-1].isRest()?(u=t[r-1].getKeyProps()[0].line,a.line=u):(u=t[r-1].getLineForRest(),a.line=o(t,u,r,!0)),i.setKeyLine(0,a.line)}}}}),this}}]),u(t,[{key:"alignRests",value:function(e,n){if(!e||!e.length)throw new l.Vex.RERR("BadArgument","No voices to format rests");e.forEach(function(e){return t.AlignRestsToNotes(e.getTickables(),n)})}},{key:"preCalculateMinTotalWidth",value:function(t){if(this.hasMinTotalWidth)return this.minTotalWidth;if(!this.tickContexts){if(!t)throw new l.Vex.RERR("BadArgument","'voices' required to run preCalculateMinTotalWidth");this.createTickContexts(t)}var e=this.tickContexts,n=e.list,i=e.map;return this.minTotalWidth=n.map(function(t){var e=i[t];return e.preFormat(),e.getWidth()}).reduce(function(t,e){return t+e},0),this.hasMinTotalWidth=!0,this.minTotalWidth}},{key:"getMinTotalWidth",value:function(){if(!this.hasMinTotalWidth)throw new l.Vex.RERR("NoMinTotalWidth","Call 'preCalculateMinTotalWidth' or 'preFormat' before calling 'getMinTotalWidth'");return this.minTotalWidth}},{key:"createModifierContexts",value:function(t){var e=s(t,y.ModifierContext,function(t,e){return t.addToModifierContext(e)});return this.modiferContexts=e,e}},{key:"createTickContexts",value:function(t){var e=s(t,v.TickContext,function(t,e){return e.addTickable(t)});return e.array.forEach(function(t){t.tContexts=e.array}),this.totalTicks=t[0].getTicksUsed().clone(),this.tickContexts=e,e}},{key:"preFormat",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],e=arguments[1],n=this,i=arguments[2],r=arguments[3],o=this.tickContexts,s=o.list,a=o.map,u=o.resolutionMultiplier;i&&r&&i.forEach(function(t){return t.setStave(r).preFormat()});var l=0,c=0,h=t/2;if(this.minTotalWidth=0,s.forEach(function(t){var i=a[t];e&&i.setContext(e),i.preFormat();var r=i.getWidth();n.minTotalWidth+=r;var o=i.getMetrics();l=l+c+o.extraLeftPx,i.setX(l),c=r-o.extraLeftPx}),this.minTotalWidth=l+c,this.hasMinTotalWidth=!0,!(t<=0)){var f=t-this.minTotalWidth,p=f/(this.totalTicks.value()*u),d=0;s.forEach(function(t,e){var n=s[e-1]||0,i=a[t],r=(t-n)*p;d+=r,i.setX(i.getX()+d),i.getCenterAlignedTickables().forEach(function(t){t.center_x_shift=h-i.getX()})}),1!==s.length&&(this.justifyWidth=t,this.lossHistory=[],this.evaluate())}}},{key:"evaluate",value:function(){function t(t,e){var n=i[t];void 0===n?i[t]={mean:e,count:1}:(n.count+=1,n.mean=(n.mean+e)/2)}var e=this,n=this.justifyWidth;this.contextGaps={total:0,gaps:[]},this.tickContexts.list.forEach(function(t,n){if(0!==n){var i=e.tickContexts.list[n-1],r=e.tickContexts.map[i],o=e.tickContexts.map[t],s=r.getMetrics(),a=r.getX()+s.width,u=o.getX(),l=u-a;e.contextGaps.total+=l,e.contextGaps.gaps.push({x1:a,x2:u}),o.getFormatterMetrics().freedom.left=l,r.getFormatterMetrics().freedom.right=l}});var i=this.durationStats={};this.voices.forEach(function(e){e.getTickables().forEach(function(e,i,r){var o=e.getTicks().clone().simplify().toString(),s=e.getMetrics(),a=e.getFormatterMetrics(),u=e.getX()+s.noteWidth+s.modRightPx+s.extraRightPx,l=0;if(i<r.length-1){var c=r[i+1],h=c.getMetrics(),f=c.getX()-h.modLeftPx-h.extraLeftPx;l=f-u,a.space.used=c.getX()-e.getX(),c.getFormatterMetrics().freedom.left=l}else l=n-u,a.space.used=n-e.getX();a.freedom.right=l,t(o,a.space.used)})});var r=0;return this.voices.forEach(function(t){t.getTickables().forEach(function(t){var e=t.getTicks().clone().simplify().toString(),n=t.getFormatterMetrics();n.iterations+=1,n.space.deviation=n.space.used-i[e].mean,n.duration=e,n.space.mean=i[e].mean,r+=Math.pow(i[e].mean,2)})}),this.totalCost=Math.sqrt(r),this.lossHistory.push(this.totalCost),this}},{key:"tune",value:function(){function t(t,e,n,i){t.setX(t.getX()+i),t.getFormatterMetrics().freedom.left+=i,t.getFormatterMetrics().freedom.right-=i,e&&(e.getFormatterMetrics().freedom.right+=i),n&&(n.getFormatterMetrics().freedom.left-=i)}var e=this,n=function(t){return t.reduce(function(t,e){return t+e})},i=0;return this.tickContexts.list.forEach(function(r,o,s){var a=e.tickContexts.map[r],u=o>0?e.tickContexts.map[s[o-1]]:null,l=o<s.length-1?e.tickContexts.map[s[o+1]]:null;t(a,u,l,i);var c=-n(a.getTickables().map(function(t){return t.getFormatterMetrics().space.deviation}));c>0?i=-Math.min(a.getFormatterMetrics().freedom.right,Math.abs(c)):c<0&&(i=l?Math.min(l.getFormatterMetrics().freedom.right,Math.abs(c)):0);var h=Math.min(5,Math.abs(i));i=i>0?h:-h}),this.evaluate()}},{key:"postFormat",value:function(){
var t=function(t){return t.list.forEach(function(e){return t.map[e].postFormat()})};return t(this.modiferContexts),t(this.tickContexts),this}},{key:"joinVoices",value:function(t){return this.createModifierContexts(t),this.hasMinTotalWidth=!1,this}},{key:"format",value:function(t,e,n){var i={align_rests:!1,context:null,stave:null};return l.Vex.Merge(i,n),this.voices=t,this.alignRests(t,i.align_rests),this.createTickContexts(t),this.preFormat(e,i.context,t,i.stave),i.stave&&this.postFormat(),this}},{key:"formatToStave",value:function(t,e,n){var i=e.getNoteEndX()-e.getNoteStartX()-10;r("Formatting voices to width: ",i);var o={context:e.getContext()};return l.Vex.Merge(o,n),this.format(t,i,o)}}]),t}()},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=0;return t.forEach(function(t){t.keyProps&&t.keyProps.forEach(function(t){e+=t.line-3})}),e>=0?d.Stem.DOWN:d.Stem.UP}Object.defineProperty(e,"__esModule",{value:!0}),e.Beam=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=n(2),h=n(5),f=n(3),p=n(16),d=n(17),b=function(t,e){var n=t.getStemExtents().topY,i=t.getStemX(),r=e.getStemExtents().topY,o=e.getStemX();return(r-n)/(o-i)};e.Beam=function(t){function e(t,n){r(this,e);var i=o(this,Object.getPrototypeOf(e).call(this));if(i.setAttribute("type","Beam"),!t||t===[])throw new l.Vex.RuntimeError("BadArguments","No notes provided for beam.");if(1===t.length)throw new l.Vex.RuntimeError("BadArguments","Too few notes for beam.");if(i.ticks=t[0].getIntrinsicTicks(),i.ticks>=c.Flow.durationToTicks("4"))throw new l.Vex.RuntimeError("BadArguments","Beams can only be applied to notes shorter than a quarter note.");var s=void 0,u=void 0;for(i.stem_direction=d.Stem.UP,s=0;s<t.length;++s)if(u=t[s],u.hasStem()){i.stem_direction=u.getStemDirection();break}var h=i.stem_direction;if(n&&"stavenotes"===t[0].getCategory())h=a(t);else if(n&&"tabnotes"===t[0].getCategory()){var f=t.reduce(function(t,e){return t+e.stem_direction},0);h=f>-1?d.Stem.UP:d.Stem.DOWN}for(s=0;s<t.length;++s)u=t[s],n&&(u.setStemDirection(h),i.stem_direction=h),u.setBeam(i);return i.postFormatted=!1,i.notes=t,i.beam_count=i.getBeamCount(),i.break_on_indices=[],i.render_options={beam_width:5,max_slope:.25,min_slope:-.25,slope_iterations:20,slope_cost:100,show_stemlets:!1,stemlet_extension:7,partial_beam_length:10,flat_beams:!1,min_flat_beam_offset:15},i}return s(e,t),u(e,null,[{key:"getDefaultBeamGroups",value:function(t){t&&"c"!==t||(t="4/4");var e={"1/2":["1/2"],"2/2":["1/2"],"3/2":["1/2"],"4/2":["1/2"],"1/4":["1/4"],"2/4":["1/4"],"3/4":["1/4"],"4/4":["1/4"],"1/8":["1/8"],"2/8":["2/8"],"3/8":["3/8"],"4/8":["2/8"],"1/16":["1/16"],"2/16":["2/16"],"3/16":["3/16"],"4/16":["2/16"]},n=e[t];if(void 0!==n)return n.map(function(t){return(new f.Fraction).parse(t)});var i=parseInt(t.split("/")[0],10),r=parseInt(t.split("/")[1],10),o=i%3===0;return o?[new f.Fraction(3,r)]:r>4?[new f.Fraction(2,r)]:r<=4?[new f.Fraction(1,r)]:[new f.Fraction(1,4)]}},{key:"applyAndGetBeams",value:function(t,n,i){return e.generateBeams(t.getTickables(),{groups:i,stem_direction:n})}},{key:"generateBeams",value:function(t,n){function i(t){return t.reduce(function(t,e){return e.getTicks().clone().add(t)},new f.Fraction(0,1))}function r(){v.length-1>_?_+=1:_=0}function o(){var t=[];g.forEach(function(e){if(t=[],e.shouldIgnoreTicks())return x.push(w),void(w=t);w.push(e);var n=v[_].clone(),o=i(w),s=c.Flow.durationToNumber(e.duration)<8;s&&e.tuplet&&(n.numerator*=2),o.greaterThan(n)?(s||t.push(w.pop()),x.push(w),w=t,r()):o.equals(n)&&(x.push(w),w=t,r())}),w.length>0&&x.push(w)}function s(){return x.filter(function(t){if(t.length>1){var e=!0;return t.forEach(function(t){t.getIntrinsicTicks()>=c.Flow.durationToTicks("4")&&(e=!1)}),e}return!1})}function u(){var t=[];x.forEach(function(e){var i=[];e.forEach(function(e,r,o){var s=0===r||r===o.length-1,a=o[r-1],u=!n.beam_rests&&e.isRest(),l=n.beam_rests&&n.beam_middle_only&&e.isRest()&&s,c=!1;if(n.maintain_stem_directions&&a&&!e.isRest()&&!a.isRest()){var h=a.getStemDirection(),f=e.getStemDirection();c=f!==h}var p=parseInt(e.duration,10)<8,d=u||l||c||p;d?(i.length>0&&t.push(i),i=c?[e]:[]):i.push(e)}),i.length>0&&t.push(i)}),x=t}function h(){x.forEach(function(t){var e=void 0;if(n.maintain_stem_directions){var i=b(t);e=i?i.getStemDirection():d.Stem.UP}else e=n.stem_direction?n.stem_direction:a(t);m(t,e)})}function b(t){for(var e=0;e<t.length;e++){var n=t[e];if(!n.isRest())return n}return!1}function m(t,e){t.forEach(function(t){t.setStemDirection(e)})}function y(){var t=[];return x.forEach(function(e){var n=null;e.forEach(function(e){e.tuplet&&n!==e.tuplet&&(n=e.tuplet,t.push(n))})}),t}n||(n={}),n.groups&&n.groups.length||(n.groups=[new f.Fraction(2,8)]);var v=n.groups.map(function(t){if(!t.multiply)throw new l.Vex.RuntimeError("InvalidBeamGroups","The beam groups must be an array of Vex.Flow.Fractions");return t.clone().multiply(c.Flow.RESOLUTION,1)}),g=t,_=0,x=[],w=[];o(),u(),h();var S=s(),E=y(),T=[];return S.forEach(function(t){var i=new e(t);n.show_stemlets&&(i.render_options.show_stemlets=!0),n.secondary_breaks&&(i.render_options.secondary_break_ticks=c.Flow.durationToTicks(n.secondary_breaks)),n.flat_beams===!0&&(i.render_options.flat_beams=!0,i.render_options.flat_beam_offset=n.flat_beam_offset),T.push(i)}),E.forEach(function(t){var e=t.notes[0].stem_direction===d.Stem.DOWN?p.Tuplet.LOCATION_BOTTOM:p.Tuplet.LOCATION_TOP;t.setTupletLocation(e);for(var n=!1,i=0;i<t.notes.length;i++){var r=t.notes[i];if(null===r.beam){n=!0;break}}t.setBracketed(n)}),T}}]),u(e,[{key:"getNotes",value:function(){return this.notes}},{key:"getBeamCount",value:function(){var t=this.notes.map(function(t){return t.getGlyph().beam_count}),e=t.reduce(function(t,e){return e>t?e:t});return e}},{key:"breakSecondaryAt",value:function(t){return this.break_on_indices=t,this}},{key:"getSlopeY",value:function(t,e,n,i){return n+(t-e)*i}},{key:"calculateSlope",value:function(){for(var t=this.notes,e=this.stem_direction,n=this.render_options,i=n.max_slope,r=n.min_slope,o=n.slope_iterations,s=n.slope_cost,a=t[0],u=b(a,t[t.length-1]),l=(i-r)/o,c=Number.MAX_VALUE,h=0,f=0,p=r;p<=i;p+=l){for(var d=0,m=0,y=1;y<t.length;++y){var v=t[y],g=this.getSlopeY(v.getStemX(),a.getStemX(),a.getStemExtents().topY,p)+m,_=v.getStemExtents().topY;if(_*e<g*e){var x=Math.abs(_-g);m+=x*-e,d+=x*y}else d+=(_-g)*e}var w=u/2,S=Math.abs(w-p),E=s*S+Math.abs(d);E<c&&(c=E,h=p,f=m)}this.slope=h,this.y_shift=f}},{key:"calculateFlatSlope",value:function(){for(var t=this.notes,e=this.stem_direction,n=this.render_options,r=n.beam_width,o=n.min_flat_beam_offset,s=n.flat_beam_offset,a=0,u=0,l=0,c=0,h=0;h<t.length;h++){var f=t[h],p=f.getStemExtents().topY;a+=p,e===d.Stem.DOWN&&c<p?(c=p,u=Math.max.apply(Math,i(f.getYs())),l=f.getBeamCount()):e===d.Stem.UP&&(0===c||c>p)&&(c=p,u=Math.min.apply(Math,i(f.getYs())),l=f.getBeamCount())}var b=a/t.length,m=1.5*r,y=o+l*m,v=u+y*-e;e===d.Stem.DOWN&&b<v?b=u+y:e===d.Stem.UP&&b>v&&(b=u-y),s?e===d.Stem.DOWN&&b>s?this.render_options.flat_beam_offset=b:e===d.Stem.UP&&b<s&&(this.render_options.flat_beam_offset=b):this.render_options.flat_beam_offset=b,this.slope=0,this.y_shift=0}},{key:"applyStemExtensions",value:function(){var t=this.notes,e=this.slope,n=this.y_shift,i=this.stem_direction,r=this.beam_count,o=this.render_options,s=o.show_stemlets,a=o.flat_beam_offset,u=o.flat_beams,l=o.stemlet_extension,c=o.beam_width,h=t[0],f=h.getStemExtents().topY;u&&a&&(f=a);for(var p=h.getStemX(),b=0;b<t.length;++b){var m=t[b],y=m.getStemX(),v=m.getStemExtents(),g=v.topY,_=this.getSlopeY(y,p,f,e)+n,x=m.getStem().getExtension(),w=i===d.Stem.UP?g-_:_-g;if(m.stem.setExtension(x+w),m.stem.renderHeightAdjustment=-d.Stem.WIDTH/2,m.isRest()&&s){var S=c,E=(r-1)*S*1.5+S;m.stem.setVisibility(!0).setStemlet(!0,E+l)}}}},{key:"getBeamLines",value:function(t){for(var e=[],n=!1,i=null,r=this.render_options.partial_beam_length,o=!1,s=0,a=0;a<this.notes.length;++a){var u=this.notes[a],l=u.ticks.value();s+=l;var h=!1;parseInt(t,10)>=8&&(h=this.break_on_indices.indexOf(a)!==-1,this.render_options.secondary_break_ticks&&s>=this.render_options.secondary_break_ticks&&(s=0,h=!0));var f=u.getIntrinsicTicks()<c.Flow.durationToTicks(t),p=u.getStemX()-d.Stem.WIDTH/2,b=this.notes[a+1],m=b&&b.getIntrinsicTicks()<c.Flow.durationToTicks(t);f?n?(i=e[e.length-1],i.end=p,h&&(n=!1,b&&!m&&null===i.end&&(i.end=i.start-r))):(i={start:p,end:null},n=!0,m?h&&(i.end=i.start-r,n=!1):(o||0===a)&&b?i.end=i.start+r:i.end=i.start-r,e.push(i)):n=!1,o=h}var y=e[e.length-1];return y&&null===y.end&&(y.end=y.start-r),e}},{key:"drawStems",value:function(){var t=this;this.notes.forEach(function(e){e.getStem()&&e.getStem().setContext(t.context).draw()},this)}},{key:"drawBeamLines",value:function(){this.checkContext();var t=["4","8","16","32","64"],e=this.notes[0],n=e.getStemExtents().topY,i=n;this.render_options.flat_beams&&this.render_options.flat_beam_offset&&(i=this.render_options.flat_beam_offset);for(var r=e.getStemX(),o=this.render_options.beam_width*this.stem_direction,s=0;s<t.length;++s){for(var a=t[s],u=this.getBeamLines(a),l=0;l<u.length;++l){var c=u[l],h=c.start,f=this.getSlopeY(h,r,i,this.slope),p=c.end,d=this.getSlopeY(p,r,i,this.slope);this.context.beginPath(),this.context.moveTo(h,f),this.context.lineTo(h,f+o),this.context.lineTo(p+1,d+o),this.context.lineTo(p+1,d),this.context.closePath(),this.context.fill()}i+=1.5*o}}},{key:"preFormat",value:function(){return this}},{key:"postFormat",value:function(){this.postFormatted||("tabnotes"===this.notes[0].getCategory()||this.render_options.flat_beams?this.calculateFlatSlope():this.calculateSlope(),this.applyStemExtensions(),this.postFormatted=!0)}},{key:"draw",value:function(){this.checkContext(),this.setRendered(),this.unbeamable||(this.postFormatted||this.postFormat(),this.drawStems(),this.drawBeamLines())}}]),e}(h.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Tuplet=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5),l=n(14),c=n(4),h=n(17);e.Tuplet=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));if(o.setAttribute("type","Tuplet"),!t||!t.length)throw new a.Vex.RuntimeError("BadArguments","No notes provided for tuplet.");if(1===t.length)throw new a.Vex.RuntimeError("BadArguments","Too few notes for tuplet.");return o.options=a.Vex.Merge({},n),o.notes=t,o.num_notes="num_notes"in o.options?o.options.num_notes:t.length,o.options.beats_occupied&&o.beatsOccupiedDeprecationWarning(),o.notes_occupied=o.options.notes_occupied||o.options.beats_occupied||2,"bracketed"in o.options?o.bracketed=o.options.bracketed:o.bracketed=t.some(function(t){return null===t.beam}),o.ratioed="ratioed"in o.options?o.options.ratioed:Math.abs(o.notes_occupied-o.num_notes)>1,o.point=28,o.y_pos=16,o.x_pos=100,o.width=200,o.location=o.options.location||e.LOCATION_TOP,l.Formatter.AlignRestsToNotes(t,!0,!0),o.resolveGlyphs(),o.attach(),o}return o(e,t),s(e,null,[{key:"LOCATION_TOP",get:function(){return 1}},{key:"LOCATION_BOTTOM",get:function(){return-1}},{key:"NESTING_OFFSET",get:function(){return 15}}]),s(e,[{key:"attach",value:function(){for(var t=0;t<this.notes.length;t++){var e=this.notes[t];e.setTuplet(this)}}},{key:"detach",value:function(){for(var t=0;t<this.notes.length;t++){var e=this.notes[t];e.resetTuplet(this)}}},{key:"setBracketed",value:function(t){return this.bracketed=!!t,this}},{key:"setRatioed",value:function(t){return this.ratioed=!!t,this}},{key:"setTupletLocation",value:function(t){if(t){if(t!==e.LOCATION_TOP&&t!==e.LOCATION_BOTTOM)throw new a.Vex.RERR("BadArgument","Invalid tuplet location: "+t)}else t=e.LOCATION_TOP;return this.location=t,this}},{key:"getNotes",value:function(){return this.notes}},{key:"getNoteCount",value:function(){return this.num_notes}},{key:"beatsOccupiedDeprecationWarning",value:function(){var t=["beats_occupied has been deprecated as an ","option for tuplets. Please use notes_occupied ","instead. Calls to getBeatsOccupied and ","setBeatsOccupied should now be routed to ","getNotesOccupied and setNotesOccupied instead"].join("");console&&console.warn?console.warn(t):console&&console.log(t)}},{key:"getBeatsOccupied",value:function(){return this.beatsOccupiedDeprecationWarning(),this.getNotesOccupied()}},{key:"setBeatsOccupied",value:function(t){return this.beatsOccupiedDeprecationWarning(),this.setNotesOccupied(t)}},{key:"getNotesOccupied",value:function(){return this.notes_occupied}},{key:"setNotesOccupied",value:function(t){this.detach(),this.notes_occupied=t,this.resolveGlyphs(),this.attach()}},{key:"resolveGlyphs",value:function(){this.num_glyphs=[];for(var t=this.num_notes;t>=1;)this.num_glyphs.push(new c.Glyph("v"+t%10,this.point)),t=parseInt(t/10,10);for(this.denom_glyphs=[],t=this.notes_occupied;t>=1;)this.denom_glyphs.push(new c.Glyph("v"+t%10,this.point)),t=parseInt(t/10,10)}},{key:"getNestedTupletCount",value:function(){function t(t,e){return t.tupletStack.filter(function(t){return t.location===e}).length}var e=this.location,n=this.notes[0],i=t(n,e),r=t(n,e);return this.notes.forEach(function(n){var o=t(n,e);i=o>i?o:i,r=o<r?o:r}),i-r}},{key:"getYPosition",value:function(){var t=this.getNestedTupletCount()*e.NESTING_OFFSET*-this.location,n=this.options.y_offset||0,i=this.notes[0],r=void 0;if(this.location===e.LOCATION_TOP){r=i.getStave().getYForLine(0)-15;for(var o=0;o<this.notes.length;++o){var s=this.notes[o].getStemDirection()===h.Stem.UP?this.notes[o].getStemExtents().topY-10:this.notes[o].getStemExtents().baseY-20;s<r&&(r=s)}}else{r=i.getStave().getYForLine(4)+20;for(var a=0;a<this.notes.length;++a){var u=this.notes[a].getStemDirection()===h.Stem.UP?this.notes[a].getStemExtents().baseY+20:this.notes[a].getStemExtents().topY+10;u>r&&(r=u)}}return r+t+n}},{key:"draw",value:function(){var t=this;this.checkContext(),this.setRendered();var n=this.notes[0],i=this.notes[this.notes.length-1];this.bracketed?(this.x_pos=n.getTieLeftX()-5,this.width=i.getTieRightX()-this.x_pos+5):(this.x_pos=n.getStemX(),this.width=i.getStemX()-this.x_pos),this.y_pos=this.getYPosition();var r=function(t,e){return t+e.getMetrics().width},o=this.num_glyphs.reduce(r,0);this.ratioed&&(o=this.denom_glyphs.reduce(r,o),o+=.32*this.point);var s=this.x_pos+this.width/2,a=s-o/2;if(this.bracketed){var u=this.width/2-o/2-5;u>0&&(this.context.fillRect(this.x_pos,this.y_pos,u,1),this.context.fillRect(this.x_pos+this.width/2+o/2+5,this.y_pos,u,1),this.context.fillRect(this.x_pos,this.y_pos+(this.location===e.LOCATION_BOTTOM),1,10*this.location),this.context.fillRect(this.x_pos+this.width,this.y_pos+(this.location===e.LOCATION_BOTTOM),1,10*this.location))}var l=0;if(this.num_glyphs.forEach(function(e){e.render(t.context,a+l,t.y_pos+t.point/3-2),l+=e.getMetrics().width}),this.ratioed){var c=a+l+.16*this.point,h=.06*this.point;this.context.beginPath(),this.context.arc(c,this.y_pos-.08*this.point,h,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.arc(c,this.y_pos+.12*this.point,h,0,2*Math.PI,!0),this.context.closePath(),this.context.fill(),l+=.32*this.point,this.denom_glyphs.forEach(function(e){e.render(t.context,a+l,t.y_pos+t.point/3-2),l+=e.getMetrics().width})}}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h.DEBUG&&u.Vex.L("Vex.Flow.Stem",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Stem=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(5),c=n(2),h=e.Stem=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","Stem"),n.x_begin=t.x_begin||0,n.x_end=t.x_end||0,n.y_top=t.y_top||0,n.y_bottom=t.y_bottom||0,n.stem_extension=t.stem_extension||0,n.stem_direction=t.stem_direction||0,n.hide=t.hide||!1,n.isStemlet=t.isStemlet||!1,n.stemletHeight=t.stemletHeight||0,n.renderHeightAdjustment=0,n}return o(e,t),a(e,null,[{key:"CATEGORY",get:function(){return"stem"}},{key:"UP",get:function(){return 1}},{key:"DOWN",get:function(){return-1}},{key:"WIDTH",get:function(){return c.Flow.STEM_WIDTH}},{key:"HEIGHT",get:function(){return c.Flow.STEM_HEIGHT}}]),a(e,[{key:"setNoteHeadXBounds",value:function(t,e){return this.x_begin=t,this.x_end=e,this}},{key:"setDirection",value:function(t){this.stem_direction=t}},{key:"setExtension",value:function(t){this.stem_extension=t}},{key:"getExtension",value:function(){return this.stem_extension}},{key:"setYBounds",value:function(t,e){this.y_top=t,this.y_bottom=e}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getHeight",value:function(){return(this.y_bottom-this.y_top)*this.stem_direction+(e.HEIGHT+this.stem_extension)*this.stem_direction}},{key:"getBoundingBox",value:function(){throw new u.Vex.RERR("NotImplemented","getBoundingBox() not implemented.")}},{key:"getExtents",value:function(){var t=this.stem_direction===e.UP,n=[this.y_top,this.y_bottom],i=e.HEIGHT+this.stem_extension,r=(t?Math.min:Math.max).apply(void 0,n),o=(t?Math.max:Math.min).apply(void 0,n),s=r+i*-this.stem_direction;return{topY:s,baseY:o}}},{key:"setStyle",value:function(t){return this.style=t,this}},{key:"getStyle",value:function(){return this.style}},{key:"setVisibility",value:function(t){return this.hide=!t,this}},{key:"setStemlet",value:function(t,e){return this.isStemlet=t,this.stemletHeight=e,this}},{key:"applyStyle",value:function(t){var e=this.getStyle();return e&&(e.shadowColor&&t.setShadowColor(e.shadowColor),e.shadowBlur&&t.setShadowBlur(e.shadowBlur),e.strokeStyle&&t.setStrokeStyle(e.strokeStyle)),this}},{key:"draw",value:function(){if(this.setRendered(),!this.hide){var t=this.checkContext(),n=void 0,i=void 0,r=this.stem_direction;r===e.DOWN?(n=this.x_begin,i=this.y_top):(n=this.x_end,i=this.y_bottom);var o=this.getHeight();s("Rendering stem - ","Top Y: ",this.y_top,"Bottom Y: ",this.y_bottom);var a=this.isStemlet?o-this.stemletHeight*this.stem_direction:0;t.save(),this.applyStyle(t),t.beginPath(),t.setLineWidth(e.WIDTH),t.moveTo(n,i-a),t.lineTo(n,i-o-this.renderHeightAdjustment*r),t.stroke(),t.restore()}}}]),e}(l.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Voice=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5),l=n(2),c=n(3);e.Voice=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));if(n.setAttribute("type","Voice"),"string"==typeof t){var o=t.match(/(\d+)\/(\d+)/);o&&(t={num_beats:o[1],beat_value:o[2],resolution:l.Flow.RESOLUTION})}return n.time=a.Vex.Merge({num_beats:4,beat_value:4,resolution:l.Flow.RESOLUTION},t),n.totalTicks=new c.Fraction(n.time.num_beats*(n.time.resolution/n.time.beat_value),1),n.resolutionMultiplier=1,n.tickables=[],n.ticksUsed=new c.Fraction(0,1),n.smallestTickCount=n.totalTicks.clone(),n.largestTickWidth=0,n.stave=null,n.mode=e.Mode.STRICT,n.voiceGroup=null,n}return o(e,t),s(e,null,[{key:"Mode",get:function(){return{STRICT:1,SOFT:2,FULL:3}}}]),s(e,[{key:"getTotalTicks",value:function(){return this.totalTicks}},{key:"getTicksUsed",value:function(){return this.ticksUsed}},{key:"getLargestTickWidth",value:function(){return this.largestTickWidth}},{key:"getSmallestTickCount",value:function(){return this.smallestTickCount}},{key:"getTickables",value:function(){return this.tickables}},{key:"getMode",value:function(){return this.mode}},{key:"setMode",value:function(t){return this.mode=t,this}},{key:"getResolutionMultiplier",value:function(){return this.resolutionMultiplier}},{key:"getActualResolution",value:function(){return this.resolutionMultiplier*this.time.resolution}},{key:"setStave",value:function(t){return this.stave=t,this.boundingBox=null,this}},{key:"getBoundingBox",value:function(){var t=void 0,e=void 0,n=void 0,i=void 0;if(!this.boundingBox){if(!this.stave)throw new a.Vex.RERR("NoStave","Can't get bounding box without stave.");for(t=this.stave,e=null,i=0;i<this.tickables.length;++i)this.tickables[i].setStave(t),n=this.tickables[i].getBoundingBox(),n&&(e=e?e.mergeWith(n):n);this.boundingBox=e}return this.boundingBox}},{key:"getVoiceGroup",value:function(){if(!this.voiceGroup)throw new a.Vex.RERR("NoVoiceGroup","No voice group for voice.");return this.voiceGroup}},{key:"setVoiceGroup",value:function(t){return this.voiceGroup=t,this}},{key:"setStrict",value:function(t){return this.mode=t?e.Mode.STRICT:e.Mode.SOFT,this}},{key:"isComplete",value:function(){return this.mode!==e.Mode.STRICT&&this.mode!==e.Mode.FULL||this.ticksUsed.equals(this.totalTicks)}},{key:"addTickable",value:function(t){if(!t.shouldIgnoreTicks()){var n=t.getTicks();if(this.ticksUsed.add(n),(this.mode===e.Mode.STRICT||this.mode===e.Mode.FULL)&&this.ticksUsed.greaterThan(this.totalTicks))throw this.totalTicks.subtract(n),new a.Vex.RERR("BadArgument","Too many ticks.");n.lessThan(this.smallestTickCount)&&(this.smallestTickCount=n.clone()),this.resolutionMultiplier=this.ticksUsed.denominator,this.totalTicks.add(0,this.ticksUsed.denominator)}return this.tickables.push(t),t.setVoice(this),this}},{key:"addTickables",value:function(t){for(var e=0;e<t.length;++e)this.addTickable(t[e]);return this}},{key:"preFormat",value:function(){var t=this;return this.preFormatted?this:(this.tickables.forEach(function(e){e.getStave()||e.setStave(t.stave)}),this.preFormatted=!0,this)}},{key:"draw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.context:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.stave:arguments[1];this.setRendered();for(var n=null,i=0;i<this.tickables.length;++i){var r=this.tickables[i];if(e&&r.setStave(e),!r.getStave())throw new a.Vex.RuntimeError("MissingStave","The voice cannot draw tickables without staves.");if(0===i&&(n=r.getBoundingBox()),i>0&&n){var o=r.getBoundingBox();o&&n.mergeWith(o)}r.setContext(t),r.draw()}this.boundingBox=n}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,i,r){if(e!==f.type.BOLD_DOUBLE_LEFT&&e!==f.type.BOLD_DOUBLE_RIGHT)throw new u.Vex.RERR("InvalidConnector","A REPEAT_BEGIN or REPEAT_END type must be provided.");var o=3,s=3.5,a=2;e===f.type.BOLD_DOUBLE_RIGHT&&(o=-5,s=3),t.fillRect(n+o,i,1,r-i),t.fillRect(n-a,i,s,r-i)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveConnector=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(5),c=n(2),h=n(4),f=e.StaveConnector=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));return o.setAttribute("type","StaveConnector"),o.thickness=c.Flow.STAVE_LINE_THICKNESS,o.width=3,o.top_stave=t,o.bottom_stave=n,o.type=e.type.DOUBLE,o.font={family:"times",size:16,weight:"normal"},o.x_shift=0,o.texts=[],o}return o(e,t),a(e,null,[{key:"type",get:function(){return{SINGLE_RIGHT:0,SINGLE_LEFT:1,SINGLE:1,DOUBLE:2,BRACE:3,BRACKET:4,BOLD_DOUBLE_LEFT:5,BOLD_DOUBLE_RIGHT:6,THIN_DOUBLE:7,NONE:8}}},{key:"typeString",get:function(){return{singleRight:e.type.SINGLE_RIGHT,singleLeft:e.type.SINGLE_LEFT,single:e.type.SINGLE,double:e.type.DOUBLE,brace:e.type.BRACE,bracket:e.type.BRACKET,boldDoubleLeft:e.type.BOLD_DOUBLE_LEFT,boldDoubleRight:e.type.BOLD_DOUBLE_RIGHT,thinDouble:e.type.THIN_DOUBLE,none:e.type.NONE}}}]),a(e,[{key:"setType",value:function(t){return t="string"==typeof t?e.typeString[t]:t,t>=e.type.SINGLE_RIGHT&&t<=e.type.NONE&&(this.type=t),this}},{key:"setText",value:function(t,e){return this.texts.push({content:t,options:u.Vex.Merge({shift_x:0,shift_y:0},e)}),this}},{key:"setFont",value:function(t){u.Vex.Merge(this.font,t)}},{key:"setXShift",value:function(t){if("number"!=typeof t)throw u.Vex.RERR("InvalidType","x_shift must be a Number");return this.x_shift=t,this}},{key:"draw",value:function(){var t=this.checkContext();this.setRendered();var n=this.top_stave.getYForLine(0),i=this.bottom_stave.getYForLine(this.bottom_stave.getNumLines()-1)+this.thickness,r=this.width,o=this.top_stave.getX(),a=this.type===e.type.SINGLE_RIGHT||this.type===e.type.BOLD_DOUBLE_RIGHT||this.type===e.type.THIN_DOUBLE;a&&(o=this.top_stave.getX()+this.top_stave.width);var l=i-n;switch(this.type){case e.type.SINGLE:r=1;break;case e.type.SINGLE_LEFT:r=1;break;case e.type.SINGLE_RIGHT:r=1;break;case e.type.DOUBLE:o-=this.width+2;break;case e.type.BRACE:r=12;var c=this.top_stave.getX()-2+this.x_shift,f=n,p=c,d=i,b=c-r,m=f+l/2,y=b-.9*r,v=f+.2*l,g=c+1.1*r,_=m-.135*l,x=g,w=m+.135*l,S=y,E=d-.2*l,T=b-r,P=E,M=c+.4*r,O=m+.135*l,A=M,C=m-.135*l,k=T,R=v;t.beginPath(),t.moveTo(c,f),t.bezierCurveTo(y,v,g,_,b,m),t.bezierCurveTo(x,w,S,E,p,d),t.bezierCurveTo(T,P,M,O,b,m),t.bezierCurveTo(A,C,k,R,c,f),t.fill(),t.stroke();break;case e.type.BRACKET:n-=4,i+=4,l=i-n,h.Glyph.renderGlyph(t,o-5,n-3,40,"v1b",!0),h.Glyph.renderGlyph(t,o-5,i+3,40,"v10",!0),o-=this.width+2;break;case e.type.BOLD_DOUBLE_LEFT:s(t,this.type,o+this.x_shift,n,i);break;case e.type.BOLD_DOUBLE_RIGHT:s(t,this.type,o,n,i);break;case e.type.THIN_DOUBLE:r=1;break;case e.type.NONE:break;default:throw new u.Vex.RERR("InvalidType","The provided StaveConnector.type ("+this.type+") is invalid")}this.type!==e.type.BRACE&&this.type!==e.type.BOLD_DOUBLE_LEFT&&this.type!==e.type.BOLD_DOUBLE_RIGHT&&this.type!==e.type.NONE&&t.fillRect(o,n,r,l),this.type===e.type.THIN_DOUBLE&&t.fillRect(o-3,n,r,l),t.save(),t.lineWidth=2,t.setFont(this.font.family,this.font.size,this.font.weight);for(var I=0;I<this.texts.length;I++){var N=this.texts[I],L=t.measureText(""+N.content).width,F=this.top_stave.getX()-L-24+N.options.shift_x,B=(this.top_stave.getYForLine(0)+this.bottom_stave.getBottomLineY())/2+N.options.shift_y;t.fillText(""+N.content,F,B+4)}t.restore()}}]),e}(l.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];x.DEBUG&&h.Vex.L("Vex.Flow.StaveNote",e)}function a(t,e,n){var i=(e.isrest?0:1)*n;t.line+=i,t.maxLine+=i,t.minLine+=i,t.note.setKeyLine(0,t.note.getKeyLine(0)+i)}function u(t,e,n){var i=t.line-h.Vex.MidLine(e.minLine,n.maxLine);t.note.setKeyLine(0,t.note.getKeyLine(0)-i),t.line-=i,t.maxLine-=i,t.minLine-=i}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveNote=void 0;var l=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(1),f=n(2),p=n(8),d=n(17),b=n(21),m=n(24),y=n(25),v=n(26),g=function(t){return d.Stem.WIDTH/(2*-t.getStemDirection())},_=function(t,e){return e===(t.getStemDirection()===d.Stem.UP?t.keyProps.length-1:0)},x=e.StaveNote=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));if(n.setAttribute("type","StaveNote"),n.keys=t.keys,n.clef=t.clef,n.octave_shift=t.octave_shift,n.beam=null,n.glyph=f.Flow.durationToGlyph(n.duration,n.noteType),!n.glyph)throw new h.Vex.RuntimeError("BadArguments","Invalid note initialization data (No glyph found): "+JSON.stringify(t));return n.displaced=!1,n.dot_shiftY=0,n.keyProps=[],n.use_default_head_x=!1,n.note_heads=[],n.modifiers=[],h.Vex.Merge(n.render_options,{glyph_font_scale:t.glyph_font_scale||f.Flow.DEFAULT_NOTATION_FONT_SCALE,stroke_px:t.stroke_px||e.DEFAULT_LEDGER_LINE_OFFSET}),n.calculateKeyProps(),
n.buildStem(),t.auto_stem?n.autoStem():n.setStemDirection(t.stem_direction),n.reset(),n.buildFlag(),n.calcExtraPx(),n}return o(e,t),c(e,null,[{key:"format",value:function(t,n){if(!t||t.length<2)return!1;if(null!=t[0].getStave())return e.formatByY(t,n);for(var i=[],r=0;r<t.length;r++){var o=t[r].getKeyProps(),s=o[0].line,l=o[o.length-1].line,c=t[r].getStemDirection(),h=t[r].getStemLength()/10,f=t[r].getStemMinumumLength()/10,p=void 0;t[r].isRest()?(p=s+t[r].glyph.line_above,l=s-t[r].glyph.line_below):(p=1===c?o[o.length-1].line+h:o[o.length-1].line,l=1===c?o[0].line:o[0].line-h),i.push({line:o[0].line,maxLine:p,minLine:l,isrest:t[r].isRest(),stemDirection:c,stemMax:h,stemMin:f,voice_shift:t[r].getVoiceShiftWidth(),is_displaced:t[r].isDisplaced(),note:t[r]})}var d=i.length,b=i[0],m=d>2?i[1]:null,y=d>2?i[2]:i[1];2===d&&b.stemDirection===-1&&1===y.stemDirection&&(b=i[1],y=i[0]);var v=Math.max(b.voice_shift,y.voice_shift),g=0,_=void 0;if(2===d){var x=b.stemDirection===y.stemDirection?0:.5;return b.stemDirection===y.stemDirection&&b.minLine<=y.maxLine&&(b.isrest||(_=Math.abs(b.line-(y.maxLine+.5)),_=Math.max(_,b.stemMin),b.minLine=b.line-_,b.note.setStemLength(10*_))),b.minLine<=y.maxLine+x&&(b.isrest?a(b,y,1):y.isrest?a(y,b,-1):(g=v,b.stemDirection===y.stemDirection?b.note.setXShift(g+3):y.note.setXShift(g))),!0}if(null!==m&&m.minLine<y.maxLine+.5&&(m.isrest||(_=Math.abs(m.line-(y.maxLine+.5)),_=Math.max(_,m.stemMin),m.minLine=m.line-_,m.note.setStemLength(10*_))),m.isrest&&!b.isrest&&!y.isrest&&(b.minLine<=m.maxLine||m.minLine<=y.maxLine)){var w=m.maxLine-m.minLine,S=b.minLine-y.maxLine;return w<S?u(m,b,y):(g=v+3,m.note.setXShift(g)),!0}return b.isrest&&m.isrest&&y.isrest?(a(b,m,1),a(y,m,-1),!0):(m.isrest&&b.isrest&&m.minLine<=y.maxLine&&a(m,y,1),m.isrest&&y.isrest&&b.minLine<=m.maxLine&&a(m,b,-1),b.isrest&&b.minLine<=m.maxLine&&a(b,m,1),y.isrest&&m.minLine<=y.maxLine&&a(y,m,-1),(!b.isrest&&!m.isrest&&b.minLine<=m.maxLine+.5||!m.isrest&&!y.isrest&&m.minLine<=y.maxLine)&&(g=v+3,m.note.setXShift(g)),!0)}},{key:"formatByY",value:function(t,e){for(var n=!0,i=0;i<t.length;i++)n=n&&null!=t[i].getStave();if(!n)throw new h.Vex.RERR("Stave Missing","All notes must have a stave - Vex.Flow.ModifierContext.formatMultiVoice!");for(var r=0,o=0;o<t.length-1;o++){var s=t[o],a=t[o+1];s.getStemDirection()===d.Stem.DOWN&&(s=t[o+1],a=t[o]);var u=s.getKeyProps(),l=a.getKeyProps(),c=.5,f=s.getStave().getYForLine(5-u[0].line+c),p=a.getStave().getYForLine(5-l[l.length-1].line-c),b=p-f<0;b&&(r=s.getVoiceShiftWidth(),a.setXShift(r))}e.right_shift+=r}},{key:"postFormat",value:function(t){return!!t&&(t.forEach(function(t){return t.postFormat()}),!0)}},{key:"CATEGORY",get:function(){return"stavenotes"}},{key:"STEM_UP",get:function(){return d.Stem.UP}},{key:"STEM_DOWN",get:function(){return d.Stem.DOWN}},{key:"DEFAULT_LEDGER_LINE_OFFSET",get:function(){return 3}}]),c(e,[{key:"reset",value:function(){var t=this;l(Object.getPrototypeOf(e.prototype),"reset",this).call(this),this.buildNoteHeads(),this.stave&&this.note_heads.forEach(function(e){return e.setStave(t.stave)})}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"buildStem",value:function(){var t=this.getGlyph(),e="v95"===t.code_head||"v3e"===t.code_head?-4:0;this.setStem(new d.Stem({yExtend:e,hide:!!this.isRest()}))}},{key:"buildNoteHeads",value:function(){this.note_heads=[];var t=this.getStemDirection(),e=this.getKeys(),n=null,i=null,r=!1,o=void 0,s=void 0,a=void 0;t===d.Stem.UP?(o=0,s=e.length,a=1):t===d.Stem.DOWN&&(o=e.length-1,s=-1,a=-1);for(var u=o;u!==s;u+=a){var l=this.keyProps[u],c=l.line;null===n?n=c:(i=Math.abs(n-c),0===i||.5===i?r=!r:(r=!1,this.use_default_head_x=!0)),n=c;var h=new b.NoteHead({duration:this.duration,note_type:this.noteType,displaced:r,stem_direction:t,custom_glyph_code:l.code,glyph_font_scale:this.render_options.glyph_font_scale,x_shift:l.shift_right,line:l.line});this.note_heads[u]=h}}},{key:"autoStem",value:function(){this.minLine=this.keyProps[0].line,this.maxLine=this.keyProps[this.keyProps.length-1].line;var t=3,e=(this.minLine+this.maxLine)/2,n=e<t?d.Stem.UP:d.Stem.DOWN;this.setStemDirection(n)}},{key:"calculateKeyProps",value:function(){for(var t=null,e=0;e<this.keys.length;++e){var n=this.keys[e];this.glyph.rest&&(this.glyph.position=n);var i={octave_shift:this.octave_shift||0},r=f.Flow.keyProperties(n,this.clef,i);if(!r)throw new h.Vex.RuntimeError("BadArguments","Invalid key for note properties: "+n);"R"===r.key&&("1"===this.duration||"w"===this.duration?r.line=4:r.line=3);var o=r.line;null===t?t=o:.5===Math.abs(t-o)&&(this.displaced=!0,r.displaced=!0,this.keyProps.length>0&&(this.keyProps[e-1].displaced=!0)),t=o,this.keyProps.push(r)}t=-(1/0),this.keyProps.forEach(function(e){e.line<t&&h.Vex.W("Unsorted keys in note will be sorted. See https://github.com/0xfe/vexflow/issues/104 for details."),t=e.line}),this.keyProps.sort(function(t,e){return t.line-e.line})}},{key:"getBoundingBox",value:function(){if(!this.preFormatted)throw new h.Vex.RERR("UnformattedNote","Can't call getBoundingBox on an unformatted note.");var t=this.getMetrics(),e=t.width,n=t.modLeftPx,i=t.extraLeftPx,r=this.getAbsoluteX()-n-i,o=0,s=0,a=this.getStave().getSpacingBetweenLines()/2,u=2*a;if(this.isRest()){var l=this.ys[0],c=f.Flow.durationToFraction(this.duration);c.equals(1)||c.equals(2)?(o=l-a,s=l+a):(o=l-this.glyph.line_above*u,s=l+this.glyph.line_below*u)}else if(this.glyph.stem){var d=this.getStemExtents();d.baseY+=a*this.stem_direction,o=Math.min(d.topY,d.baseY),s=Math.max(d.topY,d.baseY)}else{o=null,s=null;for(var b=0;b<this.ys.length;++b){var m=this.ys[b];0===b?(o=m,s=m):(o=Math.min(m,o),s=Math.max(m,s))}o-=a,s+=a}return new p.BoundingBox(r,o,e,s-o)}},{key:"getLineNumber",value:function(t){if(!this.keyProps.length)throw new h.Vex.RERR("NoKeyProps","Can't get bottom note line, because note is not initialized properly.");for(var e=this.keyProps[0].line,n=0;n<this.keyProps.length;n++){var i=this.keyProps[n].line;t?i>e&&(e=i):i<e&&(e=i)}return e}},{key:"isRest",value:function(){return this.glyph.rest}},{key:"isChord",value:function(){return!this.isRest()&&this.keys.length>1}},{key:"hasStem",value:function(){return this.glyph.stem}},{key:"hasFlag",value:function(){return l(Object.getPrototypeOf(e.prototype),"hasFlag",this).call(this)&&!this.isRest()}},{key:"getStemX",value:function(){return"r"===this.noteType?this.getCenterGlyphX():l(Object.getPrototypeOf(e.prototype),"getStemX",this).call(this)+g(this)}},{key:"getYForTopText",value:function(t){var e=this.getStemExtents();return Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1))}},{key:"getYForBottomText",value:function(t){var e=this.getStemExtents();return Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t)}},{key:"setStave",value:function(t){l(Object.getPrototypeOf(e.prototype),"setStave",this).call(this,t);var n=this.note_heads.map(function(e){return e.setStave(t),e.getY()});if(this.setYs(n),this.stem){var i=this.getNoteHeadBounds(),r=i.y_top,o=i.y_bottom;this.stem.setYBounds(r,o)}return this}},{key:"getKeys",value:function(){return this.keys}},{key:"getKeyProps",value:function(){return this.keyProps}},{key:"isDisplaced",value:function(){return this.displaced}},{key:"setNoteDisplaced",value:function(t){return this.displaced=t,this}},{key:"getTieRightX",value:function(){var t=this.getAbsoluteX();return t+=this.getGlyphWidth()+this.x_shift+this.extraRightPx,this.modifierContext&&(t+=this.modifierContext.getExtraRightPx()),t}},{key:"getTieLeftX",value:function(){var t=this.getAbsoluteX();return t+=this.x_shift-this.extraLeftPx}},{key:"getLineForRest",value:function(){var t=this.keyProps[0].line;if(this.keyProps.length>1){var e=this.keyProps[this.keyProps.length-1].line,n=Math.max(t,e),i=Math.min(t,e);t=h.Vex.MidLine(n,i)}return t}},{key:"getModifierStartXY",value:function(t,e){if(!this.preFormatted)throw new h.Vex.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");if(0===this.ys.length)throw new h.Vex.RERR("NoYValues","No Y-Values calculated for this note.");var n=y.Modifier.Position,i=n.ABOVE,r=n.BELOW,o=n.LEFT,s=n.RIGHT,a=0;return t===o?a=-2:t===s?(a=this.getGlyphWidth()+this.x_shift+2,this.stem_direction===d.Stem.UP&&this.hasFlag()&&_(this,e)&&(a+=this.flag.getMetrics().width)):t!==r&&t!==i||(a=this.getGlyphWidth()/2),{x:this.getAbsoluteX()+a,y:this.ys[e]}}},{key:"setStyle",value:function(t){this.note_heads.forEach(function(e){return e.setStyle(t)}),this.stem.setStyle(t)}},{key:"setKeyStyle",value:function(t,e){return this.note_heads[t].setStyle(e),this}},{key:"setKeyLine",value:function(t,e){return this.keyProps[t].line=e,this.note_heads[t].setLine(e),this}},{key:"getKeyLine",value:function(t){return this.keyProps[t].line}},{key:"addToModifierContext",value:function(t){this.setModifierContext(t);for(var e=0;e<this.modifiers.length;++e)this.modifierContext.addModifier(this.modifiers[e]);return this.modifierContext.addModifier(this),this.setPreFormatted(!1),this}},{key:"addModifier",value:function(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}},{key:"addAccidental",value:function(t,e){return this.addModifier(t,e)}},{key:"addArticulation",value:function(t,e){return this.addModifier(t,e)}},{key:"addAnnotation",value:function(t,e){return this.addModifier(t,e)}},{key:"addDot",value:function(t){var e=new v.Dot;return e.setDotShiftY(this.glyph.dot_shiftY),this.dots++,this.addModifier(t,e)}},{key:"addDotToAll",value:function(){for(var t=0;t<this.keys.length;++t)this.addDot(t);return this}},{key:"getAccidentals",value:function(){return this.modifierContext.getModifiers("accidentals")}},{key:"getDots",value:function(){return this.modifierContext.getModifiers("dots")}},{key:"getVoiceShiftWidth",value:function(){return this.getGlyphWidth()*(this.displaced?2:1)}},{key:"calcExtraPx",value:function(){this.setExtraLeftPx(this.displaced&&this.stem_direction===d.Stem.DOWN?this.getGlyphWidth():0),this.setExtraRightPx(!this.hasFlag()&&this.displaced&&this.stem_direction===d.Stem.UP?this.getGlyphWidth():0)}},{key:"preFormat",value:function(){if(!this.preFormatted){this.modifierContext&&this.modifierContext.preFormat();var t=this.getGlyphWidth()+this.extraLeftPx+this.extraRightPx;this.glyph.flag&&null===this.beam&&this.stem_direction===d.Stem.UP&&(t+=this.getGlyphWidth()),this.setWidth(t),this.setPreFormatted(!0)}}},{key:"getNoteHeadBounds",value:function(){var t=null,e=null,n=this.stave.getNumLines(),i=1;return this.note_heads.forEach(function(r){var o=r.getLine(),s=r.getY();(null===t||s<t)&&(t=s),(null===e||s>e)&&(e=s),n=o>n?o:n,i=o<i?o:i},this),{y_top:t,y_bottom:e,highest_line:n,lowest_line:i}}},{key:"getNoteHeadBeginX",value:function(){return this.getAbsoluteX()+this.x_shift}},{key:"getNoteHeadEndX",value:function(){var t=this.getNoteHeadBeginX();return t+this.getGlyphWidth()}},{key:"drawLedgerLines",value:function(){var t=this,e=this.note_heads,n=this.stave,i=this.use_default_head_x,r=this.x_shift,o=this.glyph,s=this.render_options.stroke_px,a=this.context;if(!this.isRest()){if(!a)throw new h.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");for(var u=this.getNoteHeadBounds(),l=u.highest_line,c=u.lowest_line,f=e[0].getAbsoluteX(),p=function(e){i===!0&&(f=t.getAbsoluteX()+r);var n=f-s,u=f+o.getWidth()-f+2*s;a.fillRect(n,e,u,1)},d=6;d<=l;++d)p(n.getYForNote(d));for(var b=0;b>=c;--b)p(n.getYForNote(b))}}},{key:"drawModifiers",value:function(){if(!this.context)throw new h.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");var t=this.context;t.openGroup("modifiers");for(var e=0;e<this.modifiers.length;e++){var n=this.modifiers[e],i=this.note_heads[n.getIndex()],r=i.getStyle();r&&(t.save(),i.applyStyle(t)),n.setContext(t),n.draw(),r&&t.restore()}t.closeGroup()}},{key:"drawFlag",value:function(){var t=this.stem,e=this.beam,n=this.context;if(!n)throw new h.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");var i=null===e,r=this.getGlyph();if(r.flag&&i){var o=this.getNoteHeadBounds(),s=o.y_top,a=o.y_bottom,u=t.getHeight(),l=this.getStemX(),c=this.getStemDirection()===d.Stem.DOWN?s-u+2:a-u-2;n.openGroup("flag",null,{pointerBBox:!0}),this.flag.render(n,l,c),n.closeGroup()}}},{key:"drawNoteHeads",value:function(){var t=this;this.note_heads.forEach(function(e){t.context.openGroup("notehead",null,{pointerBBox:!0}),e.setContext(t.context).draw(),t.context.closeGroup()})}},{key:"drawStem",value:function(t){if(!this.context)throw new h.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");t&&this.setStem(new d.Stem(t)),this.context.openGroup("stem",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()}},{key:"draw",value:function(){if(!this.context)throw new h.Vex.RERR("NoCanvasContext","Can't draw without a canvas context.");if(!this.stave)throw new h.Vex.RERR("NoStave","Can't draw without a stave.");if(0===this.ys.length)throw new h.Vex.RERR("NoYValues","Can't draw note without Y values.");var t=this.getNoteHeadBeginX(),e=this.hasStem()&&!this.beam;this.note_heads.forEach(function(e){return e.setX(t)});var n=this.getStemX();this.stem.setNoteHeadXBounds(n,n),s("Rendering ",this.isChord()?"chord :":"note :",this.keys),this.drawLedgerLines(),this.setAttribute("el",this.context.openGroup("stavenote",this.getAttribute("id"))),this.context.openGroup("note",null,{pointerBBox:!0}),e&&this.drawStem(),this.drawNoteHeads(),this.drawFlag(),this.context.closeGroup(),this.drawModifiers(),this.context.closeGroup(),this.setRendered()}}]),e}(m.StemmableNote)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];m.DEBUG&&c.Vex.L("Vex.Flow.NoteHead",e)}function a(t,e,n,i,r,o){var s=h.Flow.SLASH_NOTEHEAD_WIDTH;t.save(),t.setLineWidth(h.Flow.STEM_WIDTH);var a=!1;if(h.Flow.durationToNumber(e)>2&&(a=!0),a||(n-=h.Flow.STEM_WIDTH/2*r),t.beginPath(),t.moveTo(n,i+o),t.lineTo(n,i+1),t.lineTo(n+s,i-o),t.lineTo(n+s,i),t.lineTo(n,i+o),t.closePath(),a?t.fill():t.stroke(),h.Flow.durationToFraction(e).equals(.5))for(var u=[-3,-1,s+1,s+3],l=0;l<u.length;l++)t.beginPath(),t.moveTo(n+u[l],i-10),t.lineTo(n+u[l],i+11),t.stroke();t.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.NoteHead=void 0;var u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(1),h=n(2),f=n(22),p=n(17),d=n(20),b=n(4),m=e.NoteHead=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));if(n.setAttribute("type","NoteHead"),n.index=t.index,n.x=t.x||0,n.y=t.y||0,n.note_type=t.note_type,n.duration=t.duration,n.displaced=t.displaced||!1,n.stem_direction=t.stem_direction||d.StaveNote.STEM_UP,n.line=t.line,n.glyph=h.Flow.durationToGlyph(n.duration,n.note_type),!n.glyph)throw new c.Vex.RuntimeError("BadArguments","No glyph found for duration '"+n.duration+"' and type '"+n.note_type+"'");return n.glyph_code=n.glyph.code_head,n.x_shift=t.x_shift,t.custom_glyph_code&&(n.custom_glyph=!0,n.glyph_code=t.custom_glyph_code),n.style=t.style,n.slashed=t.slashed,c.Vex.Merge(n.render_options,{glyph_font_scale:t.glyph_font_scale||h.Flow.DEFAULT_NOTATION_FONT_SCALE,stroke_px:3}),n.setWidth(n.glyph.getWidth(n.render_options.glyph_font_scale)),n}return o(e,t),l(e,null,[{key:"CATEGORY",get:function(){return"notehead"}}]),l(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getWidth",value:function(){return this.width}},{key:"isDisplaced",value:function(){return this.displaced===!0}},{key:"getStyle",value:function(){return this.style}},{key:"setStyle",value:function(t){return this.style=t,this}},{key:"getGlyph",value:function(){return this.glyph}},{key:"setX",value:function(t){return this.x=t,this}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(t){return this.y=t,this}},{key:"getLine",value:function(){return this.line}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"getAbsoluteX",value:function(){var t=this.preFormatted?u(Object.getPrototypeOf(e.prototype),"getAbsoluteX",this).call(this):this.x,n=p.Stem.WIDTH/2;return t+(this.displaced?(this.width-n)*this.stem_direction:0)}},{key:"getBoundingBox",value:function(){if(!this.preFormatted)throw new c.Vex.RERR("UnformattedNote","Can't call getBoundingBox on an unformatted note.");var t=this.stave.getSpacingBetweenLines(),e=t/2,n=this.y-e;return new h.Flow.BoundingBox(this.getAbsoluteX(),n,this.width,t)}},{key:"applyStyle",value:function(t){var e=this.getStyle();return e.shadowColor&&t.setShadowColor(e.shadowColor),e.shadowBlur&&t.setShadowBlur(e.shadowBlur),e.fillStyle&&t.setFillStyle(e.fillStyle),e.strokeStyle&&t.setStrokeStyle(e.strokeStyle),this}},{key:"setStave",value:function(t){var e=this.getLine();return this.stave=t,this.setY(t.getYForNote(e)),this.context=this.stave.context,this}},{key:"preFormat",value:function(){if(this.preFormatted)return this;var t=this.getWidth()+this.extraLeftPx+this.extraRightPx;return this.setWidth(t),this.setPreFormatted(!0),this}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.context,e=this.getAbsoluteX(),n=this.y;s("Drawing note head '",this.note_type,this.duration,"' at",e,n);var i=this.stem_direction,r=this.render_options.glyph_font_scale,o=this.line;if(o<=0||o>=6){var u=n,l=Math.floor(o);o<0&&l-o===-.5?u-=5:o>6&&l-o===-.5&&(u+=5),"r"!==this.note_type&&t.fillRect(e-this.render_options.stroke_px,u,this.getWidth()+2*this.render_options.stroke_px,1)}if("s"===this.note_type){var c=this.stave.getSpacingBetweenLines();a(t,this.duration,e,n,i,c)}else this.style?(t.save(),this.applyStyle(t),b.Glyph.renderGlyph(t,e,n,r,this.glyph_code),t.restore()):b.Glyph.renderGlyph(t,e,n,r,this.glyph_code)}}]),e}(f.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(2),c=n(23);e.Note=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));if(n.setAttribute("type","Note"),!t)throw new u.Vex.RuntimeError("BadArguments","Note must have valid initialization data to identify duration and type.");var o=l.Flow.parseNoteData(t);if(!o)throw new u.Vex.RuntimeError("BadArguments","Invalid note initialization object: "+JSON.stringify(t));if(n.duration=o.duration,n.dots=o.dots,n.noteType=o.type,t.duration_override?n.setDuration(t.duration_override):n.setIntrinsicTicks(o.ticks),n.modifiers=[],n.glyph=l.Flow.durationToGlyph(n.duration,n.noteType),n.positions&&("object"!==s(n.positions)||!n.positions.length))throw new u.Vex.RuntimeError("BadArguments","Note keys must be array type.");return n.playNote=null,n.tickContext=null,n.modifierContext=null,n.ignore_ticks=!1,n.width=0,n.extraLeftPx=0,n.extraRightPx=0,n.x_shift=0,n.left_modPx=0,n.right_modPx=0,n.voice=null,n.preFormatted=!1,n.ys=[],t.align_center&&n.setCenterAlignment(t.align_center),n.stave=null,n.render_options={annotation_spacing:5,stave_padding:e.STAVEPADDING},n}return o(e,t),a(e,null,[{key:"plotMetrics",value:function(t,e,n){function i(n,i,r){var o=arguments.length<=3||void 0===arguments[3]?d:arguments[3];t.beginPath(),t.setStrokeStyle(r),t.setFillStyle(r),t.setLineWidth(3),t.moveTo(n+e.getXShift(),o),t.lineTo(i+e.getXShift(),o),t.stroke()}var r=e.getMetrics(),o=e.getAbsoluteX()-r.modLeftPx-r.extraLeftPx,s=e.getAbsoluteX()-r.extraLeftPx,a=e.getAbsoluteX(),l=e.getAbsoluteX()+r.noteWidth,c=e.getAbsoluteX()+r.noteWidth+r.extraRightPx,h=e.getAbsoluteX()+r.noteWidth+r.extraRightPx+r.modRightPx,f=h+e.getFormatterMetrics().freedom.right,p=h-o;t.save(),t.setFont("Arial",8,""),t.fillText(Math.round(p)+"px",o+e.getXShift(),n);var d=n+7;i(o,s,"red"),i(s,a,"#999"),i(a,l,"green"),i(l,c,"#999"),i(c,h,"red"),i(h,f,"#DD0"),i(o-e.getXShift(),o,"#BBB"),u.Vex.drawDot(t,a+e.getXShift(),d,"blue");var b=e.getFormatterMetrics();if(b.iterations>0){var m=b.space.deviation,y=m>=0?"+":"";t.setFillStyle("red"),t.fillText(y+Math.round(m),a+e.getXShift(),n-10)}t.restore()}},{key:"CATEGORY",get:function(){return"note"}},{key:"STAVEPADDING",get:function(){return 12}}]),a(e,[{key:"getPlayNote",value:function(){return this.playNote}},{key:"setPlayNote",value:function(t){return this.playNote=t,this}},{key:"isRest",value:function(){return!1}},{key:"addStroke",value:function(t,e){return e.setNote(this),e.setIndex(t),this.modifiers.push(e),this.setPreFormatted(!1),this}},{key:"getStave",value:function(){return this.stave}},{key:"setStave",value:function(t){return this.stave=t,this.setYs([t.getYForLine(0)]),this.context=this.stave.context,this}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setContext",value:function(t){return this.context=t,this}},{key:"getExtraLeftPx",value:function(){return this.extraLeftPx}},{key:"getExtraRightPx",value:function(){return this.extraRightPx}},{key:"setExtraLeftPx",value:function(t){return this.extraLeftPx=t,this}},{key:"setExtraRightPx",value:function(t){return this.extraRightPx=t,this}},{key:"shouldIgnoreTicks",value:function(){return this.ignore_ticks}},{key:"getLineNumber",value:function(){return 0}},{key:"getLineForRest",value:function(){return 0}},{key:"getGlyph",value:function(){return this.glyph}},{key:"getGlyphWidth",value:function(){return this.glyph.getWidth(this.render_options.glyph_font_scale)}},{key:"setYs",value:function(t){return this.ys=t,this}},{key:"getYs",value:function(){if(0===this.ys.length)throw new u.Vex.RERR("NoYValues","No Y-values calculated for this note.");return this.ys}},{key:"getYForTopText",value:function(t){if(!this.stave)throw new u.Vex.RERR("NoStave","No stave attached to this note.");return this.stave.getYForTopText(t)}},{key:"getBoundingBox",value:function(){return null}},{key:"getVoice",value:function(){if(!this.voice)throw new u.Vex.RERR("NoVoice","Note has no voice.");return this.voice}},{key:"setVoice",value:function(t){return this.voice=t,this.preFormatted=!1,this}},{key:"getTickContext",value:function(){return this.tickContext}},{key:"setTickContext",value:function(t){return this.tickContext=t,this.preFormatted=!1,this}},{key:"getDuration",value:function(){return this.duration}},{key:"isDotted",value:function(){return this.dots>0}},{key:"hasStem",value:function(){return!1}},{key:"getDots",value:function(){return this.dots}},{key:"getNoteType",value:function(){return this.noteType}},{key:"setBeam",value:function(){return this}},{key:"setModifierContext",value:function(t){return this.modifierContext=t,this}},{key:"addModifier",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return t.setNote(this),t.setIndex(e),this.modifiers.push(t),this.setPreFormatted(!1),this}},{key:"getModifierStartXY",value:function(){if(!this.preFormatted)throw new u.Vex.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");return{x:this.getAbsoluteX(),y:this.ys[0]}}},{key:"getMetrics",value:function(){if(!this.preFormatted)throw new u.Vex.RERR("UnformattedNote","Can't call getMetrics on an unformatted note.");var t=0,e=0;null!=this.modifierContext&&(t=this.modifierContext.state.left_shift,e=this.modifierContext.state.right_shift);var n=this.getWidth();return{width:n,noteWidth:n-t-e-this.extraLeftPx-this.extraRightPx,left_shift:this.x_shift,modLeftPx:t,modRightPx:e,extraLeftPx:this.extraLeftPx,extraRightPx:this.extraRightPx}}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){if(!this.preFormatted)throw new u.Vex.RERR("UnformattedNote","Can't call GetWidth on an unformatted note.");return this.width+(this.modifierContext?this.modifierContext.getWidth():0)}},{key:"setXShift",value:function(t){return this.x_shift=t,this}},{key:"getXShift",value:function(){return this.x_shift}},{key:"getX",value:function(){if(!this.tickContext)throw new u.Vex.RERR("NoTickContext","Note needs a TickContext assigned for an X-Value");return this.tickContext.getX()+this.x_shift}},{key:"getAbsoluteX",value:function(){if(!this.tickContext)throw new u.Vex.RERR("NoTickContext","Note needs a TickContext assigned for an X-Value");var t=this.tickContext.getX();return this.stave&&(t+=this.stave.getNoteStartX()+this.render_options.stave_padding),this.isCenterAligned()&&(t+=this.getCenterXShift()),t}},{key:"setPreFormatted",value:function(t){if(this.preFormatted=t,this.preFormatted){var e=this.tickContext.getExtraPx();this.left_modPx=Math.max(this.left_modPx,e.left),this.right_modPx=Math.max(this.right_modPx,e.right)}}}]),e}(c.Tickable)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Tickable=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5),l=n(2),c=n(3);e.Tickable=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.setAttribute("type","Tickable"),t.ticks=new c.Fraction(0,1),t.intrinsicTicks=0,t.tickMultiplier=new c.Fraction(1,1),t.width=0,t.x_shift=0,t.voice=null,t.tickContext=null,t.modifierContext=null,t.modifiers=[],t.preFormatted=!1,t.postFormatted=!1,t.tuplet=null,t.tupletStack=[],t.align_center=!1,t.center_x_shift=0,t.ignore_ticks=!1,t.formatterMetrics={freedom:{left:0,right:0},duration:"",iterations:0,space:{used:0,mean:0,deviation:0}},t}return o(e,t),s(e,[{key:"reset",value:function(){return this}},{key:"getTicks",value:function(){return this.ticks}},{key:"shouldIgnoreTicks",value:function(){return this.ignore_ticks}},{key:"getWidth",value:function(){return this.width}},{key:"getFormatterMetrics",value:function(){return this.formatterMetrics}},{key:"setXShift",value:function(t){this.x_shift=t}},{key:"getCenterXShift",value:function(){return this.isCenterAligned()?this.center_x_shift:0}},{key:"isCenterAligned",value:function(){return this.align_center}},{key:"setCenterAlignment",value:function(t){return this.align_center=t,this}},{key:"getVoice",value:function(){if(!this.voice)throw new a.Vex.RERR("NoVoice","Tickable has no voice.");return this.voice}},{key:"setVoice",value:function(t){this.voice=t}},{key:"getTuplet",value:function(){return this.tuplet}},{key:"resetTuplet",value:function(t){var e=void 0,n=void 0;if(t){var i=this.tupletStack.indexOf(t);return i!==-1&&(this.tupletStack.splice(i,1),e=t.getNoteCount(),n=t.getNotesOccupied(),this.applyTickMultiplier(e,n)),this}for(;this.tupletStack.length;)t=this.tupletStack.pop(),e=t.getNoteCount(),n=t.getNotesOccupied(),this.applyTickMultiplier(e,n);return this}},{key:"setTuplet",value:function(t){if(t){this.tupletStack.push(t);var e=t.getNoteCount(),n=t.getNotesOccupied();this.applyTickMultiplier(n,e)}return this.tuplet=t,this}},{key:"addToModifierContext",value:function(t){this.modifierContext=t,this.preFormatted=!1}},{key:"addModifier",value:function(t){return this.modifiers.push(t),this.preFormatted=!1,this}},{key:"setTickContext",value:function(t){this.tickContext=t,this.preFormatted=!1}},{key:"preFormat",value:function(){this.preFormatted||(this.width=0,this.modifierContext&&(this.modifierContext.preFormat(),this.width+=this.modifierContext.getWidth()))}},{key:"postFormat",value:function(){return this.postFormatted?this:(this.postFormatted=!0,this)}},{key:"getIntrinsicTicks",value:function(){return this.intrinsicTicks}},{key:"setIntrinsicTicks",value:function(t){this.intrinsicTicks=t,this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}},{key:"getTickMultiplier",value:function(){return this.tickMultiplier}},{key:"applyTickMultiplier",value:function(t,e){this.tickMultiplier.multiply(t,e),this.ticks=this.tickMultiplier.clone().multiply(this.intrinsicTicks)}},{key:"setDuration",value:function(t){var e=t.numerator*(l.Flow.RESOLUTION/t.denominator);this.ticks=this.tickMultiplier.clone().multiply(e),this.intrinsicTicks=this.ticks.value()}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StemmableNote=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(2),l=n(17),c=n(4),h=n(22);e.StemmableNote=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));return n.setAttribute("type","StemmableNote"),n.stem=null,n.stemExtensionOverride=null,n.beam=null,n}return o(e,t),s(e,[{key:"getStem",value:function(){return this.stem}},{key:"setStem",value:function(t){return this.stem=t,this}},{key:"buildStem",value:function(){var t=new l.Stem;return this.setStem(t),this}},{key:"buildFlag",value:function(){var t=this.glyph,e=this.beam,n=null===e;if(t&&t.flag&&n){var i=this.getStemDirection()===l.Stem.DOWN?t.code_flag_downstem:t.code_flag_upstem;this.flag=new c.Glyph(i,this.render_options.glyph_font_scale);
}}},{key:"getStemLength",value:function(){return l.Stem.HEIGHT+this.getStemExtension()}},{key:"getBeamCount",value:function(){var t=this.getGlyph();return t?t.beam_count:0}},{key:"getStemMinumumLength",value:function(){var t=u.Flow.durationToFraction(this.duration),e=t.value()<=1?0:20;switch(this.duration){case"8":null==this.beam&&(e=35);break;case"16":e=null==this.beam?35:25;break;case"32":e=null==this.beam?45:35;break;case"64":e=null==this.beam?50:40;break;case"128":e=null==this.beam?55:45}return e}},{key:"getStemDirection",value:function(){return this.stem_direction}},{key:"setStemDirection",value:function(t){if(t||(t=l.Stem.UP),t!==l.Stem.UP&&t!==l.Stem.DOWN)throw new a.Vex.RERR("BadArgument","Invalid stem direction: "+t);return this.stem_direction=t,this.stem&&(this.stem.setDirection(t),this.stem.setExtension(this.getStemExtension())),this.reset(),this.flag&&this.buildFlag(),this.beam=null,this.preFormatted&&this.preFormat(),this}},{key:"getStemX",value:function(){var t=this.getAbsoluteX()+this.x_shift,e=this.getAbsoluteX()+this.x_shift+this.getGlyphWidth(),n=this.stem_direction===l.Stem.DOWN?t:e;return n}},{key:"getCenterGlyphX",value:function(){return this.getAbsoluteX()+this.x_shift+this.getGlyphWidth()/2}},{key:"getStemExtension",value:function(){var t=this.getGlyph();return null!=this.stemExtensionOverride?this.stemExtensionOverride:t?1===this.getStemDirection()?t.stem_up_extension:t.stem_down_extension:0}},{key:"setStemLength",value:function(t){return this.stemExtensionOverride=t-l.Stem.HEIGHT,this}},{key:"getStemExtents",value:function(){return this.stem.getExtents()}},{key:"setBeam",value:function(t){return this.beam=t,this}},{key:"getYForTopText",value:function(t){var e=this.getStemExtents();return this.hasStem()?Math.min(this.stave.getYForTopText(t),e.topY-this.render_options.annotation_spacing*(t+1)):this.stave.getYForTopText(t)}},{key:"getYForBottomText",value:function(t){var e=this.getStemExtents();return this.hasStem()?Math.max(this.stave.getYForTopText(t),e.baseY+this.render_options.annotation_spacing*t):this.stave.getYForBottomText(t)}},{key:"hasFlag",value:function(){return u.Flow.durationToGlyph(this.duration).flag&&!this.beam}},{key:"postFormat",value:function(){return this.beam&&this.beam.postFormat(),this.postFormatted=!0,this}},{key:"drawStem",value:function(t){this.checkContext(),this.setRendered(),this.setStem(new l.Stem(t)),this.stem.setContext(this.context).draw()}}]),e}(h.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Modifier=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5);e.Modifier=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.setAttribute("type","Modifier"),t.width=0,t.note=null,t.index=null,t.text_line=0,t.position=e.Position.LEFT,t.modifier_context=null,t.x_shift=0,t.y_shift=0,t.spacingFromNextModifier=0,t}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"none"}},{key:"Position",get:function(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4}}},{key:"PositionString",get:function(){return{above:e.Position.ABOVE,below:e.Position.BELOW,left:e.Position.LEFT,right:e.Position.RIGHT}}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getWidth",value:function(){return this.width}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"getNote",value:function(){return this.note}},{key:"setNote",value:function(t){return this.note=t,this}},{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return this.index=t,this}},{key:"getModifierContext",value:function(){return this.modifier_context}},{key:"setModifierContext",value:function(t){return this.modifier_context=t,this}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position="string"==typeof t?e.PositionString[t]:t,this}},{key:"setTextLine",value:function(t){return this.text_line=t,this}},{key:"setYShift",value:function(t){return this.y_shift=t,this}},{key:"setSpacingFromNextModifier",value:function(t){this.spacingFromNextModifier=t}},{key:"getSpacingFromNextModifier",value:function(){return this.spacingFromNextModifier}},{key:"setXShift",value:function(t){this.x_shift=0,this.position===e.Position.LEFT?this.x_shift-=t:this.x_shift+=t}},{key:"getXShift",value:function(){return this.x_shift}},{key:"draw",value:function(){throw this.checkContext(),new a.Vex.RERR("MethodNotImplemented","draw() not implemented for this modifier.")}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Dot=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(25);e.Dot=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.setAttribute("type","Dot"),t.note=null,t.index=null,t.position=u.Modifier.Position.RIGHT,t.radius=2,t.setWidth(5),t.dot_shiftY=0,t}return o(e,t),s(e,null,[{key:"format",value:function(t,e){var n=e.right_shift,i=1;if(!t||0===t.length)return!1;for(var r=[],o=0;o<t.length;++o){var s=t[o],a=s.getNote(),u=void 0,l=void 0;"function"==typeof a.getKeyProps?(u=a.getKeyProps()[s.getIndex()],l=u.displaced?a.getExtraRightPx():0):(u={line:.5},l=0),r.push({line:u.line,shift:l,note:a,dot:s})}r.sort(function(t,e){return e.line-t.line});for(var c=n,h=0,f=null,p=null,d=null,b=0,m=0;m<r.length;++m){var y=r[m],v=y.dot,g=y.note,_=y.shift,x=y.line;x===f&&g===p||(c=_),g.isRest()||x===f||(.5===Math.abs(x%1)?b=0:g.isRest()||(b=.5,null==p||p.isRest()||f-x!==.5?x+b===d&&(b=-.5):b=-.5)),v.dot_shiftY=-b,d=x+b,v.setXShift(c),c+=v.getWidth()+i,h=c>h?c:h,f=x,p=g}return e.right_shift+=h,!0}},{key:"CATEGORY",get:function(){return"dots"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setNote",value:function(t){this.note=t,"gracenotes"===this.note.getCategory()&&(this.radius*=.5,this.setWidth(3))}},{key:"setDotShiftY",value:function(t){return this.dot_shiftY=t,this}},{key:"draw",value:function(){if(this.checkContext(),this.setRendered(),!this.note||null===this.index)throw new a.Vex.RERR("NoAttachedNote","Can't draw dot without a note and index.");var t=this.note.stave.options.spacing_between_lines_px,e=this.note.getModifierStartXY(this.position,this.index);"tabnotes"===this.note.getCategory()&&(e.y=this.note.getStemExtents().baseY);var n=e.x+this.x_shift+this.width-this.radius,i=e.y+this.y_shift+this.dot_shiftY*t,r=this.context;r.beginPath(),r.arc(n,i,this.radius,0,2*Math.PI,!1),r.fill()}}]),e}(u.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];_.DEBUG&&s.Vex.L("Vex.Flow.ModifierContext",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ModifierContext=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),a=n(20),u=n(26),l=n(28),c=n(29),h=n(31),f=n(32),p=n(35),d=n(36),b=n(37),m=n(38),y=n(40),v=n(41),g=n(42),_=e.ModifierContext=function(){function t(){i(this,t),this.modifiers={},this.preFormatted=!1,this.postFormatted=!1,this.width=0,this.spacing=0,this.state={left_shift:0,right_shift:0,text_line:0,top_text_line:0},this.PREFORMAT=[a.StaveNote,u.Dot,l.FretHandFinger,c.Accidental,f.GraceNoteGroup,h.NoteSubGroup,p.Stroke,d.StringNumber,b.Articulation,m.Ornament,y.Annotation,v.Bend,g.Vibrato],this.POSTFORMAT=[a.StaveNote]}return o(t,[{key:"addModifier",value:function(t){var e=t.getCategory();return this.modifiers[e]||(this.modifiers[e]=[]),this.modifiers[e].push(t),t.setModifierContext(this),this.preFormatted=!1,this}},{key:"getModifiers",value:function(t){return this.modifiers[t]}},{key:"getWidth",value:function(){return this.width}},{key:"getExtraLeftPx",value:function(){return this.state.left_shift}},{key:"getExtraRightPx",value:function(){return this.state.right_shift}},{key:"getState",value:function(){return this.state}},{key:"getMetrics",value:function(){if(!this.formatted)throw new s.Vex.RERR("UnformattedModifier","Unformatted modifier has no metrics.");return{width:this.state.left_shift+this.state.right_shift+this.spacing,spacing:this.spacing,extra_left_px:this.state.left_shift,extra_right_px:this.state.right_shift}}},{key:"preFormat",value:function(){var t=this;this.preFormatted||(this.PREFORMAT.forEach(function(e){r("Preformatting ModifierContext: ",e.CATEGORY),e.format(t.getModifiers(e.CATEGORY),t.state,t)}),this.width=this.state.left_shift+this.state.right_shift,this.preFormatted=!0)}},{key:"postFormat",value:function(){var t=this;this.postFormatted||this.POSTFORMAT.forEach(function(e){r("Postformatting ModifierContext: ",e.CATEGORY),e.postFormat(t.getModifiers(e.CATEGORY),t)})}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.FretHandFinger=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(25);e.FretHandFinger=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","FretHandFinger"),n.note=null,n.index=null,n.finger=t,n.width=7,n.position=u.Modifier.Position.LEFT,n.x_shift=0,n.y_shift=0,n.x_offset=0,n.y_offset=0,n.font={family:"sans-serif",size:9,weight:"bold"},n}return o(e,t),s(e,null,[{key:"format",value:function(t,e){var n=e.left_shift,i=e.right_shift,r=1;if(!t||0===t.length)return!1;for(var o=[],s=null,a=0,l=0,c=0;c<t.length;++c){var h=t[c],f=h.getNote(),p=h.getPosition(),d=f.getKeyProps()[h.getIndex()];if(f!==s){for(var b=0;b<f.keys.length;++b){var m=f.getKeyProps()[b];0===n&&(a=m.displaced?f.getExtraLeftPx():a),0===i&&(l=m.displaced?f.getExtraRightPx():l)}s=f}o.push({note:f,num:h,pos:p,line:d.line,shiftL:a,shiftR:l})}o.sort(function(t,e){return e.line-t.line});for(var y=0,v=0,g=0,_=0,x=null,w=null,S=0;S<o.length;++S){var E=0,T=o[S],P=T.note,M=T.pos,O=T.num,A=T.line,C=T.shiftL,k=T.shiftR;A===x&&P===w||(y=n+C,v=i+k);var R=O.getWidth()+r;M===u.Modifier.Position.LEFT?(O.setXShift(n+y),E=n+R,g=E>g?E:g):M===u.Modifier.Position.RIGHT&&(O.setXShift(v),E=l+R,_=E>_?E:_),x=A,w=P}return e.left_shift+=g,e.right_shift+=_,!0}},{key:"CATEGORY",get:function(){return"frethandfinger"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setFretHandFinger",value:function(t){return this.finger=t,this}},{key:"setOffsetX",value:function(t){return this.x_offset=t,this}},{key:"setOffsetY",value:function(t){return this.y_offset=t,this}},{key:"draw",value:function(){if(this.checkContext(),!this.note||null==this.index)throw new a.Vex.RERR("NoAttachedNote","Can't draw string number without a note and index.");this.setRendered();var t=this.context,e=this.note.getModifierStartXY(this.position,this.index),n=e.x+this.x_shift+this.x_offset,i=e.y+this.y_shift+this.y_offset+5;switch(this.position){case u.Modifier.Position.ABOVE:n-=4,i-=12;break;case u.Modifier.Position.BELOW:n-=2,i+=10;break;case u.Modifier.Position.LEFT:n-=this.width;break;case u.Modifier.Position.RIGHT:n+=1;break;default:throw new a.Vex.RERR("InvalidPostion","The position "+this.position+" does not exist")}t.save(),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(""+this.finger,n,i),t.restore()}}]),e}(u.Modifier)},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];y.DEBUG&&c.Vex.L("Vex.Flow.Accidental",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Accidental=void 0;var u=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(1),h=n(3),f=n(2),p=n(30),d=n(25),b=n(4),m=function(t){return t.getMetrics().width},y=e.Accidental=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));if(n.setAttribute("type","Accidental"),a("New accidental: ",t),n.note=null,n.index=null,n.type=t,n.position=d.Modifier.Position.LEFT,n.render_options={font_scale:38,stroke_px:3,parenLeftPadding:2,parenRightPadding:2},n.accidental=f.Flow.accidentalCodes(n.type),!n.accidental)throw new c.Vex.RERR("ArgumentError","Unknown accidental type: "+t);return n.cautionary=!1,n.parenLeft=null,n.parenRight=null,n.reset(),n}return s(e,t),l(e,null,[{key:"format",value:function(t,e){var n=this,r=1,o=e.left_shift+r,s=3;if(t&&0!==t.length){for(var l=[],c=null,h=0,p=void 0,d=0;d<t.length;++d){var b=t[d],m=b.getNote(),y=m.getStave(),v=m.getKeyProps()[b.getIndex()];if(m!==c){for(var g=0;g<m.keys.length;++g)p=m.getKeyProps()[g],h=p.displaced?m.getExtraLeftPx():h;c=m}if(null!==y){var _=y.options.spacing_between_lines_px,x=y.getYForLine(v.line),w=Math.round(x/_*2)/2;l.push({y:x,line:w,shift:h,acc:b,lineSpace:_})}else l.push({line:v.line,shift:h,acc:b})}l.sort(function(t,e){return e.line-t.line});for(var S=[],E=0,T=null,P=0;P<l.length;P++){var M=l[P];null!==T&&T===M.line||S.push({line:M.line,flatLine:!0,dblSharpLine:!0,numAcc:0,width:0}),"b"!==M.acc.type&&"bb"!==M.acc.type&&(S[S.length-1].flatLine=!1),"##"!==M.acc.type&&(S[S.length-1].dblSharpLine=!1),S[S.length-1].numAcc++,S[S.length-1].width+=M.acc.getWidth()+s,E=M.shift>E?M.shift:E,T=M.line}for(var O=0,A=function(t){for(var e=!1,r=t,o=t;o+1<S.length&&!e;)n.checkCollision(S[o],S[o+1])?o++:e=!0;var s=function(t){return S[r+t]},a=function(t){return t.map(s)},l=function(t,e){var n=a([t,e]).map(function(t){return t.line}),i=u(n,2),r=i[0],o=i[1];return r-o},c=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.map(a).every(function(t){return!n.checkCollision.apply(n,i(t))})},h=o-r+1,p=n.checkCollision(S[r],S[o])?"a":"b";switch(h){case 3:"a"===p&&.5===l(1,2)&&.5!==l(0,1)&&(p="second_on_bottom");break;case 4:c([0,2],[1,3])&&(p="spaced_out_tetrachord");break;case 5:"b"===p&&c([1,3])&&(p="spaced_out_pentachord",c([0,2],[2,4])&&(p="very_spaced_out_pentachord"));break;case 6:c([0,3],[1,4],[2,5])&&(p="spaced_out_hexachord"),c([0,2],[2,4],[1,3],[3,5])&&(p="very_spaced_out_hexachord")}var d=void 0,b=void 0;if(h>=7){for(var m=2,y=!0;y===!0;){y=!1;for(var v=0;v+m<S.length;v++)if(n.checkCollision(S[v],S[v+m])){y=!0,m++;break}}for(d=t;d<=o;d++)b=(d-t)%m+1,S[d].column=b,O=O>b?O:b}else for(d=t;d<=o;d++)b=f.Flow.accidentalColumnsTable[h][p][d-t],S[d].column=b,O=O>b?O:b;t=o,C=t},C=0;C<S.length;C++)A(C);for(var k=[],R=[],I=0;I<=O;I++)k[I]=0,R[I]=0;k[0]=E+o,R[0]=E+o,S.forEach(function(t){t.width>k[t.column]&&(k[t.column]=t.width)});for(var N=1;N<k.length;N++)R[N]=k[N]+R[N-1];var L=R[R.length-1],F=0;S.forEach(function(t){var e=0,n=F+t.numAcc;for(F;F<n;F++){var i=R[t.column-1]+e;l[F].acc.setXShift(i),e+=l[F].acc.getWidth()+s,a("Line, accCount, shift: ",t.line,F,i)}}),e.left_shift+=L}}},{key:"checkCollision",value:function(t,e){var n=e.line-t.line,i=3;n>0?(i=e.flatLine||e.dblSharpLine?2.5:3,t.dblSharpLine&&(n-=.5)):(i=t.flatLine||t.dblSharpLine?2.5:3,e.dblSharpLine&&(n-=.5));var r=Math.abs(n)<i;return a("Line_1, Line_2, Collision: ",t.line,e.line,r),r}},{key:"applyAccidentals",value:function(t,n){var i=[],r={};t.forEach(function(t){var e=new h.Fraction(0,1),n=t.getTickables();n.forEach(function(t){var n=r[e.value()];n?n.push(t):(i.push(e.value()),r[e.value()]=[t]),e.add(t.getTicks())})});var o=new p.Music;n||(n="C");var s=o.createScaleMap(n);i.forEach(function(t){var n=r[t],i=[];n.forEach(function(t){t.isRest()||t.keys.forEach(function(n,r){var a=o.getNoteParts(n.split("/")[0]),u=a.accidental||"n",l=a.root+u,c=s[a.root]===l,h=i.indexOf(l)>-1;if(!c||c&&h){s[a.root]=l;var f=new e(u);t.addAccidental(r,f),i.push(l)}})})})}},{key:"CATEGORY",get:function(){return"accidentals"}}]),l(e,[{key:"reset",value:function(){var t=this.render_options.font_scale;this.glyph=new b.Glyph(this.accidental.code,t),this.glyph.setOriginX(1),this.cautionary&&(this.parenLeft=new b.Glyph(f.Flow.accidentalCodes("{").code,t),this.parenRight=new b.Glyph(f.Flow.accidentalCodes("}").code,t),this.parenLeft.setOriginX(1),this.parenRight.setOriginX(1))}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getWidth",value:function(){var t=this.cautionary?m(this.parenLeft)+m(this.parenRight)+this.render_options.parenLeftPadding+this.render_options.parenRightPadding:0;return m(this.glyph)+t}},{key:"setNote",value:function(t){if(!t)throw new c.Vex.RERR("ArgumentError","Bad note value: "+t);this.note=t,"gracenotes"===this.note.getCategory()&&(this.render_options.font_scale=25,this.reset())}},{key:"setAsCautionary",value:function(){return this.cautionary=!0,this.render_options.font_scale=28,this.reset(),this}},{key:"draw",value:function(){var t=this.context,e=this.type,n=this.position,i=this.note,r=this.index,o=this.cautionary,s=this.x_shift,u=this.y_shift,l=this.glyph,h=this.parenLeft,f=this.parenRight,p=this.render_options,d=p.parenLeftPadding,b=p.parenRightPadding;if(this.checkContext(),!i||null==r)throw new c.Vex.RERR("NoAttachedNote","Can't draw accidental without a note and index.");var y=i.getModifierStartXY(n,r),v=y.x+s,g=y.y+u;a("Rendering: ",e,v,g),o?(f.render(t,v,g),v-=m(f),v-=b,v-=this.accidental.parenRightPaddingAdjustment,l.render(t,v,g),v-=m(l),v-=d,h.render(t,v,g)):l.render(t,v,g),this.setRendered()}}]),e}(d.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Music=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1);e.Music=function(){function t(){i(this,t)}return r(t,[{key:"isValidNoteValue",value:function(e){return!(null==e||e<0||e>=t.NUM_TONES)}},{key:"isValidIntervalValue",value:function(t){return this.isValidNoteValue(t)}},{key:"getNoteParts",value:function(t){if(!t||t.length<1)throw new o.Vex.RERR("BadArguments","Invalid note name: "+t);if(t.length>3)throw new o.Vex.RERR("BadArguments","Invalid note name: "+t);var e=t.toLowerCase(),n=/^([cdefgab])(b|bb|n|#|##)?$/,i=n.exec(e);if(null!=i){var r=i[1],s=i[2];return{root:r,accidental:s}}throw new o.Vex.RERR("BadArguments","Invalid note name: "+t)}},{key:"getKeyParts",value:function(t){if(!t||t.length<1)throw new o.Vex.RERR("BadArguments","Invalid key: "+t);var e=t.toLowerCase(),n=/^([cdefgab])(b|#)?(mel|harm|m|M)?$/,i=n.exec(e);if(null!=i){var r=i[1],s=i[2],a=i[3];return a||(a="M"),{root:r,accidental:s,type:a}}throw new o.Vex.RERR("BadArguments","Invalid key: "+t)}},{key:"getNoteValue",value:function(e){var n=t.noteValues[e];if(null==n)throw new o.Vex.RERR("BadArguments","Invalid note name: "+e);return n.int_val}},{key:"getIntervalValue",value:function(e){var n=t.intervals[e];if(null==n)throw new o.Vex.RERR("BadArguments","Invalid interval name: ${intervalString}");return n}},{key:"getCanonicalNoteName",value:function(e){if(!this.isValidNoteValue(e))throw new o.Vex.RERR("BadArguments","Invalid note value: "+e);return t.canonical_notes[e]}},{key:"getCanonicalIntervalName",value:function(e){if(!this.isValidIntervalValue(e))throw new o.Vex.RERR("BadArguments","Invalid interval value: "+e);return t.diatonic_intervals[e]}},{key:"getRelativeNoteValue",value:function(e,n,i){if(null==i&&(i=1),1!==i&&i!==-1)throw new o.Vex.RERR("BadArguments","Invalid direction: "+i);var r=(e+i*n)%t.NUM_TONES;return r<0&&(r+=t.NUM_TONES),r}},{key:"getRelativeNoteName",value:function(e,n){var i=this.getNoteParts(e),r=this.getNoteValue(i.root),s=n-r;if(Math.abs(s)>t.NUM_TONES-3){var a=1;s>0&&(a=-1);var u=(n+1+(r+1))%t.NUM_TONES*a;if(Math.abs(u)>2)throw new o.Vex.RERR("BadArguments","Notes not related: "+e+", "+n+")");s=u}if(Math.abs(s)>2)throw new o.Vex.RERR("BadArguments","Notes not related: "+e+", "+n+")");var l=i.root;if(s>0)for(var c=1;c<=s;++c)l+="#";else if(s<0)for(var h=-1;h>=s;--h)l+="b";return l}},{key:"getScaleTones",value:function(t,e){for(var n=[t],i=t,r=0;r<e.length;r+=1)i=this.getRelativeNoteValue(i,e[r]),i!==t&&n.push(i);return n}},{key:"getIntervalBetween",value:function(e,n,i){if(null==i&&(i=1),1!==i&&i!==-1)throw new o.Vex.RERR("BadArguments","Invalid direction: "+i);if(!this.isValidNoteValue(e)||!this.isValidNoteValue(n))throw new o.Vex.RERR("BadArguments","Invalid notes: "+e+", "+n);var r=1===i?n-e:e-n;return r<0&&(r+=t.NUM_TONES),r}},{key:"createScaleMap",value:function(e){var n=this.getKeyParts(e),i=t.scaleTypes[n.type],r=n.root;if(n.accidental&&(r+=n.accidental),!i)throw new o.Vex.RERR("BadArguments","Unsupported key type: "+e);for(var s=this.getScaleTones(this.getNoteValue(r),i),a=t.root_indices[n.root],u={},l=0;l<t.roots.length;++l){var c=(a+l)%t.roots.length,h=t.roots[c],f=this.getRelativeNoteName(h,s[l]);1===f.length&&(f+="n"),u[h]=f}return u}}],[{key:"NUM_TONES",get:function(){return 12}},{key:"roots",get:function(){return["c","d","e","f","g","a","b"]}},{key:"root_values",get:function(){return[0,2,4,5,7,9,11]}},{key:"root_indices",get:function(){return{c:0,d:1,e:2,f:3,g:4,a:5,b:6}}},{key:"canonical_notes",get:function(){return["c","c#","d","d#","e","f","f#","g","g#","a","a#","b"]}},{key:"diatonic_intervals",get:function(){return["unison","m2","M2","m3","M3","p4","dim5","p5","m6","M6","b7","M7","octave"]}},{key:"diatonic_accidentals",get:function(){return{unison:{note:0,accidental:0},m2:{note:1,accidental:-1},M2:{note:1,accidental:0},m3:{note:2,accidental:-1},M3:{note:2,accidental:0},p4:{note:3,accidental:0},dim5:{note:4,accidental:-1},p5:{note:4,accidental:0},m6:{note:5,accidental:-1},M6:{note:5,accidental:0},b7:{note:6,accidental:-1},M7:{note:6,accidental:0},octave:{note:7,accidental:0}}}},{key:"intervals",get:function(){return{u:0,unison:0,m2:1,b2:1,min2:1,S:1,H:1,2:2,M2:2,maj2:2,T:2,W:2,m3:3,b3:3,min3:3,M3:4,3:4,maj3:4,4:5,p4:5,"#4":6,b5:6,aug4:6,dim5:6,5:7,p5:7,"#5":8,b6:8,aug5:8,6:9,M6:9,maj6:9,b7:10,m7:10,min7:10,dom7:10,M7:11,maj7:11,8:12,octave:12}}},{key:"scales",get:function(){return{major:[2,2,1,2,2,2,1],dorian:[2,1,2,2,2,1,2],mixolydian:[2,2,1,2,2,1,2],minor:[2,1,2,2,1,2,2]}}},{key:"scaleTypes",get:function(){return{M:t.scales.major,m:t.scales.minor}}},{key:"accidentals",get:function(){return["bb","b","n","#","##"]}},{key:"noteValues",get:function(){return{c:{root_index:0,int_val:0},cn:{root_index:0,int_val:0},"c#":{root_index:0,int_val:1},"c##":{root_index:0,int_val:2},cb:{root_index:0,int_val:11},cbb:{root_index:0,int_val:10},d:{root_index:1,int_val:2},dn:{root_index:1,int_val:2},"d#":{root_index:1,int_val:3},"d##":{root_index:1,int_val:4},db:{root_index:1,int_val:1},dbb:{root_index:1,int_val:0},e:{root_index:2,int_val:4},en:{root_index:2,int_val:4},"e#":{root_index:2,int_val:5},"e##":{root_index:2,int_val:6},eb:{root_index:2,int_val:3},ebb:{root_index:2,int_val:2},f:{root_index:3,int_val:5},fn:{root_index:3,int_val:5},"f#":{root_index:3,int_val:6},"f##":{root_index:3,int_val:7},fb:{root_index:3,int_val:4},fbb:{root_index:3,int_val:3},g:{root_index:4,int_val:7},gn:{root_index:4,int_val:7},"g#":{root_index:4,int_val:8},"g##":{root_index:4,int_val:9},gb:{root_index:4,int_val:6},gbb:{root_index:4,int_val:5},a:{root_index:5,int_val:9},an:{root_index:5,int_val:9},"a#":{root_index:5,int_val:10},"a##":{root_index:5,int_val:11},ab:{root_index:5,int_val:8},abb:{root_index:5,int_val:7},b:{root_index:6,int_val:11},bn:{root_index:6,int_val:11},"b#":{root_index:6,int_val:0},"b##":{root_index:6,int_val:1},bb:{root_index:6,int_val:10},bbb:{root_index:6,int_val:9}}}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.NoteSubGroup=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(2),l=n(25),c=n(14),h=n(18);e.NoteSubGroup=function(t){function e(t){var n;i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));return o.setAttribute("type","NoteSubGroup"),o.note=null,o.index=null,o.position=l.Modifier.Position.LEFT,o.subNotes=t,o.subNotes.forEach(function(t){t.ignore_ticks=!1}),o.width=0,o.preFormatted=!1,o.formatter=new c.Formatter,o.voice=new h.Voice({num_beats:4,beat_value:4,resolution:u.Flow.RESOLUTION}).setStrict(!1),o.voice.addTickables(o.subNotes),n=o,r(o,n)}return o(e,t),s(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=0;i<t.length;++i){var r=t[i];r.preFormat(),n+=r.getWidth()}return e.left_shift+=n,!0}},{key:"CATEGORY",get:function(){return"notesubgroup"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"preFormat",value:function(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}},{key:"setNote",value:function(t){this.note=t}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){return this.width}},{key:"draw",value:function(){var t=this;this.checkContext();var e=this.getNote();if(!e||null===this.index)throw new a.Vex.RuntimeError("NoAttachedNote","Can't draw notes without a parent note and parent note index.");this.setRendered();var n=function(e,n){var i=n.getTickContext(),r=i.getExtraPx(),o=i.getX()-r.left-r.extraLeft+t.getSpacingFromNextModifier();e.forEach(function(t){var e=t.getTickContext(),i=e.getX();t.setStave(n.stave),e.setX(o+i)})};n(this.subNotes,e,this.width),this.subNotes.forEach(function(e){return e.setContext(t.context).draw()})}}]),e}(l.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];y.DEBUG&&u.Vex.L("Vex.Flow.GraceNoteGroup",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GraceNoteGroup=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(2),c=n(25),h=n(14),f=n(18),p=n(15),d=n(33),b=n(34),m=n(20),y=e.GraceNoteGroup=function(t){function e(t,n){var o;i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","GraceNoteGroup"),s.note=null,s.index=null,s.position=c.Modifier.Position.LEFT,s.grace_notes=t,s.width=0,s.preFormatted=!1,s.show_slur=n,s.slur=null,s.formatter=new h.Formatter,s.voice=new f.Voice({num_beats:4,beat_value:4,resolution:l.Flow.RESOLUTION}).setStrict(!1),s.render_options={slur_y_shift:0},s.voice.addTickables(s.grace_notes),o=s,r(s,o)}return o(e,t),a(e,null,[{key:"format",value:function(t,e){var n=4,i=0;if(!t||0===t.length)return!1;for(var r=[],o=null,s=0,a=0;a<t.length;++a){var u=t[a],l=u.getNote(),c=l.getCategory()===m.StaveNote.CATEGORY,h=c?n:i;if(c&&l!==o){for(var f=0;f<l.keys.length;++f){var p=l.getKeyProps()[f];s=p.displaced?l.getExtraLeftPx():s}o=l}r.push({shift:s,gracenote_group:u,spacing:h})}for(var d=r[0].shift,b=void 0,y=0;y<r.length;++y){var v=r[y].gracenote_group;v.preFormat(),b=v.getWidth()+r[y].spacing,d=Math.max(b,d)}for(var g=0;g<r.length;++g){var _=r[g].gracenote_group;b=_.getWidth()+r[g].spacing,_.setSpacingFromNextModifier(d-Math.min(b,d));
}return e.left_shift+=d,!0}},{key:"CATEGORY",get:function(){return"gracenotegroups"}}]),a(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"preFormat",value:function(){this.preFormatted||(this.formatter.joinVoices([this.voice]).format([this.voice],0),this.setWidth(this.formatter.getMinTotalWidth()),this.preFormatted=!0)}},{key:"beamNotes",value:function(){if(this.grace_notes.length>1){var t=new p.Beam(this.grace_notes);t.render_options.beam_width=3,t.render_options.partial_beam_length=4,this.beam=t}return this}},{key:"setNote",value:function(t){this.note=t}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){return this.width}},{key:"draw",value:function(){function t(t,e){var n=e.getTickContext(),r=n.getExtraPx(),o=n.getX()-r.left-r.extraLeft+i.getSpacingFromNextModifier();t.forEach(function(t){var n=t.getTickContext(),i=n.getX();t.setStave(e.stave),n.setX(o+i)})}var e=this;this.checkContext();var n=this.getNote();if(s("Drawing grace note group for:",n),!n||null===this.index)throw new u.Vex.RuntimeError("NoAttachedNote","Can't draw grace note without a parent note and parent note index.");this.setRendered();var i=this;if(t(this.grace_notes,n,this.width),this.grace_notes.forEach(function(t){t.setContext(e.context).draw()}),this.beam&&this.beam.setContext(this.context).draw(),this.show_slur){var r=this.getNote().getCategory()===m.StaveNote.CATEGORY,o=r?d.StaveTie:b.TabTie;this.slur=new o({last_note:this.grace_notes[0],first_note:n,first_indices:[0],last_indices:[0]}),this.slur.render_options.cp2=12,this.slur.render_options.y_shift=(r?7:5)+this.render_options.slur_y_shift,this.slur.setContext(this.context).draw()}}}]),e}(c.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveTie=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5);e.StaveTie=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));return o.setAttribute("type","StaveTie"),o.notes=t,o.context=null,o.text=n,o.direction=null,o.render_options={cp1:8,cp2:12,text_shift_x:0,first_x_shift:0,last_x_shift:0,y_shift:7,tie_spacing:0,font:{family:"Arial",size:10,style:""}},o.font=o.render_options.font,o.setNotes(t),o}return o(e,t),s(e,[{key:"setFont",value:function(t){return this.font=t,this}},{key:"setDirection",value:function(t){return this.direction=t,this}},{key:"setNotes",value:function(t){if(!t.first_note&&!t.last_note)throw new a.Vex.RuntimeError("BadArguments","Tie needs to have either first_note or last_note set.");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new a.Vex.RuntimeError("BadArguments","Tied notes must have similar index sizes");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}},{key:"isPartial",value:function(){return!this.first_note||!this.last_note}},{key:"renderTie",value:function(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new a.Vex.RERR("BadArguments","No Y-values to render");var e=this.context,n=this.render_options.cp1,i=this.render_options.cp2;Math.abs(t.last_x_px-t.first_x_px)<10&&(n=2,i=8);for(var r=this.render_options.first_x_shift,o=this.render_options.last_x_shift,s=this.render_options.y_shift*t.direction,u=0;u<this.first_indices.length;++u){var l=(t.last_x_px+o+(t.first_x_px+r))/2,c=t.first_ys[this.first_indices[u]]+s,h=t.last_ys[this.last_indices[u]]+s;if(isNaN(c)||isNaN(h))throw new a.Vex.RERR("BadArguments","Bad indices for tie rendering.");var f=(c+h)/2+n*t.direction,p=(c+h)/2+i*t.direction;e.beginPath(),e.moveTo(t.first_x_px+r,c),e.quadraticCurveTo(l,f,t.last_x_px+o,h),e.quadraticCurveTo(l,p,t.first_x_px+r,c),e.closePath(),e.fill()}}},{key:"renderText",value:function(t,e){if(this.text){var n=(t+e)/2;n-=this.context.measureText(this.text).width/2,this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.style),this.context.fillText(this.text,n+this.render_options.text_shift_x,(this.first_note||this.last_note).getStave().getYForTopText()-1),this.context.restore()}}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.first_note,e=this.last_note,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;return t?(n=t.getTieRightX()+this.render_options.tie_spacing,s=t.getStemDirection(),r=t.getYs()):(n=e.getStave().getTieStartX(),r=e.getYs(),this.first_indices=this.last_indices),e?(i=e.getTieLeftX()+this.render_options.tie_spacing,s=e.getStemDirection(),o=e.getYs()):(i=t.getStave().getTieEndX(),o=t.getYs(),this.last_indices=this.first_indices),this.direction&&(s=this.direction),this.renderTie({first_x_px:n,last_x_px:i,first_ys:r,last_ys:o,direction:s}),this.renderText(n,i),!0}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TabTie=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(33);e.TabTie=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this,t,n));return o.setAttribute("type","TabTie"),o.render_options.cp1=9,o.render_options.cp2=11,o.render_options.y_shift=3,o.setNotes(t),o}return o(e,t),s(e,null,[{key:"createHammeron",value:function(t){return new e(t,"H")}},{key:"createPulloff",value:function(t){return new e(t,"P")}}]),s(e,[{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.first_note,e=this.last_note,n=void 0,i=void 0,r=void 0,o=void 0;return t?(n=t.getTieRightX()+this.render_options.tie_spacing,r=t.getYs()):(n=e.getStave().getTieStartX(),r=e.getYs(),this.first_indices=this.last_indices),e?(i=e.getTieLeftX()+this.render_options.tie_spacing,o=e.getYs()):(i=t.getStave().getTieEndX(),o=t.getYs(),this.last_indices=this.first_indices),this.renderTie({first_x_px:n,last_x_px:i,first_ys:r,last_ys:o,direction:-1}),this.renderText(n,i),!0}}]),e}(a.StaveTie)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Stroke=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(25),l=n(20),c=n(4);e.Stroke=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));return o.setAttribute("type","Stroke"),o.note=null,o.options=a.Vex.Merge({},n),o.all_voices=!("all_voices"in o.options)||o.options.all_voices,o.note_end=null,o.index=null,o.type=t,o.position=u.Modifier.Position.LEFT,o.render_options={font_scale:38,stroke_px:3,stroke_spacing:10},o.font={family:"serif",size:10,weight:"bold italic"},o.setXShift(0),o.setWidth(10),o}return o(e,t),s(e,null,[{key:"format",value:function(t,e){var n=e.left_shift,i=0;if(!t||0===t.length)return this;var r=t.map(function(t){var e=t.getNote();if(e instanceof l.StaveNote){var n=e.getKeyProps()[t.getIndex()],i=n.line,r=n.displaced,o=r?e.getExtraLeftPx():0;return{line:i,shift:o,stroke:t}}var s=e.getPositions()[t.getIndex()].str;return{line:s,shift:0,stroke:t}}),o=n,s=r.reduce(function(t,e){var n=e.stroke,r=e.shift;return n.setXShift(o+r),Math.max(n.getWidth()+i,t)},0);return e.left_shift+=s,!0}},{key:"CATEGORY",get:function(){return"strokes"}},{key:"Type",get:function(){return{BRUSH_DOWN:1,BRUSH_UP:2,ROLL_DOWN:3,ROLL_UP:4,RASQUEDO_DOWN:5,RASQUEDO_UP:6}}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getPosition",value:function(){return this.position}},{key:"addEndNote",value:function(t){return this.note_end=t,this}},{key:"draw",value:function(){if(this.checkContext(),this.setRendered(),!this.note||null==this.index)throw new a.Vex.RERR("NoAttachedNote","Can't draw stroke without a note and index.");for(var t=this.note.getModifierStartXY(this.position,this.index),n=this.note.getYs(),i=t.y,r=t.y,o=t.x-5,s=this.note.stave.options.spacing_between_lines_px,u=this.getModifierContext().getModifiers(this.note.getCategory()),h=0;h<u.length;h++){n=u[h].getYs();for(var f=0;f<n.length;f++)(this.note===u[h]||this.all_voices)&&(i=a.Vex.Min(i,n[f]),r=a.Vex.Max(r,n[f]))}var p=void 0,d=void 0,b=void 0,m=void 0,y=void 0;switch(this.type){case e.Type.BRUSH_DOWN:p="vc3",d=-3,b=i-s/2+10,r+=s/2;break;case e.Type.BRUSH_UP:p="v11",d=.5,b=r+s/2,i-=s/2;break;case e.Type.ROLL_DOWN:case e.Type.RASQUEDO_DOWN:p="vc3",d=-3,m=this.x_shift+d-2,this.note instanceof l.StaveNote?(i+=1.5*s,r+=(r-i)%2!==0?.5*s:s,b=i-s,y=r+s+2):(i+=1.5*s,r+=s,b=i-.75*s,y=r+.25*s);break;case e.Type.ROLL_UP:case e.Type.RASQUEDO_UP:p="v52",d=-4,m=this.x_shift+d-1,this.note instanceof l.StaveNote?(b=s/2,i+=.5*s,(r-i)%2===0&&(r+=s/2),b=r+.5*s,y=i-1.25*s):(i+=.25*s,r+=.5*s,b=r+.25*s,y=i-s);break;default:throw new a.Vex.RERR("InvalidType","The stroke type "+this.type+" does not exist")}if(this.type===e.Type.BRUSH_DOWN||this.type===e.Type.BRUSH_UP)this.context.fillRect(o+this.x_shift,i,1,r-i);else if(this.note instanceof l.StaveNote)for(var v=i;v<=r;v+=s)c.Glyph.renderGlyph(this.context,o+this.x_shift-4,v,this.render_options.font_scale,"va3");else{var g=void 0;for(g=i;g<=r;g+=10)c.Glyph.renderGlyph(this.context,o+this.x_shift-4,g,this.render_options.font_scale,"va3");this.type===e.Type.RASQUEDO_DOWN&&(y=g+.25*s)}c.Glyph.renderGlyph(this.context,o+this.x_shift+d,b,this.render_options.font_scale,p),this.type!==e.Type.RASQUEDO_DOWN&&this.type!==e.Type.RASQUEDO_UP||(this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight),this.context.fillText("R",o+m,y),this.context.restore())}}]),e}(u.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StringNumber=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(25),l=n(10),c=n(20);e.StringNumber=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","StringNumber"),n.note=null,n.last_note=null,n.index=null,n.string_number=t,n.setWidth(20),n.position=u.Modifier.Position.ABOVE,n.x_shift=0,n.y_shift=0,n.x_offset=0,n.y_offset=0,n.dashed=!0,n.leg=l.Renderer.LineEndType.NONE,n.radius=8,n.font={family:"sans-serif",size:10,weight:"bold"},n}return o(e,t),s(e,null,[{key:"format",value:function(t,e){var n=e.left_shift,i=e.right_shift,r=1;if(!t||0===t.length)return this;var o=[],s=null,a=0,l=0,c=void 0,h=void 0,f=void 0,p=void 0,d=void 0;for(c=0;c<t.length;++c)for(h=t[c],f=h.getNote(),c=0;c<t.length;++c){h=t[c],f=h.getNote(),p=h.getPosition();var b=f.getKeyProps()[h.getIndex()];if(f!==s){for(var m=0;m<f.keys.length;++m)d=f.getKeyProps()[m],0===n&&(a=d.displaced?f.getExtraLeftPx():a),0===i&&(l=d.displaced?f.getExtraRightPx():l);s=f}o.push({pos:p,note:f,num:h,line:b.line,shiftL:a,shiftR:l})}o.sort(function(t,e){return e.line-t.line});var y=0,v=0,g=0,_=0,x=null,w=null;for(c=0;c<o.length;++c){var S=0;f=o[c].note,p=o[c].pos,h=o[c].num;var E=o[c].line,T=o[c].shiftL,P=o[c].shiftR;E===x&&f===w||(y=n+T,v=i+P);var M=h.getWidth()+r;p===u.Modifier.Position.LEFT?(h.setXShift(n),S=a+M,g=S>g?S:g):p===u.Modifier.Position.RIGHT&&(h.setXShift(v),S+=M,_=S>_?S:_),x=E,w=f}return e.left_shift+=g,e.right_shift+=_,!0}},{key:"CATEGORY",get:function(){return"stringnumber"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getNote",value:function(){return this.note}},{key:"setNote",value:function(t){return this.note=t,this}},{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return this.index=t,this}},{key:"setLineEndType",value:function(t){return t>=l.Renderer.LineEndType.NONE&&t<=l.Renderer.LineEndType.DOWN&&(this.leg=t),this}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return t>=u.Modifier.Position.LEFT&&t<=u.Modifier.Position.BELOW&&(this.position=t),this}},{key:"setStringNumber",value:function(t){return this.string_number=t,this}},{key:"setOffsetX",value:function(t){return this.x_offset=t,this}},{key:"setOffsetY",value:function(t){return this.y_offset=t,this}},{key:"setLastNote",value:function(t){return this.last_note=t,this}},{key:"setDashed",value:function(t){return this.dashed=t,this}},{key:"draw",value:function(){var t=this.checkContext();if(!this.note||null==this.index)throw new a.Vex.RERR("NoAttachedNote","Can't draw string number without a note and index.");this.setRendered();var e=this.note.stave.options.spacing_between_lines_px,n=this.note.getModifierStartXY(this.position,this.index),i=n.x+this.x_shift+this.x_offset,r=n.y+this.y_shift+this.y_offset;switch(this.position){case u.Modifier.Position.ABOVE:case u.Modifier.Position.BELOW:var o=this.note.getStemExtents(),s=o.topY,h=o.baseY+2;this.note.stem_direction===c.StaveNote.STEM_DOWN&&(s=o.baseY,h=o.topY-2),r=this.position===u.Modifier.Position.ABOVE?this.note.hasStem()?s-1.75*e:n.y-1.75*e:this.note.hasStem()?h+1.5*e:n.y+1.75*e,r+=this.y_shift+this.y_offset;break;case u.Modifier.Position.LEFT:i-=this.radius/2+5;break;case u.Modifier.Position.RIGHT:i+=this.radius/2+6;break;default:throw new a.Vex.RERR("InvalidPosition","The position "+this.position+" is invalid")}t.save(),t.beginPath(),t.arc(i,r,this.radius,0,2*Math.PI,!1),t.lineWidth=1.5,t.stroke(),t.setFont(this.font.family,this.font.size,this.font.weight);var f=i-t.measureText(this.string_number).width/2;if(t.fillText(""+this.string_number,f,r+4.5),null!=this.last_note){var p=this.last_note.getStemX()-this.note.getX()+5;t.strokeStyle="#000000",t.lineCap="round",t.lineWidth=.6,this.dashed?l.Renderer.drawDashedLine(t,i+10,r,i+p,r,[3,3]):l.Renderer.drawDashedLine(t,i+10,r,i+p,r,[3,0]);var d=void 0,b=void 0;switch(this.leg){case l.Renderer.LineEndType.UP:d=-10,b=this.dashed?[3,3]:[3,0],l.Renderer.drawDashedLine(t,i+p,r,i+p,r+d,b);break;case l.Renderer.LineEndType.DOWN:d=10,b=this.dashed?[3,3]:[3,0],l.Renderer.drawDashedLine(t,i+p,r,i+p,r+d,b)}}t.restore()}}]),e}(u.Modifier)},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];P.DEBUG&&h.Vex.L("Vex.Flow.Articulation",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Articulation=void 0;var l=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(1),f=n(2),p=n(25),d=n(4),b=n(17),m=p.Modifier.Position,y=m.ABOVE,v=m.BELOW,g=function(t,e){return.5*t(e/.5)},_=function(t,e){return e===y?t<=5:t>=1},x=function(t,e){return _(t,e)?e===y?Math.ceil:Math.floor:Math.round},w=function(t,e,n,i){var r=g(x(e,n),e),o=t&&_(r,n),s=r%1===0;if(o&&s){var a=.5;return r+a*-i}return r},S=function(t,e){var n=t.getStave(),i=t.getStemDirection(),r=t.getStemExtents(),o=r.topY,s=r.baseY;if("stavenotes"===t.getCategory())return t.hasStem()?i===b.Stem.UP?o:s:Math.min.apply(Math,a(t.getYs()));if("tabnotes"===t.getCategory())return t.hasStem()&&i===b.Stem.UP?o:n.getYForTopText(e);throw new h.Vex.RERR("UnknownCategory","Only can get the top and bottom ys of stavenotes and tabnotes")},E=function(t,e){var n=t.getStave(),i=t.getStemDirection(),r=t.getStemExtents(),o=r.topY,s=r.baseY;if("stavenotes"===t.getCategory())return t.hasStem()?i===b.Stem.UP?s:o:Math.max.apply(Math,a(t.getYs()));if("tabnotes"===t.getCategory())return t.hasStem()?i===b.Stem.UP?n.getYForBottomText(e):o:n.getYForBottomText(e);throw new h.Vex.RERR("UnknownCategory","Only can get the top and bottom ys of stavenotes and tabnotes")},T=function(t,e){var n=e===y&&t.getStemDirection()===b.Stem.UP||e===v&&t.getStemDirection()===b.Stem.DOWN;return"stavenotes"===t.getCategory()?t.hasStem()&&n?.5:1:t.hasStem()&&n?1:0},P=e.Articulation=function(t){function e(t){r(this,e);var n=o(this,Object.getPrototypeOf(e).call(this));if(n.setAttribute("type","Articulation"),n.note=null,n.index=null,n.type=t,n.position=v,n.render_options={font_scale:38},n.articulation=f.Flow.articulationCodes(n.type),!n.articulation)throw new h.Vex.RERR("ArgumentError","Articulation not found: "+n.type);return n.glyph=new d.Glyph(n.articulation.code,n.render_options.font_scale),n.setWidth(n.glyph.getMetrics().width),n}return s(e,t),c(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;var n=function(t){return t.getPosition()===y},i=function(t){return t.getPosition()===v},r=.5,o=function(t,e,n){return g(x(e,n),t.glyph.getMetrics().height/10+r)};t.filter(n).forEach(function(t){t.setTextLine(e.top_text_line),e.top_text_line+=o(t,e.top_text_line,y)}),t.filter(i).forEach(function(t){t.setTextLine(e.text_line),e.text_line+=o(t,e.text_line,v)});var s=t.map(function(t){return t.getWidth()}).reduce(function(t,e){return Math.max(e,t)});return e.left_shift+=s/2,e.right_shift+=s/2,!0}},{key:"easyScoreHook",value:function(t,e,n){var i=t.articulations;if(i){var r={staccato:"a.",tenuto:"a-"};i.split(",").map(function(t){return t.trim().split(".")}).map(function(t){var e=l(t,2),i=e[0],o=e[1],s={type:r[i]};return o&&(s.position=p.Modifier.PositionString[o]),n.getFactory().Articulation(s)}).map(function(t){return e.addModifier(0,t)})}}},{key:"CATEGORY",get:function(){return"articulations"}},{key:"INITIAL_OFFSET",get:function(){return-.5}}]),c(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){var t,n=this.note,r=this.index,o=this.position,s=this.glyph,a=this.articulation.between_lines,l=this.text_line,c=this.context;if(this.checkContext(),!n||null==r)throw new h.Vex.RERR("NoAttachedNote","Can't draw Articulation without a note and index.");this.setRendered();var f=n.getStave(),p=f.getSpacingBetweenLines(),d="tabnotes"===n.getCategory(),b=n.getModifierStartXY(o,r),m=b.x,g=!a||d,x=T(n,o),P=(t={},i(t,y,function(){s.setOrigin(.5,1);var t=S(n,l)-(l+x)*p;return g?Math.min(f.getYForTopText(e.INITIAL_OFFSET),t):t}),i(t,v,function(){s.setOrigin(.5,0);var t=E(n,l)+(l+x)*p;return g?Math.max(f.getYForBottomText(e.INITIAL_OFFSET),t):t}),t)[o]();if(!d){var M=o===y?-1:1,O=d?n.positions[r].str:n.getKeyProps()[r].line,A=(n.getYs()[r]-P)/p,C=A+O,k=w(a,C,o,M);_(k,o)&&s.setOrigin(.5,.5),P+=Math.abs(k-C)*p*M}u("Rendering articulation at (x: "+m+", y: "+P+")"),s.render(c,m,P)}}]),e}(p.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];d.DEBUG&&u.Vex.L("Vex.Flow.Ornament",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Ornament=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(2),c=n(25),h=n(39),f=n(20),p=n(4),d=e.Ornament=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));if(n.setAttribute("type","Ornament"),n.note=null,n.index=null,n.type=t,n.position=c.Modifier.Position.ABOVE,n.delayed=!1,n.accidentalUpper=null,n.accidentalLower=null,n.render_options={font_scale:38,accidentalLowerPadding:3,accidentalUpperPadding:3},n.ornament=l.Flow.ornamentCodes(n.type),!n.ornament)throw new u.Vex.RERR("ArgumentError","Ornament not found: '"+n.type+"'");return n.glyph=new p.Glyph(n.ornament.code,n.render_options.font_scale),n.glyph.setOrigin(.5,1),n}return o(e,t),a(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=0;i<t.length;++i){var r=t[i],o=2;n=Math.max(r.getWidth(),n),r.getPosition()===c.Modifier.Position.ABOVE?(r.setTextLine(e.top_text_line),e.top_text_line+=o):(r.setTextLine(e.text_line),e.text_line+=o)}return e.left_shift+=n/2,e.right_shift+=n/2,!0}},{key:"CATEGORY",get:function(){return"ornaments"}}]),a(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setDelayed",value:function(t){return this.delayed=t,this}},{key:"setUpperAccidental",value:function(t){var e=this.render_options.font_scale/1.3;return this.accidentalUpper=new p.Glyph(l.Flow.accidentalCodes(t).code,e),this.accidentalUpper.setOrigin(.5,1),this}},{key:"setLowerAccidental",value:function(t){var e=this.render_options.font_scale/1.3;return this.accidentalLower=new p.Glyph(l.Flow.accidentalCodes(t).code,e),this.accidentalLower.setOrigin(.5,1),this}},{key:"draw",value:function(){if(this.checkContext(),!this.note||null==this.index)throw new u.Vex.RERR("NoAttachedNote","Can't draw Ornament without a note and index.");this.setRendered();var t=this.context,e=this.note.getStemDirection(),n=this.note.getStave(),i=this.note.getStem().getExtents(),r=e===f.StaveNote.STEM_DOWN?i.baseY:i.topY;"tabnotes"===this.note.getCategory()&&(this.note.hasStem()?e===f.StaveNote.STEM_DOWN&&(r=n.getYForTopText(this.text_line)):r=n.getYForTopText(this.text_line));var o=e===f.StaveNote.STEM_DOWN,a=n.getSpacingBetweenLines(),l=1;!o&&this.note.beam&&(l+=.5);var c=a*(this.text_line+l),p=r-c,d=this.note.getModifierStartXY(this.position,this.index),b=d.x,m=Math.min(n.getYForTopText(this.text_line),p);if(m+=this.y_shift,this.delayed){b+=this.glyph.getMetrics().width;var y=h.TickContext.getNextContext(this.note.getTickContext());b+=y?.5*(y.getX()-b):.5*(n.x+n.width-b)}s("Rendering ornament: ",this.ornament,b,m),this.accidentalLower&&(this.accidentalLower.render(t,b,m),m-=this.accidentalLower.getMetrics().height,m-=this.render_options.accidentalLowerPadding),this.glyph.render(t,b,m),m-=this.glyph.getMetrics().height,this.accidentalUpper&&(m-=this.render_options.accidentalUpperPadding,this.accidentalUpper.render(t,b,m))}}]),e}(c.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TickContext=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(23),l=n(3);e.TickContext=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.setAttribute("type","TickContext"),t.currentTick=new l.Fraction(0,1),t.maxTicks=new l.Fraction(0,1),t.minTicks=null,t.padding=3,t.x=0,t.tickables=[],t.notePx=0,t.extraLeftPx=0,t.extraRightPx=0,t.tContexts=[],t}return o(e,t),s(e,null,[{key:"getNextContext",value:function(t){var e=t.tContexts,n=e.indexOf(t);return e[n+1]}}]),s(e,[{key:"getX",value:function(){return this.x}},{key:"setX",value:function(t){return this.x=t,this}},{key:"getWidth",value:function(){return this.width+2*this.padding}},{key:"setPadding",value:function(t){return this.padding=t,this}},{key:"getMaxTicks",value:function(){return this.maxTicks}},{key:"getMinTicks",value:function(){return this.minTicks}},{key:"getTickables",value:function(){return this.tickables}},{key:"getCenterAlignedTickables",value:function(){return this.tickables.filter(function(t){return t.isCenterAligned()})}},{key:"getMetrics",value:function(){return{width:this.width,notePx:this.notePx,extraLeftPx:this.extraLeftPx,extraRightPx:this.extraRightPx}}},{key:"getCurrentTick",value:function(){return this.currentTick}},{key:"setCurrentTick",value:function(t){this.currentTick=t,this.preFormatted=!1}},{key:"getExtraPx",value:function(){for(var t=0,e=0,n=0,i=0,r=0;r<this.tickables.length;r++){n=Math.max(this.tickables[r].extraLeftPx||0,n),i=Math.max(this.tickables[r].extraRightPx||0,i);var o=this.tickables[r].modifierContext;o&&null!=o&&(t=Math.max(t,o.state.left_shift),e=Math.max(e,o.state.right_shift))}return{left:t,right:e,extraLeft:n,extraRight:i}}},{key:"addTickable",value:function(t){if(!t)throw new a.Vex.RERR("BadArgument","Invalid tickable added.");if(!t.shouldIgnoreTicks()){this.ignore_ticks=!1;var e=t.getTicks();e.greaterThan(this.maxTicks)&&(this.maxTicks=e.clone()),null==this.minTicks?this.minTicks=e.clone():e.lessThan(this.minTicks)&&(this.minTicks=e.clone())}return t.setTickContext(this),this.tickables.push(t),this.preFormatted=!1,this}},{key:"preFormat",value:function(){if(this.preFormatted)return this;for(var t=0;t<this.tickables.length;++t){var e=this.tickables[t];e.preFormat();var n=e.getMetrics();this.extraLeftPx=Math.max(this.extraLeftPx,n.extraLeftPx+n.modLeftPx),this.extraRightPx=Math.max(this.extraRightPx,n.extraRightPx+n.modRightPx),this.notePx=Math.max(this.notePx,n.noteWidth),this.width=this.notePx+this.extraLeftPx+this.extraRightPx}return this}},{key:"postFormat",value:function(){return this.postFormatted?this:(this.postFormatted=!0,this)}}]),e}(u.Tickable)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h.DEBUG&&u.Vex.L("Vex.Flow.Annotation",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Annotation=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(2),c=n(25),h=e.Annotation=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","Annotation"),n.note=null,n.index=null,n.text=t,n.justification=e.Justify.CENTER,n.vert_justification=e.VerticalJustify.TOP,n.font={family:"Arial",size:10,weight:""},n.setWidth(l.Flow.textWidth(t)),n}return o(e,t),a(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=0;i<t.length;++i){var r=t[i];n=Math.max(r.getWidth(),n),r.getPosition()===c.Modifier.Position.ABOVE?(r.setTextLine(e.top_text_line),e.top_text_line++):(r.setTextLine(e.text_line),e.text_line++)}return e.left_shift+=n/2,e.right_shift+=n/2,!0}},{key:"CATEGORY",get:function(){return"annotations"}},{key:"Justify",get:function(){return{LEFT:1,CENTER:2,RIGHT:3,CENTER_STEM:4}}},{key:"JustifyString",get:function(){return{left:e.Justify.LEFT,right:e.Justify.RIGHT,center:e.Justify.CENTER,centerStem:e.Justify.CENTER_STEM}}},{key:"VerticalJustify",get:function(){return{TOP:1,CENTER:2,BOTTOM:3,CENTER_STEM:4}}},{key:"VerticalJustifyString",get:function(){return{above:e.VerticalJustify.TOP,top:e.VerticalJustify.TOP,below:e.VerticalJustify.BOTTOM,bottom:e.VerticalJustify.BOTTOM,center:e.VerticalJustify.CENTER,
centerStem:e.VerticalJustify.CENTER_STEM}}}]),a(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setFont",value:function(t,e,n){return this.font={family:t,size:e,weight:n},this}},{key:"setVerticalJustification",value:function(t){return this.vert_justification="string"==typeof t?e.VerticalJustifyString[t]:t,this}},{key:"getJustification",value:function(){return this.justification}},{key:"setJustification",value:function(t){return this.justification="string"==typeof t?e.JustifyString[t]:t,this}},{key:"draw",value:function(){if(this.checkContext(),!this.note)throw new u.Vex.RERR("NoNoteForAnnotation","Can't draw text annotation without an attached note.");this.setRendered();var t=this.note.getModifierStartXY(c.Modifier.Position.ABOVE,this.index);this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);var n=this.context.measureText(this.text).width,i=this.context.measureText("m").width,r=void 0,o=void 0;r=this.justification===e.Justify.LEFT?t.x:this.justification===e.Justify.RIGHT?t.x-n:this.justification===e.Justify.CENTER?t.x-n/2:this.note.getStemX()-n/2;var a=void 0,h=void 0,f=this.note.hasStem(),p=this.note.getStave();if(f&&(a=this.note.getStem().getExtents(),h=p.getSpacingBetweenLines()),this.vert_justification===e.VerticalJustify.BOTTOM){if(o=p.getYForBottomText(this.text_line+l.Flow.TEXT_HEIGHT_OFFSET_HACK),f){var d=1===this.note.getStemDirection()?a.baseY:a.topY;o=Math.max(o,d+h*(this.text_line+2))}}else if(this.vert_justification===e.VerticalJustify.CENTER){var b=this.note.getYForTopText(this.text_line)-1,m=p.getYForBottomText(this.text_line);o=b+(m-b)/2+i/2}else if(this.vert_justification===e.VerticalJustify.TOP)o=Math.min(p.getYForTopText(this.text_line),this.note.getYs()[0]-10),f&&(o=Math.min(o,a.topY-5-h*this.text_line));else{var y=this.note.getStemExtents();o=y.topY+(y.baseY-y.topY)/2+i/2}s("Rendering annotation: ",this.text,r,o),this.context.fillText(this.text,r,o),this.context.restore()}}]),e}(c.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Bend=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(2),l=n(25);e.Bend=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","Bend"),s.text=t,s.x_shift=0,s.release=n||!1,s.font="10pt Arial",s.render_options={line_width:1.5,line_style:"#777777",bend_width:8,release_width:8},o?s.phrase=o:(s.phrase=[{type:e.UP,text:s.text}],s.release&&s.phrase.push({type:e.DOWN,text:""})),s.updateWidth(),s}return o(e,t),s(e,null,[{key:"format",value:function(t,e){if(!t||0===t.length)return!1;for(var n=0,i=e.top_text_line,r=0;r<t.length;++r){var o=t[r];o.setXShift(n),n=o.getWidth(),o.setTextLine(i)}return e.right_shift+=n,e.top_text_line+=1,!0}},{key:"CATEGORY",get:function(){return"bends"}},{key:"UP",get:function(){return 0}},{key:"DOWN",get:function(){return 1}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setXShift",value:function(t){this.x_shift=t,this.updateWidth()}},{key:"setFont",value:function(t){return this.font=t,this}},{key:"getText",value:function(){return this.text}},{key:"updateWidth",value:function(){function t(t){var e=void 0;return e=n.context?n.context.measureText(t).width:u.Flow.textWidth(t)}for(var n=this,i=0,r=0;r<this.phrase.length;++r){var o=this.phrase[r];if("width"in o)i+=o.width;else{var s=o.type===e.UP?this.render_options.bend_width:this.render_options.release_width;o.width=a.Vex.Max(s,t(o.text))+3,o.draw_width=o.width/2,i+=o.width}}return this.setWidth(i+this.x_shift),this}},{key:"draw",value:function(){function t(t,e,n,i){var r=t+n,o=e;u.save(),u.beginPath(),u.setLineWidth(f.render_options.line_width),u.setStrokeStyle(f.render_options.line_style),u.setFillStyle(f.render_options.line_style),u.moveTo(t,e),u.quadraticCurveTo(r,o,t+n,i),u.stroke(),u.restore()}function n(t,e,n,i){u.save(),u.beginPath(),u.setLineWidth(f.render_options.line_width),u.setStrokeStyle(f.render_options.line_style),u.setFillStyle(f.render_options.line_style),u.moveTo(t,i),u.quadraticCurveTo(t+n,i,t+n,e),u.stroke(),u.restore()}function i(t,e,n){var i=4,r=n||1;u.beginPath(),u.moveTo(t,e),u.lineTo(t-i,e+i*r),u.lineTo(t+i,e+i*r),u.closePath(),u.fill()}function r(t,e){u.save(),u.setRawFont(f.font);var n=t-u.measureText(e).width/2;u.fillText(e,n,h),u.restore()}if(this.checkContext(),!this.note||null==this.index)throw new a.Vex.RERR("NoNoteForBend","Can't draw bend without a note or index.");this.setRendered();var o=this.note.getModifierStartXY(l.Modifier.Position.RIGHT,this.index);o.x+=3,o.y+=.5;for(var s=this.x_shift,u=this.context,c=this.note.getStave().getYForTopText(this.text_line)+3,h=this.note.getStave().getYForTopText(this.text_line)-1,f=this,p=null,d=0,b=0;b<this.phrase.length;++b){var m=this.phrase[b];0===b&&(m.draw_width+=s),d=m.draw_width+(p?p.draw_width:0)-(1===b?s:0),m.type===e.UP&&(p&&p.type===e.UP&&i(o.x,c),t(o.x,o.y,d,c)),m.type===e.DOWN&&(p&&p.type===e.UP&&n(o.x,o.y,d,c),p&&p.type===e.DOWN&&(i(o.x,o.y,-1),n(o.x,o.y,d,c)),null===p&&(d=m.draw_width,n(o.x,o.y,d,c))),r(o.x+d,m.text),p=m,p.x=o.x,o.x+=d}p.type===e.UP?i(p.x+d,c):p.type===e.DOWN&&i(p.x+d,o.y,-1)}}]),e}(l.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Vibrato=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(25),l=n(41);e.Vibrato=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.setAttribute("type","Vibrato"),t.position=u.Modifier.Position.RIGHT,t.render_options={harsh:!1,vibrato_width:20,wave_height:6,wave_width:4,wave_girth:2},t.setVibratoWidth(t.render_options.vibrato_width),t}return o(e,t),s(e,null,[{key:"format",value:function(t,e,n){if(!t||0===t.length)return!1;var i=e.top_text_line,r=0,o=e.right_shift-7,s=n.getModifiers(l.Bend.CATEGORY);s&&s.length>0&&i--;for(var a=0;a<t.length;++a){var u=t[a];u.setXShift(o),u.setTextLine(i),r+=u.getWidth(),o+=r}return e.right_shift+=r,e.top_text_line+=1,!0}},{key:"CATEGORY",get:function(){return"vibratos"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setHarsh",value:function(t){return this.render_options.harsh=t,this}},{key:"setVibratoWidth",value:function(t){return this.render_options.vibrato_width=t,this.setWidth(t),this}},{key:"draw",value:function(){var t=this.checkContext();if(!this.note)throw new a.Vex.RERR("NoNoteForVibrato","Can't draw vibrato without an attached note.");this.setRendered();var n=this.note.getModifierStartXY(u.Modifier.Position.RIGHT,this.index),i=n.x+this.x_shift,r=this.note.getYForTopText(this.text_line)+2;e.renderVibrato(t,i,r,this.render_options)}}],[{key:"renderVibrato",value:function(t,e,n,i){var r=i.harsh,o=i.vibrato_width,s=i.wave_width,a=i.wave_girth,u=i.wave_height,l=o/s;t.beginPath();var c=void 0;if(r){for(t.moveTo(e,n+a+1),c=0;c<l/2;++c)t.lineTo(e+s,n-u/2),e+=s,t.lineTo(e+s,n+u/2),e+=s;for(c=0;c<l/2;++c)t.lineTo(e-s,n-u/2+a+1),e-=s,t.lineTo(e-s,n+u/2+a+1),e-=s;t.fill()}else{for(t.moveTo(e,n+a),c=0;c<l/2;++c)t.quadraticCurveTo(e+s/2,n-u/2,e+s,n),e+=s,t.quadraticCurveTo(e+s/2,n+u/2,e+s,n),e+=s;for(c=0;c<l/2;++c)t.quadraticCurveTo(e-s/2,n+u/2+a,e-s,n+a),e-=s,t.quadraticCurveTo(e-s/2,n-u/2+a,e-s,n+a),e-=s;t.fill()}}}]),e}(u.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Stave=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5),l=n(2),c=n(44),h=n(45),f=n(46),p=n(47),d=n(48),b=n(49),m=n(8),y=n(51),v=n(52),g=n(53),_=n(54);e.Stave=function(t){function e(t,n,o,s){i(this,e);var u=r(this,Object.getPrototypeOf(e).call(this));u.setAttribute("type","Stave"),u.x=t,u.y=n,u.width=o,u.formatted=!1,u.start_x=t+5,u.end_x=t+o,u.modifiers=[],u.measure=0,u.clef="treble",u.font={family:"sans-serif",size:8,weight:""},u.options={vertical_bar_width:10,glyph_spacing_px:10,num_lines:5,fill_style:"#999999",left_bar:!0,right_bar:!0,spacing_between_lines_px:10,space_above_staff_ln:4,space_below_staff_ln:4,top_text_position:1},u.bounds={x:u.x,y:u.y,w:u.width,h:0},a.Vex.Merge(u.options,s),u.resetLines();var l=c.Barline.type;return u.addModifier(new c.Barline(u.options.left_bar?l.SINGLE:l.NONE)),u.addEndModifier(new c.Barline(u.options.right_bar?l.SINGLE:l.NONE)),u}return o(e,t),s(e,[{key:"space",value:function(t){return this.options.spacing_between_lines_px*t}},{key:"resetLines",value:function(){this.options.line_config=[];for(var t=0;t<this.options.num_lines;t++)this.options.line_config.push({visible:!0});this.height=(this.options.num_lines+this.options.space_above_staff_ln)*this.options.spacing_between_lines_px,this.options.bottom_text_position=this.options.num_lines}},{key:"getOptions",value:function(){return this.options}},{key:"setNoteStartX",value:function(t){return this.formatted||this.format(),this.start_x=t,this}},{key:"getNoteStartX",value:function(){return this.formatted||this.format(),this.start_x}},{key:"getNoteEndX",value:function(){return this.formatted||this.format(),this.end_x}},{key:"getTieStartX",value:function(){return this.start_x}},{key:"getTieEndX",value:function(){return this.x+this.width}},{key:"getX",value:function(){return this.x}},{key:"getNumLines",value:function(){return this.options.num_lines}},{key:"setNumLines",value:function(t){return this.options.num_lines=parseInt(t,10),this.resetLines(),this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"getTopLineTopY",value:function(){return this.getYForLine(0)-l.Flow.STAVE_LINE_THICKNESS/2}},{key:"getBottomLineBottomY",value:function(){return this.getYForLine(this.getNumLines()-1)+l.Flow.STAVE_LINE_THICKNESS/2}},{key:"setX",value:function(t){var e=t-this.x;this.formatted=!1,this.x=t,this.start_x+=e,this.end_x+=e;for(var n=0;n<this.modifiers.length;n++){var i=this.modifiers[n];void 0!==i.x&&(i.x+=e)}return this}},{key:"setWidth",value:function(t){return this.formatted=!1,this.width=t,this.end_x=this.x+t,this}},{key:"getWidth",value:function(){return this.width}},{key:"setMeasure",value:function(t){return this.measure=t,this}},{key:"getModifierXShift",value:function(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];if("number"!=typeof t)throw new a.Vex.RERR("InvalidIndex","Must be of number type");if(this.formatted||this.format(),1===this.getModifiers(h.StaveModifier.Position.BEGIN).length)return 0;var e=this.start_x-this.x,n=this.modifiers[0];return n.getType()===c.Barline.type.REPEAT_BEGIN&&e>n.getWidth()&&(e-=n.getWidth()),e}},{key:"setRepetitionTypeLeft",value:function(t,e){return this.modifiers.push(new f.Repetition(t,this.x,e)),this}},{key:"setRepetitionTypeRight",value:function(t,e){return this.modifiers.push(new f.Repetition(t,this.x,e)),this}},{key:"setVoltaType",value:function(t,e,n){return this.modifiers.push(new _.Volta(t,e,this.x,n)),this}},{key:"setSection",value:function(t,e){return this.modifiers.push(new p.StaveSection(t,this.x,e)),this}},{key:"setTempo",value:function(t,e){return this.modifiers.push(new d.StaveTempo(t,this.x,e)),this}},{key:"setText",value:function(t,e,n){return this.modifiers.push(new b.StaveText(t,e,n)),this}},{key:"getHeight",value:function(){return this.height}},{key:"getSpacingBetweenLines",value:function(){return this.options.spacing_between_lines_px}},{key:"getBoundingBox",value:function(){return new m.BoundingBox(this.x,this.y,this.width,this.getBottomY()-this.y)}},{key:"getBottomY",value:function(){var t=this.options,e=t.spacing_between_lines_px,n=this.getYForLine(t.num_lines)+t.space_below_staff_ln*e;return n}},{key:"getBottomLineY",value:function(){return this.getYForLine(this.options.num_lines)}},{key:"getYForLine",value:function(t){var e=this.options,n=e.spacing_between_lines_px,i=e.space_above_staff_ln,r=this.y+t*n+i*n;return r}},{key:"getLineForY",value:function(t){var e=this.options,n=e.spacing_between_lines_px,i=e.space_above_staff_ln;return(t-this.y)/n-i}},{key:"getYForTopText",value:function(t){var e=t||0;return this.getYForLine(-e-this.options.top_text_position)}},{key:"getYForBottomText",value:function(t){var e=t||0;return this.getYForLine(this.options.bottom_text_position+e)}},{key:"getYForNote",value:function(t){var e=this.options,n=e.spacing_between_lines_px,i=e.space_above_staff_ln,r=this.y+i*n+5*n-t*n;return r}},{key:"getYForGlyphs",value:function(){return this.getYForLine(3)}},{key:"addModifier",value:function(t,e){return void 0!==e&&t.setPosition(e),t.setStave(this),this.formatted=!1,this.modifiers.push(t),this}},{key:"addEndModifier",value:function(t){return this.addModifier(t,h.StaveModifier.Position.END),this}},{key:"setBegBarType",value:function(t){var e=c.Barline.type,n=e.SINGLE,i=e.REPEAT_BEGIN,r=e.NONE;return t!==n&&t!==i&&t!==r||(this.modifiers[0].setType(t),this.formatted=!1),this}},{key:"setEndBarType",value:function(t){return t!==c.Barline.type.REPEAT_BEGIN&&(this.modifiers[1].setType(t),this.formatted=!1),this}},{key:"setClef",value:function(t,e,n,i){void 0===i&&(i=h.StaveModifier.Position.BEGIN),this.clef=t;var r=this.getModifiers(i,y.Clef.CATEGORY);return 0===r.length?this.addClef(t,e,n,i):r[0].setType(t,e,n),this}},{key:"setEndClef",value:function(t,e,n){return this.setClef(t,e,n,h.StaveModifier.Position.END),this}},{key:"setKeySignature",value:function(t,e,n){void 0===n&&(n=h.StaveModifier.Position.BEGIN);var i=this.getModifiers(n,v.KeySignature.CATEGORY);return 0===i.length?this.addKeySignature(t,e,n):i[0].setKeySig(t,e),this}},{key:"setEndKeySignature",value:function(t,e){return this.setKeySignature(t,e,h.StaveModifier.Position.END),this}},{key:"setTimeSignature",value:function(t,e,n){void 0===n&&(n=h.StaveModifier.Position.BEGIN);var i=this.getModifiers(n,g.TimeSignature.CATEGORY);return 0===i.length?this.addTimeSignature(t,e,n):i[0].setTimeSig(t),this}},{key:"setEndTimeSignature",value:function(t,e){return this.setTimeSignature(t,e,h.StaveModifier.Position.END),this}},{key:"addKeySignature",value:function(t,e,n){return this.addModifier(new v.KeySignature(t,e),n),this}},{key:"addClef",value:function(t,e,n,i){return void 0!==i&&i!==h.StaveModifier.Position.BEGIN||(this.clef=t),this.addModifier(new y.Clef(t,e,n),i),this}},{key:"addEndClef",value:function(t,e,n){return this.addClef(t,e,n,h.StaveModifier.Position.END),this}},{key:"addTimeSignature",value:function(t,e,n){return this.addModifier(new g.TimeSignature(t,e),n),this}},{key:"addEndTimeSignature",value:function(t,e){return this.addTimeSignature(t,e,h.StaveModifier.Position.END),this}},{key:"addTrebleGlyph",value:function(){return this.addClef("treble"),this}},{key:"getModifiers",value:function(t,e){return void 0===t?this.modifiers:this.modifiers.filter(function(n){return t===n.getPosition()&&(void 0===e||e===n.getCategory())})}},{key:"sortByCategory",value:function(t,e){for(var n=t.length-1;n>=0;n--)for(var i=0;i<n;i++)if(e[t[i].getCategory()]>e[t[i+1].getCategory()]){var r=t[i];t[i]=t[i+1],t[i+1]=r}}},{key:"format",value:function(){var t=this.modifiers[0],e=this.modifiers[1],n=this.getModifiers(h.StaveModifier.Position.BEGIN),i=this.getModifiers(h.StaveModifier.Position.END);this.sortByCategory(n,{barlines:0,clefs:1,keysignatures:2,timesignatures:3}),this.sortByCategory(i,{timesignatures:0,keysignatures:1,barlines:2,clefs:3}),n.length>1&&t.getType()===c.Barline.type.REPEAT_BEGIN&&(n.push(n.splice(0,1)[0]),n.splice(0,0,new c.Barline(c.Barline.type.SINGLE))),i.indexOf(e)>0&&i.splice(0,0,new c.Barline(c.Barline.type.NONE));for(var r=void 0,o=void 0,s=void 0,a=0,u=this.x,l=0;l<n.length;l++)s=n[l],o=s.getPadding(l+a),r=s.getWidth(),u+=o,s.setX(u),u+=r,o+r===0&&a--;this.start_x=u,u=this.x+this.width;for(var f=0;f<i.length;f++)s=i[f],u-=s.getPadding(f),0!==f&&(u-=s.getWidth()),s.setX(u),0===f&&(u-=s.getWidth());this.end_x=1===i.length?this.x+this.width:u,this.formatted=!0}},{key:"draw",value:function(){this.checkContext(),this.setRendered(),this.formatted||this.format();for(var t=this.options.num_lines,e=this.width,n=this.x,i=void 0,r=0;r<t;r++)i=this.getYForLine(r),this.context.save(),this.context.setFillStyle(this.options.fill_style),this.context.setStrokeStyle(this.options.fill_style),this.context.setLineWidth(l.Flow.STAVE_LINE_THICKNESS),this.options.line_config[r].visible&&(this.context.beginPath(),this.context.moveTo(n,i),this.context.lineTo(n+e,i),this.context.stroke()),this.context.restore();for(var o=0;o<this.modifiers.length;o++)"function"==typeof this.modifiers[o].draw&&this.modifiers[o].draw(this,this.getModifierXShift(o));if(this.measure>0){this.context.save(),this.context.setFont(this.font.family,this.font.size,this.font.weight);var s=this.context.measureText(""+this.measure).width;i=this.getYForTopText(0)+3,this.context.fillText(""+this.measure,this.x-s/2,i),this.context.restore()}return this}},{key:"drawVertical",value:function(t,e){this.drawVerticalFixed(this.x+t,e)}},{key:"drawVerticalFixed",value:function(t,e){this.checkContext();var n=this.getYForLine(0),i=this.getYForLine(this.options.num_lines-1);e&&this.context.fillRect(t-3,n,1,i-n+1),this.context.fillRect(t,n,1,i-n+1)}},{key:"drawVerticalBar",value:function(t){this.drawVerticalBarFixed(this.x+t,!1)}},{key:"drawVerticalBarFixed",value:function(t){this.checkContext();var e=this.getYForLine(0),n=this.getYForLine(this.options.num_lines-1);this.context.fillRect(t,e,1,n-e+1)}},{key:"getConfigForLines",value:function(){return this.options.line_config}},{key:"setConfigForLine",value:function(t,e){if(t>=this.options.num_lines||t<0)throw new a.Vex.RERR("StaveConfigError","The line number must be within the range of the number of lines in the Stave.");if(void 0===e.visible)throw new a.Vex.RERR("StaveConfigError","The line configuration object is missing the 'visible' property.");if("boolean"!=typeof e.visible)throw new a.Vex.RERR("StaveConfigError","The line configuration objects 'visible' property must be true or false.");return this.options.line_config[t]=e,this}},{key:"setConfigForLines",value:function(t){if(t.length!==this.options.num_lines)throw new a.Vex.RERR("StaveConfigError","The length of the lines configuration array must match the number of lines in the Stave");for(var e in t)t[e]||(t[e]=this.options.line_config[e]),a.Vex.Merge(this.options.line_config[e],t[e]);return this.options.line_config=t,this}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Barline=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),u=n(45);e.Barline=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));n.setAttribute("type","Barline"),n.thickness=a.Flow.STAVE_LINE_THICKNESS;var o=e.type;return n.widths={},n.widths[o.SINGLE]=5,n.widths[o.DOUBLE]=5,n.widths[o.END]=5,n.widths[o.REPEAT_BEGIN]=5,n.widths[o.REPEAT_END]=5,n.widths[o.REPEAT_BOTH]=5,n.widths[o.NONE]=5,n.paddings={},n.paddings[o.SINGLE]=0,n.paddings[o.DOUBLE]=0,n.paddings[o.END]=0,n.paddings[o.REPEAT_BEGIN]=15,n.paddings[o.REPEAT_END]=15,n.paddings[o.REPEAT_BOTH]=15,n.paddings[o.NONE]=0,n.setPosition(u.StaveModifier.Position.BEGIN),n.setType(t),n}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"barlines"}},{key:"type",get:function(){return{SINGLE:1,DOUBLE:2,END:3,REPEAT_BEGIN:4,REPEAT_END:5,REPEAT_BOTH:6,NONE:7}}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"getType",value:function(){return this.type}},{key:"setType",value:function(t){return this.type=t,this.setWidth(this.widths[this.type]),this.setPadding(this.paddings[this.type]),this}},{key:"draw",value:function(t){switch(t.checkContext(),this.setRendered(),this.type){case e.type.SINGLE:this.drawVerticalBar(t,this.x,!1);break;case e.type.DOUBLE:this.drawVerticalBar(t,this.x,!0);break;case e.type.END:this.drawVerticalEndBar(t,this.x);break;case e.type.REPEAT_BEGIN:this.drawRepeatBar(t,this.x,!0),t.getX()!==this.x&&this.drawVerticalBar(t,t.getX());break;case e.type.REPEAT_END:this.drawRepeatBar(t,this.x,!1);break;case e.type.REPEAT_BOTH:this.drawRepeatBar(t,this.x,!1),this.drawRepeatBar(t,this.x,!0)}}},{key:"drawVerticalBar",value:function(t,e,n){t.checkContext();var i=t.getTopLineTopY(),r=t.getBottomLineBottomY();n&&t.context.fillRect(e-3,i,1,r-i),t.context.fillRect(e,i,1,r-i)}},{key:"drawVerticalEndBar",value:function(t,e){t.checkContext();var n=t.getTopLineTopY(),i=t.getBottomLineBottomY();t.context.fillRect(e-5,n,1,i-n),t.context.fillRect(e-2,n,3,i-n)}},{key:"drawRepeatBar",value:function(t,e,n){t.checkContext();var i=t.getTopLineTopY(),r=t.getBottomLineBottomY(),o=3;n||(o=-5),t.context.fillRect(e+o,i,1,r-i),t.context.fillRect(e-2,i,3,r-i);var s=2;n?o+=4:o-=4;var a=e+o+s/2,u=(t.getNumLines()-1)*t.getSpacingBetweenLines();u=u/2-t.getSpacingBetweenLines()/2;var l=i+u+s/2;t.context.beginPath(),t.context.arc(a,l,s,0,2*Math.PI,!1),t.context.fill(),l+=t.getSpacingBetweenLines(),t.context.beginPath(),t.context.arc(a,l,s,0,2*Math.PI,!1),t.context.fill()}}]),e}(u.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveModifier=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(5);e.StaveModifier=function(t){function e(){i(this,e);var t=r(this,Object.getPrototypeOf(e).call(this));return t.setAttribute("type","StaveModifier"),t.padding=10,t.position=e.Position.ABOVE,t}return o(e,t),s(e,null,[{key:"Position",get:function(){return{LEFT:1,RIGHT:2,ABOVE:3,BELOW:4,BEGIN:5,END:6}}}]),s(e,[{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(t){return this.position=t,this}},{key:"getStave",value:function(){return this.stave}},{key:"setStave",value:function(t){return this.stave=t,this}},{key:"getWidth",value:function(){return this.width}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"getX",value:function(){return this.x}},{key:"setX",value:function(t){return this.x=t,this}},{key:"getCategory",value:function(){return""}},{key:"makeSpacer",value:function(t){return{getContext:function(){return!0},setStave:function(){},renderToStave:function(){},getMetrics:function(){return{width:t}}}}},{key:"placeGlyphOnLine",value:function(t,e,n){t.setYShift(e.getYForLine(n)-e.getYForGlyphs())}},{key:"getPadding",value:function(t){return void 0!==t&&t<2?0:this.padding}},{key:"setPadding",value:function(t){return this.padding=t,this}}]),e}(a.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Repetition=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(45),u=n(4);e.Repetition=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","Repetition"),s.symbol_type=t,s.x=n,s.x_shift=0,s.y_shift=o,s.font={family:"times",size:12,weight:"bold italic"},s}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"repetitions"}},{key:"type",get:function(){return{NONE:1,CODA_LEFT:2,CODA_RIGHT:3,SEGNO_LEFT:4,SEGNO_RIGHT:5,DC:6,DC_AL_CODA:7,DC_AL_FINE:8,DS:9,DS_AL_CODA:10,DS_AL_FINE:11,FINE:12}}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setShiftX",value:function(t){return this.x_shift=t,this}},{key:"setShiftY",value:function(t){return this.y_shift=t,this}},{key:"draw",value:function(t,n){switch(this.setRendered(),this.symbol_type){case e.type.CODA_RIGHT:this.drawCodaFixed(t,n+t.width);break;case e.type.CODA_LEFT:this.drawSymbolText(t,n,"Coda",!0);break;case e.type.SEGNO_LEFT:this.drawSignoFixed(t,n);break;case e.type.SEGNO_RIGHT:this.drawSignoFixed(t,n+t.width);break;case e.type.DC:this.drawSymbolText(t,n,"D.C.",!1);break;case e.type.DC_AL_CODA:this.drawSymbolText(t,n,"D.C. al",!0);break;case e.type.DC_AL_FINE:this.drawSymbolText(t,n,"D.C. al Fine",!1);break;case e.type.DS:this.drawSymbolText(t,n,"D.S.",!1);break;case e.type.DS_AL_CODA:this.drawSymbolText(t,n,"D.S. al",!0);break;case e.type.DS_AL_FINE:this.drawSymbolText(t,n,"D.S. al Fine",!1);break;case e.type.FINE:this.drawSymbolText(t,n,"Fine",!1)}return this}},{key:"drawCodaFixed",value:function(t,e){var n=t.getYForTopText(t.options.num_lines)+this.y_shift;return u.Glyph.renderGlyph(t.context,this.x+e+this.x_shift,n+25,40,"v4d",!0),this}},{key:"drawSignoFixed",value:function(t,e){var n=t.getYForTopText(t.options.num_lines)+this.y_shift;return u.Glyph.renderGlyph(t.context,this.x+e+this.x_shift,n+25,30,"v8c",!0),this}},{key:"drawSymbolText",value:function(t,n,i,r){var o=t.checkContext();o.save(),o.setFont(this.font.family,this.font.size,this.font.weight);var s=0+this.x_shift,a=n+this.x_shift;this.symbol_type===e.type.CODA_LEFT?(s=this.x+t.options.vertical_bar_width,a=s+o.measureText(i).width+12):(a=this.x+n+t.width-5+this.x_shift,s=a-+o.measureText(i).width-12);var l=t.getYForTopText(t.options.num_lines)+this.y_shift;return r&&u.Glyph.renderGlyph(o,a,l,40,"v4d",!0),o.fillText(i,s,l+5),o.restore(),this}}]),e}(a.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveSection=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(45);e.StaveSection=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","StaveSection"),s.setWidth(16),s.section=t,s.x=n,s.shift_x=0,s.shift_y=o,s.font={family:"sans-serif",size:12,weight:"bold"},s}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"stavesection"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setStaveSection",value:function(t){return this.section=t,this}},{key:"setShiftX",value:function(t){return this.shift_x=t,this}},{key:"setShiftY",value:function(t){return this.shift_y=t,this}},{key:"draw",value:function(t,e){var n=t.checkContext();this.setRendered(),n.save(),n.lineWidth=2,n.setFont(this.font.family,this.font.size,this.font.weight);var i=n.measureText(""+this.section).width,r=i+6;r<18&&(r=18);var o=20,s=t.getYForTopText(3)+this.shift_y,a=this.x+e;return n.beginPath(),n.lineWidth=2,n.rect(a,s,r,o),n.stroke(),a+=(r-i)/2,n.fillText(""+this.section,a,s+16),n.restore(),this}}]),e}(a.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveTempo=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){
var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),u=n(25),l=n(45),c=n(4);e.StaveTempo=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","StaveTempo"),s.tempo=t,s.position=u.Modifier.Position.ABOVE,s.x=n,s.shift_x=10,s.shift_y=o,s.font={family:"times",size:14,weight:"bold"},s.render_options={glyph_font_scale:30},s}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"stavetempo"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setTempo",value:function(t){return this.tempo=t,this}},{key:"setShiftX",value:function(t){return this.shift_x=t,this}},{key:"setShiftY",value:function(t){return this.shift_y=t,this}},{key:"draw",value:function(t,e){var n=t.checkContext();this.setRendered();var i=this.render_options,r=i.glyph_font_scale/38,o=this.tempo.name,s=this.tempo.duration,u=this.tempo.dots,l=this.tempo.bpm,h=this.font,f=this.x+this.shift_x+e,p=t.getYForTopText(1)+this.shift_y;if(n.save(),o&&(n.setFont(h.family,h.size,h.weight),n.fillText(o,f,p),f+=n.measureText(o).width),s&&l){n.setFont(h.family,h.size,"normal"),o&&(f+=n.measureText(" ").width,n.fillText("(",f,p),f+=n.measureText("(").width);var d=a.Flow.durationToGlyph(s);if(f+=3*r,c.Glyph.renderGlyph(n,f,p,i.glyph_font_scale,d.code_head),f+=d.getWidth()*r,d.stem){var b=30;d.beam_count&&(b+=3*(d.beam_count-1)),b*=r;var m=p-b;n.fillRect(f-r,m,r,b),d.flag&&(c.Glyph.renderGlyph(n,f,m,i.glyph_font_scale,d.code_flag_upstem),u||(f+=6*r))}for(var y=0;y<u;y++)f+=6*r,n.beginPath(),n.arc(f,p+2*r,2*r,0,2*Math.PI,!1),n.fill();n.fillText(" = "+l+(o?")":""),f+3*r,p)}return n.restore(),this}}]),e}(l.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveText=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(45),l=n(50);e.StaveText=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","StaveText"),s.setWidth(16),s.text=t,s.position=n,s.options={shift_x:0,shift_y:0,justification:l.TextNote.Justification.CENTER},a.Vex.Merge(s.options,o),s.font={family:"times",size:16,weight:"normal"},s}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"stavetext"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setStaveText",value:function(t){return this.text=t,this}},{key:"setShiftX",value:function(t){return this.shift_x=t,this}},{key:"setShiftY",value:function(t){return this.shift_y=t,this}},{key:"setFont",value:function(t){a.Vex.Merge(this.font,t)}},{key:"setText",value:function(t){this.text=t}},{key:"draw",value:function(t){var e=t.checkContext();this.setRendered(),e.save(),e.lineWidth=2,e.setFont(this.font.family,this.font.size,this.font.weight);var n=e.measureText(""+this.text).width,i=void 0,r=void 0,o=u.StaveModifier.Position,s=l.TextNote.Justification;switch(this.position){case o.LEFT:case o.RIGHT:r=(t.getYForLine(0)+t.getBottomLineY())/2+this.options.shift_y,i=this.position===o.LEFT?t.getX()-n-24+this.options.shift_x:t.getX()+t.getWidth()+24+this.options.shift_x;break;case o.ABOVE:case o.BELOW:i=t.getX()+this.options.shift_x,this.options.justification===s.CENTER?i+=t.getWidth()/2-n/2:this.options.justification===s.RIGHT&&(i+=t.getWidth()-n),r=this.position===o.ABOVE?t.getYForTopText(2)+this.options.shift_y:t.getYForBottomText(2)+this.options.shift_y;break;default:throw new a.Vex.RERR("InvalidPosition","Value Must be in Modifier.Position.")}return e.fillText(""+this.text,i,r+4),e.restore(),this}}]),e}(u.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextNote=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(2),l=n(22),c=n(4);e.TextNote=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));if(n.setAttribute("type","TextNote"),n.text=t.text,n.superscript=t.superscript,n.subscript=t.subscript,n.glyph_type=t.glyph,n.glyph=null,n.font={family:"Arial",size:12,weight:""},t.font&&(n.font=t.font),n.glyph_type){var o=e.GLYPHS[n.glyph_type];if(!o)throw new a.Vex.RERR("Invalid glyph type: "+n.glyph_type);n.glyph=new c.Glyph(o.code,o.point,{cache:!1}),o.width?n.setWidth(o.width):n.setWidth(n.glyph.getMetrics().width),n.glyph_struct=o}else n.setWidth(u.Flow.textWidth(n.text));return n.line=t.line||0,n.smooth=t.smooth||!1,n.ignore_ticks=t.ignore_ticks||!1,n.justification=e.Justification.LEFT,n}return o(e,t),s(e,null,[{key:"Justification",get:function(){return{LEFT:1,CENTER:2,RIGHT:3}}},{key:"GLYPHS",get:function(){return{segno:{code:"v8c",point:40,x_shift:0,y_shift:-10},tr:{code:"v1f",point:40,x_shift:0,y_shift:0},mordent_upper:{code:"v1e",point:40,x_shift:0,y_shift:0},mordent_lower:{code:"v45",point:40,x_shift:0,y_shift:0},f:{code:"vba",point:40,x_shift:0,y_shift:0},p:{code:"vbf",point:40,x_shift:0,y_shift:0},m:{code:"v62",point:40,x_shift:0,y_shift:0},s:{code:"v4a",point:40,x_shift:0,y_shift:0},z:{code:"v80",point:40,x_shift:0,y_shift:0},coda:{code:"v4d",point:40,x_shift:0,y_shift:-8},pedal_open:{code:"v36",point:40,x_shift:0,y_shift:0},pedal_close:{code:"v5d",point:40,x_shift:0,y_shift:3},caesura_straight:{code:"v34",point:40,x_shift:0,y_shift:2},caesura_curved:{code:"v4b",point:40,x_shift:0,y_shift:2},breath:{code:"v6c",point:40,x_shift:0,y_shift:0},tick:{code:"v6f",point:50,x_shift:0,y_shift:0},turn:{code:"v72",point:40,x_shift:0,y_shift:0},turn_inverted:{code:"v33",point:40,x_shift:0,y_shift:0},mordent:{code:"v1e",point:40,x_shift:0,y_shift:0}}}}]),s(e,[{key:"setJustification",value:function(t){return this.justification=t,this}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"preFormat",value:function(){this.checkContext(),this.preFormatted||(this.smooth?this.setWidth(0):this.glyph||this.setWidth(this.context.measureText(this.text).width),this.justification===e.Justification.CENTER?this.extraLeftPx=this.width/2:this.justification===e.Justification.RIGHT&&(this.extraLeftPx=this.width),this.setPreFormatted(!0))}},{key:"draw",value:function(){if(this.checkContext(),!this.stave)throw new a.Vex.RERR("NoStave","Can't draw without a stave.");this.setRendered();var t=this.context,n=this.getAbsoluteX();this.justification===e.Justification.CENTER?n-=this.getWidth()/2:this.justification===e.Justification.RIGHT&&(n-=this.getWidth());var i=void 0;if(this.glyph)i=this.stave.getYForLine(this.line+-3),this.glyph.render(this.context,n+this.glyph_struct.x_shift,i+this.glyph_struct.y_shift);else{i=this.stave.getYForLine(this.line+-3),t.save(),t.setFont(this.font.family,this.font.size,this.font.weight),t.fillText(this.text,n,i);var r=t.measureText("M").width,o=t.measureText(this.text).width;this.superscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.superscript,n+o+2,i-r/2.2)),this.subscript&&(t.setFont(this.font.family,this.font.size/1.3,this.font.weight),t.fillText(this.subscript,n+o+2,i+r/2.2-1)),t.restore()}}}]),e}(l.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h.DEBUG&&u.Vex.L("Vex.Flow.Clef",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Clef=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(45),c=n(4),h=e.Clef=function(t){function e(t,n,o){i(this,e);var a=r(this,Object.getPrototypeOf(e).call(this));return a.setAttribute("type","Clef"),a.setPosition(l.StaveModifier.Position.BEGIN),a.setType(t,n,o),a.setWidth(a.glyph.getMetrics().width),s("Creating clef:",t),a}return o(e,t),a(e,null,[{key:"CATEGORY",get:function(){return"clefs"}},{key:"types",get:function(){return{treble:{code:"v83",line:3},bass:{code:"v79",line:1},alto:{code:"vad",line:2},tenor:{code:"vad",line:1},percussion:{code:"v59",line:2},soprano:{code:"vad",line:4},"mezzo-soprano":{code:"vad",line:3},"baritone-c":{code:"vad",line:0},"baritone-f":{code:"v79",line:2},subbass:{code:"v79",line:0},french:{code:"v83",line:4},tab:{code:"v2f"}}}},{key:"sizes",get:function(){return{default:40,small:32}}},{key:"annotations",get:function(){return{"8va":{code:"v8",sizes:{default:{point:20,attachments:{treble:{line:-1.2,x_shift:11}}},small:{point:18,attachments:{treble:{line:-.4,x_shift:8}}}}},"8vb":{code:"v8",sizes:{default:{point:20,attachments:{treble:{line:6.3,x_shift:10},bass:{line:4,x_shift:1}}},small:{point:18,attachments:{treble:{line:5.8,x_shift:6},bass:{line:3.5,x_shift:.5}}}}}}}}]),a(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setType",value:function(t,n,i){if(this.type=t,this.clef=e.types[t],void 0===n?this.size="default":this.size=n,this.clef.point=e.sizes[this.size],this.glyph=new c.Glyph(this.clef.code,this.clef.point),void 0!==i){var r=e.annotations[i];this.annotation={code:r.code,point:r.sizes[this.size].point,line:r.sizes[this.size].attachments[this.type].line,x_shift:r.sizes[this.size].attachments[this.type].x_shift},this.attachment=new c.Glyph(this.annotation.code,this.annotation.point),this.attachment.metrics.x_max=0,this.attachment.setXShift(this.annotation.x_shift)}else this.annotation=void 0;return this}},{key:"getWidth",value:function(){if("tab"===this.type&&!this.stave)throw new u.Vex.RERR("ClefError","Can't get width without stave.");return this.width}},{key:"setStave",value:function(t){if(this.stave=t,"tab"!==this.type)return this;var e=void 0,n=void 0,i=this.stave.getOptions().num_lines;switch(i){case 8:e=55,n=14;break;case 7:e=47,n=8;break;case 6:e=40,n=1;break;case 5:e=30,n=-6;break;case 4:e=23,n=-12;break;default:throw new u.Vex.RERR("ClefError","Invalid number of lines: "+i)}return this.glyph.setPoint(e),this.glyph.setYShift(n),this}},{key:"draw",value:function(){if(!this.x)throw new u.Vex.RERR("ClefError","Can't draw clef without x.");if(!this.stave)throw new u.Vex.RERR("ClefError","Can't draw clef without stave.");this.setRendered(),this.glyph.setStave(this.stave),this.glyph.setContext(this.stave.context),void 0!==this.clef.line&&this.placeGlyphOnLine(this.glyph,this.stave,this.clef.line),this.glyph.renderToStave(this.x),void 0!==this.annotation&&(this.placeGlyphOnLine(this.attachment,this.stave,this.annotation.line),this.attachment.setStave(this.stave),this.attachment.setContext(this.stave.context),this.attachment.renderToStave(this.x))}}]),e}(l.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.KeySignature=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(2),l=n(45),c=n(4);e.KeySignature=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","KeySignature"),s.setKeySig(t,n,o),s.setPosition(l.StaveModifier.Position.BEGIN),s.glyphFontScale=38,s.glyphs=[],s.xPositions=[],s.paddingForced=!1,s}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"keysignatures"}},{key:"accidentalSpacing",get:function(){return{"#":{above:6,below:4},b:{above:4,below:7},n:{above:4,below:1},"##":{above:6,below:4},bb:{above:4,below:7},db:{above:4,below:7},d:{above:4,below:7},bbs:{above:4,below:7},"++":{above:6,below:4},"+":{above:6,below:4},"+-":{above:6,below:4},"++-":{above:6,below:4},bs:{above:4,below:10},bss:{above:4,below:10}}}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"convertToGlyph",value:function(t,n){var i=u.Flow.accidentalCodes(t.type),r=new c.Glyph(i.code,this.glyphFontScale),o=1;if("n"===t.type&&n){var s=e.accidentalSpacing[n.type];if(s){var a=n.line>=t.line;o=a?s.above:s.below}}this.placeGlyphOnLine(r,this.stave,t.line),this.glyphs.push(r);var l=this.xPositions[this.xPositions.length-1],h=r.getMetrics().width+o;this.xPositions.push(l+h),this.width+=h}},{key:"cancelKey",value:function(t){return this.formatted=!1,this.cancelKeySpec=t,this}},{key:"convertToCancelAccList",value:function(t){var e=u.Flow.keySignature(t),n=this.accList.length>0&&e.length>0&&e[0].type!==this.accList[0].type,i=n?e.length:e.length-this.accList.length;if(!(i<1)){for(var r=[],o=0;o<i;o++){var s=o;n||(s=e.length-i+o);var a=e[s];r.push({type:"n",line:a.line})}this.accList=r.concat(this.accList)}}},{key:"addToStave",value:function(t){return this.paddingForced=!0,t.addModifier(this),this}},{key:"convertAccLines",value:function(t,e){var n=0,i=void 0;switch(t){case"soprano":"#"===e?i=[2.5,.5,2,0,1.5,-.5,1]:n=-1;break;case"mezzo-soprano":"b"===e?i=[0,2,.5,2.5,1,3,1.5]:n=1.5;break;case"alto":n=.5;break;case"tenor":"#"===e?i=[3,1,2.5,.5,2,0,1.5]:n=-.5;break;case"baritone-f":case"baritone-c":"b"===e?i=[.5,2.5,1,3,1.5,3.5,2]:n=2;break;case"bass":case"french":n=1}var r=void 0;if("undefined"!=typeof i)for(r=0;r<this.accList.length;++r)this.accList[r].line=i[r];else if(0!==n)for(r=0;r<this.accList.length;++r)this.accList[r].line+=n}},{key:"getPadding",value:function(t){return this.formatted||this.format(),0===this.glyphs.length||!this.paddingForced&&t<2?0:this.padding}},{key:"getWidth",value:function(){return this.formatted||this.format(),this.width}},{key:"setKeySig",value:function(t,e,n){return this.formatted=!1,this.keySpec=t,this.cancelKeySpec=e,this.alterKeySpec=n,this}},{key:"alterKey",value:function(t){return this.formatted=!1,this.alterKeySpec=t,this}},{key:"convertToAlterAccList",value:function(t){for(var e=Math.min(t.length,this.accList.length),n=0;n<e;++n)t[n]&&(this.accList[n].type=t[n])}},{key:"format",value:function(){if(!this.stave)throw new a.Vex.RERR("KeySignatureError","Can't draw key signature without stave.");this.width=0,this.glyphs=[],this.xPositions=[0],this.accList=u.Flow.keySignature(this.keySpec),this.cancelKeySpec&&this.convertToCancelAccList(this.cancelKeySpec);var t=this.accList.length>0?this.accList[0].type:null;if(this.alterKeySpec&&this.convertToAlterAccList(this.alterKeySpec),this.accList.length>0){this.convertAccLines(this.stave.clef,t);for(var e=0;e<this.accList.length;++e)this.convertToGlyph(this.accList[e],this.accList[e+1])}this.formatted=!0}},{key:"draw",value:function(){if(!this.x)throw new a.Vex.RERR("KeySignatureError","Can't draw key signature without x.");if(!this.stave)throw new a.Vex.RERR("KeySignatureError","Can't draw key signature without stave.");this.formatted||this.format(),this.setRendered();for(var t=0;t<this.glyphs.length;t++){var e=this.glyphs[t],n=this.x+this.xPositions[t];e.setStave(this.stave),e.setContext(this.stave.context),e.renderToStave(n)}}}]),e}(l.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimeSignature=void 0;var s=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(4),c=n(45),h=function(t){var e=t.split("/").filter(function(t){return""!==t});if(2!==e.length)throw new u.Vex.RERR("BadTimeSignature","Invalid time spec: "+t+'. Must be in the form "<numerator>/<denominator>"');e.forEach(function(e){if(isNaN(Number(e)))throw new u.Vex.RERR("BadTimeSignature","Invalid time spec: "+t+". Must contain two valid numbers.")})};e.TimeSignature=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?15:arguments[1];i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));if(o.setAttribute("type","TimeSignature"),null===t)return r(o);var s=n;return o.point=40,o.topLine=2,o.bottomLine=4,o.setPosition(c.StaveModifier.Position.BEGIN),o.setTimeSig(t),o.setWidth(o.timeSig.glyph.getMetrics().width),o.setPadding(s),o}return o(e,t),a(e,null,[{key:"CATEGORY",get:function(){return"timesignatures"}},{key:"glyphs",get:function(){return{C:{code:"v41",point:40,line:2},"C|":{code:"vb6",point:40,line:2}}}}]),a(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"parseTimeSpec",value:function(t){if("C"===t||"C|"===t){var n=e.glyphs[t],i=n.line,r=n.code,o=n.point;return{line:i,num:!1,glyph:new l.Glyph(r,o)}}h(t);var a=t.split("/").map(function(t){return t.split("")}),u=s(a,2),c=u[0],f=u[1];return{num:!0,glyph:this.makeTimeSignatureGlyph(c,f)}}},{key:"makeTimeSignatureGlyph",value:function(t,e){var n=new l.Glyph("v0",this.point);n.topGlyphs=[],n.botGlyphs=[];for(var i=0,r=0;r<t.length;++r){var o=t[r],s=new l.Glyph("v"+o,this.point);n.topGlyphs.push(s),i+=s.getMetrics().width}for(var a=0,u=0;u<e.length;++u){var c=e[u],h=new l.Glyph("v"+c,this.point);n.botGlyphs.push(h),a+=h.getMetrics().width}var f=i>a?i:a,p=n.getMetrics().x_min;n.getMetrics=function(){return{x_min:p,x_max:p+f,width:f}};var d=(f-i)/2,b=(f-a)/2,m=this;return n.renderToStave=function(t){for(var e=t+d,n=0;n<this.topGlyphs.length;++n){var i=this.topGlyphs[n];l.Glyph.renderOutline(this.context,i.metrics.outline,i.scale,e+i.x_shift,this.stave.getYForLine(m.topLine)+1),e+=i.getMetrics().width}e=t+b;for(var r=0;r<this.botGlyphs.length;++r){var o=this.botGlyphs[r];m.placeGlyphOnLine(o,this.stave,o.line),l.Glyph.renderOutline(this.context,o.metrics.outline,o.scale,e+o.x_shift,this.stave.getYForLine(m.bottomLine)+1),e+=o.getMetrics().width}},n}},{key:"getTimeSig",value:function(){return this.timeSig}},{key:"setTimeSig",value:function(t){return this.timeSig=this.parseTimeSpec(t),this}},{key:"draw",value:function(){if(!this.x)throw new u.Vex.RERR("TimeSignatureError","Can't draw time signature without x.");if(!this.stave)throw new u.Vex.RERR("TimeSignatureError","Can't draw time signature without stave.");this.setRendered(),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setContext(this.stave.context),this.placeGlyphOnLine(this.timeSig.glyph,this.stave,this.timeSig.line),this.timeSig.glyph.renderToStave(this.x)}}]),e}(c.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Volta=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(45);e.Volta=function(t){function e(t,n,o,s){i(this,e);var a=r(this,Object.getPrototypeOf(e).call(this));return a.setAttribute("type","Volta"),a.volta=t,a.x=o,a.y_shift=s,a.number=n,a.font={family:"sans-serif",size:9,weight:"bold"},a}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"voltas"}},{key:"type",get:function(){return{NONE:1,BEGIN:2,MID:3,END:4,BEGIN_END:5}}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setShiftY",value:function(t){return this.y_shift=t,this}},{key:"draw",value:function(t,n){var i=t.checkContext();this.setRendered();var r=t.width,o=t.getYForTopText(t.options.num_lines)+this.y_shift,s=1.5*t.options.spacing_between_lines_px;switch(this.volta){case e.type.BEGIN:i.fillRect(this.x+n,o,1,s);break;case e.type.END:r-=5,i.fillRect(this.x+n+r,o,1,s);break;case e.type.BEGIN_END:r-=3,i.fillRect(this.x+n,o,1,s),i.fillRect(this.x+n+r,o,1,s)}return this.volta!==e.type.BEGIN&&this.volta!==e.type.BEGIN_END||(i.save(),i.setFont(this.font.family,this.font.size,this.font.weight),i.fillText(this.number,this.x+n+5,o+15),i.restore()),i.fillRect(this.x+n,o,r,1),this}}]),e}(a.StaveModifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TabStave=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(43);e.TabStave=function(t){function e(t,n,o,s){i(this,e);var u={spacing_between_lines_px:13,num_lines:6,top_text_position:1};a.Vex.Merge(u,s);var l=r(this,Object.getPrototypeOf(e).call(this,t,n,o,u));return l.setAttribute("type","TabStave"),l}return o(e,t),s(e,[{key:"getYForGlyphs",value:function(){return this.getYForLine(2.5)}},{key:"addTabGlyph",value:function(){return this.addClef("tab"),this}}]),e}(u.Stave)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){for(var n=[],i=[],r=1;r<=t;r++){var o=e.indexOf(r)>-1;o?(n.push(i),i=[]):i.push(r)}return i.length>0&&n.push(i),n}function a(t,e,n,i){var r=1!==i,o=i!==-1,s=n.getSpacingBetweenLines(),a=n.getNumLines(),u=[];return e.forEach(function(e){var l=e.indexOf(a)>-1,c=e.indexOf(1)>-1;if(!(r&&c||o&&l)){1===e.length&&e.push(e[0]);var h=[];e.forEach(function(e,r,o){var u=1===e,l=e===a,c=n.getYForLine(e-1);0!==r||u?r!==o.length-1||l||(c+=s/2-1):c-=s/2-1,h.push(c),1===i&&u?h.push(t-2):i===-1&&l&&h.push(t+2)}),u.push(h.sort(function(t,e){return t-e}))}}),u}Object.defineProperty(e,"__esModule",{value:!0}),e.TabNote=void 0;var u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(1),h=n(2),f=n(25),p=n(17),d=n(24),b=n(26),m=n(4);e.TabNote=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this,t));if(o.setAttribute("type","TabNote"),o.ghost=!1,o.positions=t.positions,c.Vex.Merge(o.render_options,{glyph_font_scale:h.Flow.DEFAULT_TABLATURE_FONT_SCALE,draw_stem:n,draw_dots:n,draw_stem_through_stave:!1,y_shift:0,scale:1,font:"10pt Arial"}),o.glyph=h.Flow.durationToGlyph(o.duration,o.noteType),!o.glyph)throw new c.Vex.RuntimeError("BadArguments","Invalid note initialization data (No glyph found): "+JSON.stringify(t));return o.buildStem(),t.stem_direction?o.setStemDirection(t.stem_direction):o.setStemDirection(p.Stem.UP),o.ghost=!1,o.updateWidth(),o}return o(e,t),l(e,null,[{key:"CATEGORY",get:function(){return"tabnotes"}}]),l(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"setGhost",value:function(t){return this.ghost=t,this.updateWidth(),this}},{key:"hasStem",value:function(){return this.render_options.draw_stem}},{key:"getStemExtension",value:function(){var t=this.getGlyph();return null!=this.stem_extension_override?this.stem_extension_override:t?1===this.getStemDirection()?t.tabnote_stem_up_extension:t.tabnote_stem_down_extension:0}},{key:"addDot",value:function(){var t=new b.Dot;return this.dots+=1,this.addModifier(t,0)}},{key:"updateWidth",value:function(){var t=this;this.glyphs=[],this.width=0;for(var e=0;e<this.positions.length;++e){var n=this.positions[e].fret;this.ghost&&(n="("+n+")");var i=h.Flow.tabToGlyph(n,this.render_options.scale);this.glyphs.push(i),this.width=Math.max(i.getWidth(),this.width)}this.glyph.getWidth=function(){return t.width}}},{key:"setStave",value:function(t){var n=this;u(Object.getPrototypeOf(e.prototype),"setStave",this).call(this,t),this.context=t.context;var i=void 0;if(this.context){var r=this.context;this.width=0;var o=function(){var t=n.glyphs[i],e=""+t.text;"X"!==e.toUpperCase()&&(r.save(),r.setRawFont(n.render_options.font),t.width=r.measureText(e).width,r.restore(),t.getWidth=function(){return t.width}),n.width=Math.max(t.getWidth(),n.width)};for(i=0;i<this.glyphs.length;++i)o();this.glyph.getWidth=function(){return n.width}}var s=this.positions.map(function(e){var n=e.str;return t.getYForLine(n-1)});return this.setYs(s),this.stem&&this.stem.setYBounds(this.getStemY(),this.getStemY()),this}},{key:"getPositions",value:function(){return this.positions}},{key:"addToModifierContext",value:function(t){this.setModifierContext(t);for(var e=0;e<this.modifiers.length;++e)this.modifierContext.addModifier(this.modifiers[e]);return this.modifierContext.addModifier(this),this.preFormatted=!1,this}},{key:"getTieRightX",value:function(){var t=this.getAbsoluteX(),e=this.glyph.getWidth();return t+=e/2,t+=-this.width/2+this.width+2}},{key:"getTieLeftX",value:function(){var t=this.getAbsoluteX(),e=this.glyph.getWidth();return t+=e/2,t-=this.width/2+2}},{key:"getModifierStartXY",value:function(t,e){if(!this.preFormatted)throw new c.Vex.RERR("UnformattedNote","Can't call GetModifierStartXY on an unformatted note");if(0===this.ys.length)throw new c.Vex.RERR("NoYValues","No Y-Values calculated for this note.");var n=0;if(t===f.Modifier.Position.LEFT)n=-2;else if(t===f.Modifier.Position.RIGHT)n=this.width+2;else if(t===f.Modifier.Position.BELOW||t===f.Modifier.Position.ABOVE){var i=this.glyph.getWidth();n=i/2}return{x:this.getAbsoluteX()+n,y:this.ys[e]}}},{key:"getLineForRest",value:function(){return this.positions[0].str}},{key:"preFormat",value:function(){this.preFormatted||(this.modifierContext&&this.modifierContext.preFormat(),this.setPreFormatted(!0))}},{key:"getStemX",value:function(){return this.getCenterGlyphX()}},{key:"getStemY",value:function(){var t=this.stave.getNumLines(),e=-.5,n=t-.5,i=p.Stem.UP===this.stem_direction?e:n;return this.stave.getYForLine(i)}},{key:"getStemExtents",value:function(){return this.stem.getExtents()}},{key:"drawFlag",value:function(){var t=this.beam,e=this.glyph,n=this.context,i=this.stem,r=this.stem_direction,o=this.render_options,s=o.draw_stem,a=o.glyph_font_scale,u=null==t&&s;if(e.flag&&u){var l=this.getStemX()+1,c=this.getStemY()-i.getHeight(),h=r===p.Stem.DOWN?e.code_flag_downstem:e.code_flag_upstem;m.Glyph.renderGlyph(n,l,c,a,h)}}},{key:"drawModifiers",value:function(){var t=this;this.modifiers.forEach(function(e){("dots"!==e.getCategory()||t.render_options.draw_dots)&&(e.setContext(t.context),e.draw())})}},{key:"drawStemThrough",value:function(){var t=this.getStemX(),e=this.getStemY(),n=this.context,i=this.render_options.draw_stem_through_stave,r=this.render_options.draw_stem;if(r&&i){var o=this.stave.getNumLines(),u=this.positions.map(function(t){return t.str}),l=s(o,u),c=a(e,l,this.getStave(),this.getStemDirection());n.save(),n.setLineWidth(p.Stem.WIDTH),c.forEach(function(e){0!==e.length&&(n.beginPath(),n.moveTo(t,e[0]),n.lineTo(t,e[e.length-1]),n.stroke(),n.closePath())}),n.restore()}}},{key:"drawPositions",value:function(){for(var t=this.context,e=this.getAbsoluteX(),n=this.ys,i=0;i<this.positions.length;++i){
var r=n[i]+this.render_options.y_shift,o=this.glyphs[i],s=this.glyph.getWidth(),a=e+s/2-o.getWidth()/2;if(t.clearRect(a-2,r-3,o.getWidth()+4,6),o.code)m.Glyph.renderGlyph(t,a,r,this.render_options.glyph_font_scale*this.render_options.scale,o.code);else{t.save(),t.setRawFont(this.render_options.font);var u=o.text.toString();t.fillText(u,a,r+5*this.render_options.scale),t.restore()}}}},{key:"draw",value:function(){if(this.checkContext(),!this.stave)throw new c.Vex.RERR("NoStave","Can't draw without a stave.");if(0===this.ys.length)throw new c.Vex.RERR("NoYValues","Can't draw note without Y values.");this.setRendered();var t=null==this.beam&&this.render_options.draw_stem;this.drawPositions(),this.drawStemThrough();var e=this.getStemX();this.stem.setNoteHeadXBounds(e,e),t&&(this.context.openGroup("stem",null,{pointerBBox:!0}),this.stem.setContext(this.context).draw(),this.context.closeGroup()),this.drawFlag(),this.drawModifiers()}}]),e}(d.StemmableNote)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h.DEBUG&&u.Vex.L("Vex.Flow.VibratoBracket",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VibratoBracket=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(5),c=n(42),h=e.VibratoBracket=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","VibratoBracket"),n.start=t.start,n.stop=t.stop,n.line=1,n.render_options={harsh:!1,wave_height:6,wave_width:4,wave_girth:2},n}return o(e,t),a(e,[{key:"setLine",value:function(t){return this.line=t,this}},{key:"setHarsh",value:function(t){return this.render_options.harsh=t,this}},{key:"draw",value:function(){var t=this.context;this.setRendered();var e=this.start?this.start.getStave().getYForTopText(this.line):this.stop.getStave().getYForTopText(this.line),n=this.start?this.start.getAbsoluteX():this.stop.getStave().getTieStartX(),i=this.stop?this.stop.getAbsoluteX()-this.stop.getWidth()-5:this.start.getStave().getTieEndX()-10;this.render_options.vibrato_width=i-n,s("Rendering VibratoBracket: start_x:",n,"stop_x:",i,"y:",e),c.Vibrato.renderVibrato(t,n,e,this.render_options)}}]),e}(l.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ClefNote=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(8),l=n(22),c=n(51),h=n(4);e.ClefNote=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this,{duration:"b"}));return s.setAttribute("type","ClefNote"),s.setType(t,n,o),s.ignore_ticks=!0,s}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"clefnote"}}]),s(e,[{key:"setType",value:function(t,e,n){return this.type=t,this.clef_obj=new c.Clef(t,e,n),this.clef=this.clef_obj.clef,this.glyph=new h.Glyph(this.clef.code,this.clef.point),this.setWidth(this.glyph.getMetrics().width),this}},{key:"getClef",value:function(){return this.clef}},{key:"setContext",value:function(t){return this.context=t,this.glyph.setContext(this.context),this}},{key:"getBoundingBox",value:function(){return new u.BoundingBox(0,0,0,0)}},{key:"addToModifierContext",value:function(){return this}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){if(!this.stave)throw new a.Vex.RERR("NoStave","Can't draw without a stave.");this.glyph.getContext()||this.glyph.setContext(this.context),this.setRendered();var t=this.getAbsoluteX();if(this.glyph.setStave(this.stave),this.glyph.setYShift(this.stave.getYForLine(this.clef.line)-this.stave.getYForGlyphs()),this.glyph.renderToStave(t),void 0!==this.clef_obj.annotation){var e=new h.Glyph(this.clef_obj.annotation.code,this.clef_obj.annotation.point);e.getContext()||e.setContext(this.context),e.setStave(this.stave),e.setYShift(this.stave.getYForLine(this.clef_obj.annotation.line)-this.stave.getYForGlyphs()),e.setXShift(this.clef_obj.annotation.x_shift),e.renderToStave(t)}}}]),e}(l.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TimeSigNote=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(8),u=n(22),l=n(53);e.TimeSigNote=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this,{duration:"b"}));o.setAttribute("type","TimeSigNote");var s=new l.TimeSignature(t,n);return o.timeSig=s.getTimeSig(),o.setWidth(o.timeSig.glyph.getMetrics().width),o.ignore_ticks=!0,o}return o(e,t),s(e,[{key:"getBoundingBox",value:function(){return new a.BoundingBox(0,0,0,0)}},{key:"addToModifierContext",value:function(){return this}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){this.stave.checkContext(),this.setRendered(),this.timeSig.glyph.getContext()||this.timeSig.glyph.setContext(this.context),this.timeSig.glyph.setStave(this.stave),this.timeSig.glyph.setYShift(this.stave.getYForLine(this.timeSig.line)-this.stave.getYForGlyphs()),this.timeSig.glyph.renderToStave(this.getAbsoluteX())}}]),e}(u.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TabSlide=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(34);e.TabSlide=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this,t,"sl."));if(o.setAttribute("type","TabSlide"),!n){var s=t.first_note.getPositions()[0].fret,a=t.last_note.getPositions()[0].fret;n=parseInt(s,10)>parseInt(a,10)?e.SLIDE_DOWN:e.SLIDE_UP}return o.slide_direction=n,o.render_options.cp1=11,o.render_options.cp2=14,o.render_options.y_shift=.5,o.setFont({font:"Times",size:10,style:"bold italic"}),o.setNotes(t),o}return o(e,t),s(e,null,[{key:"createSlideUp",value:function(t){return new e(t,e.SLIDE_UP)}},{key:"createSlideDown",value:function(t){return new e(t,e.SLIDE_DOWN)}},{key:"SLIDE_UP",get:function(){return 1}},{key:"SLIDE_DOWN",get:function(){return-1}}]),s(e,[{key:"renderTie",value:function(t){if(0===t.first_ys.length||0===t.last_ys.length)throw new a.Vex.RERR("BadArguments","No Y-values to render");var n=this.context,i=t.first_x_px,r=t.first_ys,o=t.last_x_px,s=this.slide_direction;if(s!==e.SLIDE_UP&&s!==e.SLIDE_DOWN)throw new a.Vex.RERR("BadSlide","Invalid slide direction");for(var u=0;u<this.first_indices.length;++u){var l=r[this.first_indices[u]]+this.render_options.y_shift;if(isNaN(l))throw new a.Vex.RERR("BadArguments","Bad indices for slide rendering.");n.beginPath(),n.moveTo(i,l+3*s),n.lineTo(o,l-3*s),n.closePath(),n.stroke()}this.setRendered()}}]),e}(u.TabTie)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GraceNote=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(20),c=n(2);e.GraceNote=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,s(t,{glyph_font_scale:c.Flow.DEFAULT_NOTATION_FONT_SCALE*e.SCALE,stroke_px:e.LEDGER_LINE_OFFSET})));return n.setAttribute("type","GraceNote"),n.slash=t.slash,n.slur=!0,n.buildNoteHeads(),n.width=3,n}return o(e,t),u(e,null,[{key:"CATEGORY",get:function(){return"gracenotes"}},{key:"LEDGER_LINE_OFFSET",get:function(){return 2}},{key:"SCALE",get:function(){return.66}}]),u(e,[{key:"getStemExtension",value:function(){var t=this.getGlyph();return null!=this.stem_extension_override?this.stem_extension_override:t?1===this.getStemDirection()?t.gracenote_stem_up_extension:t.gracenote_stem_down_extension:0}},{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){a(Object.getPrototypeOf(e.prototype),"draw",this).call(this),this.setRendered();var t=this.context,n=this.getStemDirection();if(this.slash){t.beginPath();var i=this.getAbsoluteX(),r=this.getYs()[0]-this.stem.getHeight()/2.8;1===n?(i+=1,t.moveTo(i,r),t.lineTo(i+13,r-9)):n===-1&&(i-=4,r+=1,t.moveTo(i,r),t.lineTo(i+13,r+9)),t.closePath(),t.stroke()}}}]),e}(l.StaveNote)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GraceTabNote=void 0;var s=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(56);e.GraceTabNote=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t,!1));return n.setAttribute("type","GraceTabNote"),u.Vex.Merge(n.render_options,{y_shift:.3,scale:.6,font:"7.5pt Arial"}),n.updateWidth(),n}return o(e,t),a(e,null,[{key:"CATEGORY",get:function(){return"gracetabnotes"}}]),a(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){s(Object.getPrototypeOf(e.prototype),"draw",this).call(this),this.setRendered()}}]),e}(l.TabNote)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Tuning=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(2);e.Tuning=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?"E/5,B/4,G/4,D/4,A/3,E/3,B/2,E/2":arguments[0];i(this,t),this.setTuning(e)}return r(t,null,[{key:"names",get:function(){return{standard:"E/5,B/4,G/4,D/4,A/3,E/3",dagdad:"D/5,A/4,G/4,D/4,A/3,D/3",dropd:"E/5,B/4,G/4,D/4,A/3,D/3",eb:"Eb/5,Bb/4,Gb/4,Db/4,Ab/3,Db/3",standardBanjo:"D/5,B/4,G/4,D/4,G/5"}}}]),r(t,[{key:"noteToInteger",value:function(t){return s.Flow.keyProperties(t).int_value}},{key:"setTuning",value:function(e){t.names[e]&&(e=t.names[e]),this.tuningString=e,this.tuningValues=[],this.numStrings=0;var n=e.split(/\s*,\s*/);if(0===n.length)throw new o.Vex.RERR("BadArguments","Invalid tuning string: "+e);this.numStrings=n.length;for(var i=0;i<this.numStrings;++i)this.tuningValues[i]=this.noteToInteger(n[i])}},{key:"getValueForString",value:function(t){var e=parseInt(t,10);if(e<1||e>this.numStrings)throw new o.Vex.RERR("BadArguments","String number must be between 1 and "+this.numStrings+":"+t);return this.tuningValues[e-1]}},{key:"getValueForFret",value:function(t,e){var n=this.getValueForString(e),i=parseInt(t,10);if(i<0)throw new o.Vex.RERR("BadArguments","Fret number must be 0 or higher: "+t);return n+i}},{key:"getNoteForFret",value:function(t,e){var n=this.getValueForFret(t,e),i=Math.floor(n/12),r=n%12;return s.Flow.integerToNote(r)+"/"+i}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.KeyManager=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=n(30);e.KeyManager=function(){function t(e){i(this,t),this.music=new s.Music,this.setKey(e)}return r(t,[{key:"setKey",value:function(t){return this.key=t,this.reset(),this}},{key:"getKey",value:function(){return this.key}},{key:"reset",value:function(){this.keyParts=this.music.getKeyParts(this.key),this.keyString=this.keyParts.root,this.keyParts.accidental&&(this.keyString+=this.keyParts.accidental);var t=s.Music.scaleTypes[this.keyParts.type];if(!t)throw new o.Vex.RERR("BadArguments","Unsupported key type: "+this.key);this.scale=this.music.getScaleTones(this.music.getNoteValue(this.keyString),s.Music.scaleTypes[this.keyParts.type]),this.scaleMap={},this.scaleMapByValue={},this.originalScaleMapByValue={};for(var e=s.Music.root_indices[this.keyParts.root],n=0;n<s.Music.roots.length;++n){var i=(e+n)%s.Music.roots.length,r=s.Music.roots[i],a=this.music.getRelativeNoteName(r,this.scale[n]);this.scaleMap[r]=a,this.scaleMapByValue[this.scale[n]]=a,this.originalScaleMapByValue[this.scale[n]]=a}return this}},{key:"getAccidental",value:function(t){var e=this.music.getKeyParts(t).root,n=this.music.getNoteParts(this.scaleMap[e]);return{note:this.scaleMap[e],accidental:n.accidental}}},{key:"selectNote",value:function(t){t=t.toLowerCase();var e=this.music.getNoteParts(t),n=this.scaleMap[e.root],i=this.music.getNoteParts(n);if(n===t)return{note:n,accidental:e.accidental,change:!1};var r=this.scaleMapByValue[this.music.getNoteValue(t)];if(null!=r)return{note:r,accidental:this.music.getNoteParts(r).accidental,change:!1};var o=this.originalScaleMapByValue[this.music.getNoteValue(t)];return null!=o?(this.scaleMap[i.root]=o,delete this.scaleMapByValue[this.music.getNoteValue(n)],this.scaleMapByValue[this.music.getNoteValue(t)]=o,{note:o,accidental:this.music.getNoteParts(o).accidental,change:!0}):i.root===t?(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(i.root)]=i.root,this.scaleMap[i.root]=i.root,{note:i.root,accidental:null,change:!0}):(delete this.scaleMapByValue[this.music.getNoteValue(this.scaleMap[e.root])],this.scaleMapByValue[this.music.getNoteValue(t)]=t,delete this.scaleMap[i.root],this.scaleMap[i.root]=t,{note:t,accidental:e.accidental,change:!0})}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveHairpin=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5),l=n(25);e.StaveHairpin=function(t){function e(t,n){i(this,e);var o=r(this,Object.getPrototypeOf(e).call(this));return o.setAttribute("type","StaveHairpin"),o.notes=t,o.hairpin=n,o.position=l.Modifier.Position.BELOW,o.render_options={height:10,y_shift:0,left_shift_px:0,right_shift_px:0},o.setNotes(t),o}return o(e,t),s(e,null,[{key:"FormatByTicksAndDraw",value:function(t,n,i,r,o,s){var u=n.pixelsPerTick;if(null==u)throw new a.Vex.RuntimeError("BadArguments","A valid Formatter must be provide to draw offsets by ticks.");var l=u*s.left_shift_ticks,c=u*s.right_shift_ticks,h={height:s.height,y_shift:s.y_shift,left_shift_px:l,right_shift_px:c};new e({first_note:i.first_note,last_note:i.last_note},r).setContext(t).setRenderOptions(h).setPosition(o).draw()}},{key:"type",get:function(){return{CRESC:1,DECRESC:2}}}]),s(e,[{key:"setPosition",value:function(t){return t!==l.Modifier.Position.ABOVE&&t!==l.Modifier.Position.BELOW||(this.position=t),this}},{key:"setRenderOptions",value:function(t){return null!=t.height&&null!=t.y_shift&&null!=t.left_shift_px&&null!=t.right_shift_px&&(this.render_options=t),this}},{key:"setNotes",value:function(t){if(!t.first_note&&!t.last_note)throw new a.Vex.RuntimeError("BadArguments","Hairpin needs to have either first_note or last_note set.");return this.first_note=t.first_note,this.last_note=t.last_note,this}},{key:"renderHairpin",value:function(t){var n=this.checkContext(),i=this.render_options.y_shift+20,r=t.first_y;this.position===l.Modifier.Position.ABOVE&&(i=-i+30,r=t.first_y-t.staff_height);var o=this.render_options.left_shift_px,s=this.render_options.right_shift_px;switch(n.beginPath(),this.hairpin){case e.type.CRESC:n.moveTo(t.last_x+s,r+i),n.lineTo(t.first_x+o,r+this.render_options.height/2+i),n.lineTo(t.last_x+s,r+this.render_options.height+i);break;case e.type.DECRESC:n.moveTo(t.first_x+o,r+i),n.lineTo(t.last_x+s,r+this.render_options.height/2+i),n.lineTo(t.first_x+o,r+this.render_options.height+i)}n.stroke(),n.closePath()}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.first_note,e=this.last_note,n=t.getModifierStartXY(this.position,0),i=e.getModifierStartXY(this.position,0);return this.renderHairpin({first_x:n.x,last_x:i.x,first_y:t.getStave().y+t.getStave().height,last_y:e.getStave().y+e.getStave().height,staff_height:t.getStave().height}),!0}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Curve=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(5);e.Curve=function(t){function e(t,n,o){i(this,e);var s=r(this,Object.getPrototypeOf(e).call(this));return s.setAttribute("type","Curve"),s.render_options={spacing:2,thickness:2,x_shift:0,y_shift:10,position:e.Position.NEAR_HEAD,position_end:e.Position.NEAR_HEAD,invert:!1,cps:[{x:0,y:10},{x:0,y:10}]},a.Vex.Merge(s.render_options,o),s.setNotes(t,n),s}return o(e,t),s(e,null,[{key:"Position",get:function(){return{NEAR_HEAD:1,NEAR_TOP:2}}},{key:"PositionString",get:function(){return{nearHead:e.Position.NEAR_HEAD,nearTop:e.Position.NEAR_TOP}}}]),s(e,[{key:"setNotes",value:function(t,e){if(!t&&!e)throw new a.Vex.RuntimeError("BadArguments","Curve needs to have either first_note or last_note set.");return this.from=t,this.to=e,this}},{key:"isPartial",value:function(){return!this.from||!this.to}},{key:"renderCurve",value:function(t){var e=this.context,n=this.render_options.cps,i=this.render_options.x_shift,r=this.render_options.y_shift*t.direction,o=t.first_x+i,s=t.first_y+r,a=t.last_x-i,u=t.last_y+r,l=this.render_options.thickness,c=(a-o)/(n.length+2);e.beginPath(),e.moveTo(o,s),e.bezierCurveTo(o+c+n[0].x,s+n[0].y*t.direction,a-c+n[1].x,u+n[1].y*t.direction,a,u),e.bezierCurveTo(a-c+n[1].x,u+(n[1].y+l)*t.direction,o+c+n[0].x,s+(n[0].y+l)*t.direction,o,s),e.stroke(),e.closePath(),e.fill()}},{key:"draw",value:function(){function t(t){return"string"==typeof t?e.PositionString[t]:t}this.checkContext(),this.setRendered();var n=this.from,i=this.to,r=void 0,o=void 0,s=void 0,a=void 0,u=void 0,l="baseY",c="baseY",h=t(this.render_options.position),f=t(this.render_options.position_end);return h===e.Position.NEAR_TOP&&(l="topY",c="topY"),f===e.Position.NEAR_HEAD?c="baseY":f===e.Position.NEAR_TOP&&(c="topY"),n?(r=n.getTieRightX(),u=n.getStemDirection(),s=n.getStemExtents()[l]):(r=i.getStave().getTieStartX(),s=i.getStemExtents()[l]),i?(o=i.getTieLeftX(),u=i.getStemDirection(),a=i.getStemExtents()[c]):(o=n.getStave().getTieEndX(),a=n.getStemExtents()[c]),this.renderCurve({first_x:r,last_x:o,first_y:s,last_y:a,direction:u*(this.render_options.invert===!0?-1:1)}),!0}}]),e}(u.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h.DEBUG&&u.Vex.L("Vex.Flow.TextDynamics",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextDynamics=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(22),c=n(4),h=e.TextDynamics=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));return n.setAttribute("type","TextDynamics"),n.sequence=t.text.toLowerCase(),n.line=t.line||0,n.glyphs=[],u.Vex.Merge(n.render_options,{glyph_font_size:40}),s("New Dynamics Text: ",n.sequence),n}return o(e,t),a(e,null,[{key:"GLYPHS",get:function(){return{f:{code:"vba",width:12},p:{code:"vbf",width:14},m:{code:"v62",width:17},s:{code:"v4a",width:10},z:{code:"v80",width:12},r:{code:"vb1",width:12}}}}]),a(e,[{key:"setLine",value:function(t){return this.line=t,this}},{key:"preFormat",value:function(){var t=this,n=0;return this.sequence.split("").forEach(function(i){var r=e.GLYPHS[i];if(!r)throw new u.Vex.RERR("Invalid dynamics character: "+i);var o=t.render_options.glyph_font_size,s=new c.Glyph(r.code,o);t.glyphs.push(s),n+=r.width}),this.setWidth(n),this.preFormatted=!0,this}},{key:"draw",value:function(){var t=this;this.setRendered();var n=this.getAbsoluteX(),i=this.stave.getYForLine(this.line+-3);s("Rendering Dynamics: ",this.sequence);var r=n;this.glyphs.forEach(function(n,o){var s=t.sequence[o];n.render(t.context,r,i),r+=e.GLYPHS[s].width})}}]),e}(l.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n,i,r,o,s){t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.lineTo(o,s),t.lineTo(e,n),t.closePath(),t.fill()}function a(t,e,n,i){var r=i.draw_start_arrow&&i.draw_end_arrow,o=e.x,a=e.y,u=n.x,l=n.y,c=Math.sqrt((u-o)*(u-o)+(l-a)*(l-a)),h=(c-i.arrowhead_length/3)/c,f=void 0,p=void 0,d=void 0,b=void 0;i.draw_end_arrow||r?(f=Math.round(o+(u-o)*h),p=Math.round(a+(l-a)*h)):(f=u,p=l),i.draw_start_arrow||r?(d=o+(u-o)*(1-h),b=a+(l-a)*(1-h)):(d=o,b=a),i.color&&(t.setStrokeStyle(i.color),t.setFillStyle(i.color)),t.beginPath(),t.moveTo(d,b),t.lineTo(f,p),t.stroke(),t.closePath();var m=Math.atan2(l-a,u-o),y=Math.abs(i.arrowhead_length/Math.cos(i.arrowhead_angle)),v=void 0,g=void 0,_=void 0,x=void 0,w=void 0,S=void 0;(i.draw_end_arrow||r)&&(v=m+Math.PI+i.arrowhead_angle,_=u+Math.cos(v)*y,x=l+Math.sin(v)*y,g=m+Math.PI-i.arrowhead_angle,w=u+Math.cos(g)*y,S=l+Math.sin(g)*y,s(t,_,x,u,l,w,S)),(i.draw_start_arrow||r)&&(v=m+i.arrowhead_angle,_=o+Math.cos(v)*y,x=a+Math.sin(v)*y,g=m-i.arrowhead_angle,w=o+Math.cos(g)*y,S=a+Math.sin(g)*y,s(t,_,x,o,a,w,S))}Object.defineProperty(e,"__esModule",{value:!0}),e.StaveLine=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=n(5),h=n(2);e.StaveLine=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","StaveLine"),n.notes=t,n.text="",n.font={family:"Arial",size:10,weight:""},n.render_options={padding_left:4,padding_right:3,line_width:1,line_dash:null,rounded_end:!0,color:null,draw_start_arrow:!1,draw_end_arrow:!1,arrowhead_length:10,arrowhead_angle:Math.PI/8,text_position_vertical:e.TextVerticalPosition.TOP,text_justification:e.TextJustification.CENTER},n.setNotes(t),n}return o(e,t),u(e,null,[{key:"TextVerticalPosition",get:function(){return{TOP:1,BOTTOM:2}}},{key:"TextJustification",get:function(){return{LEFT:1,CENTER:2,RIGHT:3}}}]),u(e,[{key:"setFont",value:function(t){return this.font=t,this}},{key:"setText",value:function(t){return this.text=t,this}},{key:"setNotes",value:function(t){if(!t.first_note&&!t.last_note)throw new l.Vex.RuntimeError("BadArguments","Notes needs to have either first_note or last_note set.");if(t.first_indices||(t.first_indices=[0]),t.last_indices||(t.last_indices=[0]),t.first_indices.length!==t.last_indices.length)throw new l.Vex.RuntimeError("BadArguments","Connected notes must have similar index sizes");return this.first_note=t.first_note,this.first_indices=t.first_indices,this.last_note=t.last_note,this.last_indices=t.last_indices,this}},{key:"applyLineStyle",value:function(){var t=this.checkContext(),e=this.render_options;e.line_dash&&t.setLineDash(e.line_dash),e.line_width&&t.setLineWidth(e.line_width),e.rounded_end?t.setLineCap("round"):t.setLineCap("square")}},{key:"applyFontStyle",value:function(){var t=this.checkContext();this.font&&t.setFont(this.font.family,this.font.size,this.font.weight),this.render_options.color&&(t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color))}},{key:"draw",value:function(){var t=this,n=this.checkContext();this.setRendered();var i=this.first_note,r=this.last_note,o=this.render_options;n.save(),this.applyLineStyle();var s=void 0,u=void 0;this.first_indices.forEach(function(e,l){var c=t.last_indices[l];s=i.getModifierStartXY(2,e),u=r.getModifierStartXY(1,c);var h=s.y>u.y;s.x+=i.getMetrics().modRightPx+o.padding_left,u.x-=r.getMetrics().modLeftPx+o.padding_right;var f=i.getGlyph().getWidth(),p=i.getKeyProps()[e].displaced;p&&1===i.getStemDirection()&&(s.x+=f+o.padding_left);var d=r.getKeyProps()[c].displaced;d&&r.getStemDirection()===-1&&(u.x-=f+o.padding_right),s.y+=h?-3:1,u.y+=h?2:0,a(n,s,u,t.render_options)}),n.restore();var l=n.measureText(this.text).width,c=o.text_justification,f=0;if(c===e.TextJustification.LEFT)f=s.x;else if(c===e.TextJustification.CENTER){var p=u.x-s.x,d=p/2+s.x;f=d-l/2}else c===e.TextJustification.RIGHT&&(f=u.x-l);var b=void 0,m=o.text_position_vertical;return m===e.TextVerticalPosition.TOP?b=i.getStave().getYForTopText():m===e.TextVerticalPosition.BOTTOM&&(b=i.getStave().getYForBottomText(h.Flow.TEXT_HEIGHT_OFFSET_HACK)),n.save(),this.applyFontStyle(),n.fillText(this.text,f,b),n.restore(),this}}]),e}(c.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.DEBUG&&l.Vex.L("Vex.Flow.PedalMarking",e)}function a(t,e,n,i,r){var o=f.GLYPHS[t],s=new h.Glyph(o.code,r);s.render(e,n+o.x_shift,i+o.y_shift)}Object.defineProperty(e,"__esModule",{value:!0}),e.PedalMarking=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=n(5),h=n(4),f=e.PedalMarking=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","PedalMarking"),n.notes=t,n.style=e.TEXT,n.line=0,n.custom_depress_text="",n.custom_release_text="",n.font={family:"Times New Roman",size:12,weight:"italic bold"},n.render_options={bracket_height:10,text_margin_right:6,bracket_line_width:1,glyph_point_size:40,color:"black"},n}return o(e,t),u(e,null,[{key:"createSustain",value:function(t){var n=new e(t);return n}},{key:"createSostenuto",value:function(t){var n=new e(t);return n.setStyle(e.Styles.MIXED),n.setCustomText("Sost. Ped."),n}},{key:"createUnaCorda",value:function(t){var n=new e(t);return n.setStyle(e.Styles.TEXT),n.setCustomText("una corda","tre corda"),n}},{key:"GLYPHS",get:function(){return{pedal_depress:{code:"v36",x_shift:-10,y_shift:0},pedal_release:{code:"v5d",x_shift:-2,y_shift:3}}}},{key:"Styles",get:function(){return{TEXT:1,BRACKET:2,MIXED:3}}}]),u(e,[{key:"setCustomText",value:function(t,e){return this.custom_depress_text=t||"",this.custom_release_text=e||"",this}},{key:"setStyle",value:function(t){if(t<1&&t>3)throw new l.Vex.RERR("InvalidParameter","The style must be one found in PedalMarking.Styles");return this.style=t,this}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"drawBracketed",value:function(){var t=this.context,n=!1,i=void 0,r=void 0,o=this;this.notes.forEach(function(s,u,c){n=!n;var h=s.getAbsoluteX(),f=s.getStave().getYForBottomText(o.line+3);if(h<i)throw new l.Vex.RERR("InvalidConfiguration","The notes provided must be in order of ascending x positions");var p=c[u+1]===s,d=c[u-1]===s,b=0;if(n)if(b=d?5:0,o.style!==e.Styles.MIXED||d)t.beginPath(),t.moveTo(h,f-o.render_options.bracket_height),t.lineTo(h+b,f),t.stroke(),t.closePath();else if(o.custom_depress_text){var m=t.measureText(o.custom_depress_text).width;t.fillText(o.custom_depress_text,h-m/2,f),b=m/2+o.render_options.text_margin_right}else a("pedal_depress",t,h,f,o.render_options.glyph_point_size),b=20+o.render_options.text_margin_right;else b=p?-5:0,t.beginPath(),t.moveTo(i,r),t.lineTo(h+b,f),t.lineTo(h,f-o.render_options.bracket_height),t.stroke(),t.closePath();i=h+b,r=f})}},{key:"drawText",value:function(){var t=this.context,e=!1,n=this,i=n.render_options.glyph_point_size;this.notes.forEach(function(r){e=!e;var o=r.getStave(),s=r.getAbsoluteX(),u=o.getYForBottomText(n.line+3),l=0;e?n.custom_depress_text?(l=t.measureText(n.custom_depress_text).width,t.fillText(n.custom_depress_text,s-l/2,u)):a("pedal_depress",t,s,u,i):n.custom_release_text?(l=t.measureText(n.custom_release_text).width,t.fillText(n.custom_release_text,s-l/2,u)):a("pedal_release",t,s,u,i)})}},{key:"draw",value:function(){var t=this.checkContext();this.setRendered(),t.save(),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setFont(this.font.family,this.font.size,this.font.weight),s("Rendering Pedal Marking"),this.style===e.Styles.BRACKET||this.style===e.Styles.MIXED?(t.setLineWidth(this.render_options.bracket_line_width),this.drawBracketed()):this.style===e.Styles.TEXT&&this.drawText(),t.restore()}}]),e}(c.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.DEBUG&&u.Vex.L("Vex.Flow.TextBracket",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.TextBracket=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(2),c=n(5),h=n(10),f=e.TextBracket=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","TextBracket"),n.start=t.start,n.stop=t.stop,n.text=t.text||"",n.superscript=t.superscript||"",n.position=t.position||e.Positions.TOP,n.line=1,n.font={family:"Serif",size:15,weight:"italic"},n.render_options={dashed:!0,dash:[5],color:"black",line_width:1,show_bracket:!0,bracket_height:8,underline_superscript:!0},n}return o(e,t),a(e,null,[{key:"Positions",get:function(){return{TOP:1,BOTTOM:-1}}}]),a(e,[{key:"applyStyle",value:function(t){return t.setFont(this.font.family,this.font.size,this.font.weight),t.setStrokeStyle(this.render_options.color),t.setFillStyle(this.render_options.color),t.setLineWidth(this.render_options.line_width),this}},{key:"setDashed",value:function(t,e){return this.render_options.dashed=t,e&&(this.render_options.dash=e),this}},{key:"setFont",value:function(t){return this.font=t,this}},{key:"setLine",value:function(t){return this.line=t,this}},{key:"draw",value:function(){var t=this.context;this.setRendered();var n=0;switch(this.position){case e.Positions.TOP:n=this.start.getStave().getYForTopText(this.line);break;case e.Positions.BOTTOM:n=this.start.getStave().getYForBottomText(this.line+l.Flow.TEXT_HEIGHT_OFFSET_HACK);break;default:throw new u.Vex.RERR("InvalidPosition","The position "+this.position+" is invalid")}var i={x:this.start.getAbsoluteX(),y:n},r={x:this.stop.getAbsoluteX(),y:n};s("Rendering TextBracket: start:",i,"stop:",r,"y:",n);var o=this.render_options.bracket_height*this.position;t.save(),this.applyStyle(t),t.fillText(this.text,i.x,i.y);var a=t.measureText(this.text).width,c=t.measureText("M").width,f=i.y-c/2.5;t.setFont(this.font.family,this.font.size/1.4,this.font.weight),t.fillText(this.superscript,i.x+a+1,f);var p=t.measureText(this.superscript).width,d=t.measureText("M").width,b=i.x,m=f,y=r.x+this.stop.getGlyph().getWidth();this.position===e.Positions.TOP?(b+=a+p+5,m-=d/2.7):this.position===e.Positions.BOTTOM&&(m+=d/2.7,b+=a+2,this.render_options.underline_superscript||(b+=p)),this.render_options.dashed?(h.Renderer.drawDashedLine(t,b,m,y,m,this.render_options.dash),this.render_options.show_bracket&&h.Renderer.drawDashedLine(t,y,m+1*this.position,y,m+o,this.render_options.dash)):(t.beginPath(),t.moveTo(b,m),t.lineTo(y,m),this.render_options.show_bracket&&t.lineTo(y,m+o),t.stroke(),t.closePath()),t.restore()}}]),e}(c.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.DEBUG&&u.Vex.L("Vex.Flow.BarNote",e)}Object.defineProperty(e,"__esModule",{value:!0}),e.BarNote=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(1),l=n(22),c=n(44),h=n(8),f=e.BarNote=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,{duration:"b"}));n.setAttribute("type","BarNote");var o=c.Barline.type;return n.metrics={widths:{}},n.metrics.widths[o.SINGLE]=8,n.metrics.widths[o.DOUBLE]=12,n.metrics.widths[o.END]=15,n.metrics.widths[o.REPEAT_BEGIN]=14,n.metrics.widths[o.REPEAT_END]=14,n.metrics.widths[o.REPEAT_BOTH]=18,n.metrics.widths[o.NONE]=0,n.ignore_ticks=!0,n.type=void 0===t?o.SINGLE:t,n.setWidth(n.metrics.widths[n.type]),n}return o(e,t),a(e,[{key:"getType",value:function(){return this.type}},{key:"setType",value:function(t){return this.type=t,this.setWidth(this.metrics.widths[this.type]),this}},{key:"getBoundingBox",value:function(){return new h.BoundingBox(0,0,0,0)}},{key:"addToModifierContext",value:function(){return this}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){if(this.checkContext(),!this.stave)throw new u.Vex.RERR("NoStave","Can't draw without a stave.");s("Rendering bar line at: ",this.getAbsoluteX());var t=new c.Barline(this.type);t.setX(this.getAbsoluteX()),t.draw(this.stave),this.setRendered()}}]),e}(l.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.GhostNote=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},l=n(1),c=n(24);e.GhostNote=function(t){function e(t){if(i(this,e),!t)throw new l.Vex.RuntimeError("BadArguments","Ghost note must have valid initialization data to identify duration.");var n=void 0;if("string"==typeof t)n={duration:t};else{if("object"!==("undefined"==typeof t?"undefined":s(t)))throw new l.Vex.RuntimeError("BadArguments","Ghost note must have valid initialization data to identify duration.");n=t}var o=r(this,Object.getPrototypeOf(e).call(this,n));return o.setAttribute("type","GhostNote"),o.setWidth(0),o}return o(e,t),a(e,[{key:"isRest",value:function(){return!0}},{key:"setStave",value:function(t){u(Object.getPrototypeOf(e.prototype),"setStave",this).call(this,t)}},{key:"addToModifierContext",value:function(){return this}},{key:"preFormat",value:function(){return this.setPreFormatted(!0),this}},{key:"draw",value:function(){if(!this.stave)throw new l.Vex.RERR("NoStave","Can't draw without a stave.");this.setRendered();for(var t=0;t<this.modifiers.length;++t){var e=this.modifiers[t];e.setContext(this.context),e.draw()}}}]),e}(c.StemmableNote)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Tremolo=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=n(25),l=n(4);e.Tremolo=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","Tremolo"),n.num=t,n.note=null,n.index=null,n.position=u.Modifier.Position.CENTER,n.code="v74",n.shift_right=-2,n.y_spacing=4,n.render_options={font_scale:35,stroke_px:3,stroke_spacing:10},n.font={family:"Arial",size:16,weight:""},n}return o(e,t),s(e,null,[{key:"CATEGORY",get:function(){return"tremolo"}}]),s(e,[{key:"getCategory",value:function(){return e.CATEGORY}},{key:"draw",value:function(){if(this.checkContext(),!this.note||null==this.index)throw new a.Vex.RERR("NoAttachedNote","Can't draw Tremolo without a note and index.");this.setRendered();var t=this.note.getModifierStartXY(this.position,this.index),e=t.x,n=t.y;e+=this.shift_right;for(var i=0;i<this.num;++i)l.Glyph.renderGlyph(this.context,e,n,this.render_options.font_scale,this.code),n+=this.y_spacing}}]),e}(u.Modifier)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];f.DEBUG&&l.Vex.L("Vex.Flow.Crescendo",e)}function a(t,e){var n=e.begin_x,i=e.end_x,r=e.y,o=e.height/2;t.beginPath(),e.reverse?(t.moveTo(n,r-o),t.lineTo(i,r),t.lineTo(n,r+o)):(t.moveTo(i,r-o),t.lineTo(n,r),t.lineTo(i,r+o)),t.stroke(),t.closePath()}Object.defineProperty(e,"__esModule",{value:!0}),e.Crescendo=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),c=n(22),h=n(39),f=e.Crescendo=function(t){function e(t){i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this,t));return n.setAttribute("type","Crescendo"),n.decrescendo=!1,n.line=t.line||0,n.height=15,l.Vex.Merge(n.render_options,{extend_left:0,extend_right:0,y_shift:0}),n}return o(e,t),u(e,[{key:"setLine",value:function(t){return this.line=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setDecrescendo",value:function(t){return this.decrescendo=t,this}},{key:"preFormat",value:function(){return this.preFormatted=!0,this}},{key:"draw",value:function(){this.checkContext(),this.setRendered();var t=this.getTickContext(),e=h.TickContext.getNextContext(t),n=this.getAbsoluteX(),i=e?e.getX():this.stave.x+this.stave.width,r=this.stave.getYForLine(this.line+-3)+1;s("Drawing ",this.decrescendo?"decrescendo ":"crescendo ",this.height,"x",n-i),a(this.context,{begin_x:n-this.render_options.extend_left,end_x:i+this.render_options.extend_right,y:r+this.render_options.y_shift,height:this.height,reverse:this.decrescendo})}}]),e}(c.Note)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n=e.options;return t=l(e,t),t.options=l(n,t.options),t}Object.defineProperty(e,"__esModule",{value:!0}),e.System=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(i)},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=n(5),h=n(76),f=n(14),p=n(22);e.System=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e);var n=r(this,Object.getPrototypeOf(e).call(this));return n.setAttribute("type","System"),n.setOptions(t),n.parts=[],n}return o(e,t),a(e,[{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=s(t,{x:10,y:10,width:500,connector:null,spaceBetweenStaves:12,factory:null,debugFormatter:!1,formatIterations:0,options:{}}),this.factory=this.options.factory||new h.Factory({renderer:{el:null}})}},{key:"setContext",value:function(t){return u(Object.getPrototypeOf(e.prototype),"setContext",this).call(this,t),this.factory.setContext(t),this}},{key:"addConnector",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"double":arguments[0];return this.connector=this.factory.StaveConnector({top_stave:this.parts[0].stave,bottom_stave:this.parts[this.parts.length-1].stave,type:t}),this.connector}},{key:"addStave",value:function(t){var e=this;if(t=s(t,{stave:null,voices:[],spaceAbove:0,spaceBelow:0,debugNoteMetrics:!1,options:{}}),!t.stave){var n={left_bar:!1};t.stave=this.factory.Stave({x:this.options.x,y:this.options.y,width:this.options.width,options:n})}return t.voices.forEach(function(n){return n.setContext(e.context).setStave(t.stave)}),this.parts.push(t),t.stave}},{key:"format",value:function(){var t=this,e=new f.Formatter;this.formatter=e;var n=this.options.y,i=0,r=[],o=[];this.parts.forEach(function(s){n+=s.stave.space(s.spaceAbove),s.stave.setY(n),e.joinVoices(s.voices),n+=s.stave.space(s.spaceBelow),n+=s.stave.space(t.options.spaceBetweenStaves),s.debugNoteMetrics&&(o.push({y:n,voice:s.voices[0]}),n+=15),r=r.concat(s.voices),i=Math.max(i,s.stave.getNoteStartX())}),this.parts.forEach(function(t){return t.stave.setNoteStartX(i)});var s=this.options.width-(i-this.options.x)-p.Note.STAVEPADDING;e.format(r,s);for(var a=0;a<this.options.formatIterations;a++)e.tune();this.startX=i,this.debugNoteMetricsYs=o,this.lastY=n}},{key:"draw",value:function(){var t=this.checkContext();this.setRendered(),this.options.debugFormatter&&f.Formatter.plotDebugging(t,this.formatter,this.startX,this.options.y,this.lastY),this.debugNoteMetricsYs.forEach(function(e){e.voice.getTickables().forEach(function(n){return p.Note.plotMetrics(t,n,e.y)})})}}]),e}(c.Element)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];k.DEBUG&&u.Vex.L("Vex.Flow.Factory",e)}function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1],n=e.options;return t=a(e,t),t.options=a(n,t.options),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=e.X=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=n(1),l=n(29),c=n(37),h=n(40),f=n(14),p=n(28),d=n(67),b=n(27),m=n(10),y=n(43),v=n(33),g=n(20),_=n(19),x=n(75),w=n(39),S=n(16),E=n(18),T=n(15),P=n(66),M=n(61),O=n(32),A=n(77),C=e.X=u.Vex.MakeException("FactoryError"),k=e.Factory=function(){function t(e){i(this,t),r("New factory: ",e);var n={stave:{space:10},renderer:{context:null,selector:"",backend:m.Renderer.Backends.SVG,width:500,height:200,background:"#FFF"},font:{face:"Arial",point:10,style:""}};this.options=n,this.setOptions(e)}return s(t,[{key:"reset",value:function(){this.renderQ=[],this.systems=[],this.staves=[],this.voices=[],this.stave=null}},{key:"getOptions",value:function(){return this.options}},{key:"setOptions",value:function(t){for(var e=["stave","renderer","font"],n=0;n<e.length;n++){var i=e[n];a(this.options[i],t[i])}(null!==this.options.renderer.selector||this.options.renderer.context)&&this.initRenderer(),this.reset()}},{key:"initRenderer",value:function(){var t=this.options.renderer,e=t.selector,n=t.backend,i=t.width,r=t.height,o=t.background;if(""===e)throw new C("HTML DOM element not set in Factory");this.context=m.Renderer.buildContext(e,n,i,r,o)}},{key:"getContext",value:function(){return this.context}},{key:"setContext",value:function(t){return this.context=t,this}},{key:"getStave",value:function(){return this.stave}},{key:"space",value:function(t){return this.options.stave.space*t}},{key:"Stave",value:function(t){t=o(t,{x:0,y:0,width:this.options.renderer.width-this.space(1),options:{spacing_between_lines_px:this.options.stave.space}});var e=new y.Stave(t.x,t.y,t.width,t.options);return this.staves.push(e),e.setContext(this.context),this.stave=e,e}},{key:"StaveNote",value:function(t){var e=new g.StaveNote(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),this.renderQ.push(e),e}},{key:"GraceNote",value:function(t){var e=new M.GraceNote(t);return this.stave&&e.setStave(this.stave),e.setContext(this.context),e}},{key:"GraceNoteGroup",value:function(t){var e=new O.GraceNoteGroup(t.notes,t.slur);return e.setContext(this.context),e}},{key:"Accidental",value:function(t){t=o(t,{type:null,options:{}});var e=new l.Accidental(t.type);return e.setContext(this.context),e}},{key:"Annotation",value:function(t){t=o(t,{text:"p",vJustify:"below",hJustify:"center",fontFamily:"Times",fontSize:14,fontWeight:"bold italic",options:{}});var e=new h.Annotation(t.text);return e.setJustification(t.hJustify),e.setVerticalJustification(t.vJustify),e.setFont(t.fontFamily,t.fontSize,t.fontWeight),e.setContext(this.context),e}},{key:"Articulation",value:function(t){t=o(t,{type:"a.",position:"above",options:{}});var e=new c.Articulation(t.type);return e.setPosition(t.position),e.setContext(this.context),e}},{key:"TextDynamics",value:function(t){t=o(t,{text:"p",duration:"q",dots:0,line:0,options:{}});var e=new d.TextDynamics({text:t.text,line:t.line,duration:t.duration,dots:t.dots});return e.setContext(this.context),e}},{key:"Fingering",value:function(t){t=o(t,{number:"0",position:"left",options:{}});var e=new p.FretHandFinger(t.number);return e.setPosition(t.position),e.setContext(this.context),e}},{key:"TickContext",value:function(){return(new w.TickContext).setContext(this.context)}},{key:"ModifierContext",value:function(){return new b.ModifierContext}},{key:"Voice",value:function(t){t=o(t,{time:"4/4",options:{}});var e=new E.Voice(t.time);return this.voices.push(e),e}},{key:"StaveConnector",value:function(t){t=o(t,{top_stave:null,bottom_stave:null,type:"double",options:{}});var e=new _.StaveConnector(t.top_stave,t.bottom_stave);return e.setType(t.type).setContext(this.context),this.renderQ.push(e),e}},{key:"Formatter",value:function(){return new f.Formatter}},{key:"Tuplet",value:function(t){t=o(t,{notes:[],options:{}});var e=new S.Tuplet(t.notes,t.options).setContext(this.context);return this.renderQ.push(e),e}},{key:"Beam",value:function(t){t=o(t,{notes:[],options:{autoStem:!1}});var e=new T.Beam(t.notes,t.options.autoStem).setContext(this.context);return this.renderQ.push(e),e}},{key:"Curve",value:function(t){t=o(t,{from:null,to:null,options:{}});var e=new P.Curve(t.from,t.to,t.options).setContext(this.context);return this.renderQ.push(e),e}},{key:"StaveTie",value:function(t){t=o(t,{from:null,to:null,first_indices:[0],last_indices:[0],text:null,options:{}});var e=new v.StaveTie({first_note:t.from,last_note:t.to,first_indices:t.first_indices,last_indices:t.last_indices},t.text).setContext(this.context);return this.renderQ.push(e),e}},{key:"System",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.factory=this;var e=new x.System(t).setContext(this.context);return this.systems.push(e),e}},{key:"EasyScore",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.factory=this,new A.EasyScore(t)}},{key:"draw",value:function(){var t=this;this.systems.forEach(function(e){return e.setContext(t.context).format()}),this.staves.forEach(function(e){return e.setContext(t.context).draw()}),this.voices.forEach(function(e){return e.setContext(t.context).draw()}),this.renderQ.forEach(function(e){e.isRendered()||e.setContext(t.context).draw()}),this.systems.forEach(function(e){return e.setContext(t.context).draw()}),this.reset()}}],[{key:"newFromSelector",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?500:arguments[1],i=arguments.length<=2||void 0===arguments[2]?200:arguments[2];return new t({renderer:{selector:e,width:n,height:i}})}}]),t}()},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];v.DEBUG&&h.Vex.L("Vex.Flow.EasyScore",e)}function s(t,e){var n=t.id;void 0!==n&&e.setAttribute("id",n)}function a(t,e){if(t.class){var n=/\s*,\s*/;t.class.split(n).forEach(function(t){return e.addClass(t)})}}Object.defineProperty(e,"__esModule",{value:!0}),e.EasyScore=e.X=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(1),f=n(20),p=n(78),d=n(37),b=e.X=h.Vex.MakeException("EasyScoreError"),m=function(){function t(e){r(this,t),this.builder=e}return c(t,[{key:"begin",value:function(){return this.LINE}},{key:"LINE",value:function(){return{expect:[this.PIECE,this.PIECES,this.EOL]}}},{key:"PIECE",value:function(){var t=this;return{expect:[this.CHORDORNOTE,this.PARAMS],run:function(){return t.builder.commitPiece()}}}},{key:"PIECES",value:function(){return{expect:[this.COMMA,this.PIECE],zeroOrMore:!0}}},{key:"PARAMS",value:function(){return{expect:[this.DURATION,this.TYPE,this.DOTS,this.OPTS]}}},{key:"CHORDORNOTE",value:function(){return{expect:[this.CHORD,this.SINGLENOTE],or:!0}}},{key:"CHORD",value:function(){var t=this;return{expect:[this.LPAREN,this.NOTES,this.RPAREN],run:function(e){return t.builder.addChord(e.matches[1])}}}},{key:"NOTES",value:function(){return{expect:[this.NOTE],oneOrMore:!0}}},{key:"NOTE",value:function(){return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE]}}},{key:"SINGLENOTE",value:function(){var t=this;return{expect:[this.NOTENAME,this.ACCIDENTAL,this.OCTAVE],run:function(e){return t.builder.addSingleNote(e.matches[0],e.matches[1],e.matches[2])}}}},{key:"ACCIDENTAL",value:function(){return{expect:[this.ACCIDENTALS],maybe:!0}}},{key:"DOTS",value:function(){var t=this;return{expect:[this.DOT],zeroOrMore:!0,run:function(e){return t.builder.setNoteDots(e.matches[0])}}}},{key:"TYPE",value:function(){var t=this;return{expect:[this.SLASH,this.MAYBESLASH,this.TYPES],maybe:!0,run:function(e){return t.builder.setNoteType(e.matches[2])}}}},{key:"DURATION",value:function(){var t=this;return{expect:[this.SLASH,this.DURATIONS],maybe:!0,run:function(e){return t.builder.setNoteDuration(e.matches[1])}}}},{key:"OPTS",value:function(){return{expect:[this.LBRACKET,this.KEYVAL,this.KEYVALS,this.RBRACKET],maybe:!0}}},{key:"KEYVALS",value:function(){return{expect:[this.COMMA,this.KEYVAL],zeroOrMore:!0}}},{key:"KEYVAL",value:function(){var t=this,e=function(t){return t.slice(1,-1)};return{expect:[this.KEY,this.EQUALS,this.VAL],run:function(n){return t.builder.addNoteOption(n.matches[0],e(n.matches[2]))}}}},{key:"VAL",value:function(){return{expect:[this.SVAL,this.DVAL],or:!0}}},{key:"KEY",value:function(){return{token:"[a-zA-Z][a-zA-Z0-9]*"}}},{key:"DVAL",value:function(){return{token:'["][^"]*["]'}}},{key:"SVAL",value:function(){return{token:"['][^']*[']"}}},{key:"NOTENAME",value:function(){return{token:"[a-gA-G]"}}},{key:"OCTAVE",value:function(){return{token:"[0-9]+"}}},{key:"ACCIDENTALS",value:function(){return{token:"bbs|bb|bss|bs|b|db|d|##|#|n|\\+\\+-|\\+-|\\+\\+|\\+"}}},{key:"DURATIONS",value:function(){return{token:"[0-9whq]+"}}},{key:"TYPES",value:function(){return{token:"[rRsSxX]"}}},{key:"LPAREN",value:function(){return{token:"[(]"}}},{key:"RPAREN",value:function(){return{token:"[)]"}}},{key:"COMMA",value:function(){return{token:"[,]"}}},{key:"DOT",value:function(){return{token:"[.]"}}},{key:"SLASH",value:function(){return{token:"[/]"}}},{key:"MAYBESLASH",value:function(){return{token:"[/]?"}}},{key:"EQUALS",value:function(){return{token:"[=]"}}},{key:"LBRACKET",value:function(){return{token:"\\["}}},{key:"RBRACKET",value:function(){return{token:"\\]"}}},{key:"EOL",value:function(){return{token:"$"}}}]),t}(),y=function(){function t(e){r(this,t),this.factory=e,this.commitHooks=[],this.reset()}return c(t,[{key:"reset",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options={stem:"auto",clef:"treble"},this.elements={notes:[],accidentals:[]},this.rollingDuration="8",this.resetPiece(),l(this.options,t)}},{key:"getFactory",value:function(){return this.factory}},{key:"getElements",value:function(){return this.elements}},{key:"addCommitHook",value:function(t){this.commitHooks.push(t)}},{key:"resetPiece",value:function(){o("resetPiece"),this.piece={chord:[],duration:this.rollingDuration,dots:0,type:void 0,options:{}}}},{key:"setNoteDots",value:function(t){o("setNoteDots:",t),t&&(this.piece.dots=t.length)}},{key:"setNoteDuration",value:function(t){o("setNoteDuration:",t),this.rollingDuration=this.piece.duration=t||this.rollingDuration;
}},{key:"setNoteType",value:function(t){o("setNoteType:",t),t&&(this.piece.type=t)}},{key:"addNoteOption",value:function(t,e){o("addNoteOption: key:",t,"value:",e),this.piece.options[t]=e}},{key:"addNote",value:function(t,e,n){o("addNote:",t,e,n),this.piece.chord.push({key:t,accid:e,octave:n})}},{key:"addSingleNote",value:function(t,e,n){o("addSingleNote:",t,e,n),this.addNote(t,e,n)}},{key:"addChord",value:function(t){var e=this;o("startChord"),"object"!==u(t[0])?this.addSingleNote(t[0]):t.forEach(function(t){t&&e.addNote.apply(e,i(t))}),o("endChord")}},{key:"commitPiece",value:function(){var t=this;o("commitPiece");var e=this.factory;if(e){var n=l({},this.options,this.piece.options),i=n.stem,r=n.clef,s="auto"===i.toLowerCase(),a=s||"up"!==i.toLowerCase()?f.StaveNote.STEM_DOWN:f.StaveNote.STEM_UP,u=this.piece,c=u.chord,h=u.duration,p=u.dots,d=u.type,b=c.map(function(t){return t.key+"/"+t.octave}),m=e.StaveNote({keys:b,duration:h,dots:p,type:d,clef:r,auto_stem:s});s||m.setStemDirection(a);var y=c.map(function(t){return t.accid||null});y.forEach(function(t,n){t&&m.addAccidental(n,e.Accidental({type:t}))});for(var v=0;v<p;v++)m.addDotToAll();this.commitHooks.forEach(function(e){return e(n,m,t)}),this.elements.notes.push(m),this.elements.accidentals.concat(y),this.resetPiece()}}}]),t}(),v=e.EasyScore=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),this.setOptions(e),this.defaults={clef:"treble",time:"4/4",stem:"auto"}}return c(t,[{key:"set",value:function(t){return l(this.defaults,t),this}},{key:"setOptions",value:function(t){var e=this;return this.options=l({factory:null,builder:null,commitHooks:[s,a,d.Articulation.easyScoreHook],throwOnError:!1},t),this.factory=this.options.factory,this.builder=this.options.builder||new y(this.factory),this.grammar=new m(this.builder),this.parser=new p.Parser(this.grammar),this.options.commitHooks.forEach(function(t){return e.addCommitHook(t)}),this}},{key:"setContext",value:function(t){return this.factory&&this.factory.setContext(t),this}},{key:"parse",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.builder.reset(e);var n=this.parser.parse(t);if(!n.success&&this.options.throwOnError)throw new b("Error parsing line: "+t,n);return n}},{key:"beam",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.factory.Beam({notes:t,options:e}),t}},{key:"tuplet",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.factory.Tuplet({notes:t,options:e}),t}},{key:"notes",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e=l({clef:this.defaults.clef,stem:this.defaults.stem},e),this.parse(t,e),this.builder.getElements().notes}},{key:"voice",value:function(t,e){return e=l({time:this.defaults.time},e),this.factory.Voice(e).addTickables(t)}},{key:"addCommitHook",value:function(t){return this.builder.addCommitHook(t)}}]),t}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];l.DEBUG&&a.Vex.L("Vex.Flow.Parser",e)}function o(t){return void 0!==t.matchedString?t.matchedString:t.results?o(t.results):1===t.length?o(t[0]):0===t.length?null:t.map(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=e.X=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(1),u=e.X=a.Vex.MakeException("ParserError"),l=e.Parser=function(){function t(e){i(this,t),this.grammar=e}return s(t,[{key:"parse",value:function(t){this.line=t,this.pos=0,this.errorPos=-1;var e=this.expect(this.grammar.begin());return e.errorPos=this.errorPos,e}},{key:"matchFail",value:function(t){this.errorPos===-1&&(this.errorPos=this.pos),this.pos=t}},{key:"matchSuccess",value:function(){this.errorPos=-1}},{key:"matchToken",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=e?new RegExp("^(("+t+"))"):new RegExp("^(("+t+")\\s*)"),i=this.line.slice(this.pos),r=i.match(n);return null!==r?{success:!0,matchedString:r[2],incrementPos:r[1].length,pos:this.pos}:{success:!1,pos:this.pos}}},{key:"expectOne",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=[],i=this.pos,r=!0,o=!1;e=e===!0||t.maybe===!0;for(var s=0;s<t.expect.length;s++){var a=t.expect[s],u=this.pos,l=this.expect(a);if(l.success){if(n.push(l),o=!0,t.or)break}else if(r=!1,!t.or){this.pos=u;break}}var c=t.or&&o||r,h=c||e===!0;return e&&!c&&(this.pos=i),h?this.matchSuccess():this.matchFail(i),{success:h,results:n,numMatches:c?1:0}}},{key:"expectOneOrMore",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=[],i=this.pos,r=0,o=!0;do{var s=this.expectOne(t);s.success?(r++,n.push(s.results)):o=!1}while(o);var a=r>0||e===!0;return!e||r>0||(this.pos=i),a?this.matchSuccess():this.matchFail(i),{success:a,results:n,numMatches:r}}},{key:"expectZeroOrMore",value:function(t){return this.expectOneOrMore(t,!0)}},{key:"expect",value:function(t){r("Evaluating rules:",t);var e=void 0;if(!t)throw new u("Invalid Rule: "+t,t);var n=t.bind(this.grammar)();if(n.token)e=this.matchToken(n.token,n.noSpace===!0),e.success&&(this.pos+=e.incrementPos);else{if(!n.expect)throw new u("Bad grammar! No `token` or `expect` property",n);e=n.oneOrMore?this.expectOneOrMore(n):n.zeroOrMore?this.expectZeroOrMore(n):this.expectOne(n)}return e.matches=[],e.results&&e.results.forEach(function(t){return e.matches.push(o(t))}),n.run&&e.success&&n.run(e),e}}]),t}()}])})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});for(var r=n(333),o=i(r),s={C:"C",C_SHARP:"C#",D:"D",D_SHARP:"D#",E:"E",F:"F",F_SHARP:"F#",G:"G",G_SHARP:"G#",A:"A",A_SHARP:"A#",B:"B"},a=Object.keys(s),u=2,l=7,c=[],h=function(t){a.forEach(function(e){c.push(new o.default({note:s[e],octave:t,isAccidental:e.includes("_SHARP")}))})},f=u;f<l;f++)h(f);e.default=c},function(t,e){"use strict";function n(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var r=n(e,[]);i(this,t),Object.assign(this,r)};e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(73),l=i(u),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"toString",value:function(){return this.duration.toString()+" note "+(this.tone||"rest").toString()}}],[{key:"composeFromToneAndDuration",value:function(t,n){return new e({tone:t,duration:n})}}]),e}(l.default);e.default=c},function(t,e,n){(function(t){"use strict";var i=n(21),r=i.Buffer,o=i.SlowBuffer,s=i.kMaxLength||2147483647;e.alloc=function(t,e,n){if("function"==typeof r.alloc)return r.alloc(t,e,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");var i=n,o=e;void 0===o&&(i=void 0,o=0);var a=new r(t);if("string"==typeof o)for(var u=new r(o,i),l=u.length,c=-1;++c<t;)a[c]=u[c%l];else a.fill(o);return a},e.allocUnsafe=function(t){if("function"==typeof r.allocUnsafe)return r.allocUnsafe(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>s)throw new RangeError("size is too large");return new r(t)},e.from=function(e,n,i){if("function"==typeof r.from&&(!t.Uint8Array||Uint8Array.from!==r.from))return r.from(e,n,i);if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("string"==typeof e)return new r(e,n);if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new r(e);"undefined"==typeof o&&(o=0);var s=i;if("undefined"==typeof s&&(s=e.byteLength-o),o>=e.byteLength)throw new RangeError("'offset' is out of bounds");if(s>e.byteLength-o)throw new RangeError("'length' is out of bounds");return new r(e.slice(o,o+s))}if(r.isBuffer(e)){var a=new r(e.length);return e.copy(a,0,0,e.length),a}if(e){if(Array.isArray(e)||"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return new r(e);if("Buffer"===e.type&&Array.isArray(e.data))return new r(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},e.allocUnsafeSlow=function(t){if("function"==typeof r.allocUnsafeSlow)return r.allocUnsafeSlow(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(t>=s)throw new RangeError("size is too large");return new o(t)}}).call(e,function(){return this}())},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,r,a,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,u=0;u<r;u++)l[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,r,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(function(e){"use strict";t.exports={isNode:"undefined"!=typeof e,newBuffer:function(t,n){return new e(t,n)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(e,n(21).Buffer)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){function i(t){return null==t?void 0===t?u:a:l&&l in Object(t)?o(t):s(t)}var r=n(128),o=n(429),s=n(440),a="[object Null]",u="[object Undefined]",l=r?r.toStringTag:void 0;t.exports=i},function(t,e,n){function i(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),i=t.apply(n,e);return o(i)?i:n}}var r=n(130),o=n(59);t.exports=i},function(t,e){function n(t,e){for(var n=-1,r=t.length,o=0,s=[];++n<r;){var a=t[n];a!==e&&a!==i||(t[n]=i,s[o++]=n)}return s}var i="__lodash_placeholder__";t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(241),r=n(10),o=n(143),s=n(20),a=n(140),u=n(86),l=n(486),c=n(22),h=n(62),f=n(239),p=n(60),d=n(28),b=n(142),m=n(19),y=n(487),v=n(476),g=n(20),_=n(15),x=n(70),w=n(45),S=function(){function t(t){this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.staffLinesWithGraphicalExpressions=[],this.symbolFactory=t}return Object.defineProperty(t,"TextMeasurer",{get:function(){return t.textMeasurer},set:function(e){t.textMeasurer=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leadSheet",{get:function(){return this.graphicalMusicSheet.LeadSheet},enumerable:!0,configurable:!0}),t.addTieToTieTimestampsDict=function(t,e){e.NoteTie.initializeBoolList();for(var n=[],i=0;i<e.NoteTie.Fractions.length;i++){var o=void 0;o=0===i?r.Fraction.plus(e.calculateNoteLengthWithoutTie(),e.getAbsoluteTimestamp()):r.Fraction.plus(n[i-1],e.NoteTie.Fractions[i-1]),n.push(o)}t.setValue(e.NoteTie,n)},t.setMeasuresMinStaffEntriesWidth=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];r.minimumStaffEntriesWidth=e}},t.prototype.initialize=function(t){this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.rules,this.prepareGraphicalMusicSheet()},t.prototype.prepareGraphicalMusicSheet=function(){var t=this.graphicalMusicSheet.ParentMusicSheet;this.staffEntriesWithGraphicalTies=[],this.staffEntriesWithOrnaments=[],this.staffEntriesWithChordSymbols=[],this.staffLinesWithLyricWords=[],this.staffLinesWithGraphicalExpressions=[],this.graphicalMusicSheet.Initialize();for(var e=this.graphicalMusicSheet.MeasureList,n=this.createAccidentalCalculators(),i=this.graphicalMusicSheet.initializeActiveClefs(),r=[],o=t.getCompleteNumberOfStaves(),s=[],a=[],u=0;u<o;u++){var l=new x.default;a.push(l),s.push(void 0)}for(var c=0,h=t.SourceMeasures.length;c<h;++c){var f=t.SourceMeasures[c],p=this.createGraphicalMeasuresForSourceMeasure(f,n,r,a,s,i);e.push(p)}this.handleStaffEntries(),this.calculateVerticalContainersList(),this.setIndecesToVerticalGraphicalContainers()},t.prototype.calculate=function(){this.clearSystemsAndMeasures(),this.clearRecreatedObjects(),this.createGraphicalTies(),this.calculateSheetLabelBoundingBoxes(),this.calculateXLayout(this.graphicalMusicSheet,this.maxInstrNameLabelLength()),this.graphicalMusicSheet.MusicPages.length=0,this.calculateMusicSystems(),this.graphicalMusicSheet.MusicPages[0].PositionAndShape.BorderMarginBottom+=9,i.GraphicalMusicSheet.transformRelativeToAbsolutePosition(this.graphicalMusicSheet)},t.prototype.calculateXLayout=function(e,n){var i=0,r=this.rules.MaxInstructionsConstValue;if(this.graphicalMusicSheet.MeasureList.length>0){var o=this.graphicalMusicSheet.MeasureList[0],s=this.calculateMeasureXLayout(o);t.setMeasuresMinStaffEntriesWidth(o,s),i=1.2*s+n+r;for(var a=1;a<this.graphicalMusicSheet.MeasureList.length;a++)o=this.graphicalMusicSheet.MeasureList[a],s=this.calculateMeasureXLayout(o),t.setMeasuresMinStaffEntriesWidth(o,s),i=Math.max(i,1.2*s+r)}this.graphicalMusicSheet.MinAllowedSystemWidth=i},t.prototype.calculateMeasureXLayout=function(t){throw new Error("abstract, not implemented")},t.prototype.calculateSystemYLayout=function(){throw new Error("abstract, not implemented")},t.prototype.initStaffMeasuresCreation=function(){throw new Error("abstract, not implemented")},t.prototype.handleBeam=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleTiedGraphicalNote=function(t,e,n,i,r,o,s,a){throw new Error("abstract, not implemented")},t.prototype.handleVoiceEntryLyrics=function(t,e,n,i){throw new Error("abstract, not implemented")},t.prototype.handleVoiceEntryOrnaments=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleVoiceEntryArticulations=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.handleTuplet=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.layoutVoiceEntry=function(t,e,n,i,r){throw new Error("abstract, not implemented")},t.prototype.layoutStaffEntry=function(t){throw new Error("abstract, not implemented")},t.prototype.createGraphicalTie=function(t,e,n,i,r){throw new Error("abstract, not implemented")},t.prototype.updateStaffLineBorders=function(t){throw new Error("abstract, not implemented")},t.prototype.calculateMeasureNumberPlacement=function(t){throw new Error("abstract, not implemented")},t.prototype.layoutGraphicalTie=function(t,e){throw new Error("abstract, not implemented")},t.prototype.calculateSingleStaffLineLyricsPosition=function(t,e){throw new Error("abstract, not implemented")},t.prototype.calculateSingleOctaveShift=function(t,e,n,i){throw new Error("abstract, not implemented")},t.prototype.calculateWordRepetitionInstruction=function(t,e){throw new Error("abstract, not implemented")},t.prototype.calculateMoodAndUnknownExpression=function(t,e,n){throw new Error("abstract, not implemented")},t.prototype.clearRecreatedObjects=function(){for(var t=0,e=this.staffEntriesWithGraphicalTies.length;t<e;++t){var n=this.staffEntriesWithGraphicalTies[t];n.GraphicalTies.length=0}this.staffEntriesWithGraphicalTies.length=0},t.prototype.handleStaffEntryLink=function(t,e){_.Logging.debug("handleStaffEntryLink not implemented")},t.prototype.calculateMusicSystems=function(){if(void 0!==this.graphicalMusicSheet.MeasureList){var t=this.graphicalMusicSheet.MeasureList;if(void 0!==t){for(var e=[],n=0,i=t.length;n<i;++n){for(var r=t[n],o=[],s=0,a=r.length;s<a;++s){var u=t[n][s];u.isVisible()&&o.push(u)}e.push(o)}for(var h=0,n=0,i=e.length;n<i;++n){var f=e[n];h=Math.max(f.length,h);break}if(0!==h){var p=new l.MusicSystemBuilder;p.initialize(this.graphicalMusicSheet,e,h,this.symbolFactory),p.buildMusicSystems(),this.checkMeasuresForWholeRestNotes(),this.leadSheet||(this.calculateBeams(),this.optimizeRestPlacement(),this.calculateStaffEntryArticulationMarks(),this.calculateTieCurves()),this.calculateSkyBottomLines(),this.calculateTupletNumbers();for(var n=0,i=this.graphicalMusicSheet.MusicPages.length;n<i;++n)for(var d=this.graphicalMusicSheet.MusicPages[n],s=0,a=d.MusicSystems.length;s<a;++s){var b=d.MusicSystems[s];this.calculateMeasureNumberPlacement(b)}this.leadSheet||this.calculateSlurs(),this.leadSheet||this.calculateOrnaments(),this.updateSkyBottomLines(),this.calculateChordSymbols(),this.leadSheet||(this.calculateDynamicExpressions(),this.optimizeStaffLineDynamicExpressionsPositions(),this.calculateMoodAndUnknownExpressions(),this.calculateOctaveShifts(),this.calculateWordRepetitionInstructions()),this.calculateRepetitionEndings(),this.leadSheet||this.calculateTempoExpressions(),this.calculateLyricsPosition();for(var n=0,i=this.graphicalMusicSheet.MusicPages.length;n<i;++n)for(var d=this.graphicalMusicSheet.MusicPages[n],s=0,a=d.MusicSystems.length;s<a;++s)for(var b=d.MusicSystems[s],m=0,y=b.StaffLines.length;m<y;++m){var v=b.StaffLines[m];this.updateStaffLineBorders(v)}this.calculateComments(),this.calculateSystemYLayout(),this.calculateMarkedAreas();for(var n=0,i=this.graphicalMusicSheet.MusicPages.length;n<i;++n){for(var d=this.graphicalMusicSheet.MusicPages[n],s=0,a=d.MusicSystems.length;s<a;++s){var b=d.MusicSystems[s];b.setMusicSystemLabelsYPosition(),this.leadSheet?b===b.Parent.MusicSystems[0]&&b.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin):(b.setYPositionsToVerticalLineObjectsAndCreateLines(this.rules),b.createSystemLeftLine(this.rules.SystemThinLineWidth,this.rules.SystemLabelsRightMargin),b.createInstrumentBrackets(this.graphicalMusicSheet.ParentMusicSheet.Instruments,this.rules.StaffHeight),b.createGroupBrackets(this.graphicalMusicSheet.ParentMusicSheet.InstrumentalGroups,this.rules.StaffHeight,0),b.alignBeginInstructions()),b.calculateBorders(this.rules)}for(var g=d.MusicSystems[0].PositionAndShape.BorderTop,s=0,a=d.MusicSystems.length;s<a;++s){var b=d.MusicSystems[s];b.PositionAndShape.RelativePosition=new c.PointF2D(b.PositionAndShape.RelativePosition.x,b.PositionAndShape.RelativePosition.y-g)}for(var s=0,a=d.MusicSystems.length;s<a;++s)for(var b=d.MusicSystems[s],m=0,y=b.StaffLines.length;m<y;++m){var v=b.StaffLines[m];v.addActivitySymbolClickArea()}d===this.graphicalMusicSheet.MusicPages[0]&&this.calculatePageLabels(d),d.PositionAndShape.calculateTopBottomBorders()}}}}},t.prototype.updateSkyBottomLine=function(t){},t.prototype.calculateSkyBottomLine=function(t){},t.prototype.calculateMarkedAreas=function(){},t.prototype.calculateComments=function(){},t.prototype.optimizeStaffLineDynamicExpressionsPositions=function(){},t.prototype.calculateChordSymbols=function(){},t.prototype.layoutMeasureWithWholeRest=function(t,e,n){},t.prototype.layoutBeams=function(t){},t.prototype.layoutArticulationMarks=function(t,e,n){},t.prototype.layoutOrnament=function(t,e,n){},t.prototype.calculateRestNotePlacementWithinGraphicalBeam=function(t,e,n,i,r){},t.prototype.calculateTupletNumbers=function(){},t.prototype.calculateSlurs=function(){},t.prototype.calculateDynamicExpressionsForSingleMultiExpression=function(t,e,n){},t.prototype.calcGraphicalRepetitionEndingsRecursively=function(t){},t.prototype.layoutSingleRepetitionEnding=function(t,e,n,i,r,o){},t.prototype.calculateTempoExpressionsForSingleMultiTempoExpression=function(t,e,n){},t.prototype.staffMeasureCreatedCalculations=function(t){},t.prototype.clearSystemsAndMeasures=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t){for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i){for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s){for(var u=o.StaffLines[s],l=0,c=u.Measures.length;l<c;++l){var h=u.Measures[l];if(void 0!==h.FirstInstructionStaffEntry){var f=h.PositionAndShape.ChildElements.indexOf(h.FirstInstructionStaffEntry.PositionAndShape);f>-1&&h.PositionAndShape.ChildElements.splice(f,1),h.FirstInstructionStaffEntry=void 0,h.beginInstructionsWidth=0}if(void 0!==h.LastInstructionStaffEntry){var f=h.PositionAndShape.ChildElements.indexOf(h.LastInstructionStaffEntry.PositionAndShape);f>-1&&h.PositionAndShape.ChildElements.splice(f,1),h.LastInstructionStaffEntry=void 0,h.endInstructionsWidth=0}}u.Measures=[],u.PositionAndShape.ChildElements=[]}o.StaffLines.length=0,o.PositionAndShape.ChildElements=[]}n.MusicSystems=[],n.PositionAndShape.ChildElements=[]}this.graphicalMusicSheet.MusicPages=[]},t.prototype.handleVoiceEntry=function(e,n,i,r,o,s,a,u,l,c,h,f){void 0===c&&(c=!1),void 0===h&&(h=void 0),void 0===f&&(f=void 0);for(var p=n.findOrCreateGraphicalNotesListFromVoiceEntry(e),d=0,b=e.Notes.length;d<b;++d){var m=e.Notes[d];if(!(void 0!==f&&void 0!==f.Link&&void 0!==h&&h.indexOf(m)>-1)){var y=void 0;y=c?this.symbolFactory.createGraceNote(m,n,s,l):this.symbolFactory.createNote(m,n,s,l,void 0),void 0!==m.NoteTie&&t.addTieToTieTimestampsDict(o,m),void 0!==m.Pitch&&this.checkNoteForAccidental(y,i,s,l,c),this.resetYPositionForLeadSheet(y.PositionAndShape),n.addGraphicalNoteToListAtCorrectYPosition(p,y),n.PositionAndShape.ChildElements.push(y.PositionAndShape),y.PositionAndShape.calculateBoundingBox(),this.leadSheet||(void 0!==m.NoteBeam&&this.handleBeam(y,m.NoteBeam,u),void 0!==m.NoteTuplet&&this.handleTuplet(y,m.NoteTuplet,a))}}return e.Articulations.length>0&&this.handleVoiceEntryArticulations(e.Articulations,e,n),e.TechnicalInstructions.length>0&&this.checkVoiceEntriesForTechnicalInstructions(e,n),e.LyricsEntries.size()>0&&this.handleVoiceEntryLyrics(e.LyricsEntries,e,n,r),void 0!==e.OrnamentContainer&&this.handleVoiceEntryOrnaments(e.OrnamentContainer,e,n),l},t.prototype.handleVoiceEntryGraceNotes=function(t,e,n,i,r,o,s,a,u,l){if(void 0!==t)for(var c=0,h=t.length;c<h;++c){var f=t[c],p=this.symbolFactory.createGraceStaffEntry(n,n.parentMeasure);e.push(p),n.PositionAndShape.ChildElements.push(p.PositionAndShape),this.handleVoiceEntry(f,p,i,s,a,r,u,l,o,!0)}},t.prototype.handleOpenTies=function(t,e,n,i,o){w.CollectionUtil.removeDictElementIfTrue(this,n,function(n,s,l){for(var c=void 0,h=!1,f=0;f<l.length;f++)if(!s.NoteHasBeenCreated[f]){if(c=l[f],r.Fraction.plus(t.parentSourceMeasure.AbsoluteTimestamp,t.parentSourceMeasure.Duration).lte(c))continue;var p=void 0;if(void 0!==c){for(var d=0,b=t.staffEntries.length;d<b;++d){var m=t.staffEntries[d];if(m.getAbsoluteTimestamp().Equals(c)){p=m;break}}void 0===p&&(p=n.createStaffEntryForTieNote(t,c,s))}if(void 0!==p){var y=a.OctaveEnum.NONE;void 0!==o&&o.getAbsoluteStartTimestamp.lte(p.getAbsoluteTimestamp())&&p.getAbsoluteTimestamp().lte(o.getAbsoluteEndTimestamp)&&(y=o.getOpenOctaveShift.Type);var v=f===l.length-1,g=s.Fractions[f],_=n.symbolFactory.createNote(s.Start,p,i,y,g),x=p.findOrCreateGraphicalNotesListFromGraphicalNote(_);p.addGraphicalNoteToListAtCorrectYPosition(x,_),p.PositionAndShape.ChildElements.push(_.PositionAndShape),n.handleTiedGraphicalNote(_,e,i,y,p,g,s,v);var w=s.Start;v&&1===w.ParentVoiceEntry.Articulations.length&&w.ParentVoiceEntry.Articulations[0]===u.ArticulationEnum.fermata&&n.symbolFactory.addFermataAtTiedEndNote(w,p),s.NoteHasBeenCreated[f]=!0,s.allGraphicalNotesHaveBeenCreated()&&(h=!0)}}return h})},t.prototype.resetYPositionForLeadSheet=function(t){this.leadSheet&&(t.RelativePosition=new c.PointF2D(t.RelativePosition.x,0))},t.prototype.layoutVoiceEntries=function(t){t.PositionAndShape.RelativePosition=new c.PointF2D(0,0);var e=void 0!==t.staffEntryParent;if(!this.leadSheet)for(var n=t.notes,i=0,r=n.length;i<r;++i){var o=n[i];if(0!==o.length){var s=o[0].sourceNote.ParentVoiceEntry,a=void 0!==o[0].sourceNote.Pitch;this.layoutVoiceEntry(s,o,t,a,e)}}},t.prototype.maxInstrNameLabelLength=function(){for(var t=0,e=0,n=this.graphicalMusicSheet.ParentMusicSheet.Instruments;e<n.length;e++){var i=n[e];if(i.Voices.length>0&&i.Voices[0].Visible){var r=new f.GraphicalLabel(i.NameLabel,this.rules.InstrumentLabelTextHeight,p.TextAlignment.LeftCenter);r.setLabelPositionAndShapeBorders(),t=Math.max(t,r.PositionAndShape.MarginSize.width)}}return t},t.prototype.calculateSheetLabelBoundingBoxes=function(){var t=this.graphicalMusicSheet.ParentMusicSheet;if(void 0!==t.Title){var e=new f.GraphicalLabel(t.Title,this.rules.SheetTitleHeight,p.TextAlignment.CenterBottom);this.graphicalMusicSheet.Title=e,e.setLabelPositionAndShapeBorders()}if(void 0!==t.Subtitle){var n=new f.GraphicalLabel(t.Subtitle,this.rules.SheetSubtitleHeight,p.TextAlignment.CenterCenter);this.graphicalMusicSheet.Subtitle=n,n.setLabelPositionAndShapeBorders()}if(void 0!==t.Composer){var i=new f.GraphicalLabel(t.Composer,this.rules.SheetComposerHeight,p.TextAlignment.RightCenter);this.graphicalMusicSheet.Composer=i,i.setLabelPositionAndShapeBorders()}if(void 0!==t.Lyricist){var r=new f.GraphicalLabel(t.Lyricist,this.rules.SheetAuthorHeight,p.TextAlignment.LeftCenter);this.graphicalMusicSheet.Lyricist=r,r.setLabelPositionAndShapeBorders()}},t.prototype.checkMeasuresForWholeRestNotes=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,o=n.MusicSystems.length;i<o;++i)for(var s=n.MusicSystems[i],a=0,u=s.StaffLines.length;a<u;++a)for(var l=s.StaffLines[a],c=0,h=l.Measures.length;c<h;++c){var f=l.Measures[c];if(1===f.staffEntries.length){var p=f.staffEntries[0];if(p.notes.length>0&&p.notes[0].length>0){var d=p.notes[0][0];void 0===d.sourceNote.Pitch&&new r.Fraction(1,2).lt(d.sourceNote.Length)&&this.layoutMeasureWithWholeRest(d,p,f)}}}},t.prototype.optimizeRestNotePlacement=function(t,e){if(0!==t.notes.length){var n=t.notes[0];if(0!==n.length){var i=n[0],r=void 0===i.sourceNote.Pitch;if(2===t.notes.length){var o=!1,s=t.notes[1];if(s.length>0){var a=s[0];o=void 0===a.sourceNote.Pitch}r&&o?this.calculateTwoRestNotesPlacementWithCollisionDetection(t):(r||o)&&this.calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote(t)}else if(r&&t!==e.staffEntries[0]&&t!==e.staffEntries[e.staffEntries.length-1]){var u=e.staffEntries.indexOf(t),l=e.staffEntries[u-1],c=e.staffEntries[u+1];if(1===l.notes.length){var h=l.notes[0][0];if(void 0!==h.sourceNote.NoteBeam&&1===c.notes.length){var f=c.notes[0][0];void 0!==f.sourceNote.NoteBeam&&h.sourceNote.NoteBeam===f.sourceNote.NoteBeam&&(this.calculateRestNotePlacementWithinGraphicalBeam(t,i,h,c,f),t.PositionAndShape.calculateBoundingBox())}}}}}},t.prototype.getRelativePositionInStaffLineFromTimestamp=function(t,e,n,i,o){void 0===o&&(o=0);var s=new c.PointF2D,a=void 0,u=void 0,l=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,h=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),f=Math.min(Math.floor(h),l-1),p=Math.min(Math.ceil(h),l-1);if(f<0||e<0)return s;if(a=this.getFirstLeftNotNullStaffEntryFromContainer(f,e,i),u=this.getFirstRightNotNullStaffEntryFromContainer(p,e,i),void 0!==a&&void 0!==u){var d=a.parentMeasure.PositionAndShape.RelativePosition.x;o>0&&(d=o);var b=a.PositionAndShape.RelativePosition.x+d,m=u.PositionAndShape.RelativePosition.x+u.parentMeasure.PositionAndShape.RelativePosition.x;o>0&&(m=u.PositionAndShape.RelativePosition.x+d);var y=0;if(a!==u){var v=a.getAbsoluteTimestamp(),g=u.getAbsoluteTimestamp(),_=r.Fraction.minus(t,v);
y=_.RealValue/r.Fraction.minus(g,v).RealValue}a.parentMeasure.ParentStaffLine!==u.parentMeasure.ParentStaffLine&&(a.parentMeasure.ParentStaffLine===n?m=n.PositionAndShape.Size.width:b=n.PositionAndShape.RelativePosition.x),s=new c.PointF2D(b+(m-b)*y,0)}return s},t.prototype.getRelativeXPositionFromTimestamp=function(t){var e=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length,n=this.graphicalMusicSheet.GetInterpolatedIndexInVerticalContainers(t),i=Math.max(0,Math.min(Math.round(n),e-1)),r=this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].getFirstNonNullStaffEntry(),o=r.PositionAndShape.RelativePosition.x+r.parentMeasure.PositionAndShape.RelativePosition.x;return o},t.prototype.calculatePageLabels=function(t){var e=10;if(t.MusicSystems.length>0){var n=t.MusicSystems[0];e=n.PositionAndShape.RelativePosition.y+n.PositionAndShape.BorderTop}if(void 0!==this.graphicalMusicSheet.Title){var i=this.graphicalMusicSheet.Title;i.PositionAndShape.Parent=t.PositionAndShape,t.PositionAndShape.ChildElements.push(i.PositionAndShape);var r=new c.PointF2D;r.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,r.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight,i.PositionAndShape.RelativePosition=r,t.Labels.push(i)}if(void 0!==this.graphicalMusicSheet.Subtitle){var o=this.graphicalMusicSheet.Subtitle;o.PositionAndShape.Parent=t.PositionAndShape,t.PositionAndShape.ChildElements.push(o.PositionAndShape);var r=new c.PointF2D;r.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth/2,r.y=this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.SheetMinimumDistanceBetweenTitleAndSubtitle,o.PositionAndShape.RelativePosition=r,t.Labels.push(o)}if(void 0!==this.graphicalMusicSheet.Composer){var s=this.graphicalMusicSheet.Composer;s.PositionAndShape.Parent=t.PositionAndShape,t.PositionAndShape.ChildElements.push(s.PositionAndShape),s.setLabelPositionAndShapeBorders();var r=new c.PointF2D;r.x=this.graphicalMusicSheet.ParentMusicSheet.pageWidth-this.rules.PageRightMargin,r.y=e-this.rules.SystemComposerDistance,s.PositionAndShape.RelativePosition=r,t.Labels.push(s)}if(void 0!==this.graphicalMusicSheet.Lyricist){var a=this.graphicalMusicSheet.Lyricist;a.PositionAndShape.Parent=t.PositionAndShape,t.PositionAndShape.ChildElements.push(a.PositionAndShape),a.setLabelPositionAndShapeBorders();var r=new c.PointF2D;r.x=this.rules.PageLeftMargin,r.y=e-this.rules.SystemComposerDistance,a.PositionAndShape.RelativePosition=r,t.Labels.push(a)}},t.prototype.createGraphicalTies=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.CompleteNumberOfStaves;n++)for(var i=0;i<e.VerticalSourceStaffEntryContainers.length;i++){var r=e.VerticalSourceStaffEntryContainers[i].StaffEntries[n];if(void 0!==r)for(var o=this.graphicalMusicSheet.findGraphicalStaffEntryFromMeasureList(n,t,r),s=0,a=r.VoiceEntries.length;s<a;++s)for(var u=r.VoiceEntries[s],l=0,c=u.Notes.length;l<c;++l){var h=u.Notes[l];if(void 0!==h.NoteTie){var f=h.NoteTie;this.handleTie(f,o,n,t)}}}},t.prototype.handleTie=function(t,e,n,i){for(var o=e,s=void 0,a=void 0,u=void 0,l=0;l<t.Fractions.length;l++){var c=void 0,h=void 0,f=e.parentVerticalContainer.Index;if(h=0===l?r.Fraction.plus(e.getAbsoluteTimestamp(),t.Start.calculateNoteLengthWithoutTie()):r.Fraction.plus(o.getAbsoluteTimestamp(),t.Fractions[l-1]),c=this.graphicalMusicSheet.GetVerticalContainerFromTimestamp(h,f+1),void 0!==c&&(s=c.StaffEntries[n],a=o.findEndTieGraphicalNoteFromNote(t.Start),void 0!==s&&(u=s.findEndTieGraphicalNoteFromNote(t.Start))),void 0!==a&&void 0!==u&&void 0!==s){var p=this.createGraphicalTie(t,o,s,a,u);o.GraphicalTies.push(p),this.staffEntriesWithGraphicalTies.indexOf(o)>=0&&this.staffEntriesWithGraphicalTies.push(o)}void 0!==s&&(s.parentMeasure!==o.parentMeasure&&i++,o=s,s=this.graphicalMusicSheet.findNextGraphicalStaffEntry(n,i,o))}},t.prototype.createAccidentalCalculators=function(){var t=[],e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(void 0!==e)for(var n=0;n<e.CompleteNumberOfStaves;n++){var i=new v.AccidentalCalculator(this.symbolFactory);if(t.push(i),void 0!==e.FirstInstructionsStaffEntries[n])for(var r=0,o=e.FirstInstructionsStaffEntries[n].Instructions.length;r<o;++r){var s=e.FirstInstructionsStaffEntries[n].Instructions[r];if(s instanceof d.KeyInstruction){var a=s;i.ActiveKeyInstruction=a}}}return t},t.prototype.calculateVerticalContainersList=function(){for(var t=this.graphicalMusicSheet.MeasureList[0].length,e=0;e<this.graphicalMusicSheet.MeasureList.length;e++)for(var n=0;n<t;n++)for(var i=this.graphicalMusicSheet.MeasureList[e][n],r=0,o=i.staffEntries.length;r<o;++r){var s=i.staffEntries[r],a=this.graphicalMusicSheet.getOrCreateVerticalContainer(s.getAbsoluteTimestamp());void 0!==a&&(a.StaffEntries[n]=s,s.parentVerticalContainer=a)}},t.prototype.setIndecesToVerticalGraphicalContainers=function(){for(var t=0;t<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;t++)this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].Index=t},t.prototype.createGraphicalMeasuresForSourceMeasure=function(t,e,n,i,r,o){this.initStaffMeasuresCreation();for(var s=[],a=[],u=[],l=[],c=0;c<t.CompleteNumberOfStaves;c++){var h=this.createGraphicalMeasure(t,i[c],u,a,e[c],o,r,n,c,l);this.staffMeasureCreatedCalculations(h),s.push(h)}return this.graphicalMusicSheet.sourceToGraphicalMeasureLinks.setValue(t,s),s},t.prototype.createGraphicalMeasure=function(e,n,i,u,l,c,f,p,b,m){var v=this.graphicalMusicSheet.ParentMusicSheet.getStaffFromIndex(b),_=this.symbolFactory.createStaffMeasure(e,v);if(_.hasError=e.getErrorInMeasure(b),void 0!==e.FirstInstructionsStaffEntries[b])for(var x=0,w=e.FirstInstructionsStaffEntries[b].Instructions.length;x<w;++x){var S=e.FirstInstructionsStaffEntries[b].Instructions[x];if(S instanceof d.KeyInstruction){var E=d.KeyInstruction.copy(S);0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&_.ParentStaff.ParentInstrument.MidiInstrumentId!==g.MidiInstrument.Percussion&&void 0!==t.transposeCalculator&&t.transposeCalculator.transposeKey(E,this.graphicalMusicSheet.ParentMusicSheet.Transpose),l.ActiveKeyInstruction=E}}for(var x=0,w=e.StaffLinkedExpressions[b].length;x<w;++x){var T=e.StaffLinkedExpressions[b][x];if(void 0!==T.OctaveShiftStart){var P=T.OctaveShiftStart;f[b]=new y.OctaveShiftParams(P,T.AbsoluteTimestamp,P.ParentEndMultiExpression.AbsoluteTimestamp)}}for(var M=0;M<e.VerticalSourceStaffEntryContainers.length;M++){var O=e.VerticalSourceStaffEntryContainers[M].StaffEntries[b];if(void 0!==O){for(var x=0,w=O.Instructions.length;x<w;++x){var A=O.Instructions[x];A instanceof s.ClefInstruction&&(c[b]=A)}var C=this.symbolFactory.createStaffEntry(O,_);_.staffEntries.length>M?_.addGraphicalStaffEntryAtTimestamp(C):_.addGraphicalStaffEntry(C);var k=[];void 0!==O.Link&&(O.findLinkedNotes(k),this.handleStaffEntryLink(C,m));var R=a.OctaveEnum.NONE;if(void 0!==f[b]){var I=f[b];I.getAbsoluteStartTimestamp.lte(O.AbsoluteTimestamp)&&O.AbsoluteTimestamp.lte(I.getAbsoluteEndTimestamp)&&(R=I.getOpenOctaveShift.Type)}for(var x=0,w=O.VoiceEntries.length;x<w;++x){var N=O.VoiceEntries[x];this.handleVoiceEntryGraceNotes(N.graceVoiceEntriesBefore,C.graceStaffEntriesBefore,C,l,c[b],R,p,n,i,u),R=this.handleVoiceEntry(N,C,l,p,n,c[b],i,u,R,!1,k,O),this.handleVoiceEntryGraceNotes(N.graceVoiceEntriesAfter,C.graceStaffEntriesAfter,C,l,c[b],R,p,n,i,u)}if(O.Instructions.length>0){var L=O.Instructions[0];this.symbolFactory.createInStaffClef(C,L)}void 0!==O.ChordContainer&&(O.ParentStaff.ParentInstrument.HasChordSymbols=!0,this.symbolFactory.createChordSymbol(O,C,this.graphicalMusicSheet.ParentMusicSheet.Transpose))}}if(n.size()>0&&this.handleOpenTies(_,u,n,c[b],f[b]),l.doCalculationsAtEndOfMeasure(),void 0!==e.LastInstructionsStaffEntries[b])for(var F=e.LastInstructionsStaffEntries[b],x=0,w=F.Instructions.length;x<w;++x){var A=F.Instructions[x];A instanceof s.ClefInstruction&&(c[b]=A)}for(var x=0,w=e.StaffLinkedExpressions[b].length;x<w;++x){var T=e.StaffLinkedExpressions[b][x];void 0!==T.OctaveShiftEnd&&void 0!==f[b]&&T.OctaveShiftEnd===f[b].getOpenOctaveShift&&(f[b]=void 0)}if(0===_.staffEntries.length){var O=new h.SourceStaffEntry(void 0,v),B=new o.Note(void 0,O,r.Fraction.createFromFraction(e.Duration),void 0),C=this.symbolFactory.createStaffEntry(O,_);_.addGraphicalStaffEntry(C),C.relInMeasureTimestamp=new r.Fraction(0,1);var D=[];C.notes.push(D);var j=this.symbolFactory.createNote(B,C,new s.ClefInstruction,a.OctaveEnum.NONE,void 0);D.push(j),C.PositionAndShape.ChildElements.push(j.PositionAndShape)}return _},t.prototype.checkVoiceEntriesForTechnicalInstructions=function(t,e){for(var n=0,i=t.TechnicalInstructions.length;n<i;++n){var r=t.TechnicalInstructions[n];this.symbolFactory.createGraphicalTechnicalInstruction(r,e)}},t.prototype.checkNoteForAccidental=function(t,e,n,i,r){void 0===r&&(r=!1);var o=t.sourceNote.Pitch,s=this.graphicalMusicSheet.ParentMusicSheet.Transpose;0!==s&&t.sourceNote.ParentStaffEntry.ParentStaff.ParentInstrument.MidiInstrumentId!==g.MidiInstrument.Percussion&&(o=t.Transpose(e.ActiveKeyInstruction,n,s,i),void 0!==t.sourceNote.NoteTie&&(t.sourceNote.NoteTie.BaseNoteYPosition=t.PositionAndShape.RelativePosition.y)),t.sourceNote.halfTone=o.getHalfTone();var a=1;r&&(a=this.rules.GraceNoteScalingFactor),e.checkAccidental(t,o,r,a)},t.prototype.createStaffEntryForTieNote=function(t,e,n){var i;return i=this.symbolFactory.createStaffEntry(n.Start.ParentStaffEntry,t),i.relInMeasureTimestamp=r.Fraction.minus(e,t.parentSourceMeasure.AbsoluteTimestamp),this.resetYPositionForLeadSheet(i.PositionAndShape),t.addGraphicalStaffEntryAtTimestamp(i),i},t.prototype.updateSkyBottomLines=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s){var u=o.StaffLines[s];this.updateSkyBottomLine(u)}},t.prototype.handleStaffEntries=function(){for(var t=0,e=this.graphicalMusicSheet.MeasureList.length;t<e;++t)for(var n=this.graphicalMusicSheet.MeasureList[t],i=0,r=n.length;i<r;++i)for(var o=n[i],s=0,a=o.staffEntries.length;s<a;++s){var u=o.staffEntries[s];void 0!==u.parentMeasure&&u.notes.length>0&&u.notes[0].length>0&&(this.layoutVoiceEntries(u),this.layoutStaffEntry(u))}},t.prototype.calculateSkyBottomLines=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s){var u=o.StaffLines[s];this.calculateSkyBottomLine(u)}},t.prototype.calculateBeams=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var u=o.StaffLines[s],l=0,c=u.Measures.length;l<c;++l)for(var h=u.Measures[l],f=0,p=h.staffEntries.length;f<p;++f){var d=h.staffEntries[f];this.layoutBeams(d)}},t.prototype.calculateStaffEntryArticulationMarks=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var u=o.StaffLines[s],l=0,c=u.Measures.length;l<c;++l)for(var h=u.Measures[l],f=0,p=h.staffEntries.length;f<p;++f)for(var d=h.staffEntries[f],b=0,m=d.sourceStaffEntry.VoiceEntries.length;b<m;++b){var y=d.sourceStaffEntry.VoiceEntries[b];y.Articulations.length>0&&this.layoutArticulationMarks(y.Articulations,y,d)}},t.prototype.calculateOrnaments=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var u=o.StaffLines[s],l=0,c=u.Measures.length;l<c;++l)for(var h=u.Measures[l],f=0,p=h.staffEntries.length;f<p;++f)for(var d=h.staffEntries[f],b=0,m=d.sourceStaffEntry.VoiceEntries.length;b<m;++b){var y=d.sourceStaffEntry.VoiceEntries[b];if(void 0!==y.OrnamentContainer){if(y.hasTie()&&!d.relInMeasureTimestamp.Equals(y.Timestamp))continue;this.layoutOrnament(y.OrnamentContainer,y,d),this.staffEntriesWithOrnaments.indexOf(d)===-1&&this.staffEntriesWithOrnaments.push(d)}}},t.prototype.optimizeRestPlacement=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var u=o.StaffLines[s],l=0,c=u.Measures.length;l<c;++l)for(var h=u.Measures[l],f=0,p=h.staffEntries.length;f<p;++f){var d=h.staffEntries[f];this.optimizeRestNotePlacement(d,h)}},t.prototype.calculateTwoRestNotesPlacementWithCollisionDetection=function(t){var e=t.notes[0][0],n=t.notes[1][0];n.PositionAndShape.RelativePosition=new c.PointF2D(0,2.5),t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement(),e.PositionAndShape.computeNonOverlappingPositionWithMargin(t.PositionAndShape,m.ColDirEnum.Up,new c.PointF2D(0,n.PositionAndShape.RelativePosition.y));var i=e.PositionAndShape.RelativePosition;i.y-=1,e.PositionAndShape.RelativePosition=i,t.PositionAndShape.calculateBoundingBox()},t.prototype.calculateRestNotePlacementWithCollisionDetectionFromGraphicalNote=function(t){var e,n;void 0===t.notes[0][0].sourceNote.Pitch?(e=t.notes[0][0],n=t.notes[1]):(n=t.notes[0],e=t.notes[1][0]);var i=!1;t.PositionAndShape.calculateAbsolutePositionsRecursiveWithoutTopelement();for(var r=0,o=n.length;r<o;++r){var s=n[r];if(e.PositionAndShape.marginCollisionDetection(s.PositionAndShape)){i=!0;break}}if(i)if(e.sourceNote.ParentVoiceEntry.ParentVoice instanceof b.LinkedVoice){var a=n[0].PositionAndShape.BorderMarginBottom+n[0].PositionAndShape.RelativePosition.y;e.PositionAndShape.RelativePosition=new c.PointF2D(0,a-e.PositionAndShape.BorderMarginTop+.5)}else{var u=n[n.length-1],l=u.PositionAndShape.BorderMarginTop+u.PositionAndShape.RelativePosition.y;if(n[0].sourceNote.ParentVoiceEntry.ParentVoice instanceof b.LinkedVoice)e.PositionAndShape.RelativePosition=new c.PointF2D(0,l-e.PositionAndShape.BorderMarginBottom-.5);else{var a=n[0].PositionAndShape.BorderMarginBottom+n[0].PositionAndShape.RelativePosition.y;a<2?e.PositionAndShape.RelativePosition=new c.PointF2D(0,a-e.PositionAndShape.BorderMarginTop+.5):e.PositionAndShape.RelativePosition=new c.PointF2D(0,l-e.PositionAndShape.BorderMarginBottom-0)}}t.PositionAndShape.calculateBoundingBox()},t.prototype.calculateTieCurves=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var n=this.graphicalMusicSheet.MusicPages[t],i=0,r=n.MusicSystems.length;i<r;++i)for(var o=n.MusicSystems[i],s=0,a=o.StaffLines.length;s<a;++s)for(var u=o.StaffLines[s],l=0,c=u.Measures.length;l<c;++l)for(var h=u.Measures[l],f=0,p=h.staffEntries.length;f<p;++f)for(var d=h.staffEntries[f],b=d.GraphicalTies,m=0,y=b.length;m<y;++m){var v=b[m];if(void 0!==v.StartNote&&v.StartNote.parentStaffEntry===d){var g=v.StartNote.parentStaffEntry.parentMeasure.ParentStaffLine!==v.EndNote.parentStaffEntry.parentMeasure.ParentStaffLine;this.layoutGraphicalTie(v,g)}}},t.prototype.calculateLyricsPosition=function(){for(var t=0,e=this.graphicalMusicSheet.ParentMusicSheet.Instruments.length;t<e;++t){var n=this.graphicalMusicSheet.ParentMusicSheet.Instruments[t];n.HasLyrics&&n.LyricVersesNumbers.length>0&&n.LyricVersesNumbers.sort()}for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t)for(var i=this.graphicalMusicSheet.MusicPages[t],r=0,o=i.MusicSystems.length;r<o;++r)for(var s=i.MusicSystems[r],a=0,u=s.StaffLines.length;a<u;++a){var l=s.StaffLines[a];this.calculateSingleStaffLineLyricsPosition(l,l.ParentStaff.ParentInstrument.LyricVersesNumbers)}},t.prototype.calculateDynamicExpressions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.StaffLinkedExpressions.length;n++)if(this.graphicalMusicSheet.MeasureList[t][n].ParentStaff.ParentInstrument.Visible)for(var i=0;i<e.StaffLinkedExpressions[n].length;i++)(void 0!==e.StaffLinkedExpressions[n][i].InstantaniousDynamic||void 0!==e.StaffLinkedExpressions[n][i].StartingContinuousDynamic&&e.StaffLinkedExpressions[n][i].StartingContinuousDynamic.StartMultiExpression===e.StaffLinkedExpressions[n][i]&&0===e.StaffLinkedExpressions[n][i].UnknownList.length)&&this.calculateDynamicExpressionsForSingleMultiExpression(e.StaffLinkedExpressions[n][i],t,n)},t.prototype.calculateOctaveShifts=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.StaffLinkedExpressions.length;n++)if(this.graphicalMusicSheet.MeasureList[t][n].ParentStaff.ParentInstrument.Visible)for(var i=0;i<e.StaffLinkedExpressions[n].length;i++)void 0!==e.StaffLinkedExpressions[n][i].OctaveShiftStart&&this.calculateSingleOctaveShift(e,e.StaffLinkedExpressions[n][i],t,n)},t.prototype.getFirstLeftNotNullStaffEntryFromContainer=function(t,e,n){if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(var i=t-1;i>=0;i--)if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e]},t.prototype.getFirstRightNotNullStaffEntryFromContainer=function(t,e,n){if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[t].StaffEntries[e];for(var i=t+1;i<this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers.length;i++)if(void 0!==this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e])return this.graphicalMusicSheet.VerticalGraphicalStaffEntryContainers[i].StaffEntries[e]},t.prototype.calculateWordRepetitionInstructions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++){for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0,i=e.FirstRepetitionInstructions.length;n<i;++n){var r=e.FirstRepetitionInstructions[n];this.calculateWordRepetitionInstruction(r,t)}for(var n=0,i=e.LastRepetitionInstructions.length;n<i;++n){var r=e.LastRepetitionInstructions[n];this.calculateWordRepetitionInstruction(r,t)}}},t.prototype.calculateRepetitionEndings=function(){for(var t=this.graphicalMusicSheet.ParentMusicSheet,e=0,n=t.Repetitions.length;e<n;++e){var i=t.Repetitions[e];this.calcGraphicalRepetitionEndingsRecursively(i)}},t.prototype.calculateTempoExpressions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.TempoExpressions.length;n++)this.calculateTempoExpressionsForSingleMultiTempoExpression(e,e.TempoExpressions[n],t)},t.prototype.calculateMoodAndUnknownExpressions=function(){for(var t=0;t<this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length;t++)for(var e=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures[t],n=0;n<e.StaffLinkedExpressions.length;n++)if(this.graphicalMusicSheet.MeasureList[t][n].ParentStaff.ParentInstrument.Visible)for(var i=0;i<e.StaffLinkedExpressions[n].length;i++)(e.StaffLinkedExpressions[n][i].MoodList.length>0||e.StaffLinkedExpressions[n][i].UnknownList.length>0)&&this.calculateMoodAndUnknownExpression(e.StaffLinkedExpressions[n][i],t,n)},t}();e.MusicSheetCalculator=S},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.SingleThin=0]="SingleThin",t[t.DoubleThin=1]="DoubleThin",t[t.ThinBold=2]="ThinBold",t[t.BoldThinDots=3]="BoldThinDots",t[t.DotsThinBold=4]="DotsThinBold",t[t.DotsBoldBoldDots=5]="DotsBoldBoldDots",t[t.None=6]="None"}(n=e.SystemLinesEnum||(e.SystemLinesEnum={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(71),o=n(483),s=n(136),a=n(22),u=n(61),l=n(243);e.unitInPixels=10;var c=function(t){function n(e,n){void 0===n&&(n=!1);var i=t.call(this,new l.VexFlowTextMeasurer,n)||this;return i.zoom=1,i.renderer=new r.Flow.Renderer(e,r.Flow.Renderer.Backends.CANVAS),i.vfctx=i.renderer.getContext(),i.ctx=i.vfctx.vexFlowCanvasContext,i}return i(n,t),n.prototype.scale=function(t){this.zoom=t,this.vfctx.scale(t,t)},n.prototype.resize=function(t,e){this.renderer.resize(t,e)},n.prototype.translate=function(t,e){this.ctx.translate(t,e)},n.prototype.calculatePixelDistance=function(t){return t*e.unitInPixels},n.prototype.drawMeasure=function(t){return t.setAbsoluteCoordinates(t.PositionAndShape.AbsolutePosition.x*e.unitInPixels,t.PositionAndShape.AbsolutePosition.y*e.unitInPixels),t.draw(this.vfctx)},n.prototype.drawInstrumentBrace=function(t,e){},n.prototype.drawGroupBracket=function(t,e){},n.prototype.renderLabel=function(t,n,i,r,o,s){var a=this.vfctx.vexFlowCanvasContext,l=a.font;a.font=u.VexFlowConverter.font(t.Label.fontHeight*e.unitInPixels,t.Label.fontStyle,t.Label.font),a.fillText(t.Label.text,s.x,s.y+o),a.font=l},n.prototype.renderRectangle=function(t,e,n){var i=this.ctx.fillStyle;this.ctx.fillStyle=u.VexFlowConverter.style(n),this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.fillStyle=i},n.prototype.applyScreenTransformation=function(t){return new a.PointF2D(t.x*e.unitInPixels,t.y*e.unitInPixels)},n.prototype.applyScreenTransformationForRect=function(t){return new s.RectangleF2D(t.x*e.unitInPixels,t.y*e.unitInPixels,t.width*e.unitInPixels,t.height*e.unitInPixels)},n}(o.MusicSheetDrawer);e.VexFlowMusicSheetDrawer=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(143),o=n(14),s=n(514),a=n(14),u=n(70),l=function(){function t(t,e,n){this.notes=[],this.articulations=[],this.technicalInstructions=[],this.lyricsEntries=new u.default,this.arpeggiosNotesIndices=[],this.timestamp=t,this.parentVoice=e,this.parentSourceStaffEntry=n}return Object.defineProperty(t.prototype,"ParentSourceStaffEntry",{get:function(){return this.parentSourceStaffEntry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentVoice",{get:function(){return this.parentVoice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Timestamp",{get:function(){return this.timestamp},set:function(t){this.timestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Notes",{get:function(){return this.notes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Articulations",{get:function(){return this.articulations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TechnicalInstructions",{get:function(){return this.technicalInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricsEntries",{get:function(){return this.lyricsEntries},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ArpeggiosNotesIndices",{get:function(){return this.arpeggiosNotesIndices},set:function(t){this.arpeggiosNotesIndices=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OrnamentContainer",{get:function(){return this.ornamentContainer},set:function(t){this.ornamentContainer=t},enumerable:!0,configurable:!0}),t.isSupportedArticulation=function(t){switch(t){case c.accent:case c.strongaccent:case c.invertedstrongaccent:case c.staccato:case c.staccatissimo:case c.spiccato:case c.tenuto:case c.fermata:case c.invertedfermata:case c.breathmark:case c.caesura:case c.lefthandpizzicato:case c.naturalharmonic:case c.snappizzicato:case c.upbow:case c.downbow:return!0;default:return!1}},t.prototype.hasTie=function(){for(var t=0,e=this.Notes.length;t<e;++t){var n=this.Notes[t];if(void 0!==n.NoteTie)return!0}return!1},t.prototype.hasSlur=function(){for(var t=0,e=this.Notes.length;t<e;++t){var n=this.Notes[t];if(n.NoteSlurs.length>0)return!0}return!1},t.prototype.isStaccato=function(){for(var t=0,e=this.Articulations.length;t<e;++t){var n=this.Articulations[t];if(n===c.staccato)return!0}return!1},t.prototype.isAccent=function(){for(var t=0,e=this.Articulations.length;t<e;++t){var n=this.Articulations[t];if(n===c.accent||n===c.strongaccent)return!0}return!1},t.prototype.getVerseNumberForLyricEntry=function(t){var e=1;return this.lyricsEntries.forEach(function(n,i){t===i&&(e=n)}),e},t.prototype.createVoiceEntriesForOrnament=function(t,e){void 0===t&&(t=this);var n=[];if(void 0!==t.ornamentContainer){var r=this.notes[0],o=r.calculateNoteLengthWithoutTie(),u=t.ParentVoice,l=t.Timestamp,c=i.Fraction.createFromFraction(l);switch(t.ornamentContainer.GetOrnament){case s.OrnamentEnum.Trill:var h=new i.Fraction(o.Numerator,8*o.Denominator),f=r.Pitch.getTransposedPitch(1),p=e.getAlterationForPitch(f);t.OrnamentContainer.AccidentalAbove!==a.AccidentalEnum.NONE&&(p=t.ornamentContainer.AccidentalAbove);for(var d=0;d<8;d++)c=i.Fraction.plus(l,new i.Fraction(d*h.Numerator,h.Denominator)),d%2===0?this.createBaseVoiceEntry(c,h,u,r,n):this.createAlteratedVoiceEntry(c,h,u,f,p,n);break;case s.OrnamentEnum.Turn:var b=new i.Fraction(o.Numerator,4*o.Denominator),m=r.Pitch.getTransposedPitch(-1),y=e.getAlterationForPitch(m),f=r.Pitch.getTransposedPitch(1),v=e.getAlterationForPitch(f);this.createAlteratedVoiceEntry(c,b,u,f,v,n),c.Add(b),this.createBaseVoiceEntry(c,b,u,r,n),c.Add(b),this.createAlteratedVoiceEntry(c,b,u,m,y,n),c.Add(b),this.createBaseVoiceEntry(c,b,u,r,n);break;case s.OrnamentEnum.InvertedTurn:var g=new i.Fraction(o.Numerator,4*o.Denominator),m=r.Pitch.getTransposedPitch(-1),y=e.getAlterationForPitch(m),f=r.Pitch.getTransposedPitch(1),v=e.getAlterationForPitch(f);this.createAlteratedVoiceEntry(c,g,u,m,y,n),c.Add(g),this.createBaseVoiceEntry(c,g,u,r,n),c.Add(g),this.createAlteratedVoiceEntry(c,g,u,f,v,n),c.Add(g),this.createBaseVoiceEntry(c,g,u,r,n);break;case s.OrnamentEnum.DelayedTurn:var _=new i.Fraction(o.Numerator,2*o.Denominator),m=r.Pitch.getTransposedPitch(-1),y=e.getAlterationForPitch(m),f=r.Pitch.getTransposedPitch(1),v=e.getAlterationForPitch(f);this.createBaseVoiceEntry(c,_,u,r,n),c=i.Fraction.plus(l,_),_.Denominator=8*o.Denominator,this.createAlteratedVoiceEntry(c,_,u,f,v,n),c.Add(_),this.createBaseVoiceEntry(c,_,u,r,n),c.Add(_),this.createAlteratedVoiceEntry(c,_,u,m,y,n),c.Add(_),this.createBaseVoiceEntry(c,_,u,r,n);break;case s.OrnamentEnum.DelayedInvertedTurn:var x=new i.Fraction(o.Numerator,2*o.Denominator),m=r.Pitch.getTransposedPitch(-1),y=e.getAlterationForPitch(m),f=r.Pitch.getTransposedPitch(1),v=e.getAlterationForPitch(f);this.createBaseVoiceEntry(c,x,u,r,n),c=i.Fraction.plus(l,x),x.Denominator=8*o.Denominator,this.createAlteratedVoiceEntry(c,x,u,m,y,n),c.Add(x),this.createBaseVoiceEntry(c,x,u,r,n),c.Add(x),this.createAlteratedVoiceEntry(c,x,u,f,v,n),c.Add(x),this.createBaseVoiceEntry(c,x,u,r,n);break;case s.OrnamentEnum.Mordent:var w=new i.Fraction(o.Numerator,4*o.Denominator),f=r.Pitch.getTransposedPitch(1),p=e.getAlterationForPitch(f);this.createBaseVoiceEntry(c,w,u,r,n),c.Add(w),this.createAlteratedVoiceEntry(c,w,u,f,p,n),w.Denominator=2*o.Denominator,c=i.Fraction.plus(l,w),this.createBaseVoiceEntry(c,w,u,r,n);break;case s.OrnamentEnum.InvertedMordent:var S=new i.Fraction(o.Numerator,4*o.Denominator),m=r.Pitch.getTransposedPitch(-1),p=e.getAlterationForPitch(m);this.createBaseVoiceEntry(c,S,u,r,n),c.Add(S),this.createAlteratedVoiceEntry(c,S,u,m,p,n),S.Denominator=2*o.Denominator,c=i.Fraction.plus(l,S),this.createBaseVoiceEntry(c,S,u,r,n);break;default:throw new RangeError}return n}},t.prototype.createBaseVoiceEntry=function(e,n,i,s,a){var u=new t(e,i,s.ParentStaffEntry),l=new o.Pitch(s.Pitch.FundamentalNote,s.Pitch.Octave,s.Pitch.Accidental),c=new r.Note(u,void 0,n,l);u.Notes.push(c),a.push(u)},t.prototype.createAlteratedVoiceEntry=function(e,n,i,s,a,u){var l=new t(e,i,void 0),c=new o.Pitch(s.FundamentalNote,s.Octave,a),h=new r.Note(l,void 0,n,c);l.Notes.push(h),u.push(l)},t}();e.VoiceEntry=l;var c;!function(t){t[t.accent=0]="accent",t[t.strongaccent=1]="strongaccent",t[t.invertedstrongaccent=2]="invertedstrongaccent",t[t.staccato=3]="staccato",t[t.staccatissimo=4]="staccatissimo",t[t.spiccato=5]="spiccato",t[t.tenuto=6]="tenuto",t[t.fermata=7]="fermata",t[t.invertedfermata=8]="invertedfermata",t[t.breathmark=9]="breathmark",t[t.caesura=10]="caesura",t[t.lefthandpizzicato=11]="lefthandpizzicato",t[t.naturalharmonic=12]="naturalharmonic",t[t.snappizzicato=13]="snappizzicato",t[t.upbow=14]="upbow",t[t.downbow=15]="downbow",t[t.scoop=16]="scoop",t[t.plop=17]="plop",t[t.doit=18]="doit",t[t.falloff=19]="falloff",t[t.stress=20]="stress",t[t.unstress=21]="unstress",t[t.detachedlegato=22]="detachedlegato",t[t.otherarticulation=23]="otherarticulation"}(c=e.ArticulationEnum||(e.ArticulationEnum={}))},function(t,e,n){function i(){o.call(this),this.children=[]}var r=n(11),o=n(253),s=n(151),a=new r.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}}),i.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},i.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.emit("added",this),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),i=this.getChildIndex(e);if(n<0||i<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[n]=e,this.children[i]=t}},i.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e},i.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(t);this.children.splice(n,1),this.children.splice(e,0,t)},i.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[t]},i.prototype.removeChild=function(t){var e=this.children.indexOf(t);if(e!==-1)return this.removeChildAt(e)},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),e.emit("removed",this),e},i.prototype.removeChildren=function(t,e){var n=t||0,i="number"==typeof e?e:this.children.length,r=i-n;if(r>0&&r<=i){for(var o=this.children.splice(n,r),s=0;s<o.length;++s)o[s].parent=null;return o}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},i.prototype.generateTexture=function(t,e,n){var i=this.getLocalBounds(),r=new s(t,0|i.width,0|i.height,n,e);return a.tx=-i.x,a.ty=-i.y,r.render(this,a),r},i.prototype.updateTransform=function(){if(this.visible){
this.displayObjectUpdateTransform();for(var t=0,e=this.children.length;t<e;++t)this.children[t].updateTransform()}},i.prototype.containerUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return r.Rectangle.EMPTY;for(var t,e,n,i=1/0,o=1/0,s=-(1/0),a=-(1/0),u=!1,l=0,c=this.children.length;l<c;++l){var h=this.children[l];h.visible&&(u=!0,t=this.children[l].getBounds(),i=i<t.x?i:t.x,o=o<t.y?o:t.y,e=t.width+t.x,n=t.height+t.y,s=s>e?s:e,a=a>n?a:n)}if(!u)return r.Rectangle.EMPTY;var f=this._bounds;f.x=i,f.y=o,f.width=s-i,f.height=a-o,this._currentBounds=f}return this._currentBounds},i.prototype.containerGetBounds=i.prototype.getBounds,i.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=r.Matrix.IDENTITY;for(var e=0,n=this.children.length;e<n;++e)this.children[e].updateTransform();return this.worldTransform=t,this._currentBounds=null,this.getBounds(r.Matrix.IDENTITY)},i.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var e,n;if(this._mask||this._filters){for(t.currentRenderer.flush(),this._filters&&t.filterManager.pushFilter(this,this._filters),this._mask&&t.maskManager.pushMask(this,this._mask),t.currentRenderer.start(),this._renderWebGL(t),e=0,n=this.children.length;e<n;e++)this.children[e].renderWebGL(t);t.currentRenderer.flush(),this._mask&&t.maskManager.popMask(this,this._mask),this._filters&&t.filterManager.popFilter(),t.currentRenderer.start()}else for(this._renderWebGL(t),e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},i.prototype._renderWebGL=function(t){},i.prototype._renderCanvas=function(t){},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask,t),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.prototype.destroy=function(t){if(o.prototype.destroy.call(this),t)for(var e=0,n=this.children.length;e<n;++e)this.children[e].destroy(t);this.removeChildren(),this.children=null}},function(t,e,n){function i(t,e,n){n=n||{},r.call(this,"WebGL",t,e,n),this.type=d.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!n.forceFXAA&&n.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:n.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new o(this),this.maskManager=new s(this),this.stencilManager=new a(this),this.filterManager=new u(this),this.blendModeManager=new l(this),this.currentRenderTarget=null,this.currentRenderer=new h(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var r=n(255),o=n(259),s=n(544),a=n(545),u=n(258),l=n(543),c=n(90),h=n(63),f=n(256),p=n(12),d=n(7);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,p.pluginTarget.mixin(i),i.glContextId=0,i.prototype._createContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=t,!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=i.glContextId++,t.id=this.glContextId,t.renderer=this},i.prototype._initContext=function(){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.renderTarget=new c(t,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",t),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!t.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new f])},i.prototype.render=function(t){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=t,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,t.filterArea=this.renderTarget.size,t.filters=this._FXAAFilter);var e=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e;var n=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?n.clearColor(0,0,0,0):n.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),n.clear(n.COLOR_BUFFER_BIT)),this.renderDisplayObject(t,this.renderTarget)}},i.prototype.renderDisplayObject=function(t,e,n){this.setRenderTarget(e),n&&e.clear(),this.filterManager.setFilterStack(e.filterStack),t.renderWebGL(this),this.currentRenderer.flush()},i.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},i.prototype.setRenderTarget=function(t){this.currentRenderTarget!==t&&(this.currentRenderTarget=t,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(t.stencilMaskStack))},i.prototype.resize=function(t,e){r.prototype.resize.call(this,t,e),this.filterManager.resize(t,e),this.renderTarget.resize(t,e),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},i.prototype.updateTexture=function(t){if(t=t.baseTexture||t,t.hasLoaded){var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture(),t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this)),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===d.SCALE_MODES.LINEAR?e.LINEAR:e.NEAREST),t.isPowerOfTwo?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._glTextures[e.id]}},i.prototype.destroyTexture=function(t){t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.gl.id]&&this.gl.deleteTexture(t._glTextures[this.gl.id])},i.prototype.handleContextLost=function(t){t.preventDefault()},i.prototype.handleContextRestored=function(){this._initContext();for(var t in p.BaseTextureCache)p.BaseTextureCache[t]._glTextures.length=0},i.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),r.prototype.destroy.call(this,t),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl=null},i.prototype._mapGlModes=function(){var t=this.gl;this.blendModes||(this.blendModes={},this.blendModes[d.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.ADD]=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[d.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SCREEN]=[t.SRC_ALPHA,t.ONE],this.blendModes[d.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],this.blendModes[d.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[d.DRAW_MODES.POINTS]=t.POINTS,this.drawModes[d.DRAW_MODES.LINES]=t.LINES,this.drawModes[d.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,this.drawModes[d.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLES]=t.TRIANGLES,this.drawModes[d.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,this.drawModes[d.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN)}},function(t,e,n){function i(t,e,n,i,o){if(!e||!n)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=r.uid(),this.gl=t.renderer.gl,this.shaderManager=t,this.program=null,this.uniforms=i||{},this.attributes=o||{},this.textureCount=1,this.vertexSrc=e,this.fragmentSrc=n,this.init()}var r=n(12);i.prototype.constructor=i,t.exports=i,i.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},i.prototype.cacheUniformLocations=function(t){for(var e=0;e<t.length;++e)this.uniforms[t[e]]._location=this.gl.getUniformLocation(this.program,t[e])},i.prototype.cacheAttributeLocations=function(t){for(var e=0;e<t.length;++e)this.attributes[t[e]]=this.gl.getAttribLocation(this.program,t[e])},i.prototype.compile=function(){var t=this.gl,e=this._glCompile(t.VERTEX_SHADER,this.vertexSrc),n=this._glCompile(t.FRAGMENT_SHADER,this.fragmentSrc),i=t.createProgram();return t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(i,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(i)),t.deleteProgram(i),i=null),t.deleteShader(e),t.deleteShader(n),this.program=i},i.prototype.syncUniform=function(t){var e,n,i=t._location,o=t.value,s=this.gl;switch(t.type){case"b":case"bool":case"boolean":s.uniform1i(i,o?1:0);break;case"i":case"1i":s.uniform1i(i,o);break;case"f":case"1f":s.uniform1f(i,o);break;case"2f":s.uniform2f(i,o[0],o[1]);break;case"3f":s.uniform3f(i,o[0],o[1],o[2]);break;case"4f":s.uniform4f(i,o[0],o[1],o[2],o[3]);break;case"v2":s.uniform2f(i,o.x,o.y);break;case"v3":s.uniform3f(i,o.x,o.y,o.z);break;case"v4":s.uniform4f(i,o.x,o.y,o.z,o.w);break;case"1iv":s.uniform1iv(i,o);break;case"2iv":s.uniform2iv(i,o);break;case"3iv":s.uniform3iv(i,o);break;case"4iv":s.uniform4iv(i,o);break;case"1fv":s.uniform1fv(i,o);break;case"2fv":s.uniform2fv(i,o);break;case"3fv":s.uniform3fv(i,o);break;case"4fv":s.uniform4fv(i,o);break;case"m2":case"mat2":case"Matrix2fv":s.uniformMatrix2fv(i,t.transpose,o);break;case"m3":case"mat3":case"Matrix3fv":s.uniformMatrix3fv(i,t.transpose,o);break;case"m4":case"mat4":case"Matrix4fv":s.uniformMatrix4fv(i,t.transpose,o);break;case"c":"number"==typeof o&&(o=r.hex2rgb(o)),s.uniform3f(i,o[0],o[1],o[2]);break;case"iv1":s.uniform1iv(i,o);break;case"iv":s.uniform3iv(i,o);break;case"fv1":s.uniform1fv(i,o);break;case"fv":s.uniform3fv(i,o);break;case"v2v":for(t._array||(t._array=new Float32Array(2*o.length)),e=0,n=o.length;e<n;++e)t._array[2*e]=o[e].x,t._array[2*e+1]=o[e].y;s.uniform2fv(i,t._array);break;case"v3v":for(t._array||(t._array=new Float32Array(3*o.length)),e=0,n=o.length;e<n;++e)t._array[3*e]=o[e].x,t._array[3*e+1]=o[e].y,t._array[3*e+2]=o[e].z;s.uniform3fv(i,t._array);break;case"v4v":for(t._array||(t._array=new Float32Array(4*o.length)),e=0,n=o.length;e<n;++e)t._array[4*e]=o[e].x,t._array[4*e+1]=o[e].y,t._array[4*e+2]=o[e].z,t._array[4*e+3]=o[e].w;s.uniform4fv(i,t._array);break;case"t":case"sampler2D":if(!t.value||!t.value.baseTexture.hasLoaded)break;s.activeTexture(s["TEXTURE"+this.textureCount]);var a=t.value.baseTexture._glTextures[s.id];a||(this.initSampler2D(t),a=t.value.baseTexture._glTextures[s.id]),s.bindTexture(s.TEXTURE_2D,a),s.uniform1i(t._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+t.type)}},i.prototype.syncUniforms=function(){this.textureCount=1;for(var t in this.uniforms)this.syncUniform(this.uniforms[t])},i.prototype.initSampler2D=function(t){var e=this.gl,n=t.value.baseTexture;if(n.hasLoaded)if(t.textureData){var i=t.textureData;n._glTextures[e.id]=e.createTexture(),e.bindTexture(e.TEXTURE_2D,n._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,i.luminance?e.LUMINANCE:e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter?i.magFilter:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i.wrapS?i.wrapS:e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i.wrapT?i.wrapT:e.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(n)},i.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},i.prototype._glCompile=function(t,e){var n=this.gl.createShader(t);return this.gl.shaderSource(n,e),this.gl.compileShader(n),this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS)?n:(console.log(this.gl.getShaderInfoLog(n)),null)}},function(t,e,n){var i=n(11),r=n(12),o=n(7),s=n(549),a=function(t,e,n,a,u,l){if(this.gl=t,this.frameBuffer=null,this.texture=null,this.size=new i.Rectangle(0,0,1,1),this.resolution=u||o.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new s,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=a||o.SCALE_MODES.DEFAULT,this.root=l,!this.root){this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,a===o.SCALE_MODES.LINEAR?t.LINEAR:t.NEAREST);var c=r.isPowerOfTwo(e,n);c?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}this.resize(e,n)};a.prototype.constructor=a,t.exports=a,a.prototype.clear=function(t){var e=this.gl;t&&e.bindFramebuffer(e.FRAMEBUFFER,this.frameBuffer),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},a.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var t=this.gl;this.stencilBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencilBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},a.prototype.activate=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer);var e=this.frame||this.size;this.calculateProjection(e),this.transform&&this.projectionMatrix.append(this.transform),t.viewport(0,0,e.width*this.resolution,e.height*this.resolution)},a.prototype.calculateProjection=function(t){var e=this.projectionMatrix;e.identity(),this.root?(e.a=1/t.width*2,e.d=-1/t.height*2,e.tx=-1-t.x*e.a,e.ty=1-t.y*e.d):(e.a=1/t.width*2,e.d=1/t.height*2,e.tx=-1-t.x*e.a,e.ty=-1-t.y*e.d)},a.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){if(this.size.width=t,this.size.height=e,!this.root){var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,t*this.resolution,e*this.resolution,0,n.RGBA,n.UNSIGNED_BYTE,null),this.stencilBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencilBuffer),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t*this.resolution,e*this.resolution))}var i=this.frame||this.size;this.calculateProjection(i)}},a.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},function(t,e,n){function i(t,e,n){s.call(this),this.uid=r.uid(),this.resolution=n||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=e||o.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],t&&this.loadSource(t)}var r=n(12),o=n(7),s=n(56);i.prototype=Object.create(s.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=r.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},i.prototype.loadSource=function(t){var e=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=t,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!t.getContext){this.isLoading=!0;var n=this;t.onload=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),n.emit("loaded",n))},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src&&(this.isLoading=!1,t.onload=null,t.onerror=null,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this))}},i.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},i.prototype.destroy=function(){this.imageUrl?(delete r.BaseTextureCache[this.imageUrl],delete r.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete r.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},i.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},i.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},i.fromImage=function(t,e,n){var o=r.BaseTextureCache[t];if(void 0===e&&0!==t.indexOf("data:")&&(e=!0),!o){var s=new Image;e&&(s.crossOrigin=""),o=new i(s,n),o.imageUrl=t,s.src=t,r.BaseTextureCache[t]=o,o.resolution=r.getResolutionOfUrl(t)}return o},i.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+r.uid());var n=r.BaseTextureCache[t._pixiId];return n||(n=new i(t,e),r.BaseTextureCache[t._pixiId]=n),n}},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,o.readFileSync(e+"/blurX.vert","utf8"),o.readFileSync(e+"/blur.frag","utf8"),{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(r,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(r,s,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})}).call(e,"/")},function(t,e,n){"use strict";function i(t){return Object.prototype.hasOwnProperty.call(t,b)||(t[b]=p++,h[t[b]]={}),h[t[b]]}var r,o=n(6),s=n(158),a=n(631),u=n(287),l=n(663),c=n(169),h={},f=!1,p=0,d={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},b="_reactListenersID"+String(Math.random()).slice(2),m=o({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=t}},setEnabled:function(t){m.ReactEventListener&&m.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var n=e,r=i(n),o=s.registrationNameDependencies[t],a=0;a<o.length;a++){var u=o[a];r.hasOwnProperty(u)&&r[u]||("topWheel"===u?c("wheel")?m.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?m.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):m.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?c("scroll",!0)?m.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):m.ReactEventListener.trapBubbledEvent("topScroll","scroll",m.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(c("focus",!0)?(m.ReactEventListener.trapCapturedEvent("topFocus","focus",n),m.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(m.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),m.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),r.topBlur=!0,r.topFocus=!0):d.hasOwnProperty(u)&&m.ReactEventListener.trapBubbledEvent(u,d[u],n),r[u]=!0)}},trapBubbledEvent:function(t,e,n){return m.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return m.ReactEventListener.trapCapturedEvent(t,e,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var t=document.createEvent("MouseEvent");return null!=t&&"pageX"in t},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=m.supportsEventPageXY()),!r&&!f){var t=u.refreshScrollValues;m.ReactEventListener.monitorScrollValue(t),f=!0}}});t.exports=m},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(68),o=n(287),s=n(167),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:s,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+o.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+o.currentScrollTop}};r.augmentClass(i,a),t.exports=i},function(t,e,n){"use strict";var i=n(4),r=(n(2),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,n,r,o,s,a,u){this.isInTransaction()?i("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=t.call(e,n,r,o,s,a,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(t){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var i=e[n];try{this.wrapperInitData[n]=r,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r)try{this.initializeAll(n+1)}catch(t){}}}},closeAll:function(t){this.isInTransaction()?void 0:i("28");for(var e=this.transactionWrappers,n=t;n<e.length;n++){var o,s=e[n],a=this.wrapperInitData[n];try{o=!0,a!==r&&s.close&&s.close.call(this,a),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(t){}}}this.wrapperInitData.length=0}};t.exports=o},function(t,e){"use strict";function n(t){var e=""+t,n=r.exec(e);if(!n)return e;var i,o="",s=0,a=0;for(s=n.index;s<e.length;s++){switch(e.charCodeAt(s)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#x27;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==s&&(o+=e.substring(a,s)),a=s+1,o+=i}return a!==s?o+e.substring(a,s):o}function i(t){return"boolean"==typeof t||"number"==typeof t?""+t:n(t)}var r=/["'&<>]/;t.exports=i},function(t,e,n){"use strict";var i,r=n(13),o=n(157),s=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(165),l=u(function(t,e){if(t.namespaceURI!==o.svg||"innerHTML"in t)t.innerHTML=e;else{i=i||document.createElement("div"),i.innerHTML="<svg>"+e+"</svg>";for(var n=i.firstChild;n.firstChild;)t.appendChild(n.firstChild)}});if(r.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),s.test(e)||"<"===e[0]&&a.test(e)){t.innerHTML=String.fromCharCode(65279)+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e}),c=null}t.exports=l},function(t,e,n){"use strict";t.exports=n(688),t.exports.Resource=n(176),t.exports.middleware={caching:{memory:n(690)},parsing:{blob:n(691)}},t.exports.async=n(304)},function(t,e,n){"use strict";function i(){f=!1}function r(t){if(!t)return void(c!==d&&(c=d,i()));if(t!==c){if(t.length!==d.length)throw new Error("Custom alphabet for shortid must be "+d.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(t,e,n){return e!==n.lastIndexOf(t)});if(e.length)throw new Error("Custom alphabet for shortid must be "+d.length+" unique characters. These characters were not unique: "+e.join(", "));c=t,i()}}function o(t){return r(t),c}function s(t){p.seed(t),h!==t&&(i(),h=t)}function a(){c||r(d);for(var t,e=c.split(""),n=[],i=p.nextValue();e.length>0;)i=p.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}function u(){return f?f:f=a()}function l(t){var e=u();return e[t]}var c,h,f,p=n(701),d="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={characters:o,seed:s,lookup:l,shuffled:u}},function(t,e,n){function i(t){return this instanceof i?void(this.coord=t):new i(t)}var r=n(69),o=n(308),s=n(357);i.prototype={name:function(){return r.intervalsIndex[this.number()-1]},semitones:function(){return o.sum(o.mul(this.coord,[12,7]))},number:function(){return Math.abs(this.value())},value:function(){var t,e,n=o.sub(this.coord,o.mul(r.sharp,Math.floor((this.coord[1]-2)/7)+1));return t=r.intervalFromFifth[n[1]+5],e=r.stepNumber[t]+7*(n[0]-r.intervals[t][0]),e>0?e:e-2},type:function(){return r.intervals[this.base()][0]<=1?"perfect":"minor"},base:function(){var t,e=o.sub(this.coord,o.mul(r.sharp,this.qualityValue()))[1];return e=this.value()>0?e+5:-(e-5)%7,e=e<0?r.intervalFromFifth.length+e:e,t=r.intervalFromFifth[e],"unison"===t&&this.number()>=8&&(t="octave"),t},direction:function(t){if(t){var e=this.value()>=1?"up":"down";return e!==t&&(this.coord=o.mul(this.coord,-1)),this}return this.value()>=1?"up":"down"},simple:function(t){var e=r.intervals[this.base()];return e=o.add(e,o.mul(r.sharp,this.qualityValue())),t||(e="down"===this.direction()?o.mul(e,-1):e),new i(e)},isCompound:function(){return this.number()>8},octaves:function(){var t,e;return"up"===this.direction()?(t=o.sub(this.coord,o.mul(r.sharp,this.qualityValue())),e=t[0]-r.intervals[this.base()][0]):(t=o.sub(this.coord,o.mul(r.sharp,-this.qualityValue())),e=-(t[0]+r.intervals[this.base()][0])),e},invert:function(){var t=this.base(),e=this.qualityValue(),n="minor"===this.type()?-(e-1):-e,s=r.intervals[r.intervalsIndex[9-r.stepNumber[t]-1]];return s=o.add(s,o.mul(r.sharp,n)),new i(s)},quality:function(t){var e=r.alterations[this.type()][this.qualityValue()+2];return t?r.qualityLong[e]:e},qualityValue:function(){return"down"===this.direction()?Math.floor((-this.coord[1]-2)/7)+1:Math.floor((this.coord[1]-2)/7)+1},equal:function(t){return this.coord[0]===t.coord[0]&&this.coord[1]===t.coord[1]},greater:function(t){var e=this.semitones(),n=t.semitones();return e===n?this.number()>t.number():e>n},smaller:function(t){return!this.equal(t)&&!this.greater(t)},add:function(t){return new i(o.add(this.coord,t.coord))},toString:function(t){var e=t?this.number():this.value();return this.quality()+e}},i.toCoord=function(t){var e=s(t);if(!e)throw new Error("Invalid simple format interval");return new i(e)},i.from=function(t,e){return t.interval(e)},i.between=function(t,e){return new i(o.sub(e.coord,t.coord))},i.invert=function(t){return i.toCoord(t).invert().toString()},t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!t||!e||t[1].length!==e[1].length)return null;var n=s.fifths(e)-s.fifths(t);if(s.isPC(t))return s.pitch(n,-Math.floor(7*n/12),1);var i=s.focts(e)-s.focts(t),r=s.height(e)-s.height(t)<0?-1:1;return s.pitch(r*n,r*i,r)}function r(t,e){if(1===arguments.length)return function(e){return r(t,e)};var n=s.asPitch(t),o=s.asPitch(e),a=i(n,o);return t===n&&e===o?a:s.strIvl(a)}function o(t,e){var n=i(s.asPitch(t),s.asPitch(e));return n?s.height(n):null}Object.defineProperty(e,"__esModule",{value:!0});var s=n(36);e.interval=r,e.semitones=o},function(t,e,n){"use strict";function i(t){var e=u.asArr(t);return e.length?u.compact(e.map(a.interval(e[0]))):e}function r(t){var e=[];t=u.asArr(t);for(var n=1;n<t.length;n++)e.push(a.interval(t[n-1],t[n]));return e}function o(t,e){return arguments.length>1?o(t)(e):function(e){return u.compact(u.map(s.transpose(e||"P1"),t))}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(37),a=n(101),u=n(24);e.harmonics=i,e.intervallic=r,e.harmonize=o},function(t,e,n){"use strict";function i(t){return Array.isArray(t)&&2===t.length?7*t[0]+12*t[1]+12:o.midi(t)}function r(t,e){if(t===!0||t===!1)return function(e){return r(e,t);
};t=Math.round(t);var n=e===!0?a:s,i=n[t%12],o=Math.floor(t/12)-1;return i+o}Object.defineProperty(e,"__esModule",{value:!0});var o=n(38),s="C Db D Eb E F Gb G Ab A Bb B".split(" "),a="C C# D D# E F F# G G# A A# B".split(" ");e.toMidi=i,e.note=r},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=n(16),t.exports=e=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(n)}return r(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).cdata(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=n(16),t.exports=e=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing comment text");this.text=this.stringify.comment(n)}return r(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).comment(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=n(16),t.exports=e=function(t){function e(t,n,i,r,o,s){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name");if(null==i)throw new Error("Missing DTD attribute name");if(!r)throw new Error("Missing DTD attribute type");if(!o)throw new Error("Missing DTD attribute default");if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(s&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(n),this.attributeName=this.stringify.attName(i),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(s),this.defaultValueType=o}return r(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdAttList(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=n(16),t.exports=e=function(t){function e(t,n,i){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing DTD element name");i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.eleName(n),this.value=this.stringify.dtdElementValue(i)}return r(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdElement(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(31).isObject,i=n(16),t.exports=e=function(t){function e(t,n,i,o){if(e.__super__.constructor.call(this,t),null==i)throw new Error("Missing entity name");if(null==o)throw new Error("Missing entity value");if(this.pe=!!n,this.name=this.stringify.eleName(i),r(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity");if(null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(o)}return o(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdEntity(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;i=n(16),t.exports=e=function(t){function e(t,n,i){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing notation name");if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(n),null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return r(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).dtdNotation(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(31).isObject,i=n(16),t.exports=e=function(t){function e(t,n,i,o){var s;e.__super__.constructor.call(this,t),r(n)&&(s=n,n=s.version,i=s.encoding,o=s.standalone),n||(n="1.0"),this.version=this.stringify.xmlVersion(n),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return o(e,t),e.prototype.toString=function(t){return this.options.writer.set(t).declaration(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r,o,s,a,u,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;u=n(31).isObject,a=n(16),e=n(106),r=n(108),i=n(107),o=n(109),t.exports=s=function(t){function n(t,e,i){var r,o;n.__super__.constructor.call(this,t),this.documentObject=t,u(e)&&(r=e,e=r.pubID,i=r.sysID),null==i&&(o=[e,i],i=o[0],e=o[1]),null!=e&&(this.pubID=this.stringify.dtdPubID(e)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return l(n,t),n.prototype.element=function(t,e){var n;return n=new i(this,t,e),this.children.push(n),this},n.prototype.attList=function(t,n,i,r,o){var s;return s=new e(this,t,n,i,r,o),this.children.push(s),this},n.prototype.entity=function(t,e){var n;return n=new r(this,!1,t,e),this.children.push(n),this},n.prototype.pEntity=function(t,e){var n;return n=new r(this,!0,t,e),this.children.push(n),this},n.prototype.notation=function(t,e){var n;return n=new o(this,t,e),this.children.push(n),this},n.prototype.toString=function(t){return this.options.writer.set(t).docType(this)},n.prototype.ele=function(t,e){return this.element(t,e)},n.prototype.att=function(t,e,n,i,r){return this.attList(t,e,n,i,r)},n.prototype.ent=function(t,e){return this.entity(t,e)},n.prototype.pent=function(t,e){return this.pEntity(t,e)},n.prototype.not=function(t,e){return this.notation(t,e)},n.prototype.up=function(){return this.root()||this.documentObject},n}(a)}).call(this)},function(t,e,n){(function(){var e,i,r,o,s,a,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;a=n(31),s=a.isObject,o=a.isFunction,r=n(16),e=n(318),t.exports=i=function(t){function n(t,e,i){if(n.__super__.constructor.call(this,t),null==e)throw new Error("Missing element name");this.name=this.stringify.eleName(e),this.attributes={},null!=i&&this.attribute(i),t.isDocument&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this)}return u(n,t),n.prototype.clone=function(){var t,e,n,i;n=Object.create(this),n.isRoot&&(n.documentObject=null),n.attributes={},i=this.attributes;for(e in i)l.call(i,e)&&(t=i[e],n.attributes[e]=t.clone());return n.children=[],this.children.forEach(function(t){var e;return e=t.clone(),e.parent=n,n.children.push(e)}),n},n.prototype.attribute=function(t,n){var i,r;if(null!=t&&(t=t.valueOf()),s(t))for(i in t)l.call(t,i)&&(r=t[i],this.attribute(i,r));else o(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.attributes[t]=new e(this,t,n));return this},n.prototype.removeAttribute=function(t){var e,n,i;if(null==t)throw new Error("Missing attribute name");if(t=t.valueOf(),Array.isArray(t))for(n=0,i=t.length;n<i;n++)e=t[n],delete this.attributes[e];else delete this.attributes[t];return this},n.prototype.toString=function(t){return this.options.writer.set(t).element(this)},n.prototype.att=function(t,e){return this.attribute(t,e)},n.prototype.a=function(t,e){return this.attribute(t,e)},n}(r)}).call(this)},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=n(16),t.exports=i=function(t){function e(t,n,i){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(n),i&&(this.value=this.stringify.insValue(i))}return r(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).processingInstruction(this)},e}(e)}).call(this)},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=n(16),t.exports=i=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing raw text");this.value=this.stringify.raw(n)}return r(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).raw(this)},e}(e)}).call(this)},function(t,e,n){(function(){var e,i,r=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=n(16),t.exports=i=function(t){function e(t,n){if(e.__super__.constructor.call(this,t),null==n)throw new Error("Missing element text");this.value=this.stringify.eleText(n)}return r(e,t),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).text(this)},e}(e)}).call(this)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return t.note===e.note}function o(t,e){return t.octave===e.octave}function s(t,e){return t===e}function a(t){return t.isAccidental}function u(t){return!a(t)}function l(t,e){return e.note===t}function c(t,e){return e.note!==t}function h(t,e){return e.octave===t}function f(t,e){return e.octave!==t}function p(t,e){return _.default.semitones(t.toString(),e.toString())>0}function d(t,e){return v.default.indexOf(t)>v.default.indexOf(e)}function b(t,e,n){return v.default.indexOf(n)-v.default.indexOf(e)>t}function m(t,e,n){return v.default.indexOf(e)-v.default.indexOf(n)>t}Object.defineProperty(e,"__esModule",{value:!0}),e.isSameNote=r,e.isSameOctave=o,e.isSame=s,e.isAccidental=a,e.isNatural=u,e.isNote=l,e.isNotNote=c,e.isOctave=h,e.isNotOctave=f,e.isHigher=p,e.isLower=d,e.isDistanceHigher=b,e.isDistanceLower=m;var y=n(72),v=i(y),g=n(316),_=i(g)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(118),o=i(r),s={WHOLE:{name:"whole",length:1,dotted:!1},HALF:{name:"half",length:.5,dotted:!1},QUARTER:{name:"quarter",length:.25,dotted:!1},EIGHTH:{name:"eighth",length:1/8,dotted:!1},SIXTEENTH:{name:"sixteenth",length:1/16,dotted:!1},THIRTY_SECOND:{name:"thirty second",length:1/32,dotted:!1}};Object.keys(s).forEach(function(t){s["DOTTED_"+t]={dotted:!0,length:1.5*s[t].length,name:"dotted "+t}}),Object.keys(s).forEach(function(t){s[t]=new o.default(s[t])}),e.default=s},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(73),l=i(u),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"toString",value:function(){return this.name}}]),e}(l.default);e.default=c},function(t,e,n){(function(e,i){!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function o(t){Z=t}function s(t){K=t}function a(){return function(){return e.nextTick(f)}}function u(){return"undefined"!=typeof q?function(){q(f)}:h()}function l(){var t=0,e=new $(f),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=f,function(){return t.port2.postMessage(0)}}function h(){var t=setTimeout;return function(){return t(f,1)}}function f(){for(var t=0;t<X;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}X=0}function p(){try{var t=n(734);return q=t.runOnLoop||t.runOnContext,u()}catch(t){return h()}}function d(t,e){var n=arguments,i=this,r=new this.constructor(m);void 0===r[rt]&&L(r);var o=i._state;return o?!function(){var t=n[o-1];K(function(){return R(o,r,t,i._result)})}():O(i,r,t,e),r}function b(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(m);return E(n,t),n}function m(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function v(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return ut.error=t,ut}}function _(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function x(t,e,n){K(function(t){var i=!1,r=_(n,e,function(n){i||(i=!0,e!==n?E(t,n):P(t,n))},function(e){i||(i=!0,M(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,M(t,r))},t)}function w(t,e){e._state===st?P(t,e._result):e._state===at?M(t,e._result):O(e,void 0,function(e){return E(t,e)},function(e){return M(t,e)})}function S(t,e,n){e.constructor===t.constructor&&n===d&&e.constructor.resolve===b?w(t,e):n===ut?(M(t,ut.error),ut.error=null):void 0===n?P(t,e):r(n)?x(t,e,n):P(t,e)}function E(e,n){e===n?M(e,y()):t(n)?S(e,n,g(n)):P(e,n)}function T(t){t._onerror&&t._onerror(t._result),A(t)}function P(t,e){t._state===ot&&(t._result=e,t._state=st,0!==t._subscribers.length&&K(A,t))}function M(t,e){t._state===ot&&(t._state=at,t._result=e,K(T,t))}function O(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+st]=n,r[o+at]=i,0===o&&t._state&&K(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?R(n,i,r,o):r(o);t._subscribers.length=0}}function C(){this.error=null}function k(t,e){try{return t(e)}catch(t){return lt.error=t,lt}}function R(t,e,n,i){var o=r(n),s=void 0,a=void 0,u=void 0,l=void 0;if(o){if(s=k(n,i),s===lt?(l=!0,a=s.error,s.error=null):u=!0,e===s)return void M(e,v())}else s=i,u=!0;e._state!==ot||(o&&u?E(e,s):l?M(e,a):t===st?P(e,s):t===at&&M(e,s))}function I(t,e){try{e(function(e){E(t,e)},function(e){M(t,e)})}catch(e){M(t,e)}}function N(){return ct++}function L(t){t[rt]=ct++,t._state=void 0,t._result=void 0,t._subscribers=[]}function F(t,e){this._instanceConstructor=t,this.promise=new t(m),this.promise[rt]||L(this.promise),z(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&P(this.promise,this._result))):M(this.promise,B())}function B(){return new Error("Array Methods must be provided an Array")}function D(t){return new F(this,t).promise}function j(t){var e=this;return new e(z(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function G(t){var e=this,n=new e(m);return M(n,t),n}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function W(t){this[rt]=N(),this._result=this._state=void 0,this._subscribers=[],m!==t&&("function"!=typeof t&&V(),this instanceof W?I(this,t):U())}function H(){var t=void 0;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=W}var Y=void 0;Y=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var z=Y,X=0,q=void 0,Z=void 0,K=function(t,e){nt[X]=t,nt[X+1]=e,X+=2,2===X&&(Z?Z(f):it())},J="undefined"!=typeof window?window:void 0,Q=J||{},$=Q.MutationObserver||Q.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),it=void 0;it=tt?a():$?l():et?c():void 0===J?p():h();var rt=Math.random().toString(36).substring(16),ot=void 0,st=1,at=2,ut=new C,lt=new C,ct=0;return F.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ot&&n<t;n++)this._eachEntry(e[n],n)},F.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===b){var r=g(t);if(r===d&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===W){var o=new n(m);S(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},F.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===ot&&(this._remaining--,t===at?M(i,n):this._result[e]=n),0===this._remaining&&P(i,this._result)},F.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(st,e,t)},function(t){return n._settledAt(at,e,t)})},W.all=D,W.race=j,W.resolve=b,W.reject=G,W._setScheduler=o,W._setAsap=s,W._asap=K,W.prototype={constructor:W,then:d,catch:function(t){return this.then(null,t)}},W.polyfill=H,W.Promise=W,W})}).call(e,n(25),function(){return this}())},function(t,e){"use strict";function n(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function i(t,e){if(n(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(!r.call(e,i[s])||!n(t[i[s]],e[i[s]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;t.exports=i},function(t,e){"use strict";function n(t,e){if("string"!=typeof t)return null;var n=d.exec(t);if(!n)return null;var i={num:+(n[3]||n[8]),q:n[4]||n[6]};i.dir="-"===(n[2]||n[7])?-1:1;var r=(i.num-1)%7;return i.simple=r+1,i.type=m[r],i.alt=u(i.type,i.q),i.oct=Math.floor((i.num-1)/7),i.size=i.dir*(b[r]+i.alt+12*i.oct),e!==!1&&"M"===i.type&&"P"===i.q?null:i}function i(t){return m[(t-1)%7]}function r(t){return t===-1?"-":""}function o(t,e){return t+7*e}function s(t,e,n,i){return c(t,e)+r(i)+o(t,n)}function a(t,e,n,i){return r(i)+o(t,n)+c(t,e)}function u(t,e){var n="number"==typeof t?i(t):t;return"M"===e&&"M"===n?0:"P"===e&&"P"===n?0:"m"===e&&"M"===n?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?"P"===n?-e.length:-e.length-1:null}function l(t,e){return Array(Math.abs(e)+1).join(t)}function c(t,e){var n="number"==typeof t?i(Math.abs(t)):t;return 0===e?"M"===n?"M":"P":e===-1&&"M"===n?"m":e>0?l("A",e):e<0?l("d","P"===n?e:e+1):null}var h="([-+]?)(\\d+)(d{1,4}|m|M|P|A{1,4})",f="(AA|A|P|M|m|d|dd)([-+]?)(\\d+)",p="(?:("+h+")|("+f+"))",d=new RegExp("^"+p+"$"),b=[0,2,4,5,7,9,11],m="PMMPPMM";t.exports={parse:n,type:i,altToQ:c,qToAlt:u,build:a,shorthand:s}},function(t,e,n){"use strict";function i(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}var r=n(58),o=n(200),s=n(199),a=n(198),s=n(199);i.prototype={getContentWorker:function(){var t=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(t,e,n){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},t.exports=i},function(t,e,n){"use strict";function i(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function r(t,e,n,i){var r=a,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return t^-1}function o(t,e,n,i){var r=a,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^r[255&(t^e.charCodeAt(s))];return t^-1}var s=n(8),a=i();t.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var n="string"!==s.getTypeOf(t);return n?r(0|e,t,t.length,0):o(0|e,t,t.length,0)}},function(t,e,n){t.exports=!n(205)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){function i(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}var r=n(130),o=n(131),s=4294967295;i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},function(t,e,n){var i=n(34),r=i.Symbol;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var i=n(59),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e){function n(){}t.exports=n},function(t,e){function n(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t){var e=t;return e.placeholder}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function i(t){var e=s(t)?r:o;return e(t)}var r=n(406),o=n(418),s=n(82);t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(235),r=n(22),o=function(){function t(t,e,n,i){this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=n,this.height=i}return t.createFromLocationAndSize=function(e,n){return new t(e.x,e.y,n.width,n.height)},Object.defineProperty(t.prototype,"Location",{get:function(){return new r.PointF2D(this.x,this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Size",{get:function(){return new i.SizeF2D(this.width,this.height)},enumerable:!0,configurable:!0}),t}();e.RectangleF2D=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.BaseWritingColor=0]="BaseWritingColor",t[t.FollowingCursor=1]="FollowingCursor",t[t.AlternativeFollowingCursor=2]="AlternativeFollowingCursor",t[t.PlaybackCursor=3]="PlaybackCursor",t[t.Highlighted=4]="Highlighted",t[t.ErrorUnderlay=5]="ErrorUnderlay",t[t.Selected=6]="Selected",t[t.SelectionSymbol=7]="SelectionSymbol",t[t.DebugColor1=8]="DebugColor1",t[t.DebugColor2=9]="DebugColor2",t[t.DebugColor3=10]="DebugColor3",t[t.SplitScreenDivision=11]="SplitScreenDivision",t[t.GreyTransparentOverlay=12]="GreyTransparentOverlay",t[t.MarkedArea1=13]="MarkedArea1",t[t.MarkedArea2=14]="MarkedArea2",t[t.MarkedArea3=15]="MarkedArea3",t[t.MarkedArea4=16]="MarkedArea4",t[t.MarkedArea5=17]="MarkedArea5",t[t.MarkedArea6=18]="MarkedArea6",t[t.MarkedArea7=19]="MarkedArea7",t[t.MarkedArea8=20]="MarkedArea8",t[t.MarkedArea9=21]="MarkedArea9",t[t.MarkedArea10=22]="MarkedArea10",t[t.Comment1=23]="Comment1",t[t.Comment2=24]="Comment2",t[t.Comment3=25]="Comment3",t[t.Comment4=26]="Comment4",t[t.Comment5=27]="Comment5",t[t.Comment6=28]="Comment6",t[t.Comment7=29]="Comment7",t[t.Comment8=30]="Comment8",t[t.Comment9=31]="Comment9",t[t.Comment10=32]="Comment10"}(n=e.OutlineAndFillStyleEnum||(e.OutlineAndFillStyleEnum={}));var i;!function(t){t[t.MarkedArea=0]="MarkedArea",t[t.Comment=1]="Comment"}(i=e.StyleSets||(e.StyleSets={}));var r;!function(t){t[t.Background=0]="Background",t[t.Highlight=1]="Highlight",t[t.MeasureError=2]="MeasureError",t[t.SelectionSymbol=3]="SelectionSymbol",t[t.Cursor=4]="Cursor",t[t.PSI_Debug=5]="PSI_Debug",t[t.Notes=6]="Notes",t[t.Comment=7]="Comment",t[t.Debug_above=8]="Debug_above"}(r=e.GraphicalLayers||(e.GraphicalLayers={}));var o;!function(t){t[t.Normal=0]="Normal",t[t.Selected=1]="Selected",t[t.Follow_Confirmed=2]="Follow_Confirmed",t[t.QFeedback_NotFound=3]="QFeedback_NotFound",t[t.QFeedback_OK=4]="QFeedback_OK",t[t.QFeedback_Perfect=5]="QFeedback_Perfect",t[t.Debug1=6]="Debug1",t[t.Debug2=7]="Debug2",t[t.Debug3=8]="Debug3"}(o=e.NoteState||(e.NoteState={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(137),r=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=i.OutlineAndFillStyleEnum.BaseWritingColor),this.start=t,this.end=e,this.width=n,this.styleId=r}return Object.defineProperty(t.prototype,"Start",{get:function(){return this.start},set:function(t){this.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"End",{get:function(){return this.end},set:function(t){this.end=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Width",{get:function(){return this.width},set:function(t){this.width=t},enumerable:!0,configurable:!0}),t}();e.GraphicalLine=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.translateText=function(t,e){if(void 0===this.defaultTextTranslation)return e},t}();e.ITextTranslation=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.setOctaveShiftValue(t,e)}return Object.defineProperty(t.prototype,"Type",{get:function(){return this.octaveValue},set:function(t){this.octaveValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffNumber",{get:function(){return this.staffNumber},set:function(t){this.staffNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentStartMultiExpression",{get:function(){return this.startMultiExpression},set:function(t){this.startMultiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentEndMultiExpression",{get:function(){return this.endMultiExpression},set:function(t){this.endMultiExpression=t},enumerable:!0,configurable:!0}),t.prototype.setOctaveShiftValue=function(t,e){1===e&&"down"===t?this.octaveValue=i.VA8:1===e&&"up"===t?this.octaveValue=i.VB8:2===e&&"down"===t?this.octaveValue=i.MA15:2===e&&"up"===t?this.octaveValue=i.MB15:this.octaveValue=i.NONE},t}();e.OctaveShift=n;var i;!function(t){t[t.VA8=0]="VA8",t[t.VB8=1]="VB8",t[t.MA15=2]="MA15",t[t.MB15=3]="MB15",t[t.NONE=4]="NONE"}(i=e.OctaveEnum||(e.OctaveEnum={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.parent=t}return Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),t}();e.AbstractNotationInstruction=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(144),o=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.master=i,r}return i(e,t),Object.defineProperty(e.prototype,"Master",{get:function(){return this.master},enumerable:!0,configurable:!0}),e}(r.Voice);e.LinkedVoice=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=function(){function t(t,e,n,i){this.slurs=[],this.graceNoteSlash=!1,this.playbackInstrumentId=void 0,this.voiceEntry=t,this.parentStaffEntry=e,this.length=n,this.pitch=i,void 0!==i?this.halfTone=i.getHalfTone():this.halfTone=0}return Object.defineProperty(t.prototype,"GraceNoteSlash",{get:function(){return this.graceNoteSlash},set:function(t){this.graceNoteSlash=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentVoiceEntry",{get:function(){return this.voiceEntry},set:function(t){this.voiceEntry=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentStaffEntry",{get:function(){return this.parentStaffEntry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentStaff",{get:function(){return this.parentStaffEntry.ParentStaff},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Length",{get:function(){return this.length},set:function(t){this.length=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Pitch",{get:function(){return this.pitch},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteBeam",{get:function(){return this.beam},set:function(t){this.beam=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteTuplet",{get:function(){return this.tuplet},set:function(t){this.tuplet=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteTie",{get:function(){return this.tie},set:function(t){this.tie=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteSlurs",{get:function(){return this.slurs},set:function(t){this.slurs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PlaybackInstrumentId",{get:function(){return this.playbackInstrumentId},set:function(t){this.playbackInstrumentId=t},enumerable:!0,configurable:!0}),t.prototype.calculateNoteLengthWithoutTie=function(){var t=this.length.clone();if(void 0!==this.tie)for(var e=0,n=this.tie.Fractions;e<n.length;e++){
var i=n[e];t.Sub(i)}return t},t.prototype.calculateNoteOriginalLength=function(t){if(void 0===t&&(t=this.length),void 0!==this.tie&&(t=this.calculateNoteLengthWithoutTie()),void 0!==this.tuplet)return this.length;if(t.Numerator>1){var e=Math.floor(Math.log(t.Denominator)/Math.LN2)-this.calculateNumberOfNeededDots(t);t.Denominator=Math.pow(2,e),t.Numerator=1}return t},t.prototype.ToString=function(){return void 0!==this.pitch?this.Pitch.ToString()+", length: "+this.length.toString():"rest note, length: "+this.length.toString()},t.prototype.getAbsoluteTimestamp=function(){return i.Fraction.plus(this.voiceEntry.Timestamp,this.parentStaffEntry.VerticalContainerParent.ParentMeasure.AbsoluteTimestamp)},t.prototype.checkForDoubleSlur=function(t){for(var e=0,n=this.slurs.length;e<n;++e){var i=this.slurs[e];if(void 0!==i.StartNote&&void 0!==i.EndNote&&void 0!==t.StartNote&&t.StartNote===i.StartNote&&i.EndNote===this)return!0}return!1},t.prototype.calculateNumberOfNeededDots=function(t){return void 0===t&&(t=this.length),void 0===this.tuplet?Math.floor(Math.log(t.Numerator)/Math.LN2):0},t}();e.Note=r;var o;!function(t){t[t.Normal=0]="Normal",t[t.Grace=1]="Grace",t[t.Cue=2]="Cue"}(o=e.Appearance||(e.Appearance={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.voiceEntries=[],this.volume=1,this.parent=t,this.visible=!0,this.audible=!0,this.following=!0,this.voiceId=e}return Object.defineProperty(t.prototype,"VoiceEntries",{get:function(){return this.voiceEntries},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Visible",{get:function(){return this.visible},set:function(t){this.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Audible",{get:function(){return this.audible},set:function(t){this.audible=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Following",{get:function(){return this.following},set:function(t){this.following=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VoiceId",{get:function(){return this.voiceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Volume",{get:function(){return this.volume},set:function(t){this.volume=t},enumerable:!0,configurable:!0}),t}();e.Voice=n},function(t,e){function n(t,e){this.x=t||0,this.y=e||0}n.prototype.constructor=n,t.exports=n,n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(t){this.set(t.x,t.y)},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)}},function(t,e,n){function i(t,e,n,i){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this.type=r.SHAPES.RECT}var r=n(7);i.prototype.constructor=i,t.exports=i,i.EMPTY=new i(0,0,0,0),i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)}},function(t,e){function n(t,e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e}n.prototype.constructor=n,t.exports=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},height:{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}}),n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e},n.prototype.destroy=function(){this.context=null,this.canvas=null}},function(t,e,n){var i=n(7),r={};t.exports=r,r.renderGraphics=function(t,e){var n=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var r=0;r<t.graphicsData.length;r++){var o=t.graphicsData[r],s=o.shape,a=o._fillTint,u=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.SHAPES.POLY){e.beginPath();var l=s.points;e.moveTo(l[0],l[1]);for(var c=1;c<l.length/2;c++)e.lineTo(l[2*c],l[2*c+1]);s.closed&&e.lineTo(l[0],l[1]),l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RECT)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(s.x,s.y,s.width,s.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.strokeRect(s.x,s.y,s.width,s.height));else if(o.type===i.SHAPES.CIRC)e.beginPath(),e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke());else if(o.type===i.SHAPES.ELIP){var h=2*s.width,f=2*s.height,p=s.x-h/2,d=s.y-f/2;e.beginPath();var b=.5522848,m=h/2*b,y=f/2*b,v=p+h,g=d+f,_=p+h/2,x=d+f/2;e.moveTo(p,x),e.bezierCurveTo(p,x-y,_-m,d,_,d),e.bezierCurveTo(_+m,d,v,x-y,v,x),e.bezierCurveTo(v,x+y,_+m,g,_,g),e.bezierCurveTo(_-m,g,p,x+y,p,x),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}else if(o.type===i.SHAPES.RREC){var w=s.x,S=s.y,E=s.width,T=s.height,P=s.radius,M=Math.min(E,T)/2|0;P=P>M?M:P,e.beginPath(),e.moveTo(w,S+P),e.lineTo(w,S+T-P),e.quadraticCurveTo(w,S+T,w+P,S+T),e.lineTo(w+E-P,S+T),e.quadraticCurveTo(w+E,S+T,w+E,S+T-P),e.lineTo(w+E,S+P),e.quadraticCurveTo(w+E,S,w+E-P,S),e.lineTo(w+P,S),e.quadraticCurveTo(w,S,w,S+P),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*n,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*n,e.strokeStyle="#"+("00000"+(0|u).toString(16)).substr(-6),e.stroke())}}},r.renderGraphicsMask=function(t,e){var n=t.graphicsData.length;if(0!==n){e.beginPath();for(var r=0;r<n;r++){var o=t.graphicsData[r],s=o.shape;if(o.type===i.SHAPES.POLY){var a=s.points;e.moveTo(a[0],a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(a[2*u],a[2*u+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(s.x,s.y,s.width,s.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(s.x,s.y,s.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var l=2*s.width,c=2*s.height,h=s.x-l/2,f=s.y-c/2,p=.5522848,d=l/2*p,b=c/2*p,m=h+l,y=f+c,v=h+l/2,g=f+c/2;e.moveTo(h,g),e.bezierCurveTo(h,g-b,v-d,f,v,f),e.bezierCurveTo(v+d,f,m,g-b,m,g),e.bezierCurveTo(m,g+b,v+d,y,v,y),e.bezierCurveTo(v-d,y,h,g+b,h,g),e.closePath()}else if(o.type===i.SHAPES.RREC){var _=s.x,x=s.y,w=s.width,S=s.height,E=s.radius,T=Math.min(w,S)/2|0;E=E>T?T:E,e.moveTo(_,x+E),e.lineTo(_,x+S-E),e.quadraticCurveTo(_,x+S,_+E,x+S),e.lineTo(_+w-E,x+S),e.quadraticCurveTo(_+w,x+S,_+w,x+S-E),e.lineTo(_+w,x+E),e.quadraticCurveTo(_+w,x,_+w-E,x),e.lineTo(_+E,x),e.quadraticCurveTo(_,x,_,x+E),e.closePath()}}}},r.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,i=(255&t.tint)/255,r=0;r<t.graphicsData.length;r++){var o=t.graphicsData[r],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*i*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*i*255}}},function(t,e,n){function i(t,e,n){this.shaders=[],this.padding=0,this.uniforms=n||{},this.vertexSrc=t||r.defaultVertexSrc,this.fragmentSrc=e||r.defaultFragmentSrc}var r=n(150);i.prototype.constructor=i,t.exports=i,i.prototype.getShader=function(t){var e=t.gl,n=this.shaders[e.id];return n||(n=new r(t.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[e.id]=n),n},i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);t.filterManager.applyFilter(r,e,n,i)},i.prototype.syncUniform=function(t){for(var e=0,n=this.shaders.length;e<n;++e)this.shaders[e].syncUniform(t)}},function(t,e,n){function i(t,e,n,o,s){var a={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(o)for(var u in o)a[u]=o[u];var l={aVertexPosition:0,aTextureCoord:0,aColor:0};if(s)for(var c in s)l[c]=s[c];e=e||i.defaultVertexSrc,n=n||i.defaultFragmentSrc,r.call(this,t,e,n,a,l)}var r=n(89);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),i.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},function(t,e,n){function i(t,e,n,i,h){if(!t)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100,n=n||100,h=h||c.RESOLUTION;var f=new r;if(f.width=e,f.height=n,f.resolution=h,f.scaleMode=i||c.SCALE_MODES.DEFAULT,f.hasLoaded=!0,o.call(this,f,new l.Rectangle(0,0,e,n)),this.width=e,this.height=n,this.resolution=h,this.render=null,this.renderer=t,this.renderer.type===c.RENDERER_TYPE.WEBGL){var p=this.renderer.gl;this.textureBuffer=new s(p,this.width,this.height,f.scaleMode,this.resolution),this.baseTexture._glTextures[p.id]=this.textureBuffer.texture,this.filterManager=new a(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(e,n),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new u(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var r=n(91),o=n(64),s=n(90),a=n(258),u=n(147),l=n(11),c=n(7),h=new l.Matrix;i.prototype=Object.create(o.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.resize=function(t,e,n){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=this._frame.width=this.crop.width=t,this.height=this._frame.height=this.crop.height=e,n&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},i.prototype.clear=function(){this.valid&&(this.renderer.type===c.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.prototype.renderWebGL=function(t,e,n,i){if(this.valid){if(i=void 0===i||i,this.textureBuffer.transform=e,this.textureBuffer.activate(),t.worldAlpha=1,i){t.worldTransform.identity(),t.currentBounds=null;var r,o,s=t.children;for(r=0,o=s.length;r<o;++r)s[r].updateTransform()}var a=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(t,this.textureBuffer,n),this.renderer.filterManager=a}},i.prototype.renderCanvas=function(t,e,n,i){if(this.valid){i=!!i;var r=t.worldTransform,o=h;o.identity(),e&&o.append(e),t.worldTransform=o,t.worldAlpha=1;var s,a,u=t.children;for(s=0,a=u.length;s<a;++s)u[s].updateTransform();n&&this.textureBuffer.clear(),t.worldTransform=r;var l=this.textureBuffer.context,c=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,l),this.renderer.resolution=c}},i.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},i.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.prototype.getCanvas=function(){if(this.renderer.type===c.RENDERER_TYPE.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.size.width,n=this.textureBuffer.size.height,i=new Uint8Array(4*e*n);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,n,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var r=new u(e,n),o=r.context.getImageData(0,0,e,n);return o.data.set(i),r.context.putImageData(o,0,0),r.canvas}return this.textureBuffer.canvas},i.prototype.getPixels=function(){var t,e;if(this.renderer.type===c.RENDERER_TYPE.WEBGL){var n=this.renderer.gl;t=this.textureBuffer.size.width,e=this.textureBuffer.size.height;var i=new Uint8Array(4*t*e);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(0,0,t,e,n.RGBA,n.UNSIGNED_BYTE,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i}return t=this.textureBuffer.canvas.width,e=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,t,e).data},i.prototype.getPixel=function(t,e){if(this.renderer.type===c.RENDERER_TYPE.WEBGL){var n=this.renderer.gl,i=new Uint8Array(4);return n.bindFramebuffer(n.FRAMEBUFFER,this.textureBuffer.frameBuffer),n.readPixels(t,e,1,1,n.RGBA,n.UNSIGNED_BYTE,i),n.bindFramebuffer(n.FRAMEBUFFER,null),i}return this.textureBuffer.canvas.getContext("2d").getImageData(t,e,1,1).data}},function(t,e,n){n(559),n(560),n(561),t.exports={MovieClip:n(557),TilingSprite:n(558),BitmapText:n(556)}},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,o.readFileSync(e+"/blurY.vert","utf8"),o.readFileSync(e+"/blur.frag","utf8"),{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(r,s,a,!0);var l=a;a=s,s=l}t.filterManager.applyFilter(r,s,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*Math.abs(t),this.strength=t}}})}).call(e,"/")},function(t,e,n){function i(t,e,n,o,s){r.Container.call(this),this._texture=null,this.uvs=n||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=o||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=r.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=s||i.DRAW_MODES.TRIANGLE_MESH,this.texture=t}var r=n(1),o=new r.Point,s=new r.Polygon;i.prototype=Object.create(r.Container.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.mesh),t.plugins.mesh.render(this)},i.prototype._renderCanvas=function(t){var e=t.context,n=this.worldTransform;t.roundPixels?e.setTransform(n.a,n.b,n.c,n.d,0|n.tx,0|n.ty):e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),this.drawMode===i.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(e):this._renderCanvasTriangles(e)},i.prototype._renderCanvasTriangleMesh=function(t){for(var e=this.vertices,n=this.uvs,i=e.length/2,r=0;r<i-2;r++){var o=2*r;this._renderCanvasDrawTriangle(t,e,n,o,o+2,o+4)}},i.prototype._renderCanvasTriangles=function(t){for(var e=this.vertices,n=this.uvs,i=this.indices,r=i.length,o=0;o<r;o+=3){var s=2*i[o],a=2*i[o+1],u=2*i[o+2];this._renderCanvasDrawTriangle(t,e,n,s,a,u)}},i.prototype._renderCanvasDrawTriangle=function(t,e,n,i,r,o){var s=this._texture.baseTexture.source,a=this._texture.baseTexture.width,u=this._texture.baseTexture.height,l=e[i],c=e[r],h=e[o],f=e[i+1],p=e[r+1],d=e[o+1],b=n[i]*a,m=n[r]*a,y=n[o]*a,v=n[i+1]*u,g=n[r+1]*u,_=n[o+1]*u;if(this.canvasPadding>0){var x=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,S=(l+c+h)/3,E=(f+p+d)/3,T=l-S,P=f-E,M=Math.sqrt(T*T+P*P);l=S+T/M*(M+x),f=E+P/M*(M+w),T=c-S,P=p-E,M=Math.sqrt(T*T+P*P),c=S+T/M*(M+x),p=E+P/M*(M+w),T=h-S,P=d-E,M=Math.sqrt(T*T+P*P),h=S+T/M*(M+x),d=E+P/M*(M+w)}t.save(),t.beginPath(),t.moveTo(l,f),t.lineTo(c,p),t.lineTo(h,d),t.closePath(),t.clip();var O=b*g+v*y+m*_-g*y-v*m-b*_,A=l*g+v*h+c*_-g*h-v*c-l*_,C=b*c+l*y+m*h-c*y-l*m-b*h,k=b*g*h+v*c*y+l*m*_-l*g*y-v*m*h-b*c*_,R=f*g+v*d+p*_-g*d-v*p-f*_,I=b*p+f*y+m*d-p*y-f*m-b*d,N=b*g*d+v*p*y+f*m*_-f*g*y-v*m*d-b*p*_;t.transform(A/O,R/O,C/O,I/O,k/O,N/O),t.drawImage(s,0,0),t.restore()},i.prototype.renderMeshFlat=function(t){var e=this.context,n=t.vertices,i=n.length/2;e.beginPath();for(var r=1;r<i-2;r++){var o=2*r,s=n[o],a=n[o+2],u=n[o+4],l=n[o+1],c=n[o+3],h=n[o+5];e.moveTo(s,l),e.lineTo(a,c),e.lineTo(u,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.prototype._onTextureUpdate=function(){this.updateFrame=!0},i.prototype.getBounds=function(t){if(!this._currentBounds){for(var e=t||this.worldTransform,n=e.a,i=e.b,o=e.c,s=e.d,a=e.tx,u=e.ty,l=-(1/0),c=-(1/0),h=1/0,f=1/0,p=this.vertices,d=0,b=p.length;d<b;d+=2){var m=p[d],y=p[d+1],v=n*m+o*y+a,g=s*y+i*m+u;h=v<h?v:h,f=g<f?g:f,l=v>l?v:l,c=g>c?g:c}if(h===-(1/0)||c===1/0)return r.Rectangle.EMPTY;var _=this._bounds;_.x=h,_.width=l-h,_.y=f,_.height=c-f,this._currentBounds=_}return this._currentBounds},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,o);var e,n,r=this.vertices,a=s.points;if(this.drawMode===i.DRAW_MODES.TRIANGLES){var u=this.indices;for(n=this.indices.length,e=0;e<n;e+=3){var l=2*u[e],c=2*u[e+1],h=2*u[e+2];if(a[0]=r[l],a[1]=r[l+1],a[2]=r[c],a[3]=r[c+1],a[4]=r[h],a[5]=r[h+1],s.contains(o.x,o.y))return!0}}else for(n=r.length,e=0;e<n;e+=6)if(a[0]=r[e],a[1]=r[e+1],a[2]=r[e+2],a[3]=r[e+3],a[4]=r[e+4],a[5]=r[e+5],s.contains(o.x,o.y))return!0;return!1},i.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,n){(function(e){"use strict";function n(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(e,n(25))},function(t,e,n){"use strict";function i(t,e){return Array.isArray(e)&&(e=e[1]),e?e.nextSibling:t.firstChild}function r(t,e,n){c.insertTreeBefore(t,e,n)}function o(t,e,n){Array.isArray(e)?a(t,e[0],e[1],n):b(t,e,n)}function s(t,e){if(Array.isArray(e)){var n=e[1];e=e[0],u(t,e,n),t.removeChild(n)}t.removeChild(e)}function a(t,e,n,i){for(var r=e;;){var o=r.nextSibling;if(b(t,r,i),r===n)break;r=o}}function u(t,e,n){for(;;){var i=e.nextSibling;if(i===n)break;t.removeChild(i)}}function l(t,e,n){var i=t.parentNode,r=t.nextSibling;r===e?n&&b(i,document.createTextNode(n),r):n?(d(r,n),u(i,r,e)):u(i,t,e)}var c=n(47),h=n(608),f=(n(9),n(23),n(165)),p=n(97),d=n(294),b=f(function(t,e,n){t.insertBefore(e,n)}),m=h.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:m,replaceDelimitedText:l,processUpdates:function(t,e){for(var n=0;n<e.length;n++){var a=e[n];switch(a.type){case"INSERT_MARKUP":r(t,a.content,i(t,a.afterNode));break;case"MOVE_EXISTING":o(t,a.fromNode,i(t,a.afterNode));break;case"SET_MARKUP":p(t,a.content);break;case"TEXT_CONTENT":d(t,a.content);break;case"REMOVE_NODE":s(t,a.fromNode)}}}};t.exports=y},function(t,e){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=n},function(t,e,n){"use strict";function i(){if(a)for(var t in u){var e=u[t],n=a.indexOf(t);if(n>-1?void 0:s("96",t),!l.plugins[n]){e.extractEvents?void 0:s("97",t),l.plugins[n]=e;var i=e.eventTypes;for(var o in i)r(i[o],e,o)?void 0:s("98",o,t)}}}function r(t,e,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?s("99",n):void 0,l.eventNameDispatchConfigs[n]=t;var i=t.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];o(a,e,n)}return!0}return!!t.registrationName&&(o(t.registrationName,e,n),!0)}function o(t,e,n){l.registrationNameModules[t]?s("100",t):void 0,l.registrationNameModules[t]=e,l.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var s=n(4),a=(n(2),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){a?s("101"):void 0,a=Array.prototype.slice.call(t),i()},injectEventPluginsByName:function(t){var e=!1;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];u.hasOwnProperty(n)&&u[n]===r||(u[n]?s("102",n):void 0,u[n]=r,e=!0)}e&&i()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return l.registrationNameModules[e.registrationName]||null;if(void 0!==e.phasedRegistrationNames){var n=e.phasedRegistrationNames;for(var i in n)if(n.hasOwnProperty(i)){var r=l.registrationNameModules[n[i]];if(r)return r}}return null},_resetEventPlugins:function(){a=null;for(var t in u)u.hasOwnProperty(t)&&delete u[t];l.plugins.length=0;var e=l.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var i=l.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};t.exports=l},function(t,e,n){"use strict";function i(t){return"topMouseUp"===t||"topTouchEnd"===t||"topTouchCancel"===t}function r(t){return"topMouseMove"===t||"topTouchMove"===t}function o(t){return"topMouseDown"===t||"topTouchStart"===t}function s(t,e,n,i){var r=t.type||"unknown-event";t.currentTarget=y.getNodeFromInstance(i),e?b.invokeGuardedCallbackWithCatch(r,n,t):b.invokeGuardedCallback(r,n,t),t.currentTarget=null}function a(t,e){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)s(t,e,n[r],i[r]);else n&&s(t,e,n,i);t._dispatchListeners=null,t._dispatchInstances=null}function u(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var i=0;i<e.length&&!t.isPropagationStopped();i++)if(e[i](t,n[i]))return n[i]}else if(e&&e(t,n))return n;return null}function l(t){var e=u(t);return t._dispatchInstances=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchInstances;Array.isArray(e)?d("103"):void 0,t.currentTarget=e?y.getNodeFromInstance(n):null;var i=e?e(t):null;return t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,i}function h(t){return!!t._dispatchListeners}var f,p,d=n(4),b=n(163),m=(n(2),n(3),{injectComponentTree:function(t){f=t},injectTreeTraversal:function(t){p=t}}),y={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:l,hasDispatches:h,getInstanceFromNode:function(t){return f.getInstanceFromNode(t)},getNodeFromInstance:function(t){return f.getNodeFromInstance(t)},isAncestor:function(t,e){return p.isAncestor(t,e)},getLowestCommonAncestor:function(t,e){return p.getLowestCommonAncestor(t,e)},getParentInstance:function(t){return p.getParentInstance(t)},traverseTwoPhase:function(t,e,n){return p.traverseTwoPhase(t,e,n)},traverseEnterLeave:function(t,e,n,i,r){return p.traverseEnterLeave(t,e,n,i,r)},injection:m};t.exports=y},function(t,e){"use strict";function n(t){var e=/[=:]/g,n={"=":"=0",":":"=2"},i=(""+t).replace(e,function(t){return n[t]});return"$"+i}function i(t){var e=/(=0|=2)/g,n={"=0":"=","=2":":"},i="."===t[0]&&"$"===t[1]?t.substring(2):t.substring(1);return(""+i).replace(e,function(t){return n[t]})}var r={escape:n,unescape:i};t.exports=r},function(t,e,n){"use strict";function i(t){null!=t.checkedLink&&null!=t.valueLink?a("87"):void 0}function r(t){i(t),null!=t.value||null!=t.onChange?a("88"):void 0}function o(t){i(t),null!=t.checked||null!=t.onChange?a("89"):void 0}function s(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}var a=n(4),u=n(637),l=n(274),c=n(50),h=l(c.isValidElement),f=(n(2),n(3),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(t,e,n){return!t[e]||f[t.type]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e,n){return!t[e]||t.onChange||t.readOnly||t.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},d={},b={checkPropTypes:function(t,e,n){for(var i in p){if(p.hasOwnProperty(i))var r=p[i](e,i,t,"prop",null,u);if(r instanceof Error&&!(r.message in d)){d[r.message]=!0;s(n)}}},getValue:function(t){return t.valueLink?(r(t),t.valueLink.value):t.value},getChecked:function(t){return t.checkedLink?(o(t),t.checkedLink.value):t.checked},executeOnChange:function(t,e){return t.valueLink?(r(t),t.valueLink.requestChange(e.target.value)):t.checkedLink?(o(t),t.checkedLink.requestChange(e.target.checked)):t.onChange?t.onChange.call(void 0,e):void 0}};t.exports=b},function(t,e,n){"use strict";var i=n(4),r=(n(2),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(t){r?i("104"):void 0,o.replaceNodeWithMarkup=t.replaceNodeWithMarkup,o.processChildrenUpdates=t.processChildrenUpdates,r=!0}}};t.exports=o},function(t,e,n){"use strict";function i(t,e,n){try{e(n)}catch(t){null===r&&(r=t)}}var r=null,o={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var t=r;throw r=null,t}}};t.exports=o},function(t,e,n){"use strict";function i(t){u.enqueueUpdate(t)}function r(t){var e=typeof t;if("object"!==e)return e;var n=t.constructor&&t.constructor.name||e,i=Object.keys(t);return i.length>0&&i.length<20?n+" (keys: "+i.join(", ")+")":n}function o(t,e){var n=a.get(t);if(!n){return null}return n}var s=n(4),a=(n(30),n(67)),u=(n(23),n(26)),l=(n(2),n(3),{isMounted:function(t){var e=a.get(t);return!!e&&!!e._renderedComponent},enqueueCallback:function(t,e,n){l.validateCallback(e,n);var r=o(t);return r?(r._pendingCallbacks?r._pendingCallbacks.push(e):r._pendingCallbacks=[e],void i(r)):null},enqueueCallbackInternal:function(t,e){t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e],i(t)},enqueueForceUpdate:function(t){var e=o(t,"forceUpdate");e&&(e._pendingForceUpdate=!0,i(e))},enqueueReplaceState:function(t,e,n){var r=o(t,"replaceState");r&&(r._pendingStateQueue=[e],r._pendingReplaceState=!0,void 0!==n&&null!==n&&(l.validateCallback(n,"replaceState"),r._pendingCallbacks?r._pendingCallbacks.push(n):r._pendingCallbacks=[n]),i(r))},enqueueSetState:function(t,e){var n=o(t,"setState");if(n){var r=n._pendingStateQueue||(n._pendingStateQueue=[]);r.push(e),i(n)}},enqueueElementInternal:function(t,e,n){t._pendingElement=e,t._context=n,i(t)},validateCallback:function(t,e){t&&"function"!=typeof t?s("122",e,r(t)):void 0}});t.exports=l},function(t,e){"use strict";var n=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t};t.exports=n},function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}t.exports=n},function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var i=r[t];return!!i&&!!n[i]}function i(t){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=i},function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}t.exports=n},function(t,e,n){"use strict";function i(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var s=document.createElement("div");s.setAttribute(n,"return;"),i="function"==typeof s[n]}return!i&&r&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=n(13);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=i},function(t,e){"use strict";function n(t,e){var n=null===t||t===!1,i=null===e||e===!1;if(n||i)return n===i;var r=typeof t,o=typeof e;return"string"===r||"number"===r?"string"===o||"number"===o:"object"===o&&t.type===e.type&&t.key===e.key}t.exports=n},function(t,e,n){"use strict";var i=(n(6),n(17)),r=(n(3),i);t.exports=r},function(t,e,n){"use strict";function i(t,e,n){this.props=t,this.context=e,this.refs=s,this.updater=n||o}var r=n(52),o=n(173),s=(n(298),n(57));n(2),n(3);i.prototype.isReactComponent={},i.prototype.setState=function(t,e){"object"!=typeof t&&"function"!=typeof t&&null!=t?r("85"):void 0,this.updater.enqueueSetState(this,t),e&&this.updater.enqueueCallback(this,e,"setState")},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this),t&&this.updater.enqueueCallback(this,t,"forceUpdate")};t.exports=i},function(t,e,n){"use strict";function i(t,e){}var r=(n(3),{isMounted:function(t){return!1},enqueueCallback:function(t,e){},enqueueForceUpdate:function(t){i(t,"forceUpdate")},enqueueReplaceState:function(t,e){i(t,"replaceState")},enqueueSetState:function(t,e){i(t,"setState")}});t.exports=r},function(t,e,n){(function(e,i){"use strict";function r(){}function o(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function s(t,e){E=E||n(41),t=t||{},this.objectMode=!!t.objectMode,e instanceof E&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){b(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}function a(t){return E=E||n(41),R.call(a,this)||this instanceof E?(this._writableState=new s(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),void A.call(this)):new a(t)}function u(t,e){var n=new Error("write after end");t.emit("error",n),T(e,n)}function l(t,e,n,i){var r=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),
T(i,o),r=!1),r}function c(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=k.from(e,n)),e}function h(t,e,n,i,r,s){n||(i=c(e,i,r),C.isBuffer(i)&&(r="buffer"));var a=e.objectMode?1:i.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest=new o(i,r,s),l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else f(t,e,!1,a,i,r,s);return u}function f(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function p(t,e,n,i,r){--e.pendingcb,n?T(r,i):r(i),t._writableState.errorEmitted=!0,t.emit("error",i)}function d(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function b(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(d(n),e)p(t,n,i,e,r);else{var o=g(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(t,n),i?P(m,t,n,o,r):m(t,n,o,r)}}function m(t,e,n,i){n||y(t,e),e.pendingcb--,i(),x(t,e)}function y(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function v(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)r[s]=n,n=n.next,s+=1;f(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new S(e)}else{for(;n;){var a=n.chunk,u=n.encoding,l=n.callback,c=e.objectMode?1:a.length;if(f(t,e,!1,c,a,u,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function g(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function _(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function x(t,e){var n=g(e);return n&&(0===e.pendingcb?(_(t,e),e.finished=!0,t.emit("finish")):_(t,e)),n}function w(t,e,n){e.ending=!0,x(t,e),n&&(e.finished?T(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function S(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}t.exports=a;var E,T=n(155),P=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:T;a.WritableState=s;var M=n(55);M.inherits=n(42);var O={deprecate:n(726)},A=n(301),C=n(21).Buffer,k=n(75);M.inherits(a,A),s.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(s.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}();var R;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(t){return!!R.call(this,t)||t&&t._writableState instanceof s}})):R=function(t){return t instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(t,e,n){var i=this._writableState,o=!1,s=C.isBuffer(t);return"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?u(this,n):(s||l(this,i,t,n))&&(i.pendingcb++,o=h(this,i,s,t,e,n)),o},a.prototype.cork=function(){var t=this._writableState;t.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||v(this,t))},a.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},a.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||w(this,i,n)}}).call(e,n(25),n(309).setImmediate)},function(t,e,n){e=t.exports=n(299),e.Stream=e,e.Readable=e,e.Writable=n(174),e.Duplex=n(41),e.Transform=n(300),e.PassThrough=n(683)},function(t,e,n){"use strict";function i(t,e,n){if(s.call(this),n=n||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this.isComplete=!1,this.isLoading=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function r(t){return t.toString().replace("object ","")}function o(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}var s=n(303),a=n(251),u=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),l=null,c=0,h=200,f=204;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this.isComplete=!0,this.isLoading=!1,this.emit("complete",this)},i.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if("undefined"!=typeof this.data.src)this.data.src="";else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},i.prototype.load=function(t){if(!this.isLoading)if(this.isComplete){if(t){var e=this;setTimeout(function(){t(e)},1)}}else switch(t&&this.once("complete",t),this.isLoading=!0,this.emit("start",this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadElement("image");break;case i.LOAD_TYPE.AUDIO:this._loadSourceElement("audio");break;case i.LOAD_TYPE.VIDEO:this._loadSourceElement("video");break;case i.LOAD_TYPE.XHR:default:u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url);var e="is"+t[0].toUpperCase()+t.substring(1);this[e]===!1&&(this[e]=!0),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element "+t);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=i.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},i.prototype._createSource=function(t,e,n){n||(n=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=n,i},i.prototype._onError=function(t){this.abort("Failed to load element using "+t.target.nodeName)},i.prototype._onProgress=function(t){t&&t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},i.prototype._xhrOnError=function(){var t=this.xhr;this.abort(r(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},i.prototype._xhrOnAbort=function(){this.abort(r(this.xhr)+" Request was aborted by the user.")},i.prototype._xdrOnTimeout=function(){this.abort(r(this.xhr)+" Request timed out.")},i.prototype._xhrOnLoad=function(){var t=this.xhr,e="undefined"==typeof t.status?t.status:h;if(!(e===h||e===f||e===c&&t.responseText.length>0))return void this.abort("["+t.status+"]"+t.statusText+":"+t.responseURL);if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(t){return void this.abort("Error trying to parse loaded json:",t)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=t.responseText,this.data=r}this.isXml=!0}catch(t){return void this.abort("Error trying to parse loaded xml:",t)}else this.data=t.response||t.responseText;this.complete()},i.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,l||(l=document.createElement("a")),l.href=t,t=a(l.href,{strictMode:!0});var n=!t.port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&i===e.protocol?"":"anonymous"},i.prototype._determineXhrType=function(){return i._xhrTypeMap[this._getExtension()]||i.XHR_RESPONSE_TYPE.TEXT},i.prototype._determineLoadType=function(){return i._loadTypeMap[this._getExtension()]||i.LOAD_TYPE.XHR},i.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?");i!==-1&&(t=t.substring(0,i)),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},i.prototype._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},i._loadTypeMap={gif:i.LOAD_TYPE.IMAGE,png:i.LOAD_TYPE.IMAGE,bmp:i.LOAD_TYPE.IMAGE,jpg:i.LOAD_TYPE.IMAGE,jpeg:i.LOAD_TYPE.IMAGE,tif:i.LOAD_TYPE.IMAGE,tiff:i.LOAD_TYPE.IMAGE,webp:i.LOAD_TYPE.IMAGE,tga:i.LOAD_TYPE.IMAGE,"svg+xml":i.LOAD_TYPE.IMAGE},i._xhrTypeMap={xhtml:i.XHR_RESPONSE_TYPE.DOCUMENT,html:i.XHR_RESPONSE_TYPE.DOCUMENT,htm:i.XHR_RESPONSE_TYPE.DOCUMENT,xml:i.XHR_RESPONSE_TYPE.DOCUMENT,tmx:i.XHR_RESPONSE_TYPE.DOCUMENT,tsx:i.XHR_RESPONSE_TYPE.DOCUMENT,svg:i.XHR_RESPONSE_TYPE.DOCUMENT,gif:i.XHR_RESPONSE_TYPE.BLOB,png:i.XHR_RESPONSE_TYPE.BLOB,bmp:i.XHR_RESPONSE_TYPE.BLOB,jpg:i.XHR_RESPONSE_TYPE.BLOB,jpeg:i.XHR_RESPONSE_TYPE.BLOB,tif:i.XHR_RESPONSE_TYPE.BLOB,tiff:i.XHR_RESPONSE_TYPE.BLOB,webp:i.XHR_RESPONSE_TYPE.BLOB,tga:i.XHR_RESPONSE_TYPE.BLOB,json:i.XHR_RESPONSE_TYPE.JSON,text:i.XHR_RESPONSE_TYPE.TEXT,txt:i.XHR_RESPONSE_TYPE.TEXT},i.setExtensionLoadType=function(t,e){o(i._loadTypeMap,t,e)},i.setExtensionXhrType=function(t,e){o(i._xhrTypeMap,t,e)}},function(t,e,n){"use strict";function i(t){var e=p.asIvlPitch(t);return e?p.strIvl(e):null}function r(t){var e=s(t);return e?e.num:null}function o(t){var e=s(t);return e?e.num*e.dir:null}function s(t){var e=p.asIvlPitch(t);if(!e)return null;var n=p.decode(e);return{num:n[0]+1+7*n[2],alt:n[1],dir:e[2]}}function a(t){if(!t||t.num<1)return null;var e=Math.floor(t.num/8),n=t.num-7*e;return f.build(n,t.alt||0,e,t.dir)}function u(t){var e=p.asIvlPitch(t);return e?p.height(e):null}function l(t){var e=t<0?-1:1,n=Math.abs(t),i=n%12,r=Math.floor(n/12);return e*(d[i]+7*r)+b[i]}function c(t){var e=p.asIvlPitch(t),n=e?p.chr(e):Math.round(t);return isNaN(n)?null:m[Math.abs(n)%12]}function h(t){var e=p.asIvlPitch(t);return e?y[p.decode(e)[0]]:null}Object.defineProperty(e,"__esModule",{value:!0});var f=n(121),p=n(36),d=[1,2,2,3,3,4,5,5,6,6,7,7],b="P m M m M P d P m M m M".split(" "),m=[0,1,2,3,4,5,6,5,4,3,2,1],y="PMMPPMM",v=p.ivlFn(function(t){var e=p.decode(t),n=(7-e[0])%7,i="P"===y[e[0]]?-e[1]:-(e[1]+1);return p.encode(n,i,e[2],p.dir(t))}),g=p.ivlFn(function(t){var e=p.decode(t);return 0===e[0]&&1===e[2]||(e[2]=0),p.encode(e[0],e[1],e[2],p.dir(t))});e.toInterval=i,e.num=r,e.value=o,e.props=s,e.fromProps=a,e.semitones=u,e.fromSemitones=l,e.ic=c,e.type=h,e.invert=v,e.simplify=g},function(t,e){"use strict";function n(t){var e="CDEFGAB".indexOf(t.toUpperCase());return e<0?null:e}function i(t){return!(t<0||t>6)}function r(t){return i(t)?"CDEFGAB".charAt(t):null}function o(t){return/^b+$/.test(t)}function s(t){return/^#+$/.test(t)}function a(t){return""===t?0:o(t)?-t.length:s(t)?t.length:null}function u(t,e){return Array(e+1).join(t)}function l(t){return t?t<0?u("b",-t):u("#",t):""}Object.defineProperty(e,"__esModule",{value:!0}),e.toStep=n,e.isStep=i,e.toLetter=r,e.areFlats=o,e.areSharps=s,e.toAlt=a,e.toAcc=l},function(t,e,n){"use strict";function i(t){return parseInt(o(t),2)}function r(t){return t=b.asPitch(t),t?b.chr(t):null}function o(t){if(u(t))return t;var e=[0,0,0,0,0,0,0,0,0,0,0,0];return y.map(r,t).forEach(function(t){e[t]=1}),e.join("")}function s(t){var e=y.map(m.pc,t);if(!e.length)return e;var n=e[0],i=y.rotate(r(n),o(e).split("")).join("");return l(i,n)}function a(t,e){e=e!==!1;var n=o(t).split("");return y.compact(n.map(function(t,i){var r=y.rotate(i,n);return e&&"0"===r[0]?null:r.join("")}))}function u(t){return g.test(t)}function l(t,e){return 1===arguments.length?function(e){return l(t,e)}:u(t)?(e=e||"P1",y.compact(t.split("").map(function(t,n){return"1"===t?v.transpose(_[n],e):null}))):null}function c(t,e){return 1===arguments.length?function(e){return c(t,e)}:o(t)===o(e)}function h(t,e){return 1===arguments.length?function(e){return h(t,e)}:(e=i(e),(e&i(t))===e)}function f(t,e){return 1===arguments.length?function(e){return f(t,e)}:(e=i(e),(e|i(t))===e)}function p(t,e){return arguments.length>1?p(t)(e):(t=o(t),function(e){return"1"===t[r(e)]})}function d(t,e){return 1===arguments.length?function(e){return d(t,e)}:y.asArr(e).filter(p(t))}Object.defineProperty(e,"__esModule",{value:!0});var b=n(36),m=n(712),y=n(24),v=n(37),g=/^[01]{12}$/,_="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" ");e.chroma=o,e.notes=s,e.chromaModes=a,e.isChroma=u,e.fromChroma=l,e.equal=c,e.subset=h,e.superset=f,e.includes=p,e.filter=d},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(){var e,i,r,o,s,a,u,l,c,h,f,p,d,b,m=function(t,e){function n(){this.constructor=t}for(var i in e)y.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;u=n(110),l=n(111),e=n(104),i=n(105),c=n(112),f=n(114),d=n(115),h=n(113),r=n(106),o=n(107),s=n(108),a=n(109),b=n(320),t.exports=p=function(t){function n(t){n.__super__.constructor.call(this,t)}return m(n,t),n.prototype.document=function(t){var e,n,r,o,s;for(o="",s=t.children,n=0,r=s.length;n<r;n++)e=s[n],o+=function(){switch(!1){case!(e instanceof u):return this.declaration(e);case!(e instanceof l):return this.docType(e);case!(e instanceof i):return this.comment(e);case!(e instanceof h):return this.processingInstruction(e);default:return this.element(e,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},n.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},n.prototype.cdata=function(t,e){return this.space(e)+"<![CDATA["+t.text+"]]>"+this.newline},n.prototype.comment=function(t,e){return this.space(e)+"<!-- "+t.text+" -->"+this.newline},n.prototype.declaration=function(t,e){var n;return n=this.space(e),n+='<?xml version="'+t.version+'"',null!=t.encoding&&(n+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(n+=' standalone="'+t.standalone+'"'),n+="?>",n+=this.newline},n.prototype.docType=function(t,n){var u,l,c,f,p;if(n||(n=0),f=this.space(n),f+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?f+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(f+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(f+=" [",f+=this.newline,p=t.children,l=0,c=p.length;l<c;l++)u=p[l],f+=function(){switch(!1){case!(u instanceof r):return this.dtdAttList(u,n+1);case!(u instanceof o):return this.dtdElement(u,n+1);case!(u instanceof s):return this.dtdEntity(u,n+1);case!(u instanceof a):return this.dtdNotation(u,n+1);case!(u instanceof e):return this.cdata(u,n+1);case!(u instanceof i):return this.comment(u,n+1);case!(u instanceof h):return this.processingInstruction(u,n+1);default:throw new Error("Unknown DTD node type: "+u.constructor.name)}}.call(this);f+="]"}return f+=">",f+=this.newline},n.prototype.element=function(t,n){var r,o,s,a,u,l,p,b,m;n||(n=0),m=this.space(n),l="",l+=m+"<"+t.name,p=t.attributes;for(u in p)y.call(p,u)&&(r=p[u],l+=this.attribute(r));if(0===t.children.length||t.children.every(function(t){return""===t.value}))l+=this.allowEmpty?"></"+t.name+">"+this.newline:"/>"+this.newline;else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)l+=">",l+=t.children[0].value,l+="</"+t.name+">"+this.newline;else{for(l+=">"+this.newline,b=t.children,s=0,a=b.length;s<a;s++)o=b[s],l+=function(){switch(!1){case!(o instanceof e):return this.cdata(o,n+1);case!(o instanceof i):return this.comment(o,n+1);case!(o instanceof c):return this.element(o,n+1);case!(o instanceof f):return this.raw(o,n+1);case!(o instanceof d):return this.text(o,n+1);case!(o instanceof h):return this.processingInstruction(o,n+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);l+=m+"</"+t.name+">"+this.newline}return l},n.prototype.processingInstruction=function(t,e){var n;return n=this.space(e)+"<?"+t.target,t.value&&(n+=" "+t.value),n+="?>"+this.newline},n.prototype.raw=function(t,e){return this.space(e)+t.value+this.newline},n.prototype.text=function(t,e){return this.space(e)+t.value+this.newline},n.prototype.dtdAttList=function(t,e){var n;return n=this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(n+=" "+t.defaultValueType),t.defaultValue&&(n+=' "'+t.defaultValue+'"'),n+=">"+this.newline},n.prototype.dtdElement=function(t,e){return this.space(e)+"<!ELEMENT "+t.name+" "+t.value+">"+this.newline},n.prototype.dtdEntity=function(t,e){var n;return n=this.space(e)+"<!ENTITY",t.pe&&(n+=" %"),n+=" "+t.name,t.value?n+=' "'+t.value+'"':(t.pubID&&t.sysID?n+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(n+=' SYSTEM "'+t.sysID+'"'),t.nData&&(n+=" NDATA "+t.nData)),n+=">"+this.newline},n.prototype.dtdNotation=function(t,e){var n;return n=this.space(e)+"<!NOTATION "+t.name,t.pubID&&t.sysID?n+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?n+=' PUBLIC "'+t.pubID+'"':t.sysID&&(n+=' SYSTEM "'+t.sysID+'"'),n+=">"+this.newline},n.prototype.openNode=function(t,e){var n,i,r,o;if(e||(e=0),t instanceof c){r=this.space(e)+"<"+t.name,o=t.attributes;for(i in o)y.call(o,i)&&(n=o[i],r+=this.attribute(n));return r+=(t.children?">":"/>")+this.newline}return r=this.space(e)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?r+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(r+=' SYSTEM "'+t.sysID+'"'),r+=(t.children?" [":">")+this.newline},n.prototype.closeNode=function(t,e){switch(e||(e=0),!1){case!(t instanceof c):return this.space(e)+"</"+t.name+">"+this.newline;case!(t instanceof l):return this.space(e)+"]>"+this.newline}},n}(b)}).call(this)},function(t,e){var n={bb:-2,b:-1,"":0,"#":1,x:2};t.exports=function(t){return n[t]},t.exports.interval=function(t){var e=n[t];return[-4*e,7*e]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){return(0,c.default)(Object.values(u.default))[0]}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25;return Object.values(u.default).find(function(e){return e.length===t})}Object.defineProperty(e,"__esModule",{value:!0}),e.createDurationOfRandomLength=r,e.createDurationOfLength=o;var s=n(118),a=(i(s),n(117)),u=i(a),l=n(135),c=i(l)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:24,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25,n=4*t;return e*n}function o(t){return{_:t}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{"score-partwise":{work:{"work-title":o("Sample Score")},"part-list":{"score-part":[{$:{id:"P1"},"part-name":o("Piano"),"score-instrument":{$:{id:"P1-I3"},"instrument-name":o("Piano (right)")}}]},part:[{$:{id:"P1"},measure:[{attributes:{divisions:o(24),key:{fifths:o(0),mode:o("major")},time:{beats:o(4),"beat-type":o(4)},clef:{sign:o("G"),line:o(2)}},direction:[{$:{placement:"above"},"direction-type":{metronome:{$:{parentheses:"no"},"beat-unit":o("quarter"),"per-minute":o(156)}},sound:{$:{tempo:"156"}}}],note:t.map(u.default.createFromSound).map(function(t){return t.toMusicJSON()})}]}]}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getDurationDivision=r,e.xmlCompatibleProperty=o,e.buildScoreJson=s;var a=n(332),u=i(a)},function(t,e,n){"use strict";var i=n(17),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:i}},registerDefault:function(){}};t.exports=r},function(t,e){"use strict";function n(t){try{t.focus()}catch(t){}}t.exports=n},function(t,e){"use strict";function n(t){if(t=t||("undefined"!=typeof document?document:void 0),"undefined"==typeof t)return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=n},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var i=n(8),r=n(32),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,r,s,a,u,l,c=[],h=0,f=t.length,p=f,d="string"!==i.getTypeOf(t);h<t.length;)p=f-h,d?(e=t[h++],n=h<f?t[h++]:0,r=h<f?t[h++]:0):(e=t.charCodeAt(h++),n=h<f?t.charCodeAt(h++):0,r=h<f?t.charCodeAt(h++):0),s=e>>2,a=(3&e)<<4|n>>4,u=p>1?(15&n)<<2|r>>6:64,l=p>2?63&r:64,c.push(o.charAt(s)+o.charAt(a)+o.charAt(u)+o.charAt(l));return c.join("")},e.decode=function(t){var e,n,i,s,a,u,l,c=0,h=0,f="data:";if(t.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var p=3*t.length/4;if(t.charAt(t.length-1)===o.charAt(64)&&p--,t.charAt(t.length-2)===o.charAt(64)&&p--,p%1!==0)throw new Error("Invalid base64 input, bad content length.");var d;for(d=r.uint8array?new Uint8Array(0|p):new Array(0|p);c<t.length;)s=o.indexOf(t.charAt(c++)),a=o.indexOf(t.charAt(c++)),u=o.indexOf(t.charAt(c++)),l=o.indexOf(t.charAt(c++)),e=s<<2|a>>4,n=(15&a)<<4|u>>2,i=(3&u)<<6|l,d[h++]=e,64!==u&&(d[h++]=n),64!==l&&(d[h++]=i);return d}},function(t,e,n){"use strict";var i=n(18);e.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n(362)},function(t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){t.exports=n(306)},function(t,e,n){"use strict";function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var r=n(194),o=n(8);o.inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var r=n(8);i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(193),o=n(8);o.inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";var i=n(8),r=n(32),o=n(193),s=n(371),a=n(370),u=n(195);t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new u(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new s(t)}},function(t,e){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=n(18),o=n(123),s=n(8);s.inherits(i,r),i.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=i},function(t,e,n){"use strict";function i(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var r=n(8),o=n(18);r.inherits(i,o),i.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},t.exports=i},function(t,e,n){"use strict";function i(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var r=n(8),o=n(18),s=16384;r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=s,e=null,n=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,n);break;case"uint8array":e=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":e=this.data.slice(this.index,n)}return this.index=n,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},function(t,e,n){(function(e){"use strict";function i(t,e,n,i){var o=null;switch(t){case"blob":return a.newBlob(n,i);case"base64":return o=r(e,n),c.encode(o);default:return o=r(e,n),a.transformTo(t,o)}}function r(t,n){var i,r=0,o=null,s=0;for(i=0;i<n.length;i++)s+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(s),i=0;i<n.length;i++)o.set(n[i],r),r+=n[i].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}function o(t,e){return new f.Promise(function(n,r){var o=[],s=t._internalType,a=t._outputType,u=t._mimeType;t.on("data",function(t,n){o.push(t),e&&e(n)}).on("error",function(t){o=[],r(t)}).on("end",function(){try{var t=i(a,s,o,u);n(t)}catch(t){r(t)}o=[]}).resume()})}function s(t,e,n){var i=e;switch(e){case"blob":i="arraybuffer";break;case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,a.checkSupport(i),this._worker=t.pipe(new u(i)),t.lock()}catch(t){this._worker=new l("error"),this._worker.error(t)}}var a=n(8),u=n(372),l=n(18),c=n(189),h=n(32),f=n(58),p=null;if(h.nodestream)try{p=n(368)}catch(t){}s.prototype={accumulate:function(t){return o(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){
a.delay(e,arguments,n)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=s}).call(e,n(21).Buffer)},function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(377);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(125),r=n(78).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";function i(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var r=n(33),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new r.Buf8(256),u=0;u<256;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,o,s,a=t.length,u=0;for(o=0;o<a;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<a&&(i=t.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),s=0,o=0;s<u;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<a&&(i=t.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},e.buf2binstring=function(t){return i(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,o,s,u=e||t.length,l=new Array(2*u);for(r=0,n=0;n<u;)if(o=t[n++],o<128)l[r++]=o;else if(s=a[o],s>4)l[r++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<u;)o=o<<6|63&t[n++],s--;s>1?l[r++]=65533:o<65536?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return i(l,r)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},function(t,e){"use strict";function n(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){s=n>2e3?2e3:n,n-=s;do r=r+e[i++]|0,o=o+r|0;while(--s);r%=65521,o%=65521}return r|o<<16|0}t.exports=n},function(t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){"use strict";function n(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return t^-1}var r=n();t.exports=i},function(t,e){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n},function(t,e,n){function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}var r=n(130),o=n(131);i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}t.exports=n},function(t,e,n){function i(t,e){return s(o(t,e,r),t+"")}var r=n(134),o=n(442),s=n(226);t.exports=i},function(t,e,n){var i=n(134),r=n(224),o=r?function(t,e){return r.set(t,e),t}:i;t.exports=o},function(t,e){function n(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}t.exports=n},function(t,e){function n(t,e,n,r){for(var o=-1,s=t.length,a=n.length,u=-1,l=e.length,c=i(s-a,0),h=Array(l+c),f=!r;++u<l;)h[u]=e[u];for(;++o<a;)(f||o<s)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}var i=Math.max;t.exports=n},function(t,e){function n(t,e,n,r){for(var o=-1,s=t.length,a=-1,u=n.length,l=-1,c=e.length,h=i(s-u,0),f=Array(h+c),p=!r;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++a<u;)(p||o<s)&&(f[d+n[a]]=t[o++]);return f}var i=Math.max;t.exports=n},function(t,e,n){function i(t,e,n,g,_,x,w,S,E,T){function P(){for(var p=arguments.length,d=Array(p),b=p;b--;)d[b]=arguments[b];if(C)var m=l(P),y=s(d,m);if(g&&(d=r(d,g,_,C)),x&&(d=o(d,x,w,C)),p-=y,C&&p<T){var v=h(d,m);return u(t,e,i,P.placeholder,n,d,v,S,E,T-p)}var I=O?n:this,N=A?I[t]:t;return p=d.length,S?d=c(d,S):k&&p>1&&d.reverse(),M&&E<p&&(d.length=E),this&&this!==f&&this instanceof P&&(N=R||a(N)),N.apply(I,d)}var M=e&y,O=e&p,A=e&d,C=e&(b|m),k=e&v,R=A?void 0:a(t);return P}var r=n(216),o=n(217),s=n(422),a=n(80),u=n(219),l=n(133),c=n(444),h=n(81),f=n(34),p=1,d=2,b=8,m=16,y=128,v=512;t.exports=i},function(t,e,n){function i(t,e,n,i,p,d,b,m,y,v){var g=e&c,_=g?b:void 0,x=g?void 0:b,w=g?d:void 0,S=g?void 0:d;e|=g?h:f,e&=~(g?f:h),e&l||(e&=~(a|u));var E=[t,e,p,w,_,S,x,m,y,v],T=n.apply(void 0,E);return r(t)&&o(T,E),T.placeholder=i,s(T,t,e)}var r=n(434),o=n(225),s=n(227),a=1,u=2,l=4,c=8,h=32,f=64;t.exports=i},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var i=n(224),r=n(457),o=i?function(t){return i.get(t)}:r;t.exports=o},function(t,e,n){function i(t,e){var n=o(t,e);return r(n)?n:void 0}var r=n(412),o=n(430);t.exports=i},function(t,e){function n(t,e){return e=null==e?i:e,!!e&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}var i=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){var i=n(400),r=i&&new i;t.exports=r},function(t,e,n){var i=n(214),r=n(228),o=r(i);t.exports=o},function(t,e,n){var i=n(417),r=n(228),o=r(i);t.exports=o},function(t,e,n){function i(t,e,n){var i=e+"";return s(t,o(i,a(r(i),n)))}var r=n(431),o=n(432),s=n(226),a=n(447);t.exports=i},function(t,e){function n(t){var e=0,n=0;return function(){var s=o(),a=r-(s-n);if(n=s,a>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var i=800,r=16,o=Date.now;t.exports=n},function(t,e,n){function i(t,e){var n=-1,i=t.length,o=i-1;for(e=void 0===e?i:e;++n<e;){var s=r(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var r=n(416);t.exports=i},function(t,e,n){var i=n(410),r=n(44),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return r(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=u},function(t,e,n){function i(t){return null!=t&&o(t.length)&&!r(t)}var r=n(232),o=n(233);t.exports=i},function(t,e,n){function i(t){if(!o(t))return!1;var e=r(t);return e==a||e==u||e==s||e==l}var r=n(79),o=n(59),s="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";t.exports=i},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}var i=9007199254740991;t.exports=n},function(t,e){var n={c:[0,0],d:[-1,2],e:[-2,4],f:[1,-1],g:[0,1],a:[-1,3],b:[-2,5],h:[-2,5]};t.exports=function(t){return t in n?[n[t][0],n[t][1]]:null},t.exports.notes=n,t.exports.A4=[3,3],t.exports.sharp=[-4,7]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=t,this.height=e}return t}();e.SizeF2D=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.TimesNewRoman=0]="TimesNewRoman",t[t.Kokila=1]="Kokila"}(n=e.Fonts||(e.Fonts={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){if(this.hasAttributes=!1,void 0===t)throw new Error("IXmlElement: expected Element, got undefined");this.elem=t,this.name=t.nodeName.toLowerCase(),t.hasAttributes()&&(this.hasAttributes=!0,this.firstAttribute=t.attributes[0]),this.hasElements=t.hasChildNodes(),1===t.childNodes.length&&t.childNodes[0].nodeType===Node.TEXT_NODE?this.value=t.childNodes[0].nodeValue:this.value=""}return t.prototype.attribute=function(t){return this.elem.attributes.getNamedItem(t)},t.prototype.attributes=function(){if(!this.attrs){for(var t=this.elem.attributes,e=[],n=0;n<t.length;n+=1)e.push(t[n]);this.attrs=e}return this.attrs},t.prototype.element=function(e){for(var n=this.elem.childNodes,i=0,r=n.length;i<r;i+=1){var o=n[i];if(o.nodeType===Node.ELEMENT_NODE&&o.nodeName.toLowerCase()===e)return new t(o)}},t.prototype.elements=function(e){var n=this.elem.childNodes,i=[],r=void 0===e;r||(e=e.toLowerCase());for(var o=0;o<n.length;o+=1){var s=n[o];s.nodeType!==Node.ELEMENT_NODE||!r&&s.nodeName.toLowerCase()!==e||i.push(new t(s))}return i},t}();e.IXmlElement=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(240),r=n(15),o=function(){function t(){this.noteDistances=[1,1,1.3,1.6,2,2.5,3,4],this.noteDistancesScalingFactors=[1,2,4,8,16,32,64,128],this.durationDistanceDict={},this.durationScalingDistanceDict={},this.samplingUnit=3*t.unit,this.sheetTitleHeight=4,this.sheetSubtitleHeight=2,this.sheetMinimumDistanceBetweenTitleAndSubtitle=1,this.sheetComposerHeight=2,this.sheetAuthorHeight=2,this.pagePlacementEnum=i.PagePlacementEnum.Down,this.pageHeight=100001,this.pageTopMargin=5,this.pageBottomMargin=5,this.pageLeftMargin=5,this.pageRightMargin=5,this.titleTopDistance=9,this.titleBottomDistance=1,this.staffDistance=7,this.betweenStaffDistance=5,this.staffHeight=4,this.betweenStaffLinesDistance=t.unit,this.systemDistance=10,this.systemLeftMargin=0,this.systemRightMargin=0,this.firstSystemMargin=15,this.systemLabelsRightMargin=2,this.systemComposerDistance=2,this.instrumentLabelTextHeight=2,this.minimumAllowedDistanceBetweenSystems=3,this.lastSystemMaxScalingFactor=1.4,this.beamWidth=t.unit/2,this.beamSpaceWidth=t.unit/3,this.beamForwardLength=1.25*t.unit,this.clefLeftMargin=.5,this.clefRightMargin=.75,this.betweenKeySymbolsDistance=.2,this.keyRightMargin=.75,this.rhythmRightMargin=1.25,this.inStaffClefScalingFactor=.8,this.distanceBetweenNaturalAndSymbolWhenCancelling=.4,this.noteHelperLinesOffset=.25,this.measureLeftMargin=.7,this.measureRightMargin=0,this.distanceBetweenLastInstructionAndRepetitionBarline=1,this.arpeggioDistance=.6,this.staccatoShorteningFactor=2,this.idealStemLength=3,this.stemNoteHeadBorderYOffset=.2,this.stemWidth=.13,this.stemMargin=.2,this.stemMinLength=2.5,this.stemMaxLength=4.5,this.beamSlopeMaxAngle=10,this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=1,this.graceNoteScalingFactor=.6,this.graceNoteXOffset=.2,this.wedgeOpeningLength=1.2,this.wedgeMeasureEndOpeningLength=.75,this.wedgeMeasureBeginOpeningLength=.75,this.wedgePlacementAboveY=-1.5,this.wedgePlacementBelowY=1.5,this.wedgeHorizontalMargin=.6,this.wedgeVerticalMargin=.5,this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=.3,this.wedgeMinLength=2,this.distanceBetweenAdjacentDynamics=.75,this.tempoChangeMeasureValitidy=4,this.tempoContinousFactor=.7,this.staccatoScalingFactor=.8,this.betweenDotsDistance=.8,this.ornamentAccidentalScalingFactor=.65,this.chordSymbolTextHeight=2,this.fingeringLabelFontHeight=1.7,this.measureNumberLabelHeight=1.5*t.unit,this.measureNumberLabelOffset=2,this.tupletNumberLabelHeight=1.5*t.unit,this.tupletNumberYOffset=.5,this.labelMarginBorderFactor=.1,this.tupletVerticalLineLength=.5,this.bezierCurveStepSize=1e3,this.calculateCurveParametersArrays(),this.tieGhostObjectWidth=.75,this.tieYPositionOffsetFactor=.3,this.minimumNeededXspaceForTieGhostObject=1,this.tieHeightMinimum=.28,this.tieHeightMaximum=1.2,this.tieHeightInterpolationK=.0288,this.tieHeightInterpolationD=.136,this.slurNoteHeadYOffset=.5,this.slurStemXOffset=.3,this.slurSlopeMaxAngle=15,this.slurTangentMinAngle=30,this.slurTangentMaxAngle=80,this.slursStartingAtSameStaffEntryYOffset=.8,this.repetitionEndingLabelHeight=2,this.repetitionEndingLabelXOffset=.5,this.repetitionEndingLabelYOffset=.3,this.repetitionEndingLineYLowerOffset=.5,this.repetitionEndingLineYUpperOffset=.3,this.lyricsHeight=2,this.verticalBetweenLyricsDistance=.5,this.betweenSyllabelMaximumDistance=10,this.minimumDistanceBetweenDashes=5,this.instantaniousTempoTextHeight=2.3,this.continuousDynamicTextHeight=2.3,this.moodTextHeight=2.3,this.unknownTextHeight=2,this.continuousTempoTextHeight=2.3,this.staffLineWidth=.12,this.ledgerLineWidth=.12,this.wedgeLineWidth=.12,this.tupletLineWidth=.12,this.lyricUnderscoreLineWidth=.12,this.systemThinLineWidth=.12,this.systemBoldLineWidth=t.unit/2,this.systemRepetitionEndingLineWidth=.12,this.systemDotWidth=t.unit/5,this.distanceBetweenVerticalSystemLines=.35,this.distanceBetweenDotAndLine=.7,this.octaveShiftLineWidth=.12,this.octaveShiftVerticalLineLength=t.unit,this.graceLineWidth=this.staffLineWidth*this.GraceNoteScalingFactor,this.minimumStaffLineDistance=1,this.minimumCrossedBeamDifferenceMargin=1e-4,this.displacedNoteMargin=.1,this.minNoteDistance=2,this.subMeasureXSpacingThreshold=35,this.measureDynamicsMaxScalingFactor=2.5,this.populateDictionaries();try{this.maxInstructionsConstValue=this.ClefLeftMargin+this.ClefRightMargin+this.KeyRightMargin+this.RhythmRightMargin+11}catch(t){r.Logging.log("EngravingRules()",t)}}return Object.defineProperty(t,"Rules",{get:function(){return void 0!==t.rules?t.rules:t.rules=new t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SamplingUnit",{get:function(){return this.samplingUnit},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetTitleHeight",{get:function(){return this.sheetTitleHeight},set:function(t){this.sheetTitleHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetSubtitleHeight",{get:function(){return this.sheetSubtitleHeight},set:function(t){this.sheetSubtitleHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetMinimumDistanceBetweenTitleAndSubtitle",{get:function(){return this.sheetMinimumDistanceBetweenTitleAndSubtitle},set:function(t){this.sheetMinimumDistanceBetweenTitleAndSubtitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetComposerHeight",{get:function(){return this.sheetComposerHeight},set:function(t){this.sheetComposerHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetAuthorHeight",{get:function(){return this.sheetAuthorHeight},set:function(t){this.sheetAuthorHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PagePlacement",{get:function(){return this.pagePlacementEnum},set:function(t){this.pagePlacementEnum=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageHeight",{get:function(){return this.pageHeight},set:function(t){this.pageHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageTopMargin",{get:function(){return this.pageTopMargin},set:function(t){this.pageTopMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageBottomMargin",{get:function(){return this.pageBottomMargin},set:function(t){this.pageBottomMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageLeftMargin",{get:function(){return this.pageLeftMargin},set:function(t){this.pageLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PageRightMargin",{get:function(){return this.pageRightMargin},set:function(t){this.pageRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TitleTopDistance",{get:function(){return this.titleTopDistance},set:function(t){this.titleTopDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TitleBottomDistance",{get:function(){return this.titleBottomDistance},set:function(t){this.titleBottomDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemComposerDistance",{get:function(){return this.systemComposerDistance},set:function(t){this.systemComposerDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InstrumentLabelTextHeight",{get:function(){return this.instrumentLabelTextHeight},set:function(t){this.instrumentLabelTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemDistance",{get:function(){return this.systemDistance},set:function(t){this.systemDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemLeftMargin",{get:function(){return this.systemLeftMargin},set:function(t){this.systemLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemRightMargin",{get:function(){return this.systemRightMargin},set:function(t){this.systemRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FirstSystemMargin",{get:function(){return this.firstSystemMargin},set:function(t){this.firstSystemMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemLabelsRightMargin",{get:function(){return this.systemLabelsRightMargin},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumAllowedDistanceBetweenSystems",{get:function(){return this.minimumAllowedDistanceBetweenSystems},set:function(t){this.minimumAllowedDistanceBetweenSystems=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LastSystemMaxScalingFactor",{get:function(){return this.lastSystemMaxScalingFactor},set:function(t){this.lastSystemMaxScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffDistance",{get:function(){return this.staffDistance},set:function(t){this.staffDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenStaffDistance",{get:function(){return this.betweenStaffDistance},set:function(t){this.betweenStaffDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffHeight",{get:function(){return this.staffHeight},set:function(t){this.staffHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenStaffLinesDistance",{get:function(){return this.betweenStaffLinesDistance},set:function(t){this.betweenStaffLinesDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamWidth",{get:function(){return this.beamWidth},set:function(t){this.beamWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamSpaceWidth",{get:function(){return this.beamSpaceWidth},set:function(t){this.beamSpaceWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamForwardLength",{get:function(){return this.beamForwardLength},set:function(t){this.beamForwardLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenKeySymbolsDistance",{get:function(){return this.betweenKeySymbolsDistance},set:function(t){this.betweenKeySymbolsDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClefLeftMargin",{get:function(){return this.clefLeftMargin},set:function(t){this.clefLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ClefRightMargin",{get:function(){return this.clefRightMargin},set:function(t){this.clefRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"KeyRightMargin",{get:function(){return this.keyRightMargin},set:function(t){this.keyRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RhythmRightMargin",{get:function(){return this.rhythmRightMargin},set:function(t){this.rhythmRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InStaffClefScalingFactor",{get:function(){return this.inStaffClefScalingFactor},set:function(t){this.inStaffClefScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenNaturalAndSymbolWhenCancelling",{get:function(){return this.distanceBetweenNaturalAndSymbolWhenCancelling},set:function(t){this.distanceBetweenNaturalAndSymbolWhenCancelling=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteHelperLinesOffset",{get:function(){return this.noteHelperLinesOffset},set:function(t){this.noteHelperLinesOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureLeftMargin",{get:function(){return this.measureLeftMargin},set:function(t){this.measureLeftMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureRightMargin",{get:function(){return this.measureRightMargin},set:function(t){this.measureRightMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenLastInstructionAndRepetitionBarline",{get:function(){return this.distanceBetweenLastInstructionAndRepetitionBarline},set:function(t){this.distanceBetweenLastInstructionAndRepetitionBarline=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ArpeggioDistance",{get:function(){return this.arpeggioDistance},set:function(t){this.arpeggioDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaccatoShorteningFactor",{get:function(){return this.staccatoShorteningFactor},set:function(t){this.staccatoShorteningFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IdealStemLength",{get:function(){return this.idealStemLength},set:function(t){this.idealStemLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemNoteHeadBorderYOffset",{get:function(){return this.stemNoteHeadBorderYOffset},set:function(t){this.stemNoteHeadBorderYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemWidth",{get:function(){return this.stemWidth},set:function(t){this.stemWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMargin",{get:function(){return this.stemMargin},set:function(t){this.stemMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMinLength",{get:function(){return this.stemMinLength},set:function(t){this.stemMinLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMaxLength",{get:function(){return this.stemMaxLength},set:function(t){this.stemMaxLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BeamSlopeMaxAngle",{get:function(){return this.beamSlopeMaxAngle},set:function(t){this.beamSlopeMaxAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StemMinAllowedDistanceBetweenNoteHeadAndBeamLine",{get:function(){return this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine},set:function(t){this.stemMinAllowedDistanceBetweenNoteHeadAndBeamLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraceNoteScalingFactor",{get:function(){return this.graceNoteScalingFactor},set:function(t){this.graceNoteScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraceNoteXOffset",{get:function(){return this.graceNoteXOffset},set:function(t){this.graceNoteXOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeOpeningLength",{get:function(){return this.wedgeOpeningLength},set:function(t){this.wedgeOpeningLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeMeasureEndOpeningLength",{get:function(){return this.wedgeMeasureEndOpeningLength},set:function(t){this.wedgeMeasureEndOpeningLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeMeasureBeginOpeningLength",{get:function(){return this.wedgeMeasureBeginOpeningLength},set:function(t){this.wedgeMeasureBeginOpeningLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgePlacementAboveY",{get:function(){return this.wedgePlacementAboveY},set:function(t){this.wedgePlacementAboveY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgePlacementBelowY",{get:function(){return this.wedgePlacementBelowY},set:function(t){this.wedgePlacementBelowY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeHorizontalMargin",{get:function(){return this.wedgeHorizontalMargin},set:function(t){this.wedgeHorizontalMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeVerticalMargin",{get:function(){return this.wedgeVerticalMargin},set:function(t){this.wedgeVerticalMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceOffsetBetweenTwoHorizontallyCrossedWedges",{get:function(){return this.distanceOffsetBetweenTwoHorizontallyCrossedWedges},set:function(t){this.distanceOffsetBetweenTwoHorizontallyCrossedWedges=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeMinLength",{get:function(){return this.wedgeMinLength},set:function(t){this.wedgeMinLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenAdjacentDynamics",{get:function(){return this.distanceBetweenAdjacentDynamics},set:function(t){this.distanceBetweenAdjacentDynamics=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TempoChangeMeasureValitidy",{get:function(){return this.tempoChangeMeasureValitidy},set:function(t){this.tempoChangeMeasureValitidy=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TempoContinousFactor",{get:function(){return this.tempoContinousFactor},set:function(t){this.tempoContinousFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaccatoScalingFactor",{get:function(){return this.staccatoScalingFactor},set:function(t){this.staccatoScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenDotsDistance",{get:function(){return this.betweenDotsDistance},set:function(t){this.betweenDotsDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OrnamentAccidentalScalingFactor",{get:function(){return this.ornamentAccidentalScalingFactor},set:function(t){this.ornamentAccidentalScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ChordSymbolTextHeight",{get:function(){return this.chordSymbolTextHeight},set:function(t){this.chordSymbolTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FingeringLabelFontHeight",{get:function(){return this.fingeringLabelFontHeight},set:function(t){this.fingeringLabelFontHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureNumberLabelHeight",{get:function(){return this.measureNumberLabelHeight},set:function(t){this.measureNumberLabelHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureNumberLabelOffset",{get:function(){return this.measureNumberLabelOffset},set:function(t){this.measureNumberLabelOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletNumberLabelHeight",{get:function(){return this.tupletNumberLabelHeight},set:function(t){this.tupletNumberLabelHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletNumberYOffset",{get:function(){return this.tupletNumberYOffset},set:function(t){this.tupletNumberYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LabelMarginBorderFactor",{get:function(){return this.labelMarginBorderFactor},set:function(t){this.labelMarginBorderFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletVerticalLineLength",{get:function(){return this.tupletVerticalLineLength},set:function(t){this.tupletVerticalLineLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLabelHeight",{get:function(){return this.repetitionEndingLabelHeight},set:function(t){this.repetitionEndingLabelHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLabelXOffset",{get:function(){return this.repetitionEndingLabelXOffset},set:function(t){this.repetitionEndingLabelXOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLabelYOffset",{get:function(){return this.repetitionEndingLabelYOffset},set:function(t){this.repetitionEndingLabelYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLineYLowerOffset",{get:function(){return this.repetitionEndingLineYLowerOffset},set:function(t){this.repetitionEndingLineYLowerOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RepetitionEndingLineYUpperOffset",{get:function(){return this.repetitionEndingLineYUpperOffset},set:function(t){this.repetitionEndingLineYUpperOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricsHeight",{get:function(){return this.lyricsHeight},set:function(t){this.lyricsHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VerticalBetweenLyricsDistance",{get:function(){return this.verticalBetweenLyricsDistance},set:function(t){this.verticalBetweenLyricsDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BetweenSyllabelMaximumDistance",{get:function(){return this.betweenSyllabelMaximumDistance},set:function(t){this.betweenSyllabelMaximumDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumDistanceBetweenDashes",{get:function(){return this.minimumDistanceBetweenDashes},set:function(t){this.minimumDistanceBetweenDashes=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BezierCurveStepSize",{get:function(){return this.bezierCurveStepSize},set:function(t){this.bezierCurveStepSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TPow3",{get:function(){return this.tPower3},set:function(t){this.tPower3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OneMinusTPow3",{get:function(){return this.oneMinusTPower3},set:function(t){this.oneMinusTPower3=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BezierFactorOne",{get:function(){return this.factorOne},set:function(t){this.factorOne=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BezierFactorTwo",{get:function(){return this.factorTwo},set:function(t){this.factorTwo=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieGhostObjectWidth",{get:function(){return this.tieGhostObjectWidth},set:function(t){this.tieGhostObjectWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieYPositionOffsetFactor",{get:function(){return this.tieYPositionOffsetFactor},set:function(t){this.tieYPositionOffsetFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumNeededXspaceForTieGhostObject",{get:function(){return this.minimumNeededXspaceForTieGhostObject},set:function(t){this.minimumNeededXspaceForTieGhostObject=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightMinimum",{get:function(){return this.tieHeightMinimum},set:function(t){this.tieHeightMinimum=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightMaximum",{get:function(){return this.tieHeightMaximum},set:function(t){this.tieHeightMaximum=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightInterpolationK",{get:function(){return this.tieHeightInterpolationK},set:function(t){this.tieHeightInterpolationK=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TieHeightInterpolationD",{get:function(){return this.tieHeightInterpolationD},set:function(t){this.tieHeightInterpolationD=t;
},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurNoteHeadYOffset",{get:function(){return this.slurNoteHeadYOffset},set:function(t){this.slurNoteHeadYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurStemXOffset",{get:function(){return this.slurStemXOffset},set:function(t){this.slurStemXOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurSlopeMaxAngle",{get:function(){return this.slurSlopeMaxAngle},set:function(t){this.slurSlopeMaxAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurTangentMinAngle",{get:function(){return this.slurTangentMinAngle},set:function(t){this.slurTangentMinAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlurTangentMaxAngle",{get:function(){return this.slurTangentMaxAngle},set:function(t){this.slurTangentMaxAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SlursStartingAtSameStaffEntryYOffset",{get:function(){return this.slursStartingAtSameStaffEntryYOffset},set:function(t){this.slursStartingAtSameStaffEntryYOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InstantaniousTempoTextHeight",{get:function(){return this.instantaniousTempoTextHeight},set:function(t){this.instantaniousTempoTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContinuousDynamicTextHeight",{get:function(){return this.continuousDynamicTextHeight},set:function(t){this.continuousDynamicTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MoodTextHeight",{get:function(){return this.moodTextHeight},set:function(t){this.moodTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContinuousTempoTextHeight",{get:function(){return this.continuousTempoTextHeight},set:function(t){this.continuousTempoTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"UnknownTextHeight",{get:function(){return this.unknownTextHeight},set:function(t){this.unknownTextHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffLineWidth",{get:function(){return this.staffLineWidth},set:function(t){this.staffLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LedgerLineWidth",{get:function(){return this.ledgerLineWidth},set:function(t){this.ledgerLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"WedgeLineWidth",{get:function(){return this.wedgeLineWidth},set:function(t){this.wedgeLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TupletLineWidth",{get:function(){return this.tupletLineWidth},set:function(t){this.tupletLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricUnderscoreLineWidth",{get:function(){return this.lyricUnderscoreLineWidth},set:function(t){this.lyricUnderscoreLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemThinLineWidth",{get:function(){return this.systemThinLineWidth},set:function(t){this.systemThinLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemBoldLineWidth",{get:function(){return this.systemBoldLineWidth},set:function(t){this.systemBoldLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemRepetitionEndingLineWidth",{get:function(){return this.systemRepetitionEndingLineWidth},set:function(t){this.systemRepetitionEndingLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SystemDotWidth",{get:function(){return this.systemDotWidth},set:function(t){this.systemDotWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenVerticalSystemLines",{get:function(){return this.distanceBetweenVerticalSystemLines},set:function(t){this.distanceBetweenVerticalSystemLines=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DistanceBetweenDotAndLine",{get:function(){return this.distanceBetweenDotAndLine},set:function(t){this.distanceBetweenDotAndLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OctaveShiftLineWidth",{get:function(){return this.octaveShiftLineWidth},set:function(t){this.octaveShiftLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OctaveShiftVerticalLineLength",{get:function(){return this.octaveShiftVerticalLineLength},set:function(t){this.octaveShiftVerticalLineLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GraceLineWidth",{get:function(){return this.graceLineWidth},set:function(t){this.graceLineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumStaffLineDistance",{get:function(){return this.minimumStaffLineDistance},set:function(t){this.minimumStaffLineDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinimumCrossedBeamDifferenceMargin",{get:function(){return this.minimumCrossedBeamDifferenceMargin},set:function(t){this.minimumCrossedBeamDifferenceMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DisplacedNoteMargin",{get:function(){return this.displacedNoteMargin},set:function(t){this.displacedNoteMargin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinNoteDistance",{get:function(){return this.minNoteDistance},set:function(t){this.minNoteDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SubMeasureXSpacingThreshold",{get:function(){return this.subMeasureXSpacingThreshold},set:function(t){this.subMeasureXSpacingThreshold=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureDynamicsMaxScalingFactor",{get:function(){return this.measureDynamicsMaxScalingFactor},set:function(t){this.measureDynamicsMaxScalingFactor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaxInstructionsConstValue",{get:function(){return this.maxInstructionsConstValue},set:function(t){this.maxInstructionsConstValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteDistances",{get:function(){return this.noteDistances},set:function(t){this.noteDistances=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NoteDistancesScalingFactors",{get:function(){return this.noteDistancesScalingFactors},set:function(t){this.noteDistancesScalingFactors=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DurationDistanceDict",{get:function(){return this.durationDistanceDict},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DurationScalingDistanceDict",{get:function(){return this.durationScalingDistanceDict},enumerable:!0,configurable:!0}),t.prototype.populateDictionaries=function(){for(var t=0;t<this.noteDistances.length;t++)switch(t){case 0:this.durationDistanceDict[.015625]=this.noteDistances[t],this.durationScalingDistanceDict[.015625]=this.noteDistancesScalingFactors[t];break;case 1:this.durationDistanceDict[.03125]=this.noteDistances[t],this.durationScalingDistanceDict[.03125]=this.noteDistancesScalingFactors[t];break;case 2:this.durationDistanceDict[.0625]=this.noteDistances[t],this.durationScalingDistanceDict[.0625]=this.noteDistancesScalingFactors[t];break;case 3:this.durationDistanceDict[.125]=this.noteDistances[t],this.durationScalingDistanceDict[.125]=this.noteDistancesScalingFactors[t];break;case 4:this.durationDistanceDict[.25]=this.noteDistances[t],this.durationScalingDistanceDict[.25]=this.noteDistancesScalingFactors[t];break;case 5:this.durationDistanceDict[.5]=this.noteDistances[t],this.durationScalingDistanceDict[.5]=this.noteDistancesScalingFactors[t];break;case 6:this.durationDistanceDict[1]=this.noteDistances[t],this.durationScalingDistanceDict[1]=this.noteDistancesScalingFactors[t];break;case 7:this.durationDistanceDict[2]=this.noteDistances[t],this.durationScalingDistanceDict[2]=this.noteDistancesScalingFactors[t]}},t.prototype.calculateCurveParametersArrays=function(){this.tPower3=new Array(this.bezierCurveStepSize),this.oneMinusTPower3=new Array(this.bezierCurveStepSize),this.factorOne=new Array(this.bezierCurveStepSize),this.factorTwo=new Array(this.bezierCurveStepSize);for(var t=0;t<this.bezierCurveStepSize;t++){var e=t/this.bezierCurveStepSize;this.tPower3[t]=Math.pow(e,3),this.oneMinusTPower3[t]=Math.pow(1-e,3),this.factorOne[t]=3*Math.pow(1-e,2)*e,this.factorTwo[t]=3*(1-e)*Math.pow(e,2)}},t}();o.unit=1,e.EngravingRules=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(60),o=n(477),s=n(19),a=n(238),u=n(83),l=function(t){function e(e,n,i,r){void 0===r&&(r=void 0);var o=t.call(this)||this;return o.label=e,o.boundingBox=new s.BoundingBox(o,r),o.label.fontHeight=n,o.label.textAlignment=i,o}return i(e,t),Object.defineProperty(e.prototype,"Label",{get:function(){return this.label},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.label.text},e.prototype.setLabelPositionAndShapeBorders=function(){if(""!==this.Label.text.trim()){var t=a.EngravingRules.Rules.LabelMarginBorderFactor,e=u.MusicSheetCalculator.TextMeasurer.computeTextWidthToHeightRatio(this.Label.text,this.Label.font,this.Label.fontStyle),n=this.Label.fontHeight,i=n*e,o=this.PositionAndShape;switch(this.Label.textAlignment){case r.TextAlignment.CenterBottom:o.BorderTop=-n,o.BorderLeft=-i/2,o.BorderBottom=0,o.BorderRight=i/2;break;case r.TextAlignment.CenterCenter:o.BorderTop=-n/2,o.BorderLeft=-i/2,o.BorderBottom=n/2,o.BorderRight=i/2;break;case r.TextAlignment.CenterTop:o.BorderTop=0,o.BorderLeft=-i/2,o.BorderBottom=n,o.BorderRight=i/2;break;case r.TextAlignment.LeftBottom:o.BorderTop=-n,o.BorderLeft=0,o.BorderBottom=0,o.BorderRight=i;break;case r.TextAlignment.LeftCenter:o.BorderTop=-n/2,o.BorderLeft=0,o.BorderBottom=n/2,o.BorderRight=i;break;case r.TextAlignment.LeftTop:o.BorderTop=0,o.BorderLeft=0,o.BorderBottom=n,o.BorderRight=i;break;case r.TextAlignment.RightBottom:o.BorderTop=-n,o.BorderLeft=-i,o.BorderBottom=0,o.BorderRight=0;break;case r.TextAlignment.RightCenter:o.BorderTop=-n/2,o.BorderLeft=-i,o.BorderBottom=n/2,o.BorderRight=0;break;case r.TextAlignment.RightTop:o.BorderTop=0,o.BorderLeft=-i,o.BorderBottom=n,o.BorderRight=0}o.BorderMarginTop=o.BorderTop-n*t,o.BorderMarginLeft=o.BorderLeft-n*t,o.BorderMarginBottom=o.BorderBottom+n*t,o.BorderMarginRight=o.BorderRight+n*t}},e}(o.Clickable);e.GraphicalLabel=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(27),s=n(22),a=function(t){function e(e){var n=t.call(this)||this;return n.musicSystems=[],n.labels=[],n.parent=e,n.boundingBox=new r.BoundingBox(n,void 0),n}return i(e,t),Object.defineProperty(e.prototype,"MusicSystems",{get:function(){return this.musicSystems},set:function(t){this.musicSystems=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Labels",{get:function(){return this.labels},set:function(t){this.labels=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),e.prototype.setMusicPageAbsolutePosition=function(t,e){return e.PagePlacement===u.Down?new s.PointF2D(0,t*e.PageHeight):e.PagePlacement===u.Right?new s.PointF2D(t*this.parent.ParentMusicSheet.pageWidth,0):t%2===0?0===t?new s.PointF2D(0,t*e.PageHeight):new s.PointF2D(0,(t-1)*e.PageHeight):1===t?new s.PointF2D(this.parent.ParentMusicSheet.pageWidth,(t-1)*e.PageHeight):new s.PointF2D(this.parent.ParentMusicSheet.pageWidth,(t-2)*e.PageHeight)},e}(o.GraphicalObject);e.GraphicalMusicPage=a;var u;!function(t){t[t.Down=0]="Down",t[t.Right=1]="Right",t[t.RightDown=2]="RightDown"}(u=e.PagePlacementEnum||(e.PagePlacementEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(492),r=n(138),o=n(22),s=n(20),a=n(28),u=n(10),l=n(19),c=n(15),h=n(70),f=n(45),p=function(){function t(t,e){this.musicPages=[],this.measureList=[],this.verticalGraphicalStaffEntryContainers=[],this.cursors=[],this.leadSheet=!1,this.musicSheet=t,this.numberOfStaves=this.musicSheet.Staves.length,this.calculator=e,this.sourceToGraphicalMeasureLinks=new h.default,this.calculator.initialize(this)}return Object.defineProperty(t.prototype,"ParentMusicSheet",{get:function(){return this.musicSheet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GetCalculator",{get:function(){return this.calculator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MusicPages",{get:function(){return this.musicPages},set:function(t){this.musicPages=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MeasureList",{get:function(){return this.measureList},set:function(t){this.measureList=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"VerticalGraphicalStaffEntryContainers",{get:function(){return this.verticalGraphicalStaffEntryContainers},set:function(t){this.verticalGraphicalStaffEntryContainers=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Title",{get:function(){return this.title},set:function(t){this.title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Subtitle",{get:function(){return this.subtitle},set:function(t){this.subtitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Composer",{get:function(){return this.composer},set:function(t){this.composer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Lyricist",{get:function(){return this.lyricist},set:function(t){this.lyricist=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Cursors",{get:function(){return this.cursors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionStartSymbol",{get:function(){return this.selectionStartSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionEndSymbol",{get:function(){return this.selectionEndSymbol},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MinAllowedSystemWidth",{get:function(){return this.minAllowedSystemWidth},set:function(t){this.minAllowedSystemWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"NumberOfStaves",{get:function(){return this.numberOfStaves},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LeadSheet",{get:function(){return this.leadSheet},set:function(t){this.leadSheet=t},enumerable:!0,configurable:!0}),t.transformRelativeToAbsolutePosition=function(t){for(var e=0;e<t.MusicPages.length;e++){var n=t.MusicPages[e].setMusicPageAbsolutePosition(e,t.ParentMusicSheet.rules),i=t.MusicPages[e];i.PositionAndShape.calculateAbsolutePositionsRecursive(n.x,n.y)}},t.prototype.Initialize=function(){this.verticalGraphicalStaffEntryContainers=[],this.musicPages=[],this.measureList=[]},t.prototype.reCalculate=function(){this.calculator.calculate()},t.prototype.prepare=function(){this.calculator.prepareGraphicalMusicSheet()},t.prototype.EnforceRedrawOfMusicSystems=function(){for(var t=0,e=this.musicPages.length;t<e;++t)for(var n=this.musicPages[t],i=0,r=n.MusicSystems.length;i<r;++i){var o=n.MusicSystems[i];o.needsToBeRedrawn=!0}},t.prototype.getClickedObject=function(t){for(var e=0,n=this.MusicPages.length;e<n;++e){var i=this.MusicPages[e];return i.PositionAndShape.getClickedObjectOfType(t)}},t.prototype.findGraphicalStaffEntryFromMeasureList=function(t,e,n){for(var i=e;i<this.measureList.length;i++)for(var r=this.measureList[i][t],o=0,s=r.staffEntries.length;o<s;++o){var a=r.staffEntries[o];if(a.sourceStaffEntry===n)return a}},t.prototype.findNextGraphicalStaffEntry=function(t,e,n){var i=n.parentMeasure,r=i.staffEntries.indexOf(n);if(r<i.staffEntries.length-1)return i.staffEntries[r+1];if(e<this.measureList.length-1){var o=this.measureList[e+1][t];if(o.staffEntries.length>0)return o.staffEntries[0]}},t.prototype.getFirstVisibleMeasuresListFromIndeces=function(t,e){for(var n=[],i=this.measureList[0].length,r=t;r<=e;r++)for(var o=0;o<i;o++)if(this.measureList[r][o].isVisible()){n.push(this.measureList[r][o]);break}return n},t.prototype.orderMeasuresByStaffLine=function(t){var e=[],n=[];e.push(n);for(var i=0;i<t.length;i++)0===i?n.push(t[0]):t[i].ParentStaffLine===t[i-1].ParentStaffLine?n.push(t[i]):(e.indexOf(n)===-1&&e.push(n),n=[],e.push(n),n.push(t[i]));return e},t.prototype.initializeActiveClefs=function(){var t=[],e=this.musicSheet.getFirstSourceMeasure();if(void 0!==e)for(var n=0;n<e.CompleteNumberOfStaves;n++){var i=new s.ClefInstruction;if(void 0!==e.FirstInstructionsStaffEntries[n])for(var r=0,o=e.FirstInstructionsStaffEntries[n].Instructions.length;r<o;++r){var a=e.FirstInstructionsStaffEntries[n].Instructions[r];a instanceof s.ClefInstruction&&(i=a)}t.push(i)}return t},t.prototype.GetMainKey=function(){var t=this.musicSheet.getFirstSourceMeasure();if(void 0!==t)for(var e=0;e<t.CompleteNumberOfStaves;e++)for(var n=0,i=t.FirstInstructionsStaffEntries[e].Instructions.length;n<i;++n){var r=t.FirstInstructionsStaffEntries[e].Instructions[n];if(r instanceof a.KeyInstruction)return r}},t.prototype.getOrCreateVerticalContainer=function(t){if(0===this.verticalGraphicalStaffEntryContainers.length||f.CollectionUtil.getLastElement(this.verticalGraphicalStaffEntryContainers).AbsoluteTimestamp.lt(t)){var e=new i.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t);return this.verticalGraphicalStaffEntryContainers.push(e),e}for(var n=this.verticalGraphicalStaffEntryContainers.length-1;n>=0;n--){if(this.verticalGraphicalStaffEntryContainers[n].AbsoluteTimestamp.lt(t)){var e=new i.VerticalGraphicalStaffEntryContainer(this.numberOfStaves,t);return this.verticalGraphicalStaffEntryContainers.splice(n+1,0,e),e}if(this.verticalGraphicalStaffEntryContainers[n].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers[n]}},t.prototype.GetVerticalContainerFromTimestamp=function(t,e){void 0===e&&(e=0);var n=f.CollectionUtil.binarySearch(this.verticalGraphicalStaffEntryContainers,new i.VerticalGraphicalStaffEntryContainer(0,t),i.VerticalGraphicalStaffEntryContainer.compareByTimestamp,e);if(n>=0)return this.verticalGraphicalStaffEntryContainers[n]},t.prototype.GetInterpolatedIndexInVerticalContainers=function(t){var e,n=this.verticalGraphicalStaffEntryContainers,i=0,r=n.length-1,o=void 0,s=void 0;if(t.lte(n[n.length-1].AbsoluteTimestamp)){for(;r-i>1;){var a=Math.floor((r+i)/2);if(n[i].AbsoluteTimestamp.Equals(t)){r=i;break}if(n[r].AbsoluteTimestamp.Equals(t)){i=r;break}if(n[a].AbsoluteTimestamp.Equals(t))return this.verticalGraphicalStaffEntryContainers.indexOf(n[a]);t.lt(n[a].AbsoluteTimestamp)?r=a:i=a}if(i===r)return this.verticalGraphicalStaffEntryContainers.indexOf(n[i]);o=n[i].AbsoluteTimestamp,s=n[r].AbsoluteTimestamp}else o=n[n.length-1].AbsoluteTimestamp,s=u.Fraction.plus(this.getLongestStaffEntryDuration(n.length-1),o),r=n.length;var l=s.RealValue-o.RealValue,c=s.RealValue-t.RealValue;return e=r-c/l,Math.min(e,this.verticalGraphicalStaffEntryContainers.length)},t.prototype.getVisibleStavesIndecesFromSourceMeasure=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;++i){var o=t[i],s=o.ParentStaff.ParentInstrument;e.indexOf(s)===-1&&e.push(s)}for(var i=0,r=e.length;i<r;++i)for(var s=e[i],a=this.musicSheet.getGlobalStaffIndexOfFirstStaff(s),u=0;u<s.Staves.length;u++)n.push(a+u);return n},t.prototype.getGraphicalMeasureFromSourceMeasureAndIndex=function(t,e){for(var n=0;n<this.measureList.length;n++)if(this.measureList[n][0].parentSourceMeasure===t)return this.measureList[n][e]},t.prototype.getMeasureIndex=function(t,e,n){for(e=0,n=0;e<this.measureList.length;e++)for(var i=0,r=this.measureList[e].length;i<r;++i){var o=this.measureList[e][i];if(o===t)return!0}return!1},t.prototype.GetNearesNote=function(t,e){var n=10,i=[],r=new l.BoundingBox;r.BorderLeft=t.x-n,r.BorderTop=t.y-n,r.BorderRight=t.x+n,r.BorderBottom=t.y+n,r.AbsolutePosition=new o.PointF2D(0,0);for(var s=0,a=this.MusicPages.length;s<a;++s){var u=this.MusicPages[s],c=u.PositionAndShape.getObjectsInRegion(r);if(void 0!==c)for(var h=0,f=c.length;h<f;++h){var p=c[h];Math.abs(p.PositionAndShape.AbsolutePosition.x-t.x)<e.x&&Math.abs(p.PositionAndShape.AbsolutePosition.y-t.y)<e.y&&i.push(p)}}for(var d=void 0,s=0,a=i.length;s<a;++s){var p=i[s];if(void 0===d)d=p;else{if(void 0===p.parentStaffEntry.relInMeasureTimestamp)continue;var b=this.CalculateDistance(p.PositionAndShape.AbsolutePosition,t),m=this.CalculateDistance(d.PositionAndShape.AbsolutePosition,t);b<m&&(d=p)}}if(void 0!==d)return d},t.prototype.GetClickableLabel=function(t){var e=4,n=4,i=new l.BoundingBox;i.BorderLeft=t.x-e,i.BorderTop=t.y-n,i.BorderRight=t.x+e,i.BorderBottom=t.y+n,i.AbsolutePosition=new o.PointF2D(0,0);for(var r=0,s=this.MusicPages.length;r<s;++r){var a=this.MusicPages[r],u=a.PositionAndShape.getObjectsInRegion(i);if(1===u.length)for(var c=0,h=u.length;c<h;++c){var f=u[c];return f}}},t.prototype.GetNearestStaffEntry=function(t){var e=10,n=[],i=new l.BoundingBox(void 0);i.BorderLeft=t.x-e,i.BorderTop=t.y-e,i.BorderRight=t.x+e,i.BorderBottom=t.y+e,i.AbsolutePosition=new o.PointF2D(0,0);for(var r=0,s=this.MusicPages.length;r<s;++r){var a=this.MusicPages[r],u=a.PositionAndShape.getObjectsInRegion(i,!1);if(void 0!==u&&0!==u.length)for(var c=0,h=u.length;c<h;++c){var f=u[c];n.push(f)}}for(var p=void 0,r=0,s=n.length;r<s;++r){var f=n[r];if(void 0===p)p=f;else{if(void 0===f.relInMeasureTimestamp)continue;var d=this.CalculateDistance(f.PositionAndShape.AbsolutePosition,t),b=this.CalculateDistance(p.PositionAndShape.AbsolutePosition,t);d<b&&(p=f)}}if(void 0!==p)return p},t.prototype.GetPossibleCommentAnchor=function(t){var e=this.GetNearestStaffEntry(t);if(void 0!==e)return e.sourceStaffEntry},t.prototype.getClickedObjectOfType=function(t){for(var e=0,n=this.musicPages.length;e<n;++e){var i=this.musicPages[e],r=i.PositionAndShape.getClickedObjectOfType(t);if(void 0!==r)return r}},t.prototype.tryGetTimestampFromPosition=function(t){var e=this.getClickedObjectOfType(t);if(void 0!==e)return e.getAbsoluteTimestamp()},t.prototype.tryGetClickableLabel=function(t){try{return this.GetClickableLabel(t)}catch(e){c.Logging.log("GraphicalMusicSheet.tryGetClickableObject","positionOnMusicSheet: "+t,e)}},t.prototype.tryGetTimeStampFromPosition=function(t){try{var e=this.GetNearestStaffEntry(t);if(void 0===e)return;return e.getAbsoluteTimestamp()}catch(e){c.Logging.log("GraphicalMusicSheet.tryGetTimeStampFromPosition","positionOnMusicSheet: "+t,e)}},t.prototype.getStaffEntry=function(t){var e=this.VerticalGraphicalStaffEntryContainers[t],n=void 0;try{for(var i=0,r=e.StaffEntries.length;i<r;++i){var o=e.StaffEntries[i];void 0!==o&&o.sourceStaffEntry.ParentStaff.ParentInstrument.Visible&&(void 0===n?n=o:void 0!==o.PositionAndShape&&void 0!==n.PositionAndShape&&n.PositionAndShape.RelativePosition.x>o.PositionAndShape.RelativePosition.x&&(n=o))}}catch(t){c.Logging.log("GraphicalMusicSheet.getStaffEntry",t)}return n},t.prototype.GetPreviousVisibleContainerIndex=function(t){for(var e=t-1;e>=0;e--)for(var n=this.verticalGraphicalStaffEntryContainers[e].StaffEntries,i=0,r=n.length;i<r;++i){var o=n[i];if(void 0!==o&&o.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}return-1},t.prototype.GetNextVisibleContainerIndex=function(t){for(var e=t+1;e<this.verticalGraphicalStaffEntryContainers.length;++e)for(var n=this.verticalGraphicalStaffEntryContainers[e].StaffEntries,i=0,r=n.length;i<r;++i){var o=n[i];if(void 0!==o&&o.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return e}return-1},t.prototype.findClosestLeftStaffEntry=function(t,e){var n=void 0,i=Math.floor(t);i=Math.min(this.VerticalGraphicalStaffEntryContainers.length-1,i);for(var r=i;r>=0;r--)if(n=this.getStaffEntry(r),void 0!==n){if(!e)return n;if(n.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return n}},t.prototype.findClosestRightStaffEntry=function(t,e){for(var n=void 0,i=Math.max(0,Math.ceil(t)),r=i;r<this.VerticalGraphicalStaffEntryContainers.length;r++)if(n=this.getStaffEntry(r),void 0!==n){if(!e)return n;if(n.sourceStaffEntry.ParentStaff.ParentInstrument.Visible)return n}},t.prototype.calculateCursorLineAtTimestamp=function(t,e){var n=this.calculateXPositionFromTimestamp(t),i=n[0],s=n[1];if(void 0!==s&&0!==s.StaffLines.length){var a=s.PositionAndShape.AbsolutePosition.y,u=f.CollectionUtil.last(s.StaffLines).PositionAndShape.RelativePosition.y+4;return new r.GraphicalLine(new o.PointF2D(i,a),new o.PointF2D(i,a+u),3,e)}},t.prototype.calculateXPositionFromTimestamp=function(t){var e=void 0,n=this.GetInterpolatedIndexInVerticalContainers(t),i=this.findClosestLeftStaffEntry(n,!0),r=this.findClosestRightStaffEntry(n,!0),o=t.RealValue;if(void 0===i&&void 0===r)return[0,void 0];var s=void 0;s=void 0!==i?i.parentMeasure.ParentStaffLine.ParentMusicSystem:r.parentMeasure.ParentStaffLine.ParentMusicSystem;var a=void 0;if(a=void 0!==r?r.parentMeasure.ParentStaffLine.ParentMusicSystem:i.parentMeasure.ParentStaffLine.ParentMusicSystem,s===a){e=s;var l=void 0,c=void 0,h=void 0;if(void 0===i)c=h=r.PositionAndShape.AbsolutePosition.x,l=0;else if(void 0===r){c=i.PositionAndShape.AbsolutePosition.x,h=e.GetRightBorderAbsoluteXPosition();var f=i.parentMeasure.parentSourceMeasure;l=(o-i.getAbsoluteTimestamp().RealValue)/(u.Fraction.plus(f.AbsoluteTimestamp,f.Duration).RealValue-i.getAbsoluteTimestamp().RealValue)}else c=i.PositionAndShape.AbsolutePosition.x,h=r.PositionAndShape.AbsolutePosition.x,l=i===r?0:(o-i.getAbsoluteTimestamp().RealValue)/(r.getAbsoluteTimestamp().RealValue-i.getAbsoluteTimestamp().RealValue);l=Math.min(1,Math.max(0,l));var p=c+l*(h-c);return[p,e]}var d=r.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.RealValue,l=void 0,p=void 0;if(o<d){e=s;var c=i.PositionAndShape.AbsolutePosition.x,b=e.GetRightBorderAbsoluteXPosition();l=(o-i.getAbsoluteTimestamp().RealValue)/(d-i.getAbsoluteTimestamp().RealValue),l=Math.min(1,Math.max(0,l)),p=c+l*(b-c)}else{e=a;var h=r.PositionAndShape.AbsolutePosition.x,m=e.GetLeftBorderAbsoluteXPosition();l=(o-d)/(r.getAbsoluteTimestamp().RealValue-d),l=Math.min(1,Math.max(0,l)),p=m+l*(h-m)}return[p,e]},t.prototype.GetNumberOfVisibleInstruments=function(){for(var t=0,e=0,n=this.musicSheet.Instruments.length;e<n;++e){var i=this.musicSheet.Instruments[e];i.Visible===!0&&t++}return t},t.prototype.GetNumberOfFollowedInstruments=function(){for(var t=0,e=0,n=this.musicSheet.Instruments.length;e<n;++e){var i=this.musicSheet.Instruments[e];i.Following===!0&&t++}return t},t.prototype.GetGraphicalFromSourceMeasure=function(t){return this.sourceToGraphicalMeasureLinks.getValue(t)},t.prototype.GetGraphicalFromSourceStaffEntry=function(t){var e=this.GetGraphicalFromSourceMeasure(t.VerticalContainerParent.ParentMeasure)[t.ParentStaff.idInMusicSheet];return e.findGraphicalStaffEntryFromTimestamp(t.Timestamp)},t.prototype.GetGraphicalNoteFromSourceNote=function(t,e){for(var n=0,i=e.notes.length;n<i;++n)for(var r=e.notes[n],o=0,s=r.length;o<s;++o){var a=r[o];if(a.sourceNote===t)return a}},t.prototype.CalculateDistance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},t.prototype.getLongestStaffEntryDuration=function(t){for(var e=new u.Fraction(0,1),n=0,i=this.verticalGraphicalStaffEntryContainers[t].StaffEntries.length;n<i;++n){var r=this.verticalGraphicalStaffEntryContainers[t].StaffEntries[n];if(void 0!==r)for(var o=0,s=r.notes.length;o<s;++o)for(var a=r.notes[o],l=0,c=a.length;l<c;++l){var h=a[l];e.lt(h.graphicalNoteLength)&&(e=h.graphicalNoteLength)}}return e},t}();e.GraphicalMusicSheet=p;var d=function(){function t(){}return t}();e.SystemImageProperties=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.MeasureBegin=0]="MeasureBegin",t[t.MeasureEnd=1]="MeasureEnd"}(n=e.SystemLinePosition||(e.SystemLinePosition={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(61),r=function(){function t(){var t=document.createElement("canvas");this.context=t.getContext("2d")}return t.prototype.computeTextWidthToHeightRatio=function(t,e,n){return this.context.font=i.VexFlowConverter.font(20,n,e),this.context.measureText(t).width/20},t}();e.VexFlowTextMeasurer=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(245),o=n(246),s=n(516),a=function(t){function e(e,n,i,r){var s=t.call(this,void 0,i,r)||this;return s.transpose=0,s.voices=[],s.staves=[],s.hasLyrics=!1,s.hasChordSymbols=!1,s.lyricVersesNumbers=[],s.subInstruments=[],s.id=e,s.idString=n,s.nameLabel=new o.Label(n),s}return i(e,t),Object.defineProperty(e.prototype,"Voices",{get:function(){return this.voices},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Staves",{get:function(){return this.staves},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NameLabel",{get:function(){return this.nameLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HasLyrics",{get:function(){return this.hasLyrics},set:function(t){this.hasLyrics=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"HasChordSymbols",{get:function(){return this.hasChordSymbols},set:function(t){this.hasChordSymbols=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LyricVersesNumbers",{get:function(){return this.lyricVersesNumbers},set:function(t){this.lyricVersesNumbers=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Name",{get:function(){return this.nameLabel.text},set:function(t){this.nameLabel.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IdString",{get:function(){return this.idString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MidiInstrumentId",{get:function(){return this.subInstruments[0].midiInstrumentID},set:function(t){this.subInstruments[0].midiInstrumentID=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Volume",{get:function(){return this.subInstruments[0].volume},set:function(t){for(var e=0,n=this.subInstruments.length;e<n;++e){var i=this.subInstruments[e];i.volume=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlaybackTranspose",{get:function(){return this.playbackTranspose},set:function(t){this.playbackTranspose=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SubInstruments",{get:function(){return this.subInstruments},enumerable:!0,configurable:!0}),e.prototype.getSubInstrument=function(t){for(var e=0,n=this.subInstruments.length;e<n;++e){var i=this.subInstruments[e];if(i.idString===t)return i}},Object.defineProperty(e.prototype,"Visible",{get:function(){return this.voices.length>0&&this.Voices[0].Visible},set:function(t){for(var e=0,n=this.Voices.length;e<n;++e){var i=this.Voices[e];i.Visible=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Audible",{get:function(){for(var t=!1,e=0,n=this.Voices.length;e<n;++e){
var i=this.Voices[e];t=t||i.Audible}return t},set:function(t){for(var e=0,n=this.Voices.length;e<n;++e){var i=this.Voices[e];i.Audible=t}for(var e=0,n=this.staves.length;e<n;++e){var r=this.staves[e];r.audible=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Following",{get:function(){for(var t=!1,e=0,n=this.Voices.length;e<n;++e){var i=this.Voices[e];t=t||i.Following}return t},set:function(t){for(var e=0,n=this.Voices.length;e<n;++e){var i=this.Voices[e];i.Following=t}for(var e=0,n=this.staves.length;e<n;++e){var r=this.staves[e];r.following=t}},enumerable:!0,configurable:!0}),e.prototype.SetVoiceAudible=function(t,e){for(var n=0,i=this.Voices.length;n<i;++n){var r=this.Voices[n];if(r.VoiceId===t){r.Audible=e;break}}},e.prototype.SetVoiceFollowing=function(t,e){for(var n=0,i=this.Voices.length;n<i;++n){var r=this.Voices[n];if(r.VoiceId===t){r.Following=e;break}}},e.prototype.SetStaffAudible=function(t,e){var n=this.staves[t-1];if(n.audible=e,e)for(var i=0,r=n.Voices.length;i<r;++i){var o=n.Voices[i];o.Audible=!0}else for(var i=0,r=n.Voices.length;i<r;++i){for(var s=n.Voices[i],a=!1,u=0,l=this.Staves.length;u<l;++u){var c=this.Staves[u];if(c.Id!==t&&c.audible)for(var h=0,f=c.Voices.length;h<f;++h){var o=c.Voices[h];o===s&&(a=!0)}}a||(s.Audible=!1)}},e.prototype.SetStaffFollow=function(t,e){var n=this.staves[t-1];if(n.following=e,e)for(var i=0,r=n.Voices.length;i<r;++i){var o=n.Voices[i];o.Following=!0}else for(var i=0,r=n.Voices.length;i<r;++i){for(var s=n.Voices[i],a=!1,u=0,l=this.Staves.length;u<l;++u){var c=this.Staves[u];if(c.Id!==t&&c.following)for(var h=0,f=c.Voices.length;h<f;++h){var o=c.Voices[h];o===s&&(a=!0)}}a||(s.Following=!1)}},e.prototype.areAllVoiceVisible=function(){for(var t=0,e=this.Voices;t<e.length;t++){var n=e[t];if(!n.Visible)return!1}return!0},e.prototype.createStaves=function(t){for(var e=0;e<t;e++)this.staves.push(new s.Staff(this,e+1))},e}(r.InstrumentalGroup);e.Instrument=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.instrumentalGroups=[],this.name=t,this.musicSheet=e,this.parent=n}return Object.defineProperty(t.prototype,"InstrumentalGroups",{get:function(){return this.instrumentalGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Name",{get:function(){return this.name},set:function(t){this.name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GetMusicSheet",{get:function(){return this.musicSheet},enumerable:!0,configurable:!0}),t}();e.InstrumentalGroup=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(60),r=n(236),o=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=i.TextAlignment.LeftBottom),void 0===n&&(n=r.Fonts.TimesNewRoman),this.text=t,this.textAlignment=e,this.font=n}return t.prototype.ToString=function(){return this.text},t}();e.Label=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.enrolledTimestamps=[],this.visible=!0,this.musicSheet=t}return Object.defineProperty(t.prototype,"Visible",{get:function(){return this.visible},set:function(t){this.visible=t},enumerable:!0,configurable:!0}),t.prototype.getFirstSourceMeasure=function(){return this.musicSheet.SourceMeasures[this.startIndex]},t.prototype.getLastSourceMeasure=function(){return this.musicSheet.SourceMeasures[this.endIndex]},t}();e.PartListEntry=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.isStringInStringList=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];if(e.toLowerCase()===r.toLowerCase().trim())return!0}return!1},t}();e.AbstractExpression=n;var i;!function(t){t[t.Above=0]="Above",t[t.Below=1]="Below",t[t.NotYetDefined=2]="NotYetDefined"}(i=e.PlacementEnum||(e.PlacementEnum={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(248),o=n(10),s=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.dynamicType=e,o.label=r,o.placement=n,o.staffNumber=i,o.startVolume=-1,o.endVolume=-1,o.setType(),o}return i(e,t),Object.defineProperty(e.prototype,"DynamicType",{get:function(){return this.dynamicType},set:function(t){this.dynamicType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartMultiExpression",{get:function(){return this.startMultiExpression},set:function(t){this.startMultiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndMultiExpression",{get:function(){return this.endMultiExpression},set:function(t){this.endMultiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Placement",{get:function(){return this.placement},set:function(t){this.placement=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartVolume",{get:function(){return this.startVolume},set:function(t){this.startVolume=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndVolume",{get:function(){return this.endVolume},set:function(t){this.endVolume=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffNumber",{get:function(){return this.staffNumber},set:function(t){this.staffNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Label",{get:function(){return this.label},set:function(t){this.label=t,this.setType()},enumerable:!0,configurable:!0}),e.isInputStringContinuousDynamic=function(t){return void 0!==t&&(e.isStringInStringList(e.listContinuousDynamicIncreasing,t)||e.isStringInStringList(e.listContinuousDynamicDecreasing,t))},e.prototype.getInterpolatedDynamic=function(t){var e,n=this.StartMultiExpression.AbsoluteTimestamp;if(e=void 0!==this.EndMultiExpression?this.EndMultiExpression.AbsoluteTimestamp:o.Fraction.plus(this.startMultiExpression.SourceMeasureParent.AbsoluteTimestamp,this.startMultiExpression.SourceMeasureParent.Duration),t.lt(n))return-1;if(e.lt(t))return-2;var i=o.Fraction.minus(t,n).RealValue/o.Fraction.minus(e,n).RealValue,r=Math.max(0,Math.min(99.9,this.startVolume+(this.endVolume-this.startVolume)*i));return r},e.prototype.isWedge=function(){return void 0===this.label},e.prototype.setType=function(){e.isStringInStringList(e.listContinuousDynamicIncreasing,this.label)?this.dynamicType=a.crescendo:e.isStringInStringList(e.listContinuousDynamicDecreasing,this.label)&&(this.dynamicType=a.diminuendo)},e}(r.AbstractExpression);s.listContinuousDynamicIncreasing=["crescendo","cresc","cresc.","cres."],s.listContinuousDynamicDecreasing=["decrescendo","decresc","decr.","diminuendo","dim.","dim"],e.ContinuousDynamicExpression=s;var a;!function(t){t[t.crescendo=0]="crescendo",t[t.diminuendo=1]="diminuendo"}(a=e.ContDynamicEnum||(e.ContDynamicEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(695),r=function(){function t(){this.instanceId=i.generate()}return t.prototype.toString=function(){return this.instanceId},t}();e.BaseIdClass=r},function(t,e){"use strict";t.exports=function(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=14;o--;)r[n.key[o]]=i[o]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(t,e,i){e&&(r[n.q.name][e]=i)}),r}},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return e=n(i(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),o="/"===s(t,-1);return t=n(i(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,u=0;u<s;u++)if(r[u]!==o[u]){a=u;break}for(var l=[],u=a;u<r.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(e,n(25))},function(t,e,n){function i(){s.call(this),this.position=new r.Point,this.scale=new r.Point(1,1),this.pivot=new r.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new r.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new r.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cachedObject=null}var r=n(11),o=n(151),s=n(56),a=n(7),u=new r.Matrix;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}}),i.prototype.updateTransform=function(){var t,e,n,i,r,o,s=this.parent.worldTransform,u=this.worldTransform;this.rotation%a.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,n=-this._sr*this.scale.y,i=this._cr*this.scale.y,r=this.position.x,o=this.position.y,(this.pivot.x||this.pivot.y)&&(r-=this.pivot.x*t+this.pivot.y*n,o-=this.pivot.x*e+this.pivot.y*i),u.a=t*s.a+e*s.c,u.b=t*s.b+e*s.d,u.c=n*s.a+i*s.c,u.d=n*s.b+i*s.d,u.tx=r*s.a+o*s.c+s.tx,u.ty=r*s.b+o*s.d+s.ty):(t=this.scale.x,i=this.scale.y,r=this.position.x-this.pivot.x*t,o=this.position.y-this.pivot.y*i,u.a=t*s.a,u.b=t*s.b,u.c=i*s.c,u.d=i*s.d,u.tx=r*s.a+o*s.c+s.tx,u.ty=r*s.b+o*s.d+s.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},i.prototype.displayObjectUpdateTransform=i.prototype.updateTransform,i.prototype.getBounds=function(t){return r.Rectangle.EMPTY},i.prototype.getLocalBounds=function(){return this.getBounds(r.Matrix.IDENTITY)},i.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),this.worldTransform.apply(t)},i.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},i.prototype.renderWebGL=function(t){},i.prototype.renderCanvas=function(t){},i.prototype.generateTexture=function(t,e,n){var i=this.getLocalBounds(),r=new o(t,0|i.width,0|i.height,e,n);return u.tx=-i.x,u.ty=-i.y,r.render(this,u),r},i.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},function(t,e){function n(t,e,n,i,r,o,s){this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this._lineTint=e,this.fillColor=i,this.fillAlpha=r,this._fillTint=i,this.fill=o,this.shape=s,this.type=s.type}n.prototype.constructor=n,t.exports=n,n.prototype.clone=function(){return new n(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},n.prototype.destroy=function(){this.shape=null}},function(t,e,n){function i(t,e,n,i){if(a.call(this),r.sayHello(t),i)for(var u in s.DEFAULT_RENDER_OPTIONS)"undefined"==typeof i[u]&&(i[u]=s.DEFAULT_RENDER_OPTIONS[u]);else i=s.DEFAULT_RENDER_OPTIONS;this.type=s.RENDERER_TYPE.UNKNOWN,this.width=e||800,this.height=n||600,this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution,this.transparent=i.transparent,this.autoResize=i.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new o.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var r=n(12),o=n(11),s=n(7),a=n(56);i.prototype=Object.create(a.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=r.hex2string(t),r.hex2rgb(t,this._backgroundColorRgb)}}}),i.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},i.prototype.destroy=function(t){t&&this.view.parent&&this.view.parent.removeChild(this.view),this.type=s.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},function(t,e,n){(function(e){function i(){r.call(this,o.readFileSync(e+"/FXAA.vert","utf8"),o.readFileSync(e+"/FXAA.frag","utf8"),{resolution:{type:"v2",value:{x:1,y:1}}})}var r=n(149),o=n(5);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager,r=this.getShader(t);i.applyFilter(r,e,n)}}).call(e,"/")},function(t,e,n){(function(e){function i(t){var n=new o.Matrix;r.call(this,s.readFileSync(e+"/spriteMaskFilter.vert","utf8"),s.readFileSync(e+"/spriteMaskFilter.frag","utf8"),{mask:{type:"sampler2D",value:t._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:n.toArray(!0)}}),this.maskSprite=t,this.maskMatrix=n}var r=n(149),o=n(11),s=n(5);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager;this.uniforms.mask.value=this.maskSprite._texture,i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var r=this.getShader(t);i.applyFilter(r,e,n)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(t){this.uniforms.mask.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})}).call(e,"/")},function(t,e,n){function i(t){r.call(this,t),this.filterStack=[],this.filterStack.push({renderTarget:t.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new u.Rectangle(0,0,t.width,t.height),this.currentFrame=null}var r=n(46),o=n(90),s=n(7),a=n(548),u=n(11);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.onContextChange=function(){this.texturePool.length=0;var t=this.renderer.gl;this.quad=new a(t)},i.prototype.setFilterStack=function(t){this.filterStack=t},i.prototype.pushFilter=function(t,e){var n=t.filterArea?t.filterArea.clone():t.getBounds();n.x=0|n.x,n.y=0|n.y,n.width=0|n.width,n.height=0|n.height;var i=0|e[0].padding;if(n.x-=i,n.y-=i,n.width+=2*i,n.height+=2*i,this.renderer.currentRenderTarget.transform){var r=this.renderer.currentRenderTarget.transform;n.x+=r.tx,n.y+=r.ty,this.capFilterArea(n),n.x-=r.tx,n.y-=r.ty}else this.capFilterArea(n);if(n.width>0&&n.height>0){this.currentFrame=n;var o=this.getRenderTarget();this.renderer.setRenderTarget(o),o.clear(),this.filterStack.push({renderTarget:o,filter:e})}else this.filterStack.push({renderTarget:null,filter:e})},i.prototype.popFilter=function(){var t=this.filterStack.pop(),e=this.filterStack[this.filterStack.length-1],n=t.renderTarget;if(t.renderTarget){var i=e.renderTarget,r=this.renderer.gl;this.currentFrame=n.frame,this.quad.map(this.textureSize,n.frame),r.bindBuffer(r.ARRAY_BUFFER,this.quad.vertexBuffer),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var o=t.filter;if(r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,r.FLOAT,!1,0,0),r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,r.FLOAT,!1,0,32),r.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,r.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(s.BLEND_MODES.NORMAL),1===o.length)o[0].uniforms.dimensions&&(o[0].uniforms.dimensions.value[0]=this.renderer.width,o[0].uniforms.dimensions.value[1]=this.renderer.height,o[0].uniforms.dimensions.value[2]=this.quad.vertices[0],o[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),o[0].applyFilter(this.renderer,n,i),this.returnRenderTarget(n);else{for(var a=n,u=this.getRenderTarget(!0),l=0;l<o.length-1;l++){var c=o[l];c.uniforms.dimensions&&(c.uniforms.dimensions.value[0]=this.renderer.width,c.uniforms.dimensions.value[1]=this.renderer.height,c.uniforms.dimensions.value[2]=this.quad.vertices[0],c.uniforms.dimensions.value[3]=this.quad.vertices[5]),c.applyFilter(this.renderer,a,u);var h=a;a=u,u=h}o[o.length-1].applyFilter(this.renderer,a,i),this.returnRenderTarget(a),this.returnRenderTarget(u)}return t.filter}},i.prototype.getRenderTarget=function(t){var e=this.texturePool.pop()||new o(this.renderer.gl,this.textureSize.width,this.textureSize.height,s.SCALE_MODES.LINEAR,this.renderer.resolution*s.FILTER_RESOLUTION);return e.frame=this.currentFrame,t&&e.clear(!0),e},i.prototype.returnRenderTarget=function(t){this.texturePool.push(t)},i.prototype.applyFilter=function(t,e,n,i){var r=this.renderer.gl;this.renderer.setRenderTarget(n),i&&n.clear(),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,e.texture),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0)},i.prototype.calculateMappedMatrix=function(t,e,n){var i=e.worldTransform.copy(u.Matrix.TEMP_MATRIX),r=e._texture.baseTexture,o=n.identity(),s=this.textureSize.height/this.textureSize.width;o.translate(t.x/this.textureSize.width,t.y/this.textureSize.height),o.scale(1,s);var a=this.textureSize.width/r.width,l=this.textureSize.height/r.height;return i.tx/=r.width*a,i.ty/=r.width*a,i.invert(),o.prepend(i),o.scale(1,1/s),o.scale(a,l),o.translate(e.anchor.x,e.anchor.y),o},i.prototype.capFilterArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.textureSize.width&&(t.width=this.textureSize.width-t.x),t.y+t.height>this.textureSize.height&&(t.height=this.textureSize.height-t.y)},i.prototype.resize=function(t,e){this.textureSize.width=t,this.textureSize.height=e;for(var n=0;n<this.texturePool.length;n++)this.texturePool[n].resize(t,e)},i.prototype.destroy=function(){this.filterStack=null,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null}},function(t,e,n){function i(t){r.call(this,t),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var r=n(46),o=n(150),s=n(546),a=n(547),u=n(12);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,u.pluginTarget.mixin(i),t.exports=i,i.prototype.onContextChange=function(){this.initPlugins();var t=this.renderer.gl;this.maxAttibs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.defaultShader=new o(this),this.primitiveShader=new a(this),this.complexPrimitiveShader=new s(this)},i.prototype.setAttribs=function(t){var e;for(e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(var n in t)this.tempAttribState[t[n]]=!0;var i=this.renderer.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.attribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},i.prototype.setShader=function(t){return this._currentId!==t.uid&&(this._currentId=t.uid,this.currentShader=t,this.renderer.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},function(t,e,n){function i(t){s.call(this),this.anchor=new r.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=l.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=t||o.EMPTY}var r=n(11),o=n(64),s=n(87),a=n(542),u=n(12),l=n(7),c=new r.Point;i.prototype=Object.create(s.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this.scale.x*this.texture._frame.width},set:function(t){this.scale.x=t/this.texture._frame.width,this._width=t}},height:{get:function(){return this.scale.y*this.texture._frame.height},set:function(t){this.scale.y=t/this.texture._frame.height,this._height=t}},texture:{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}}),i.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.prototype._renderWebGL=function(t){t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this)},i.prototype.getBounds=function(t){if(!this._currentBounds){var e,n,i,r,o=this._texture._frame.width,s=this._texture._frame.height,a=o*(1-this.anchor.x),u=o*-this.anchor.x,l=s*(1-this.anchor.y),c=s*-this.anchor.y,h=t||this.worldTransform,f=h.a,p=h.b,d=h.c,b=h.d,m=h.tx,y=h.ty;if(0===p&&0===d)f<0&&(f*=-1),b<0&&(b*=-1),e=f*u+m,n=f*a+m,i=b*c+y,r=b*l+y;else{var v=f*u+d*c+m,g=b*c+p*u+y,_=f*a+d*c+m,x=b*c+p*a+y,w=f*a+d*l+m,S=b*l+p*a+y,E=f*u+d*l+m,T=b*l+p*u+y;e=v,e=_<e?_:e,e=w<e?w:e,e=E<e?E:e,i=g,i=x<i?x:i,i=S<i?S:i,i=T<i?T:i,n=v,n=_>n?_:n,n=w>n?w:n,n=E>n?E:n,r=g,r=x>r?x:r,r=S>r?S:r,r=T>r?T:r}if(this.children.length){var P=this.containerGetBounds();a=P.x,u=P.x+P.width,l=P.y,c=P.y+P.height,e=e<a?e:a,i=i<l?i:l,n=n>u?n:u,r=r>c?r:c}var M=this._bounds;M.x=e,M.width=n-e,M.y=i,M.height=r-i,this._currentBounds=M}return this._currentBounds},i.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e,n=this._texture._frame.width,i=this._texture._frame.height,r=-n*this.anchor.x;return c.x>r&&c.x<r+n&&(e=-i*this.anchor.y,c.y>e&&c.y<e+i)},i.prototype._renderCanvas=function(t){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)&&(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=t.blendModes[t.currentBlendMode]),this.texture.valid)){var e,n,i,r,o=this._texture,s=this.worldTransform;if(t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.currentScaleMode!==o.baseTexture.scaleMode&&(t.currentScaleMode=o.baseTexture.scaleMode,t.context[t.smoothProperty]=t.currentScaleMode===l.SCALE_MODES.LINEAR),o.rotate){var u=s.a,c=s.b;s.a=-s.c,s.b=-s.d,s.c=u,s.d=c,i=o.crop.height,r=o.crop.width,e=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height,n=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width}else i=o.crop.width,r=o.crop.height,e=o.trim?o.trim.x-this.anchor.x*o.trim.width:this.anchor.x*-o._frame.width,n=o.trim?o.trim.y-this.anchor.y*o.trim.height:this.anchor.y*-o._frame.height;t.roundPixels?(t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution|0,s.ty*t.resolution|0),e|=0,n|=0):t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution,s.ty*t.resolution);var h=o.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=a.getTintedTexture(this,this.tint)),t.context.drawImage(this.tintedTexture,0,0,i*h,r*h,e*t.resolution,n*t.resolution,i*t.resolution,r*t.resolution)):t.context.drawImage(o.baseTexture.source,o.crop.x*h,o.crop.y*h,i*h,r*h,e*t.resolution,n*t.resolution,i*t.resolution,r*t.resolution)}},i.prototype.destroy=function(t,e){s.prototype.destroy.call(this),this.anchor=null,t&&this._texture.destroy(e),this._texture=null,this.shader=null},i.fromFrame=function(t){var e=u.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new i(e)},i.fromImage=function(t,e,n){return new i(o.fromImage(t,e,n))}},function(t,e){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}t.exports=n,n.prototype.set=function(t,e,n){var i=e.width,r=e.height;n?(this.x0=(t.x+t.height)/i,this.y0=t.y/r,this.x1=(t.x+t.height)/i,this.y1=(t.y+t.width)/r,this.x2=t.x/i,this.y2=(t.y+t.width)/r,this.x3=t.x/i,this.y3=t.y/r):(this.x0=t.x/i,this.y0=t.y/r,this.x1=(t.x+t.width)/i,this.y1=t.y/r,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/r,this.x3=t.x/i,this.y3=(t.y+t.height)/r)}},function(t,e,n){function i(t,e){if(!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),o.call(this,t,e),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),t.complete||(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function r(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}var o=n(91),s=n(12);i.prototype=Object.create(o.prototype),i.prototype.constructor=i,t.exports=i,i.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},i.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},i.prototype._onPlayStop=function(){this.autoUpdate=!1},i.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},i.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete s.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),o.prototype.destroy.call(this)},i.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+s.uid());var n=s.BaseTextureCache[t._pixiId];return n||(n=new i(t,e),s.BaseTextureCache[t._pixiId]=n),n},i.fromUrl=function(t,e){var n=document.createElement("video");if(Array.isArray(t))for(var o=0;o<t.length;++o)n.appendChild(r(t.src||t,t.mime));else n.appendChild(r(t.src||t,t.mime));return n.load(),n.play(),i.fromVideo(n,e)},i.fromUrls=i.fromUrl},function(t,e,n){t.exports={AsciiFilter:n(562),BloomFilter:n(563),BlurFilter:n(565),BlurXFilter:n(92),BlurYFilter:n(153),BlurDirFilter:n(564),ColorMatrixFilter:n(567),ColorStepFilter:n(568),ConvolutionFilter:n(569),CrossHatchFilter:n(570),DisplacementFilter:n(571),DotScreenFilter:n(572),GrayFilter:n(575),DropShadowFilter:n(574),InvertFilter:n(576),NoiseFilter:n(577),NormalMapFilter:n(578),PixelateFilter:n(579),RGBSplitFilter:n(580),ShockwaveFilter:n(582),SepiaFilter:n(581),SmartBlurFilter:n(566),TiltShiftFilter:n(583),TiltShiftXFilter:n(265),TiltShiftYFilter:n(266),TwistFilter:n(584)}},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/tiltShift.frag","utf8"),{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(i.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(t){this.uniforms.blur.value=t}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(t){this.uniforms.gradientBlur.value=t}},start:{get:function(){return this.uniforms.start.value},set:function(t){this.uniforms.start.value=t,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(t){this.uniforms.end.value=t,this.updateDelta()}}})}).call(e,"/")},function(t,e,n){function i(){r.call(this)}var r=n(264);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=t/n,this.uniforms.delta.value.y=e/n}},function(t,e,n){function i(){r.call(this)}var r=n(264);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.updateDelta=function(){var t=this.uniforms.end.value.x-this.uniforms.start.value.x,e=this.uniforms.end.value.y-this.uniforms.start.value.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.value.x=-e/n,
this.uniforms.delta.value.y=t/n}},function(t,e,n){function i(){this.global=new r.Point,this.target=null,this.originalEvent=null}var r=n(1);i.prototype.constructor=i,t.exports=i,i.prototype.getLocalPosition=function(t,e,n){var i=t.worldTransform,o=n?n:this.global,s=i.a,a=i.c,u=i.tx,l=i.b,c=i.d,h=i.ty,f=1/(s*c+a*-l);return e=e||new r.Point,e.x=c*f*o.x+-a*f*o.x+(h*a-u*c)*f,e.y=s*f*o.y+-l*f*o.y+(-h*s+u*l)*f,e}},function(t,e){var n={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};t.exports=n},function(t,e,n){function i(t,e){var n={},i=t.data.getElementsByTagName("info")[0],r=t.data.getElementsByTagName("common")[0];n.font=i.getAttribute("face"),n.size=parseInt(i.getAttribute("size"),10),n.lineHeight=parseInt(r.getAttribute("lineHeight"),10),n.chars={};for(var a=t.data.getElementsByTagName("char"),u=0;u<a.length;u++){var l=parseInt(a[u].getAttribute("id"),10),c=new o.Rectangle(parseInt(a[u].getAttribute("x"),10)+e.frame.x,parseInt(a[u].getAttribute("y"),10)+e.frame.y,parseInt(a[u].getAttribute("width"),10),parseInt(a[u].getAttribute("height"),10));n.chars[l]={xOffset:parseInt(a[u].getAttribute("xoffset"),10),yOffset:parseInt(a[u].getAttribute("yoffset"),10),xAdvance:parseInt(a[u].getAttribute("xadvance"),10),kerning:{},texture:new o.Texture(e.baseTexture,c)}}var h=t.data.getElementsByTagName("kerning");for(u=0;u<h.length;u++){var f=parseInt(h[u].getAttribute("first"),10),p=parseInt(h[u].getAttribute("second"),10),d=parseInt(h[u].getAttribute("amount"),10);n.chars[p].kerning[f]=d}t.bitmapFont=n,s.BitmapText.fonts[n.font]=n}var r=n(98).Resource,o=n(1),s=n(152),a=n(252);t.exports=function(){return function(t,e){if(!t.data||!t.isXml)return e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return e();var n=a.dirname(t.url);"."===n&&(n=""),this.baseUrl&&n&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/"),n=n.replace(this.baseUrl,"")),n&&"/"!==n.charAt(n.length-1)&&(n+="/");var s=n+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])i(t,o.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:r.LOAD_TYPE.IMAGE};this.add(t.name+"_image",s,u,function(n){i(t,n.texture),e()})}}}},function(t,e,n){var i=n(98).Resource,r=n(252),o=n(1);t.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.frames)return e();var n={crossOrigin:t.crossOrigin,loadType:i.LOAD_TYPE.IMAGE},s=r.dirname(t.url.replace(this.baseUrl,"")),a=o.utils.getResolutionOfUrl(t.url);this.add(t.name+"_image",s+"/"+t.data.meta.image,n,function(n){t.textures={};var i=t.data.frames;for(var r in i){var s=i[r].frame;if(s){var u=null,l=null;if(u=i[r].rotated?new o.Rectangle(s.x,s.y,s.h,s.w):new o.Rectangle(s.x,s.y,s.w,s.h),i[r].trimmed&&(l=new o.Rectangle(i[r].spriteSourceSize.x/a,i[r].spriteSourceSize.y/a,i[r].sourceSize.w/a,i[r].sourceSize.h/a)),i[r].rotated){var c=u.width;u.width=u.height,u.height=c}u.x/=a,u.y/=a,u.width/=a,u.height/=a,t.textures[r]=new o.Texture(n.texture.baseTexture,u,u.clone(),l,i[r].rotated),o.utils.TextureCache[r]=t.textures[r]}}e()})}}},function(t,e,n){var i=n(1);t.exports=function(){return function(t,e){t.data&&t.isImage&&(t.texture=new i.Texture(new i.BaseTexture(t.data,null,i.utils.getResolutionOfUrl(t.url))),i.utils.TextureCache[t.url]=t.texture),e()}}},function(t,e,n){t.exports={Mesh:n(154),Rope:n(590),MeshRenderer:n(591),MeshShader:n(592)}},function(t,e,n){"use strict";function i(){}function r(t){try{return t.then}catch(t){return y=t,v}}function o(t,e){try{return t(e)}catch(t){return y=t,v}}function s(t,e,n){try{t(e,n)}catch(t){return y=t,v}}function a(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,t!==i&&b(t,this)}function u(t,e,n){return new t.constructor(function(r,o){var s=new a(i);s.then(r,o),l(t,new d(e,n,s))})}function l(t,e){for(;3===t._81;)t=t._65;return a._10&&a._10(t),0===t._81?0===t._45?(t._45=1,void(t._54=e)):1===t._45?(t._45=2,void(t._54=[t._54,e])):void t._54.push(e):void c(t,e)}function c(t,e){m(function(){var n=1===t._81?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._81?h(e.promise,t._65):f(e.promise,t._65));var i=o(n,t._65);i===v?f(e.promise,y):h(e.promise,i)})}function h(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=r(e);if(n===v)return f(t,y);if(n===t.then&&e instanceof a)return t._81=3,t._65=e,void p(t);if("function"==typeof n)return void b(n.bind(e),t)}t._81=1,t._65=e,p(t)}function f(t,e){t._81=2,t._65=e,a._97&&a._97(t,e),p(t)}function p(t){if(1===t._45&&(l(t,t._54),t._54=null),2===t._45){for(var e=0;e<t._54.length;e++)l(t,t._54[e]);t._54=null}}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function b(t,e){var n=!1,i=s(t,function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,f(e,t))});n||i!==v||(n=!0,f(e,y))}var m=n(322),y=null,v={};t.exports=a,a._10=null,a._97=null,a._61=i,a.prototype.then=function(t,e){if(this.constructor!==a)return u(this,t,e);var n=new a(i);return l(this,new d(t,e,n)),n}},function(t,e,n){"use strict";var i=n(600);t.exports=function(t){var e=!1;return i(t,e)}},function(t,e,n){t.exports=n(599)()},function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){r.forEach(function(e){i[n(e,t)]=i[t]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:i,shorthandPropertyExpansions:o};t.exports=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=n(4),o=n(40),s=(n(2),function(){function t(e){i(this,t),this._callbacks=null,this._contexts=null,this._arg=e}return t.prototype.enqueue=function(t,e){this._callbacks=this._callbacks||[],this._callbacks.push(t),this._contexts=this._contexts||[],this._contexts.push(e)},t.prototype.notifyAll=function(){var t=this._callbacks,e=this._contexts,n=this._arg;if(t&&e){t.length!==e.length?r("24"):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<t.length;i++)t[i].call(e[i],n);t.length=0,e.length=0}},t.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},t.prototype.rollback=function(t){this._callbacks&&this._contexts&&(this._callbacks.length=t,this._contexts.length=t)},t.prototype.reset=function(){this._callbacks=null,this._contexts=null},t.prototype.destructor=function(){this.reset()},t}());t.exports=o.addPoolingTo(s)},function(t,e,n){"use strict";function i(t){return!!l.hasOwnProperty(t)||!u.hasOwnProperty(t)&&(a.test(t)?(l[t]=!0,!0):(u[t]=!0,!1))}function r(t,e){return null==e||t.hasBooleanValue&&!e||t.hasNumericValue&&isNaN(e)||t.hasPositiveNumericValue&&e<1||t.hasOverloadedBooleanValue&&e===!1}var o=n(48),s=(n(9),n(23),n(664)),a=(n(3),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(t){return o.ID_ATTRIBUTE_NAME+"="+s(t)},setAttributeForID:function(t,e){t.setAttribute(o.ID_ATTRIBUTE_NAME,e)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(t){t.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(t,e){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){if(r(n,e))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&e===!0?i+'=""':i+"="+s(e)}return o.isCustomAttribute(t)?null==e?"":t+"="+s(e):null},createMarkupForCustomAttribute:function(t,e){return i(t)&&null!=e?t+"="+s(e):""},setValueForProperty:function(t,e,n){var i=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(i){var s=i.mutationMethod;if(s)s(t,n);else{if(r(i,n))return void this.deleteValueForProperty(t,e);if(i.mustUseProperty)t[i.propertyName]=n;else{var a=i.attributeName,u=i.attributeNamespace;u?t.setAttributeNS(u,a,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?t.setAttribute(a,""):t.setAttribute(a,""+n)}}}else if(o.isCustomAttribute(e))return void c.setValueForAttribute(t,e,n)},setValueForAttribute:function(t,e,n){if(i(e)){null==n?t.removeAttribute(e):t.setAttribute(e,""+n)}},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){var i=n.mutationMethod;if(i)i(t,void 0);else if(n.mustUseProperty){var r=n.propertyName;n.hasBooleanValue?t[r]=!1:t[r]=""}else t.removeAttribute(n.attributeName)}else o.isCustomAttribute(e)&&t.removeAttribute(e)}};t.exports=c},function(t,e){"use strict";var n={hasCachedChildNodes:1};t.exports=n},function(t,e,n){"use strict";function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var t=this._currentElement.props,e=a.getValue(t);null!=e&&r(this,Boolean(t.multiple),e)}}function r(t,e,n){var i,r,o=u.getNodeFromInstance(t).options;if(e){for(i={},r=0;r<n.length;r++)i[""+n[r]]=!0;for(r=0;r<o.length;r++){var s=i.hasOwnProperty(o[r].value);o[r].selected!==s&&(o[r].selected=s)}}else{for(i=""+n,r=0;r<o.length;r++)if(o[r].value===i)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}function o(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(i,this),n}var s=n(6),a=n(161),u=n(9),l=n(26),c=(n(3),!1),h={getHostProps:function(t,e){return s({},e,{onChange:t._wrapperState.onChange,value:void 0})},mountWrapper:function(t,e){var n=a.getValue(e);t._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:e.defaultValue,listeners:null,onChange:o.bind(t),wasMultiple:Boolean(e.multiple)},void 0===e.value||void 0===e.defaultValue||c||(c=!0)},getSelectValueContext:function(t){return t._wrapperState.initialValue},postUpdateWrapper:function(t){var e=t._currentElement.props;t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=Boolean(e.multiple);var i=a.getValue(e);null!=i?(t._wrapperState.pendingUpdate=!1,r(t,Boolean(e.multiple),i)):n!==Boolean(e.multiple)&&(null!=e.defaultValue?r(t,Boolean(e.multiple),e.defaultValue):r(t,Boolean(e.multiple),e.multiple?[]:""))}};t.exports=h},function(t,e){"use strict";var n,i={injectEmptyComponentFactory:function(t){n=t}},r={create:function(t){return n(t)}};r.injection=i,t.exports=r},function(t,e){"use strict";var n={logTopLevelRenders:!1};t.exports=n},function(t,e,n){"use strict";function i(t){return a?void 0:s("111",t.type),new a(t)}function r(t){return new u(t)}function o(t){return t instanceof u}var s=n(4),a=(n(2),null),u=null,l={injectGenericComponentClass:function(t){a=t},injectTextComponentClass:function(t){u=t}},c={createInternalComponent:i,createInstanceForText:r,isTextComponent:o,injection:l};t.exports=c},function(t,e,n){"use strict";function i(t){return o(document.documentElement,t)}var r=n(624),o=n(344),s=n(186),a=n(187),u={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&"text"===t.type||"textarea"===e||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:u.hasSelectionCapabilities(t)?u.getSelection(t):null}},restoreSelection:function(t){var e=a(),n=t.focusedElem,r=t.selectionRange;e!==n&&i(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,r),s(n))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if(void 0===i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&t.nodeName&&"input"===t.nodeName.toLowerCase()){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(t,e)}};t.exports=u},function(t,e,n){"use strict";function i(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++)if(t.charAt(i)!==e.charAt(i))return i;return t.length===e.length?-1:n}function r(t){return t?t.nodeType===N?t.documentElement:t.firstChild:null}function o(t){return t.getAttribute&&t.getAttribute(k)||""}function s(t,e,n,i,r){var o;if(x.logTopLevelRenders){var s=t._currentElement.props.child,a=s.type;o="React mount: "+("string"==typeof a?a:a.displayName||a.name),console.time(o)}var u=E.mountComponent(t,n,null,g(t,e),r,0);o&&console.timeEnd(o),t._renderedComponent._topLevelWrapper=t,j._mountImageIntoNode(u,e,t,i,n)}function a(t,e,n,i){var r=P.ReactReconcileTransaction.getPooled(!n&&_.useCreateElement);r.perform(s,null,t,e,r,n,i),P.ReactReconcileTransaction.release(r)}function u(t,e,n){for(E.unmountComponent(t,n),e.nodeType===N&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)}function l(t){var e=r(t);if(e){var n=v.getInstanceFromNode(e);return!(!n||!n._hostParent)}}function c(t){return!(!t||t.nodeType!==I&&t.nodeType!==N&&t.nodeType!==L)}function h(t){var e=r(t),n=e&&v.getInstanceFromNode(e);return n&&!n._hostParent?n:null}function f(t){var e=h(t);return e?e._hostContainerInfo._topLevelWrapper:null}var p=n(4),d=n(47),b=n(48),m=n(50),y=n(93),v=(n(30),n(9)),g=n(618),_=n(620),x=n(282),w=n(67),S=(n(23),n(634)),E=n(49),T=n(164),P=n(26),M=n(57),O=n(292),A=(n(2),n(97)),C=n(170),k=(n(3),b.ID_ATTRIBUTE_NAME),R=b.ROOT_ATTRIBUTE_NAME,I=1,N=9,L=11,F={},B=1,D=function(){this.rootID=B++};D.prototype.isReactComponent={},D.prototype.render=function(){return this.props.child},D.isReactTopLevelWrapper=!0;var j={TopLevelWrapper:D,_instancesByReactRootID:F,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,i,r){return j.scrollMonitor(i,function(){T.enqueueElementInternal(t,e,n),r&&T.enqueueCallbackInternal(t,r)}),t},_renderNewRootComponent:function(t,e,n,i){c(e)?void 0:p("37"),y.ensureScrollValueMonitoring();var r=O(t,!1);P.batchedUpdates(a,r,e,n,i);var o=r._instance.rootID;return F[o]=r,r},renderSubtreeIntoContainer:function(t,e,n,i){return null!=t&&w.has(t)?void 0:p("38"),j._renderSubtreeIntoContainer(t,e,n,i)},_renderSubtreeIntoContainer:function(t,e,n,i){T.validateCallback(i,"ReactDOM.render"),m.isValidElement(e)?void 0:p("39","string"==typeof e?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof e?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=e&&void 0!==e.props?" This may be caused by unintentionally loading two independent copies of React.":"");var s,a=m.createElement(D,{child:e});if(t){var u=w.get(t);s=u._processChildContext(u._context)}else s=M;var c=f(n);if(c){var h=c._currentElement,d=h.props.child;if(C(d,e)){var b=c._renderedComponent.getPublicInstance(),y=i&&function(){i.call(b)};return j._updateRootComponent(c,a,s,n,y),b}j.unmountComponentAtNode(n)}var v=r(n),g=v&&!!o(v),_=l(n),x=g&&!c&&!_,S=j._renderNewRootComponent(a,n,x,s)._renderedComponent.getPublicInstance();return i&&i.call(S),S},render:function(t,e,n){return j._renderSubtreeIntoContainer(null,t,e,n)},unmountComponentAtNode:function(t){c(t)?void 0:p("40");var e=f(t);if(!e){l(t),1===t.nodeType&&t.hasAttribute(R);return!1}return delete F[e._instance.rootID],P.batchedUpdates(u,e,t,!1),!0},_mountImageIntoNode:function(t,e,n,o,s){if(c(e)?void 0:p("41"),o){var a=r(e);if(S.canReuseMarkup(t,a))return void v.precacheNode(n,a);var u=a.getAttribute(S.CHECKSUM_ATTR_NAME);a.removeAttribute(S.CHECKSUM_ATTR_NAME);var l=a.outerHTML;a.setAttribute(S.CHECKSUM_ATTR_NAME,u);var h=t,f=i(h,l),b=" (client) "+h.substring(f-20,f+20)+"\n (server) "+l.substring(f-20,f+20);e.nodeType===N?p("42",b):void 0}if(e.nodeType===N?p("43"):void 0,s.useCreateElement){for(;e.lastChild;)e.removeChild(e.lastChild);d.insertTreeBefore(e,t,null)}else A(e,t),v.precacheNode(n,e.firstChild)}};t.exports=j},function(t,e,n){"use strict";var i=n(4),r=n(50),o=(n(2),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(t){return null===t||t===!1?o.EMPTY:r.isValidElement(t)?"function"==typeof t.type?o.COMPOSITE:o.HOST:void i("26",t)}});t.exports=o},function(t,e){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(t){n.currentScrollLeft=t.x,n.currentScrollTop=t.y}};t.exports=n},function(t,e,n){"use strict";function i(t,e){return null==e?r("30"):void 0,null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}var r=n(4);n(2);t.exports=i},function(t,e){"use strict";function n(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}t.exports=n},function(t,e,n){"use strict";function i(t){for(var e;(e=t._renderedNodeType)===r.COMPOSITE;)t=t._renderedComponent;return e===r.HOST?t._renderedComponent:e===r.EMPTY?null:void 0}var r=n(286);t.exports=i},function(t,e,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(13),o=null;t.exports=i},function(t,e,n){"use strict";function i(t){if(t){var e=t.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(t){return"function"==typeof t&&"undefined"!=typeof t.prototype&&"function"==typeof t.prototype.mountComponent&&"function"==typeof t.prototype.receiveComponent}function o(t,e){var n;if(null===t||t===!1)n=l.create(o);else if("object"==typeof t){var a=t,u=a.type;if("function"!=typeof u&&"string"!=typeof u){var f="";f+=i(a._owner),s("130",null==u?u:typeof u,f)}"string"==typeof a.type?n=c.createInternalComponent(a):r(a.type)?(n=new a.type(a),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new h(a)}else"string"==typeof t||"number"==typeof t?n=c.createInstanceForText(t):s("131",typeof t);return n._mountIndex=0,n._mountImage=null,n}var s=n(4),a=n(6),u=n(615),l=n(281),c=n(283),h=(n(679),n(2),n(3),function(t){this.construct(t)});a(h.prototype,u,{_instantiateReactComponent:o}),t.exports=o},function(t,e){"use strict";function n(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!i[t.type]:"textarea"===e}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},function(t,e,n){"use strict";var i=n(13),r=n(96),o=n(97),s=function(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e};i.canUseDOM&&("textContent"in document.documentElement||(s=function(t,e){return 3===t.nodeType?void(t.nodeValue=e):void o(t,r(e))})),t.exports=s},function(t,e,n){"use strict";function i(t,e){return t&&"object"==typeof t&&null!=t.key?l.escape(t.key):e.toString(36)}function r(t,e,n,o){var f=typeof t;if("undefined"!==f&&"boolean"!==f||(t=null),null===t||"string"===f||"number"===f||"object"===f&&t.$$typeof===a)return n(o,t,""===e?c+i(t,0):e),1;var p,d,b=0,m=""===e?c:e+h;if(Array.isArray(t))for(var y=0;y<t.length;y++)p=t[y],d=m+i(p,y),b+=r(p,d,n,o);else{var v=u(t);if(v){var g,_=v.call(t);if(v!==t.entries)for(var x=0;!(g=_.next()).done;)p=g.value,d=m+i(p,x++),b+=r(p,d,n,o);else for(;!(g=_.next()).done;){var w=g.value;w&&(p=w[1],d=m+l.escape(w[0])+h+i(p,0),b+=r(p,d,n,o))}}else if("object"===f){var S="",E=String(t);s("31","[object Object]"===E?"object with keys {"+Object.keys(t).join(", ")+"}":E,S)}}return b}function o(t,e,n){return null==t?0:r(t,"",e,n)}var s=n(4),a=(n(30),n(630)),u=n(661),l=(n(2),n(160)),c=(n(3),"."),h=":";t.exports=o},function(t,e,n){"use strict";function i(t){var e=Function.prototype.toString,n=Object.prototype.hasOwnProperty,i=RegExp("^"+e.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var r=e.call(t);return i.test(r)}catch(t){return!1}}function r(t){var e=l(t);if(e){var n=e.childIDs;c(t),n.forEach(r)}}function o(t,e,n){return"\n    in "+(t||"Unknown")+(e?" (at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+")":n?" (created by "+n+")":"")}function s(t){return null==t?"#empty":"string"==typeof t||"number"==typeof t?"#text":"string"==typeof t.type?t.type:t.type.displayName||t.type.name||"Unknown"}function a(t){var e,n=T.getDisplayName(t),i=T.getElement(t),r=T.getOwnerID(t);return r&&(e=T.getDisplayName(r)),o(n,i&&i._source,e)}var u,l,c,h,f,p,d,b=n(52),m=n(30),y=(n(2),n(3),"function"==typeof Array.from&&"function"==typeof Map&&i(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&i(Map.prototype.keys)&&"function"==typeof Set&&i(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&i(Set.prototype.keys));if(y){var v=new Map,g=new Set;u=function(t,e){v.set(t,e)},l=function(t){return v.get(t)},c=function(t){v.delete(t)},h=function(){return Array.from(v.keys())},f=function(t){g.add(t)},p=function(t){g.delete(t)},d=function(){return Array.from(g.keys())}}else{var _={},x={},w=function(t){return"."+t},S=function(t){return parseInt(t.substr(1),10)};u=function(t,e){var n=w(t);_[n]=e},l=function(t){var e=w(t);return _[e]},c=function(t){var e=w(t);delete _[e]},h=function(){return Object.keys(_).map(S)},f=function(t){var e=w(t);x[e]=!0},p=function(t){var e=w(t);delete x[e]},d=function(){return Object.keys(x).map(S)}}var E=[],T={onSetChildren:function(t,e){var n=l(t);n?void 0:b("144"),n.childIDs=e;for(var i=0;i<e.length;i++){var r=e[i],o=l(r);o?void 0:b("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element?b("141"):void 0,o.isMounted?void 0:b("71"),null==o.parentID&&(o.parentID=t),o.parentID!==t?b("142",r,o.parentID,t):void 0}},onBeforeMountComponent:function(t,e,n){var i={element:e,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};u(t,i)},onBeforeUpdateComponent:function(t,e){var n=l(t);n&&n.isMounted&&(n.element=e)},onMountComponent:function(t){var e=l(t);e?void 0:b("144"),e.isMounted=!0;var n=0===e.parentID;n&&f(t)},onUpdateComponent:function(t){var e=l(t);e&&e.isMounted&&e.updateCount++},onUnmountComponent:function(t){var e=l(t);if(e){e.isMounted=!1;var n=0===e.parentID;n&&p(t)}E.push(t)},purgeUnmountedComponents:function(){if(!T._preventPurging){for(var t=0;t<E.length;t++){var e=E[t];r(e)}E.length=0}},isMounted:function(t){var e=l(t);return!!e&&e.isMounted},getCurrentStackAddendum:function(t){var e="";if(t){var n=s(t),i=t._owner;e+=o(n,t._source,i&&i.getName())}var r=m.current,a=r&&r._debugID;return e+=T.getStackAddendumByID(a)},getStackAddendumByID:function(t){for(var e="";t;)e+=a(t),t=T.getParentID(t);return e},getChildIDs:function(t){var e=l(t);return e?e.childIDs:[]},getDisplayName:function(t){var e=T.getElement(t);return e?s(e):null},getElement:function(t){var e=l(t);return e?e.element:null},getOwnerID:function(t){var e=T.getElement(t);return e&&e._owner?e._owner._debugID:null},getParentID:function(t){var e=l(t);return e?e.parentID:null},getSource:function(t){var e=l(t),n=e?e.element:null,i=null!=n?n._source:null;return i},getText:function(t){var e=T.getElement(t);return"string"==typeof e?e:"number"==typeof e?""+e:null},getUpdateCount:function(t){var e=l(t);return e?e.updateCount:0},getRootIDs:d,getRegisteredIDs:h};t.exports=T},function(t,e){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=n},function(t,e,n){"use strict";var i=!1;t.exports=i},function(t,e,n){(function(e){"use strict";function i(t,e,n){return"function"==typeof t.prependListener?t.prependListener(e,n):void(t._events&&t._events[e]?C(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n))}function r(t,e){O=O||n(41),t=t||{},this.objectMode=!!t.objectMode,e instanceof O&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(D||(D=n(302).StringDecoder),this.decoder=new D(t.encoding),this.encoding=t.encoding)}function o(t){return O=O||n(41),this instanceof o?(this._readableState=new r(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),void R.call(this)):new o(t)}function s(t,e,n,i,r){var o=c(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,h(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&r){var u=new Error("stream.unshift() after end event");t.emit("error",u)}else{var l;!e.decoder||r||i||(n=e.decoder.write(n),l=!e.objectMode&&0===n.length),r||(e.reading=!1),l||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&f(t))),d(t,e)}else r||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function u(t){return t>=V?t=V:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function l(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=u(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function c(t,e){var n=null;return I.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,f(t)}}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(B("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?A(p,t):p(t))}function p(t){B("emit readable"),t.emit("readable"),_(t)}function d(t,e){e.readingMore||(e.readingMore=!0,A(b,t,e))}function b(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(B("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function m(t){return function(){var e=t._readableState;B("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&k(t,"data")&&(e.flowing=!0,_(t))}}function y(t){B("readable nexttick read 0"),t.read(0)}function v(t,e){e.resumeScheduled||(e.resumeScheduled=!0,A(g,t,e))}function g(t,e){e.reading||(B("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),_(t),e.flowing&&!e.reading&&t.read(0)}function _(t){var e=t._readableState;for(B("flow",e.flowing);e.flowing&&null!==t.read(););}function x(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=w(t,e.buffer,e.decoder),n}function w(t,e,n){var i;return t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?S(t,e):E(t,e),i}function S(t,e){var n=e.head,i=1,r=n.data;for(t-=r.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(r+=s===o.length?o:o.slice(0,t),t-=s,0===t){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function E(t,e){var n=N.allocUnsafe(t),i=e.head,r=1;for(i.data.copy(n),t-=i.data.length;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),t-=s,0===t){s===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++r}return e.length-=r,n}function T(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,A(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}t.exports=o;var O,A=n(155),C=n(188);o.ReadableState=r;var k=(n(76).EventEmitter,function(t,e){return t.listeners(e).length}),R=n(301),I=n(21).Buffer,N=n(75),L=n(55);L.inherits=n(42);var F=n(735),B=void 0;B=F&&F.debuglog?F.debuglog("stream"):function(){};var D,j=n(684);L.inherits(o,R);var G=["error","close","destroy","pause","resume"];o.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding,e!==n.encoding&&(t=N.from(t,e),e="")),s(this,n,t,e,!1)},o.prototype.unshift=function(t){var e=this._readableState;return s(this,e,t,"",!0)},o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(t){return D||(D=n(302).StringDecoder),this._readableState.decoder=new D(t),this._readableState.encoding=t,this};var V=8388608;o.prototype.read=function(t){B("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return B("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?T(this):f(this),null;if(t=l(t,e),0===t&&e.ended)return 0===e.length&&T(this),null;var i=e.needReadable;B("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&(i=!0,B("length less than watermark",i)),e.ended||e.reading?(i=!1,B("reading or ended",i)):i&&(B("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=l(n,e)));var r;return r=t>0?x(t,e):null,null===r?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&T(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(t,n){function r(t){B("onunpipe"),t===f&&s()}function o(){B("onend"),t.end()}function s(){B("cleanup"),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("drain",y),t.removeListener("error",u),t.removeListener("unpipe",r),f.removeListener("end",o),f.removeListener("end",s),f.removeListener("data",a),v=!0,!p.awaitDrain||t._writableState&&!t._writableState.needDrain||y()}function a(e){B("ondata"),g=!1;var n=t.write(e);!1!==n||g||((1===p.pipesCount&&p.pipes===t||p.pipesCount>1&&M(p.pipes,t)!==-1)&&!v&&(B("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,g=!0),f.pause())}function u(e){B("onerror",e),h(),t.removeListener("error",u),0===k(t,"error")&&t.emit("error",e)}function l(){
t.removeListener("finish",c),h()}function c(){B("onfinish"),t.removeListener("close",l),h()}function h(){B("unpipe"),f.unpipe(t)}var f=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=t;break;case 1:p.pipes=[p.pipes,t];break;default:p.pipes.push(t)}p.pipesCount+=1,B("pipe count=%d opts=%j",p.pipesCount,n);var d=(!n||n.end!==!1)&&t!==e.stdout&&t!==e.stderr,b=d?o:s;p.endEmitted?A(b):f.once("end",b),t.on("unpipe",r);var y=m(f);t.on("drain",y);var v=!1,g=!1;return f.on("data",a),i(t,"error",u),t.once("close",l),t.once("finish",c),t.emit("pipe",f),p.flowing||(B("pipe resume"),f.resume()),t},o.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=M(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},o.prototype.on=function(t,e){var n=R.prototype.on.call(this,t,e);if("data"===t)this._readableState.flowing!==!1&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&f(this,i):A(y,this))}return n},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var t=this._readableState;return t.flowing||(B("resume"),t.flowing=!0,v(this,t)),this},o.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;t.on("end",function(){if(B("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),t.on("data",function(r){if(B("wrapped data"),e.decoder&&(r=e.decoder.write(r)),(!e.objectMode||null!==r&&void 0!==r)&&(e.objectMode||r&&r.length)){var o=i.push(r);o||(n=!0,t.pause())}});for(var r in t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<G.length;o++)t.on(G[o],i.emit.bind(i,G[o]));return i._read=function(e){B("wrapped _read",e),n&&(n=!1,t.resume())},i},o._fromList=x}).call(e,n(25))},function(t,e,n){"use strict";function i(t){this.afterTransform=function(e,n){return r(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&t.push(n),r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState=new i(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(e)})}function s(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var i=t._writableState,r=t._transformState;if(i.length)throw new Error("Calling transform done when ws.length != 0");if(r.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=o;var a=n(41),u=n(55);u.inherits=n(42),u.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){t.exports=n(76).EventEmitter},function(t,e,n){"use strict";function i(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function r(t){var e=i(t);if("string"!=typeof e&&(v.isEncoding===_||!_(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=r(t);var e;switch(this.encoding){case"utf16le":this.text=f,this.end=p,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=d,this.end=b,e=3;break;default:return this.write=m,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(e)}function s(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:-1}function a(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n?0:(r=s(e[i]),r>=0?(r>0&&(t.lastNeed=r-2),r):--i<n?0:(r=s(e[i]),r>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0))}function u(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"�".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"�".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"�".repeat(n+2)}}function l(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){var n=a(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e}function f(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function p(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function d(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function b(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m(t){return t.toString(this.encoding)}function y(t){return t&&t.length?this.write(t):""}var v=n(21).Buffer,g=n(75),_=v.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=h,o.prototype.text=c,o.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},function(t,e,n){"use strict";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)s.call(t,e)&&n.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n=a?a+t:t,i=this._events[n];if(e)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},o.prototype.emit=function(t,e,n,i,r,o){var s=a?a+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,r),!0;case 6:return c.fn.call(c.context,e,n,i,r,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(t,e,n){var i=new r(e,n||this),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(t,e,n){var i=new r(e,n||this,!0),o=a?a+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(t,e,n,r){var o=a?a+t:t;if(!this._events[o])return this;if(!e)return 0===--this._eventsCount?this._events=new i:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||r&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:0===--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new i:delete this._events[e])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=a,o.EventEmitter=o,t.exports=o},function(t,e){"use strict";function n(){}function i(t,e,n){var i=0,r=t.length;!function o(s){return s||i===r?void(n&&n(s)):void e(t[i++],o)}()}function r(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function o(t,e){function i(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(a.started=!0,null==t&&a.idle())return void setTimeout(function(){a.drain()},1);var r={data:t,callback:"function"==typeof i?i:n};e?a._tasks.unshift(r):a._tasks.push(r),setTimeout(function(){a.process()},1)}function o(t){return function(){s-=1,t.callback.apply(t,arguments),null!=arguments[0]&&a.error(arguments[0],t.data),s<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var s=0,a={_tasks:[],concurrency:e,saturated:n,unsaturated:n,buffer:e/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){a.drain=n,a._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!a.paused&&s<a.concurrency&&a._tasks.length;){var e=a._tasks.shift();0===a._tasks.length&&a.empty(),s+=1,s===a.concurrency&&a.saturated(),t(e.data,r(o(e)))}},length:function(){return a._tasks.length},running:function(){return s},idle:function(){return a._tasks.length+s===0},pause:function(){a.paused!==!0&&(a.paused=!0)},resume:function(){if(a.paused!==!1){a.paused=!1;for(var t=1;t<=a.concurrency;t++)a.process()}}};return a}t.exports={eachSeries:i,queue:o}},function(t,e,n){"use strict";function i(t,e){for(var n,i=0,o="";!n;)o+=t(e>>4*i&15|r()),n=e<Math.pow(16,i+1),i++;return o}var r=n(700);t.exports=i},function(t,e,n){function i(){r.call(this)}t.exports=i;var r=n(76).EventEmitter,o=n(42);o(i,r),i.Readable=n(175),i.Writable=n(687),i.Duplex=n(682),i.Transform=n(686),i.PassThrough=n(685),i.Stream=i,i.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&l.pause&&l.pause()}function i(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,t.end())}function s(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===r.listenerCount(this,"error"))throw t}function u(){l.removeListener("data",n),t.removeListener("drain",i),l.removeListener("end",o),l.removeListener("close",s),l.removeListener("error",a),t.removeListener("error",a),l.removeListener("end",u),l.removeListener("close",u),t.removeListener("close",u)}var l=this;l.on("data",n),t.on("drain",i),t._isStdio||e&&e.end===!1||(l.on("end",o),l.on("close",s));var c=!1;return l.on("error",a),t.on("error",a),l.on("end",u),l.on("close",u),t.on("close",u),t.emit("pipe",l),t}},function(t,e,n){function i(t,e,n){for(;n>0;n--)t+=e;return t}function r(t,e){return this instanceof r?(e=e||{},this.duration={value:e.value||4,dots:e.dots||0},void(this.coord=t)):new r(t,e)}var o=n(693),s=n(354),a=n(524),u=n(69),l=n(308),c=n(100);r.prototype={octave:function(){return this.coord[0]+u.A4[0]-u.notes[this.name()][0]+4*this.accidentalValue()},name:function(){return u.fifths[this.coord[1]+u.A4[1]-7*this.accidentalValue()+1]},accidentalValue:function(){return Math.round((this.coord[1]+u.A4[1]-2)/7)},accidental:function(){return u.accidentals[this.accidentalValue()+2]},key:function(t){return t?7*this.coord[0]+4*this.coord[1]+29:12*this.coord[0]+7*this.coord[1]+49},midi:function(){return this.key()+20},fq:function(t){return a(this.coord,t)},chroma:function(){var t=(l.sum(l.mul(this.coord,[12,7]))-3)%12;return t<0?t+12:t},interval:function(t){return"string"==typeof t&&(t=c.toCoord(t)),t instanceof c?new r(l.add(this.coord,t.coord)):t instanceof r?new c(l.sub(t.coord,this.coord)):void 0},transpose:function(t){return this.coord=l.add(this.coord,t.coord),this},helmholtz:function(){var t=this.octave(),e=this.name();e=t<3?e.toUpperCase():e.toLowerCase();var n=t<3?",":"'",r=t<2?2-t:t-3;return i(e+this.accidental(),n,r)},scientific:function(){return this.name().toUpperCase()+this.accidental()+this.octave()},enharmonics:function(t){var e=this.key(),n=t?2:3;return["m3","m2","m-2","m-3"].map(this.interval.bind(this)).filter(function(t){var i=t.accidentalValue(),r=e-(t.key()-i);if(r<n&&r>-n)return t.coord=l.add(t.coord,l.mul(u.sharp,r-i)),!0})},solfege:function(t,e){var n,r,o,s=t.tonic.interval(this);return"down"===s.direction()&&(s=s.invert()),e&&(o=(this.key(!0)-t.tonic.key(!0))/7,o=o>=0?Math.floor(o):-Math.ceil(-o),r=o>=0?"'":","),n=u.intervalSolfege[s.simple(!0).toString()],e?i(n,r,Math.abs(o)):n},scaleDegree:function(t){var e=t.tonic.interval(this);return("down"===e.direction()||0===e.coord[1]&&0!==e.coord[0])&&(e=e.invert()),e=e.simple(!0).coord,t.scale.reduce(function(t,n,i){var r=c.toCoord(n).coord;return r[0]===e[0]&&r[1]===e[1]?i+1:t},0)},durationName:function(){return u.durations[this.duration.value]},durationInSeconds:function(t,e){var n=60/t/(this.duration.value/4)/(e/4);return 2*n-n/Math.pow(2,this.duration.dots)},toString:function(t){return this.name()+this.accidental()+(t?"":this.octave())}},r.fromString=function(t,e){var n=o(t);return n||(n=s(t)),new r(n,e)},r.fromKey=function(t){var e=Math.floor((t-4)/12),n=t-12*e-4,i=u.fifths[(2*Math.round(n/2)+1)%7],o=l.add(l.sub(u.notes[i],u.A4),[e+1,0]),s=t-49-l.sum(l.mul(o,[12,7]));return new r(s?l.add(o,l.mul(u.sharp,s)):o)},r.fromFrequency=function(t,e){var n,i,o;return e=e||440,n=49+12*((Math.log(t)-Math.log(e))/Math.log(2)),n=Math.round(n),o=e*Math.pow(2,(n-49)/12),i=1200*(Math.log(t/o)/Math.log(2)),{note:r.fromKey(n),cents:i}},r.fromMIDI=function(t){return r.fromKey(t-20)},t.exports=r},function(t,e){t.exports={add:function(t,e){return[t[0]+e[0],t[1]+e[1]]},sub:function(t,e){return[t[0]-e[0],t[1]-e[1]]},mul:function(t,e){return"number"==typeof e?[t[0]*e,t[1]*e]:[t[0]*e[0],t[1]*e[1]]},sum:function(t){return t[0]+t[1]}}},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(694),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){"use strict";function i(t,e){if(1===arguments.length)return function(e){return i(t,e)};var n=v.get(t);return n?m.harmonize(n,e):null}function r(t){var e=h(t),n=v.get(e.type);return n?m.harmonize(n,e.tonic):p.compact(p.map(d.note,t))}function o(t){var e=h(t);return v.get(e.type)||[]}function s(t){return o(t).length>0}function a(t){var e=p.map(d.pc,t),n=l(e);return n?n.indexOf(e[0]):null}function u(t,e){if(1===arguments.length)return function(e){return u(t,e)};var n=l(e);return n?p.rotate(t,n):[]}function l(t){for(var e=p.permutations(r(t).map(d.pc)),n=0;n<e.length;n++){var i=m.intervallic(e[n]);if(c(i))return e[n]}return null}function c(t){for(var e=0;e<t.length;e++)if("3"!==t[e][0])return!1;return!0}function h(t){var e=b.regex().exec(t);return e?e[4]?"7"===e[3]||"6"===e[3]?{type:e[3]+e[4],tonic:e[1]+e[2]}:{type:e[4],tonic:e[1]+e[2]+e[3]}:{type:e[3],tonic:e[1]+e[2]}:{type:t,tonic:!1}}Object.defineProperty(e,"__esModule",{value:!0});var f=n(311),p=n(24),d=n(54),b=n(38),m=n(102),y=n(360),v=f.dictionary(y,function(t){return t.split(" ")}),g=v.keys,_=f.detector(v,"");e.names=g,e.get=i,e.notes=r,e.intervals=o,e.isKnownChord=s,e.detect=_,e.position=a,e.inversion=u,e.parse=h},function(t,e,n){"use strict";function i(t){return t}function r(t,e){e=e||i;var n={},r=Object.keys(t),o=[];return r.forEach(function(i){var r=e(t[i][0]);n[i]=r,t[i][1]&&t[i][1].forEach(function(t){n[t]=r,o.push(t)})}),{get:function(t){return n[t]},keys:function(t,e){var i=t?r.concat(o):r.slice();return"function"!=typeof e?i:i.filter(function(t){return e(t,n[t])})}}}function o(t,e){var n="string"==typeof e,i="function"==typeof e,r=t.keys(!1).reduce(function(e,n){return e[u.chroma(t.get(n))]=n,e},{});return function(t){t=s.sort(s.map(a.pc,t));var o=u.chromaModes(t);return s.compact(o.map(function(o,s){var a=r[o];if(!a)return null;var u=t[s];return n?u+e+a:i?e(a,u):[a,u]}))}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(24),a=n(54),u=n(179);e.dictionary=r,e.detector=o},function(t,e,n){"use strict";function i(t,e){return t=!(!t&&0!==t)&&Math.pow(10,t),function(n){return n=e(n),null===n?null:t?Math.round(n*t)/t:n}}function r(t,e,n){return arguments.length>2?r(t,e)(n):i(e,function(e){var n=u.toMidi(e);return n?Math.pow(2,(n-69)/12)*t:null})}function o(t,e,n){return arguments.length>2?o(t,e)(n):i(e,function(e){return 12*(Math.log(e)-Math.log(t))/Math.log(2)+69})}function s(t,e){return u.note(c(t),e)}function a(t,e){var n=l(t)||t,i=l(e)||e;return Math.round(1200*(Math.log(i/n)/Math.log(2)))}Object.defineProperty(e,"__esModule",{value:!0});var u=n(103),l=r(440,2),c=o(440,2);e.eqTempFreq=r,e.toFreq=l,e.eqTempFreqToMidi=o,e.toMidi=c,e.note=s,e.cents=a},function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function r(t){return null!==a.midi(t)}function o(t){return Array.isArray(t)&&2===t.length?7*t[0]+12*t[1]+12:a.midi(t)}function s(t,e){if(t===!0||t===!1)return function(e){return s(e,t)};var n=e===!0?l:u,i=n[t%12],r=Math.floor(t/12)-1;return i+r}Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(38)),u="C Db D Eb E F Gb G Ab A Bb B".split(" "),l="C C# D D# E F F# G G# A A# B".split(" ");e.isValidNote=r,e.fromNote=o,e.toNote=s},function(t,e,n){"use strict";function i(t,e,n){return n?["tnlp",[t,e],n]:["tnlp",[t,e]]}function r(t){return Array.isArray(t)&&"tnlp"===t[0]}function o(t,e,n,i){return i?["tnlp",M.encode(t,e,n),i]:["tnlp",M.encode(t,e,n)]}function s(t){return M.decode.apply(null,t[1])}function a(t){return r(t)?t[2]?"ivl":"note":null}function u(t){return"note"===a(t)}function l(t){return"ivl"===a(t)}function c(t){return r(t)&&1===t[1].length}function h(t){return t[2]===-1?-1:1}function f(t){return t[2]===-1?-t[1][0]:t[1][0]}function p(t){return t[2]===-1?-t[1][1]:t[1][1]}function d(t){return 7*f(t)+12*p(t)}function b(t){var e=f(t);return 7*e-12*Math.floor(7*e/12)}function m(t){var e={};return function(n){return"string"!=typeof n?null:e[n]||(e[n]=t(n))}}function y(t){return O(t)||A(t)}function v(t){return u(t)?t:O(t)}function g(t){return l(t)?t:A(t)}function _(t){return r(t)?t:y(t)}function x(t){return u(t)?T.build.apply(null,s(t)):null}function w(t){if(!l(t))return null;var e=s(t),n=e[0]+1+7*e[2];return t[2]*n+P.altToQ(n,e[1])}function S(t){return x(t)||w(t)}function E(t,e,n){return function(i){return function(r){var o=t(r);if(o)return i(r);var s=e(r);return s?n(i(s)):null}}}Object.defineProperty(e,"__esModule",{value:!0});var T=n(38),P=n(121),M=n(710),O=m(function(t){var e=T.parse(t);return e?o(e.step,e.alt,e.oct):null}),A=m(function(t){var e=P.parse(t);return e&&e?o(e.simple-1,e.alt,e.oct,e.dir):null}),C=E(u,O,x),k=E(l,A,w),R=E(r,y,S);e.pitch=i,e.isPitch=r,e.encode=o,e.decode=s,e.pType=a,e.isNotePitch=u,e.isIvlPitch=l,e.isPC=c,e.dir=h,e.fifths=f,e.focts=p,e.height=d,e.chr=b,e.parseNote=O,e.parseIvl=A,e.parsePitch=y,e.asNotePitch=v,e.asIvlPitch=g,e.asPitch=_,e.strNote=x,e.strIvl=w,e.strPitch=S,e.noteFn=C,e.ivlFn=k,e.pitchFn=R},function(t,e,n){"use strict";function i(t){return"number"==typeof t}function r(t){return i(t)?t:d.toMidi(t)}function o(t,e){for(var n=[];e--;n[e]=e+t);return n}function s(t,e){for(var n=[];e--;n[e]=t-e);return n}function a(t,e){return null===t||null===e?[]:t<e?o(t,e-t+1):s(t,t-e+1)}function u(t){return f.asArr(t).map(r).reduce(function(t,e,n){if(1===n)return a(t,e);var i=t[t.length-1];return t.concat(a(i,e).slice(1))})}function l(t,e){return f.map(d.note(e===!0),u(t))}function c(t,e){return u(e).map(p.trFifths(t))}function h(t,e){return 1===arguments.length?function(e){return h(t,e)}:b.filter(t,l(e))}Object.defineProperty(e,"__esModule",{value:!0});var f=n(24),p=n(37),d=n(103),b=n(179);e.numeric=u,e.chromatic=l,e.fifths=c,e.pitchSet=h},function(t,e,n){"use strict";var i=Object.assign,r={};i(r,n(24)),i(r,n(37)),i(r,n(102)),i(r,n(101)),r.note=n(54),r.ivl=n(177),r.midi=n(103),r.freq=n(312),r.range=n(315),r.key=n(709),r.scale=function(t){return r.scale.notes(t)},i(r.scale,n(716)),r.chord=function(t){return r.chord.notes(t)},i(r.chord,n(310)),r.pitch=n(36),r.notation=n(178),r.progression=n(715),r.sonority=n(717),r.pitchset=n(714),r.pcset=n(179),"object"==typeof t&&t.exports&&(t.exports=r),"undefined"!=typeof window&&(window.Tonal=r)},function(t,e,n){(function(t,i){function r(t,n){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),b(n)?i.showHidden=n:n&&e._extend(i,n),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),u(i,t,i.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,i){if(t.customInspect&&n&&P(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return g(r)||(r=u(t,r,i)),r}var o=l(t,n);if(o)return o;var s=Object.keys(n),b=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),T(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(n);if(0===s.length){if(P(n)){var m=n.name?": "+n.name:"";return t.stylize("[Function"+m+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return c(n)}var y="",v=!1,_=["{","}"];if(d(n)&&(v=!0,_=["[","]"]),P(n)){var x=n.name?": "+n.name:"";y=" [Function"+x+"]"}if(w(n)&&(y=" "+RegExp.prototype.toString.call(n)),E(n)&&(y=" "+Date.prototype.toUTCString.call(n)),T(n)&&(y=" "+c(n)),0===s.length&&(!v||0==n.length))return _[0]+y+_[1];if(i<0)return w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var S;return S=v?h(t,n,i,b,s):s.map(function(e){return f(t,n,i,b,e,v)}),t.seen.pop(),p(S,y,_)}function l(t,e){if(x(e))return t.stylize("undefined","undefined");if(g(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):b(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)k(e,String(s))?o.push(f(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,n,i,r,!0))}),o}function f(t,e,n,i,r,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),k(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=m(n)?u(t,l.value,null):u(t,l.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),x(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function m(t){return null===t}function y(t){return null==t}function v(t){return"number"==typeof t}function g(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return S(t)&&"[object RegExp]"===O(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===O(t)}function T(t){return S(t)&&("[object Error]"===O(t)||t instanceof Error)}function P(t){return"function"==typeof t}function M(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function O(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}function C(){var t=new Date,e=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var R=/%[sdj%]/g;e.format=function(t){if(!g(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(R,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),a=i[n];n<o;a=i[++n])s+=m(a)||!S(a)?" "+a:" "+r(a);return s},e.deprecate=function(n,r){function o(){if(!s){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),s=!0}return n.apply(this,arguments)}if(x(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(i.noDeprecation===!0)return n;var s=!1;return o};var I,N={};e.debuglog=function(t){if(x(I)&&(I={NODE_ENV:"production",PUBLIC_URL:"/fn-score"}.NODE_DEBUG||""),t=t.toUpperCase(),!N[t])if(new RegExp("\\b"+t+"\\b","i").test(I)){var n=i.pid;N[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else N[t]=function(){};return N[t]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=b,e.isNull=m,e.isNullOrUndefined=y,e.isNumber=v,e.isString=g,e.isSymbol=_,e.isUndefined=x,e.isRegExp=w,e.isObject=S,e.isDate=E,e.isError=T,e.isFunction=P,e.isPrimitive=M,e.isBuffer=n(728);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",C(),e.format.apply(e,arguments))},e.inherits=n(727),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(e,function(){return this}(),n(25))},function(t,e){(function(){var e;t.exports=e=function(){function t(t,e,n){if(this.options=t.options,this.stringify=t.stringify,null==e)throw new Error("Missing attribute name of element "+t.name);if(null==n)throw new Error("Missing attribute value for attribute "+e+" of element "+t.name);this.name=this.stringify.attName(e),this.value=this.stringify.attValue(n)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},t}()}).call(this)},function(t,e,n){(function(){var e,i,r,o,s,a,u=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty;o=n(31),i=o.camelCase,a=o.titleCase,r=o.kebabCase,s=o.snakeCase,t.exports=e=function(){function t(t){this.assertLegalChar=u(this.assertLegalChar,this);var e,n,i;t||(t={}),this.allowSurrogateChars=t.allowSurrogateChars,this.noDoubleEncoding=t.noDoubleEncoding,this.textCase=t.textCase,n=t.stringify||{};for(e in n)l.call(n,e)&&(i=n[e],this[e]=i)}return t.prototype.eleName=function(t){return t=""+t||"",t=this.applyCase(t),this.assertLegalChar(t)},t.prototype.eleText=function(t){return t=""+t||"",this.assertLegalChar(this.elEscape(t))},t.prototype.cdata=function(t){return t=""+t||"",t=t.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t)},t.prototype.comment=function(t){if(t=""+t||"",t.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return""+t||""},t.prototype.attName=function(t){return t=""+t||"",t=this.applyCase(t)},t.prototype.attValue=function(t){return t=""+t||"",this.attEscape(t)},t.prototype.insTarget=function(t){return""+t||""},t.prototype.insValue=function(t){if(t=""+t||"",t.match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return t},t.prototype.xmlVersion=function(t){if(t=""+t||"",!t.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){
if(t=""+t||"",!t.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+t);return t},t.prototype.xmlStandalone=function(t){return t?"yes":"no"},t.prototype.dtdPubID=function(t){return""+t||""},t.prototype.dtdSysID=function(t){return""+t||""},t.prototype.dtdElementValue=function(t){return""+t||""},t.prototype.dtdAttType=function(t){return""+t||""},t.prototype.dtdAttDefault=function(t){return null!=t?""+t||"":t},t.prototype.dtdEntityValue=function(t){return""+t||""},t.prototype.dtdNData=function(t){return""+t||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,n;if(e=this.allowSurrogateChars?/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uFFFE-\uFFFF]/:/[\u0000-\u0008\u000B-\u000C\u000E-\u001F\uD800-\uDFFF\uFFFE-\uFFFF]/,n=t.match(e))throw new Error("Invalid character ("+n+") in string: "+t+" at index "+n.index);return t},t.prototype.applyCase=function(t){switch(this.textCase){case"camel":return i(t);case"title":return a(t);case"kebab":case"lower":return r(t);case"snake":return s(t);case"upper":return r(t).toUpperCase();default:return t}},t.prototype.elEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(t){var e;return e=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(this)},function(t,e){(function(){var e,n={}.hasOwnProperty;t.exports=e=function(){function t(t){var e,i,r,o,s,a,u;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(i=t.allowEmpty)&&i,this.pretty?(this.indent=null!=(r=t.indent)?r:"  ",this.newline=null!=(o=t.newline)?o:"\n",this.offset=null!=(s=t.offset)?s:0):(this.indent="",this.newline="",this.offset=0),a=t.writer||{};for(e in a)n.call(a,e)&&(u=a[e],this[e]=u)}return t.prototype.set=function(t){var e,i,r;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0):(this.indent="",this.newline="",this.offset=0),i=t.writer||{};for(e in i)n.call(i,e)&&(r=i[e],this[e]=r);return this},t.prototype.space=function(t){return this.pretty?new Array((t||0)+this.offset+1).join(this.indent):""},t}()}).call(this)},function(t,e){"use strict";function n(t){return function(e,n){var i=arguments.length;return 0===i?[]:Array.isArray(e)?e:"string"==typeof e?e.trim().split(1===i?t:n):[e]}}var i=n(/\s+/);i.use=n,t.exports=i},function(t,e){(function(e){"use strict";function n(t){a.length||(s(),u=!0),a[a.length]=t}function i(){for(;l<a.length;){var t=l;if(l+=1,a[t].call(),l>c){for(var e=0,n=a.length-l;e<n;e++)a[e]=a[e+l];a.length-=l,l=0}}a.length=0,l=0,u=!1}function r(t){var e=1,n=new f(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}function o(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}t.exports=n;var s,a=[],u=!1,l=0,c=1024,h="undefined"!=typeof e?e:self,f=h.MutationObserver||h.WebKitMutationObserver;s="function"==typeof f?r(i):o(i),n.requestFlush=s,n.makeRequestCallFromTimer=o}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=k.default.sort(t),n=e.map(k.default.midi.toMidi),i=(0,A.default)(n),r=k.default.midi.note(i,!0);return r}function l(t,e){return t.map(function(t,n,i){return e(t,n,i)?t:J.createFromDurationAsRest(t.duration)})}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=n(53),f=r(h);n(340);var p=n(328),d=(r(p),n(666)),b=r(d),m=n(720),y=r(m),v=n(721),g=r(v),_=n(722),x=r(_),w=n(723),S=r(w),E=n(724),T=r(E),P=n(725),M=r(P),O=n(469),A=r(O),C=n(316),k=r(C),R=n(327),I=r(R),N=n(74),L=r(N),F=n(458),B=(r(F),n(450)),D=r(B),j=n(135),G=(r(j),n(472)),V=(r(G),n(325)),U=(i(V),n(116)),W=i(U),H=n(324),Y=i(H),z=n(334),X=i(z),q=n(335),Z=(i(q),n(336)),K=(i(Z),n(184),n(329)),J=i(K),Q=n(183),$=i(Q),tt=n(330),et=i(tt),nt=n(117),it=(r(nt),[1/8,1/8,1/8,.375,1/8,1/8,1/8,.375,1/8,1/8,1/16,1/16,1/8,1/8,.375,1/8,.375]),rt=["A4","G4","A4","C5","A4","G4","A4","D5","E5","G5","E5","D5","C5","D5","G4","D5","F#4"],ot=rt.map(et.createFromNoteName),st=it.map($.createDurationOfLength),at=st.map(J.buildFromTonesList(ot)),ut=function(t){var e=Object.assign({newBpm:127,newBars:3},t);return f.default.createElement("div",{className:"roll-comparison-container"},e.name&&f.default.createElement("h4",{className:"name"},e.name),f.default.createElement("div",{className:"roll-comparison"},f.default.createElement(I.default,{soundsList:at,bpm:127,bars:3}),f.default.createElement("div",{className:"middle-section"},e.children),f.default.createElement(I.default,{soundsList:e.newSoundsList,bpm:e.newBpm,bars:e.newBars})))},lt=function(t){function e(){return o(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),c(e,[{key:"render",value:function(){return f.default.createElement("div",{className:"App"},f.default.createElement("h1",null,"FnScore - Music is Data"),f.default.createElement(b.default,{src:y.default}),f.default.createElement(b.default,{src:g.default}),f.default.createElement(b.default,{src:x.default}),f.default.createElement(b.default,{src:S.default}),f.default.createElement(I.default,{soundsList:at,bpm:127,bars:3}),f.default.createElement(b.default,{src:T.default}),f.default.createElement(ut,{newSoundsList:at.slice().reverse(),name:"A Simple Reversal"},f.default.createElement("code",null,"notes.reverse()")),f.default.createElement(ut,{name:"Only Notes Higher Than A4",newSoundsList:l(at,function(t){return W.isHigher(et.createFromNoteName("A4"),t.tone)})},f.default.createElement("pre",null,f.default.createElement("code",null,"notes.filter(\n  isHigherThan(A4)\n)"))),f.default.createElement(ut,{name:"Only Notes Longer Than Quavers",newSoundsList:l(at,function(t){return Y.isLonger($.createDurationOfLength(1/8),t.duration)})},f.default.createElement("pre",null,f.default.createElement("code",null,"notes.filter(\n  isLongerThan(",f.default.createElement("note",null,"e"),")\n)"))),f.default.createElement(ut,{name:"Only Notes That Are Quavers",newSoundsList:l(at,function(t){return Y.isSame($.createDurationOfLength(1/8),t.duration)})},f.default.createElement("pre",null,f.default.createElement("code",null,"notes.filter(\n  isLengthEqualTo(",f.default.createElement("note",null,"e"),")\n)"))),f.default.createElement(b.default,{src:M.default}),f.default.createElement(ut,{name:"Transpose All Notes Up 3 Semitones",newSoundsList:at.map(function(t){return L.default.composeFromToneAndDuration(X.transpose(3,t.tone),t.duration)})},f.default.createElement("pre",null,f.default.createElement("code",null,"notes.map(\n  transposeUp(3)\n)"))),f.default.createElement(ut,{name:"Split Each Note And Raise Every Other Note By An Octave",newSoundsList:(0,D.default)(at.map(function(t){return[L.default.composeFromToneAndDuration(t.tone,$.createDurationOfLength(t.duration.length/2)),L.default.composeFromToneAndDuration(X.transpose(12,t.tone),$.createDurationOfLength(t.duration.length/2))]}))},f.default.createElement("pre",null,f.default.createElement("code",null,"notes.map(\n  splitAndRaiseByOctave\n)"))),f.default.createElement(ut,{name:"Transpose Each Note 2 Semitones Closer To The Median Pitch",newSoundsList:at.map(function(t,e,n){var i=k.default.semitones(u(n.map(function(t){return t.tone.toString()})),t.tone.toString());return console.log(i),0===i?t:i<-2?L.default.composeFromToneAndDuration(X.transpose(2,t.tone),t.duration):i>2?L.default.composeFromToneAndDuration(X.transpose(-2,t.tone),t.duration):t})},f.default.createElement("pre",null,f.default.createElement("code",null,"notes.map(\n  transpose(\n    closerToMedian(2)\n  )\n)"))))}}]),e}(h.Component);e.default=lt},function(t,e){"use strict";function n(t,e){return e.length>t.length}function i(t,e){return e.length<t.length}function r(t,e){return e.length===t.length}Object.defineProperty(e,"__esModule",{value:!0}),e.isLonger=n,e.isShorter=i,e.isSame=r},function(t,e){"use strict";function n(t){return!!t}function i(t){return!t}Object.defineProperty(e,"__esModule",{value:!0}),e.isSet=n,e.isNotSet=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(53),l=i(u),c=n(525),h=i(c),f=n(275),p=i(f),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"componentDidMount",value:function(){this.roll=(0,h.default)({width:350,height:200,noteColor:14352399,gridLineColor:13487565,pianoKeyWidth:20,backgroundColor:16777215,bpm:this.props.bpm,antialias:!0,zoom:this.props.bars,resolution:4,time:"0:0:0",noteFormat:"String",noteData:this.props.noteData}),this.refs.rootNode.appendChild(this.roll.view),this.props.play===!0&&this.start()}},{key:"start",value:function(){this.roll.playback.seek("0:0:0"),this.roll.playback.play()}},{key:"stop",value:function(){this.roll.playback.pause(),this.roll.playback.seek("0:0:0")}},{key:"componentWillReceiveProps",value:function(t){t.play===!0?this.start():t.play===!1&&this.stop()}},{key:"render",value:function(){return l.default.createElement("div",{ref:"rootNode"})}}]),e}(l.default.Component);e.default=d,d.propTypes={bpm:p.default.number.isRequired,noteData:p.default.arrayOf(p.default.array.isRequired).isRequired,bars:p.default.number.isRequired,play:p.default.bool.isRequired}},function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=b(t,2),n=e[1];return null!==n}function u(t){return t%1}function l(t){return t/.25}function c(t){var e=parseInt(t,10),n=l(u(t)),i=0;return e+":"+n+":"+i}function h(t,e){return t+e}function f(t,e){return t.slice(0,e).reduce(h,0)}function p(t){switch(t){case 1/16:return"16n";case 1/8:return"8n";case.25:return"4n";case.375:return"4nd";case.5:return"2n";case 1:return"1n";default:return M.default.Time(2*t).toNotation()}}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),b=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=n(53),y=i(m),v=n(275),g=i(v),_=n(466),x=i(_),w=n(456),S=i(w),E=n(326),T=i(E),P=n(718),M=i(P);t.t=M.default;var O=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.state={playbackState:"stopped"};var i=n.props.soundsList.map(function(t){return t.duration}).map(function(t){return t.length}).map(function(t,e,n){return f(n,e)}),s=n.props.soundsList.map(function(t){return t.tone}).map(function(t){return t&&t.toString()||null}),a=n.props.soundsList.map(function(t){return t.duration}).map(function(t){return t.length});return n.noteData=(0,x.default)(i.map(c),s,a.map(p)),n.handlePlayButtonPress=n.handlePlayButtonPress.bind(n),n.handleStopButtonPress=n.handleStopButtonPress.bind(n),n}return s(e,t),d(e,[{key:"componentDidMount",value:function(){}},{key:"handlePlayButtonPress",value:function(){function t(t){return t.endsWith("d")?M.default.Time(t.replace("d","")).mult(1.5):M.default.Time(t)}function e(t){return r===t}var n=this;this.synth=(new P.FMSynth).toMaster();var i=this.noteData.filter(a).map(function(e){var n=b(e,3),i=n[0],r=n[1],o=n[2];return{time:i,note:r,dur:t(o)}}),r=(0,S.default)(i);this.setState({playbackState:"playing"},function(){n.part=new M.default.Part(function(t,i){n.synth.triggerAttackRelease(i.note,i.dur,t),e(i)&&n.removeSynthFromMasterChain()},i),n.part.mute=!1,n.part.start(0),M.default.Transport.seconds=0,M.default.Transport.bpm.value=n.props.bpm,M.default.Transport.start(),M.default.Transport.schedule(n.handleStopButtonPress,n.props.bars+":0:0")})}},{key:"handleStopButtonPress",value:function(){M.default.Transport.stop(),this.removeSynthFromMasterChain(),this.setState({playbackState:"paused"})}},{key:"removeSynthFromMasterChain",value:function(){this.part.mute=!0}},{key:"render",value:function(){var t=this.noteData.filter(a);return y.default.createElement("article",{className:"playable-piano-roll",style:{width:350,display:"inline-block"}},y.default.createElement(T.default,{bpm:this.props.bpm,noteData:t,play:"playing"===this.state.playbackState,bars:this.props.bars}),y.default.createElement("div",{style:{textAlign:"center"}},"playing"!==this.state.playbackState?y.default.createElement("button",{onClick:this.handlePlayButtonPress},"Play Sequence"):y.default.createElement("button",{onClick:this.handleStopButtonPress},"Stop Sequence")))}}]),e}(y.default.Component);e.default=O,O.propTypes={bpm:g.default.number.isRequired,soundsList:g.default.array.isRequired,bars:g.default.number.isRequired}}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){return new Promise(function(e,n){p.default.musicXML(t,function(t,i){return t?void n(t):void e(i)})})}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(53),c=i(l),h=n(523),f=n(471),p=i(f),d=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),u(e,[{key:"componentDidMount",value:function(){var t=this;this.osmd=new h.OSMD(this.refs.renderPoint),a(this.props.musicJSON).then(function(e){return t.osmd.load(e)}).then(function(){t.osmd.render()},function(t){return console.error(t)}).then(null,function(t){return console.error(t)})}},{key:"render",value:function(){return c.default.createElement("div",{ref:"renderPoint"})}}]),e}(c.default.Component);e.default=d,d.propTypes={musicXML:c.default.PropTypes.any,musicJSON:c.default.PropTypes.any}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return f.default.composeFromToneAndDuration(t,e)}function o(t,e){return f.default.composeFromToneAndDuration(e,t)}function s(t){return f.default.composeFromToneAndDuration((0,y.default)(d.default)[0],t)}function a(t){return f.default.composeFromToneAndDuration(null,t)}function u(t){return f.default.composeFromToneAndDuration(t,(0,b.createDurationOfRandomLength)())}function l(t){return function(e,n){return f.default.composeFromToneAndDuration(t[n],e)}}function c(t){return function(e,n){return f.default.composeFromToneAndDuration(e,t[n])}}Object.defineProperty(e,"__esModule",{value:!0}),e.createFromToneAndDuration=r,e.createFromDurationAndTone=o,e.createWithRandomTone=s,e.createFromDurationAsRest=a,e.createWithRandomDuration=u,e.buildFromTonesList=l,e.buildFromDurationsList=c;var h=n(74),f=i(h),p=n(72),d=i(p),b=n(183),m=n(135),y=i(m)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(!t)return null;var e=parseInt(t.slice(-1)),n=t.includes("#"),i=t.replace(String(e),"").replace("#","");return s.default.find(function(t){return t.isAccidental===n&&t.octave===e&&t.note[0]===i})}Object.defineProperty(e,"__esModule",{value:!0}),e.createFromNoteName=r;var o=n(72),s=i(o)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(53),o=i(r),s=n(602),a=i(s),u=n(323),l=i(u);n(341),a.default.render(o.default.createElement(l.default,null),document.getElementById("root"))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(73),l=i(u),c=n(184),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"toMusicJSON",value:function(){var t={pitch:{step:(0,c.xmlCompatibleProperty)(this.noteName),alter:(0,c.xmlCompatibleProperty)(this.noteAlteration),octave:(0,c.xmlCompatibleProperty)(this.octave)},duration:(0,c.xmlCompatibleProperty)(this.duration),voice:(0,c.xmlCompatibleProperty)(1)};return this.isRest&&(t.rest=(0,c.xmlCompatibleProperty)(!0)),t}}],[{key:"createFromSound",value:function(t){return new e(t.tone?{noteName:t.tone.note.replace("_SHARP","").replace("#",""),noteAlteration:t.tone.isAccidental?1:0,octave:t.tone.octave,duration:(0,c.getDurationDivision)(24,t.duration.length),isRest:!1}:{noteName:"C",noteAlteration:0,octave:5,duration:(0,c.getDurationDivision)(24,t.duration.length),isRest:!0})}}]),e}(l.default);e.default=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(73),l=i(u),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"toString",value:function(){return""+this.note+this.octave}}]),e}(l.default);e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return h.default[h.default.indexOf(e)+t]}function o(t,e){return h.default.find(function(n){return(0,f.isSameOctave)(n,e)&&n.note===t})}function s(t){return r(1,t)}function a(t){return r(-1,t)}function u(t,e){return s(e,12*t)}function l(t,e){return h.default.find(function(n){return(0,f.isSameNote)(n,e)&&n.octave===t})}Object.defineProperty(e,"__esModule",{value:!0}),e.transpose=r,e.transposeTo=o,e.raise=s,e.lower=a,e.changeOctave=u,e.setOctaveTo=l;var c=n(72),h=i(c),f=n(116)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(e,n){return s.default.composeFromToneAndDuration(e,t[n])}}Object.defineProperty(e,"__esModule",{value:!0}),e.mapTonesToDurations=r;var o=n(74),s=i(o)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return Object.values(d.default).find(function(e){return e.length===t})}function o(t){function e(t){return[t,t]}if(t instanceof c.default)return e(r(t.length/2));if(t instanceof f.default)return e(f.default.composeFromToneAndDuration(t.tone,r(2*t.length)));throw new TypeError("Wrong type")}function s(t,e){if(t.cosntructor!==e.constructor)throw new TypeError("Arguments must be of the same type");if(t instanceof c.default)return r(t.length+e.length);if(t instanceof f.default){if(!(0,b.isSame)(t.tone,e.tone))throw new Error("A and B must have the same tone to be joined");return f.default.composeFromToneAndDuration(t.tone,r(t.duration.length+e.duration.length))}throw new TypeError("Wrong type")}function a(t){var e=u(t,2),n=e[0],i=e[1];return s(n,i)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.split=o,e.join=s,e.joinFromTuple=a;var l=n(118),c=i(l),h=n(74),f=i(h),p=n(117),d=i(p),b=n(116)},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-n(t)}function r(t){var e,i,r,o,s,a,u=t.length;s=n(t),a=new c(3*u/4-s),r=s>0?u-4:u;var h=0;for(e=0,i=0;e<r;e+=4,i+=3)o=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],a[h++]=o>>16&255,a[h++]=o>>8&255,a[h++]=255&o;return 2===s?(o=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,a[h++]=255&o):1===s&&(o=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,a[h++]=o>>8&255,a[h++]=255&o),a}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,n){for(var i,r=[],s=e;s<n;s+=3)i=(t[s]<<16)+(t[s+1]<<8)+t[s+2],r.push(o(i));return r.join("")}function a(t){for(var e,n=t.length,i=n%3,r="",o=[],a=16383,l=0,c=n-i;l<c;l+=a)o.push(s(t,l,l+a>c?c:l+a));return 1===i?(e=t[n-1],r+=u[e>>2],r+=u[e<<4&63],r+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],r+=u[e>>10],r+=u[e>>4&63],r+=u[e<<2&63],r+="="),o.push(r),o.join("")}e.byteLength=i,e.toByteArray=r,e.fromByteArray=a;for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=h.length;f<p;++f)u[f]=h[f],l[h.charCodeAt(f)]=f;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){var n={m:["m3","P5"],mi:["m3","P5"],min:["m3","P5"],"-":["m3","P5"],M:["M3","P5"],ma:["M3","P5"],"":["M3","P5"],"+":["M3","A5"],aug:["M3","A5"],dim:["m3","d5"],o:["m3","d5"],maj:["M3","P5","M7"],dom:["M3","P5","m7"],"ø":["m3","d5","m7"],5:["P5"],"6/9":["M3","P5","M6","M9"]};t.exports=function(t){function e(t){for(var e=n[t],i=0,r=e.length;i<r;i++)u[i+1]=e[i];a=e.length}var i,r,o="quality",s=[],a=2,u=["P1","M3","P5","m7","M9","P11","M13"],l=!1;t=t.replace(/[,\s\(\)]/g,"");for(var c=0,h=t.length;c<h;c++){if(!(i=t[c]))return;if("quality"===o){var f=c+2<h?t.substr(c,3).toLowerCase():null,p=c+1<h?t.substr(c,2).toLowerCase():null;r=f in n?f:p in n?p:i in n?i:"",r&&e(r),"M"!==r&&"ma"!==r&&"maj"!==r||(l=!0),c+=r.length-1,o="extension"}else if("extension"===o){if(i="1"===i&&t[c+1]?+t.substr(c,2):+i,isNaN(i)||6===i)6===i?(u[3]="M6",a=Math.max(3,a)):c-=1;else{if(a=(i-1)/2,a!==Math.round(a))return new Error("Invalid interval extension: "+i.toString(10));"o"===r||"dim"===r?u[3]="d7":l&&(u[3]="M7"),c+=i>=10?1:0}o="alterations"}else if("alterations"===o){var d=t.substr(c).split(/(#|b|add|maj|sus|M)/i),b=!1,m=!1;if(1===d.length)return new Error("Invalid alteration");if(0!==d[0].length)return new Error("Invalid token: '"+d[0]+"'");var y=!1;d.forEach(function(t,e,n){if(y||!t.length)return y=!1;var i=n[e+1],r=t.toLowerCase();if("M"===t||"maj"===r)"7"===i&&(y=!0),a=Math.max(3,a),u[3]="M7";else if("sus"===r){var o="P4";"2"!==i&&"4"!==i||(y=!0,"2"===i&&(o="M2")),u[1]=o}else if("add"===r)"9"===i?s.push("M9"):"11"===i?s.push("P11"):"13"===i&&s.push("M13"),y=!0;else if("b"===r)b=!0;else if("#"===r)m=!0;else{var l,c,h=+t;if(isNaN(h)||String(h).length!==t.length)return new Error("Invalid token: '"+t+"'");if(6===h)return m?u[3]="A6":b?u[3]="m6":u[3]="M6",void(a=Math.max(3,a));if(c=(h-1)/2,a<c&&(a=c),h<5||7===h||c!==Math.round(c))return new Error("Invalid interval alteration: "+h);l=u[c][0],m?"d"===l?l="m":"m"===l?l="M":"M"!==l&&"P"!==l||(l="A"):b&&("A"===l?l="M":"M"===l?l="m":"m"!==l&&"P"!==l||(l="d")),m=b=!1,u[c]=l+h}}),o="ended"}else if("ended"===o)break}return u.slice(0,a+1).concat(s)}},function(t,e){"use strict";function n(t,e,n){n=n||2;var r=e&&e.length,s=r?e[0]*n:t.length,a=i(t,0,s,n,!0),u=[];if(!a)return u;var l,h,f,p,d,b,m;if(r&&(a=c(t,e,a,n)),t.length>80*n){l=f=t[0],h=p=t[1];for(var y=n;y<s;y+=n)d=t[y],b=t[y+1],d<l&&(l=d),b<h&&(h=b),d>f&&(f=d),b>p&&(p=b);m=Math.max(f-l,p-h)}return o(a,u,n,l,h,m),u}function i(t,e,n,i,r){var o,s;if(r===C(t,e,n,i)>0)for(o=e;o<n;o+=i)s=M(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=M(o,t[o],t[o+1],s);return s&&x(s,s.next)&&(O(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var n,i=t;do if(n=!1,i.steiner||!x(i,i.next)&&0!==_(i.prev,i,i.next))i=i.next;else{if(O(i),i=e=i.prev,i===i.next)return null;n=!0}while(n||i!==e);return e}function o(t,e,n,i,c,h,f){if(t){!f&&h&&d(t,i,c,h);for(var p,b,m=t;t.prev!==t.next;)if(p=t.prev,b=t.next,h?a(t,i,c,h):s(t))e.push(p.i/n),e.push(t.i/n),e.push(b.i/n),O(t),t=b.next,m=b.next;else if(t=b,t===m){f?1===f?(t=u(t,e,n),o(t,e,n,i,c,h,2)):2===f&&l(t,e,n,i,c,h):o(r(t),e,n,i,c,h,1);break}}}function s(t){var e=t.prev,n=t,i=t.next;if(_(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(v(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&_(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function a(t,e,n,i){var r=t.prev,o=t,s=t.next;if(_(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=m(a,u,e,n,i),f=m(l,c,e,n,i),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&v(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function u(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!x(r,o)&&w(r,i,i.next,o)&&E(r,o)&&E(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),O(i),O(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,n,i,s,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=P(u,l);return u=r(u,u.next),c=r(c,c.next),o(u,e,n,i,s,a),void o(c,e,n,i,s,a)}l=l.next}u=u.next}while(u!==t)}function c(t,e,n,o){var s,a,u,l,c,p=[];for(s=0,a=e.length;s<a;s++)u=e[s]*o,l=s<a-1?e[s+1]*o:t.length,c=i(t,u,l,o,!1),c===c.next&&(c.steiner=!0),p.push(y(c));for(p.sort(h),s=0;s<p.length;s++)f(p[s],n),n=r(n,n.next);return n}function h(t,e){return t.x-e.x}function f(t,e){if(e=p(t,e)){var n=P(e,t);r(n,n.next)}}function p(t,e){var n,i=e,r=t.x,o=t.y,s=-(1/0);do{if(o<=i.y&&o>=i.next.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(i=n.next;i!==l;)r>=i.x&&i.x>=c&&v(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),(u<f||u===f&&i.x>n.x)&&E(i,t)&&(n=i,f=u)),i=i.next;return n}function d(t,e,n,i){var r=t;do null===r.z&&(r.z=m(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,b(r)}function b(t){var e,n,i,r,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ,i);e++);for(u=l;a>0||u>0&&i;)0===a?(r=i,i=i.nextZ,u--):0!==u&&i?n.z<=i.z?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--):(r=n,n=n.nextZ,a--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1);return t}function m(t,e,n,i,r){return t=32767*(t-n)/r,e=32767*(e-i)/r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,n=t;do e.x<n.x&&(n=e),e=e.next;while(e!==t);return n}function v(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&E(t,e)&&E(e,t)&&T(t,e)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function x(t,e){
return t.x===e.x&&t.y===e.y}function w(t,e,n,i){return!!(x(t,e)&&x(n,i)||x(t,i)&&x(n,e))||_(t,e,n)>0!=_(t,e,i)>0&&_(n,i,t)>0!=_(n,i,e)>0}function S(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&w(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function E(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function T(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function P(t,e){var n=new A(t.i,t.x,t.y),i=new A(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function M(t,e,n,i){var r=new A(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=n,n.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(C(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(C(t,l,c,n))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,p=i[a+1]*n,d=i[a+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},function(t,e){},340,function(t,e){"use strict";function n(t){return t.replace(i,function(t,e){return e.toUpperCase()})}var i=/-(.)/g;t.exports=n},function(t,e,n){"use strict";function i(t){return r(t.replace(o,"ms-"))}var r=n(342),o=/^-ms-/;t.exports=i},function(t,e,n){"use strict";function i(t,e){return!(!t||!e)&&(t===e||!r(t)&&(r(e)?i(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var r=n(352);t.exports=i},function(t,e,n){"use strict";function i(t){var e=t.length;if(Array.isArray(t)||"object"!=typeof t&&"function"!=typeof t?s(!1):void 0,"number"!=typeof e?s(!1):void 0,0===e||e-1 in t?void 0:s(!1),"function"==typeof t.callee?s(!1):void 0,t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(t){}for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}function r(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function o(t){return r(t)?Array.isArray(t)?t.slice():i(t):[t]}var s=n(2);t.exports=o},function(t,e,n){"use strict";function i(t){var e=t.match(c);return e&&e[1].toLowerCase()}function r(t,e){var n=l;l?void 0:u(!1);var r=i(t),o=r&&a(r);if(o){n.innerHTML=o[1]+t+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=t;var h=n.getElementsByTagName("script");h.length&&(e?void 0:u(!1),s(h).forEach(e));for(var f=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return f}var o=n(13),s=n(345),a=n(347),u=n(2),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=r},function(t,e,n){"use strict";function i(t){return s?void 0:o(!1),f.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||("*"===t?s.innerHTML="<link />":s.innerHTML="<"+t+"></"+t+">",a[t]=!s.firstChild),a[t]?f[t]:null}var r=n(13),o=n(2),s=r.canUseDOM?document.createElement("div"):null,a={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(t){f[t]=h,a[t]=!0}),t.exports=i},function(t,e){"use strict";function n(t){return t.Window&&t instanceof t.Window?{x:t.pageXOffset||t.document.documentElement.scrollLeft,y:t.pageYOffset||t.document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}t.exports=n},function(t,e){"use strict";function n(t){return t.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;t.exports=n},function(t,e,n){"use strict";function i(t){return r(t).replace(o,"-ms-")}var r=n(349),o=/^ms-/;t.exports=i},function(t,e){"use strict";function n(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!("function"==typeof n.Node?t instanceof n.Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}t.exports=n},function(t,e,n){"use strict";function i(t){return r(t)&&3==t.nodeType}var r=n(351);t.exports=i},function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)||(e[n]=t.call(this,n)),e[n]}}t.exports=n},function(t,e,n){var i=n(234),r=n(182);t.exports=function(t){var t=t.replace(/\u2032/g,"'").replace(/\u0375/g,","),e=t.match(/^(,*)([a-h])(x|#|bb|b?)([,\']*)$/i);if(!e||t!==e[0])throw new Error("Invalid formatting");var n,o=e[2],s=e[1],a=e[4],u=o===o.toLowerCase();if(s){if(u)throw new Error("Invalid formatting - found commas before lowercase note");n=2-s.length}else if(a)if(a.match(/^'+$/)&&u)n=3+a.length;else{if(!a.match(/^,+$/)||u)throw new Error("Invalid formatting - mismatch between octave indicator and letter case");n=2-a.length}else n=u?3:2;var l=r.interval(e[3].toLowerCase()),c=i(o.toLowerCase());return c[0]+=n,c[0]+=l[0]-i.A4[0],c[1]+=l[1]-i.A4[1],c}},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,i),o-=l}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,b=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*b}},function(t,e){(function(e){"use strict";function n(){c=!0;for(var t,e,n=h.length;n;){for(e=h,h=[],t=-1;++t<n;)e[t]();n=h.length}c=!1}function i(t){1!==h.push(t)||c||r()}var r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var s=0,a=new o(n),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),r=function(){u.data=s=++s%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var l=new e.MessageChannel;l.port1.onmessage=n,r=function(){l.port2.postMessage(0)}}var c,h=[];t.exports=i}).call(e,function(){return this}())},function(t,e){var n=/^(AA|A|P|M|m|d|dd)(-?\d+)$/,i=[-4,7],r=["dd","d","P","A","AA"],o=["dd","d","m","M","A","AA"],s=[[0,0],[3,-5],[2,-3],[1,-1],[0,1],[3,-4],[2,-2],[1,0]];t.exports=function(t){var e=t.match(n);if(!e)return null;var a=e[1],u=+e[2],l=u<0?-1:1;u=l<0?-u:u;var c=u>8?u%7||7:u,h=(u-c)/7,f=s[c-1],p=f[0]<=1?r:o,d=p.indexOf(a)-2;return d===-3?null:[l*(f[0]+h+i[0]*d),l*(f[1]+i[1]*d)]},t.exports.coords=s.slice(0)},function(t,e,n){var i,r;!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){function s(t){var e=!!t&&"length"in t&&t.length,n=yt.type(t);return"function"!==n&&!yt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e,n){if(yt.isFunction(e))return yt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return yt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Mt.test(e))return yt.filter(e,t,n);e=yt.filter(e,t)}return yt.grep(t,function(t){return yt.inArray(t,e)>-1!==n})}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function l(t){var e={};return yt.each(t.match(It)||[],function(t,n){e[n]=!0}),e}function c(){at.addEventListener?(at.removeEventListener("DOMContentLoaded",h),n.removeEventListener("load",h)):(at.detachEvent("onreadystatechange",h),n.detachEvent("onload",h))}function h(){(at.addEventListener||"load"===n.event.type||"complete"===at.readyState)&&(c(),yt.ready())}function f(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(Dt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Bt.test(n)?yt.parseJSON(n):n)}catch(t){}yt.data(t,e,n)}else n=void 0}return n}function p(t){var e;for(e in t)if(("data"!==e||!yt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function d(t,e,n,i){if(Ft(t)){var r,o,s=yt.expando,a=t.nodeType,u=a?yt.cache:t,l=a?t[s]:t[s]&&s;if(l&&u[l]&&(i||u[l].data)||void 0!==n||"string"!=typeof e)return l||(l=a?t[s]=st.pop()||yt.guid++:s),u[l]||(u[l]=a?{}:{toJSON:yt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?u[l]=yt.extend(u[l],e):u[l].data=yt.extend(u[l].data,e)),o=u[l],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[yt.camelCase(e)]=n),"string"==typeof e?(r=o[e],null==r&&(r=o[yt.camelCase(e)])):r=o,r}}function b(t,e,n){if(Ft(t)){var i,r,o=t.nodeType,s=o?yt.cache:t,a=o?t[yt.expando]:yt.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){yt.isArray(e)?e=e.concat(yt.map(e,yt.camelCase)):e in i?e=[e]:(e=yt.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!p(i):!yt.isEmptyObject(i))return}(n||(delete s[a].data,p(s[a])))&&(o?yt.cleanData([t],!0):bt.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function m(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return yt.css(t,e,"")},u=a(),l=n&&n[3]||(yt.cssNumber[e]?"":"px"),c=(yt.cssNumber[e]||"px"!==l&&+u)&&Gt.exec(yt.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,yt.style(t,e,c+l);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function y(t){var e=qt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||yt.nodeName(i,e)?o.push(i):yt.merge(o,v(i,e));return void 0===e||e&&yt.nodeName(t,e)?yt.merge([t],o):o}function g(t,e){for(var n,i=0;null!=(n=t[i]);i++)yt._data(n,"globalEval",!e||yt._data(e[i],"globalEval"))}function _(t){Ht.test(t.type)&&(t.defaultChecked=t.checked)}function x(t,e,n,i,r){for(var o,s,a,u,l,c,h,f=t.length,p=y(e),d=[],b=0;b<f;b++)if(s=t[b],s||0===s)if("object"===yt.type(s))yt.merge(d,s.nodeType?[s]:s);else if(Kt.test(s)){for(u=u||p.appendChild(e.createElement("div")),l=(Yt.exec(s)||["",""])[1].toLowerCase(),h=Zt[l]||Zt._default,u.innerHTML=h[1]+yt.htmlPrefilter(s)+h[2],o=h[0];o--;)u=u.lastChild;if(!bt.leadingWhitespace&&Xt.test(s)&&d.push(e.createTextNode(Xt.exec(s)[0])),!bt.tbody)for(s="table"!==l||Jt.test(s)?"<table>"!==h[1]||Jt.test(s)?0:u:u.firstChild,o=s&&s.childNodes.length;o--;)yt.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(yt.merge(d,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=p.lastChild}else d.push(e.createTextNode(s));for(u&&p.removeChild(u),bt.appendChecked||yt.grep(v(d,"input"),_),b=0;s=d[b++];)if(i&&yt.inArray(s,i)>-1)r&&r.push(s);else if(a=yt.contains(s.ownerDocument,s),u=v(p.appendChild(s),"script"),a&&g(u),n)for(o=0;s=u[o++];)zt.test(s.type||"")&&n.push(s);return u=null,p}function w(){return!0}function S(){return!1}function E(){try{return at.activeElement}catch(t){}}function T(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)T(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=S;else if(!r)return t;return 1===o&&(s=r,r=function(t){return yt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=yt.guid++)),t.each(function(){yt.event.add(this,e,r,i,n)})}function P(t,e){return yt.nodeName(t,"table")&&yt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function M(t){return t.type=(null!==yt.find.attr(t,"type"))+"/"+t.type,t}function O(t){var e=ue.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function A(t,e){if(1===e.nodeType&&yt.hasData(t)){var n,i,r,o=yt._data(t),s=yt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;i<r;i++)yt.event.add(e,n,a[n][i])}s.data&&(s.data=yt.extend({},s.data))}}function C(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!bt.noCloneEvent&&e[yt.expando]){r=yt._data(e);for(i in r.events)yt.removeEvent(e,i,r.handle);e.removeAttribute(yt.expando)}"script"===n&&e.text!==t.text?(M(e).text=t.text,O(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),bt.html5Clone&&t.innerHTML&&!yt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ht.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function k(t,e,n,i){e=lt.apply([],e);var r,o,s,a,u,l,c=0,h=t.length,f=h-1,p=e[0],d=yt.isFunction(p);if(d||h>1&&"string"==typeof p&&!bt.checkClone&&ae.test(p))return t.each(function(r){var o=t.eq(r);d&&(e[0]=p.call(this,r,o.html())),k(o,e,n,i)});if(h&&(l=x(e,t[0].ownerDocument,!1,t,i),r=l.firstChild,1===l.childNodes.length&&(l=r),r||i)){for(a=yt.map(v(l,"script"),M),s=a.length;c<h;c++)o=l,c!==f&&(o=yt.clone(o,!0,!0),s&&yt.merge(a,v(o,"script"))),n.call(t[c],o,c);if(s)for(u=a[a.length-1].ownerDocument,yt.map(a,O),c=0;c<s;c++)o=a[c],zt.test(o.type||"")&&!yt._data(o,"globalEval")&&yt.contains(u,o)&&(o.src?yt._evalUrl&&yt._evalUrl(o.src):yt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(le,"")));l=r=null}return t}function R(t,e,n){for(var i,r=e?yt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||yt.cleanData(v(i)),i.parentNode&&(n&&yt.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i));return t}function I(t,e){var n=yt(e.createElement(t)).appendTo(e.body),i=yt.css(n[0],"display");return n.detach(),i}function N(t){var e=at,n=pe[t];return n||(n=I(t,e),"none"!==n&&n||(fe=(fe||yt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(fe[0].contentWindow||fe[0].contentDocument).document,e.write(),e.close(),n=I(t,e),fe.detach()),pe[t]=n),n}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function F(t){if(t in Oe)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Me.length;n--;)if(t=Me[n]+e,t in Oe)return t}function B(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)i=t[s],i.style&&(o[s]=yt._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ut(i)&&(o[s]=yt._data(i,"olddisplay",N(i.nodeName)))):(r=Ut(i),(n&&"none"!==n||!r)&&yt._data(i,"olddisplay",r?n:yt.css(i,"display"))));for(s=0;s<a;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function D(t,e,n){var i=Ee.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function j(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=yt.css(t,n+Vt[o],!0,r)),i?("content"===n&&(s-=yt.css(t,"padding"+Vt[o],!0,r)),"margin"!==n&&(s-=yt.css(t,"border"+Vt[o]+"Width",!0,r))):(s+=yt.css(t,"padding"+Vt[o],!0,r),"padding"!==n&&(s+=yt.css(t,"border"+Vt[o]+"Width",!0,r)));return s}function G(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=ve(t),s=bt.boxSizing&&"border-box"===yt.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(r=ge(t,e,o),(r<0||null==r)&&(r=t.style[e]),be.test(r))return r;i=s&&(bt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+j(t,e,n||(s?"border":"content"),i,o)+"px"}function V(t,e,n,i,r){return new V.prototype.init(t,e,n,i,r)}function U(){return n.setTimeout(function(){Ae=void 0}),Ae=yt.now()}function W(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)n=Vt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function H(t,e,n){for(var i,r=(X.tweeners[e]||[]).concat(X.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function Y(t,e,n){var i,r,o,s,a,u,l,c,h=this,f={},p=t.style,d=t.nodeType&&Ut(t),b=yt._data(t,"fxshow");n.queue||(a=yt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,yt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=yt.css(t,"display"),c="none"===l?yt._data(t,"olddisplay")||N(t.nodeName):l,"inline"===c&&"none"===yt.css(t,"float")&&(bt.inlineBlockNeedsLayout&&"inline"!==N(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",bt.shrinkWrapBlocks()||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ke.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!b||void 0===b[i])continue;d=!0}f[i]=b&&b[i]||yt.style(t,i)}else l=void 0;if(yt.isEmptyObject(f))"inline"===("none"===l?N(t.nodeName):l)&&(p.display=l);else{b?"hidden"in b&&(d=b.hidden):b=yt._data(t,"fxshow",{}),o&&(b.hidden=!d),d?yt(t).show():h.done(function(){yt(t).hide()}),h.done(function(){var e;yt._removeData(t,"fxshow");for(e in f)yt.style(t,e,f[e])});for(i in f)s=H(d?b[i]:0,i,h),i in b||(b[i]=s.start,d&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function z(t,e){var n,i,r,o,s;for(n in t)if(i=yt.camelCase(n),r=e[i],o=t[n],yt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=yt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function X(t,e,n){var i,r,o=0,s=X.prefilters.length,a=yt.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=Ae||U(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),o<1&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:yt.extend({},e),opts:yt.extend(!0,{specialEasing:{},easing:yt.easing._default},n),originalProperties:e,originalOptions:n,startTime:Ae||U(),duration:n.duration,tweens:[],createTween:function(e,n){var i=yt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(a.notifyWith(t,[l,1,0]),a.resolveWith(t,[l,e])):a.rejectWith(t,[l,e]),this}}),c=l.props;for(z(c,l.opts.specialEasing);o<s;o++)if(i=X.prefilters[o].call(l,t,c,l.opts))return yt.isFunction(i.stop)&&(yt._queueHooks(l.elem,l.opts.queue).stop=yt.proxy(i.stop,i)),i;return yt.map(c,H,l),yt.isFunction(l.opts.start)&&l.opts.start.call(t,l),yt.fx.timer(yt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(t){return yt.attr(t,"class")||""}function Z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(It)||[];if(yt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function K(t,e,n,i){function r(a){var u;return o[a]=!0,yt.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},s=t===nn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function J(t,e){var n,i,r=yt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&yt.extend(!0,t,n),t}function Q(t,e,n){for(var i,r,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){u.unshift(s);break}if(u[0]in n)o=u[0];else{for(s in n){if(!u[0]||t.converters[s+" "+u[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==u[0]&&u.unshift(o),n[o]}function $(t,e,n,i){var r,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function tt(t){return t.style&&t.style.display||yt.css(t,"display")}function et(t){if(!yt.contains(t.ownerDocument||at,t))return!0;for(;t&&1===t.nodeType;){if("none"===tt(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function nt(t,e,n,i){var r;if(yt.isArray(e))yt.each(e,function(e,r){n||un.test(t)?i(t,r):nt(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==yt.type(e))i(t,e);else for(r in e)nt(t+"["+r+"]",e[r],n,i)}function it(){try{return new n.XMLHttpRequest}catch(t){}}function rt(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ot(t){return yt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var st=[],at=n.document,ut=st.slice,lt=st.concat,ct=st.push,ht=st.indexOf,ft={},pt=ft.toString,dt=ft.hasOwnProperty,bt={},mt="1.12.4",yt=function(t,e){return new yt.fn.init(t,e)},vt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,_t=/-([\da-z])/gi,xt=function(t,e){return e.toUpperCase()};yt.fn=yt.prototype={jquery:mt,constructor:yt,selector:"",length:0,toArray:function(){return ut.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ut.call(this)},pushStack:function(t){var e=yt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return yt.each(this,t)},map:function(t){return this.pushStack(yt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:st.sort,splice:st.splice},yt.extend=yt.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||yt.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(l&&n&&(yt.isPlainObject(n)||(e=yt.isArray(n)))?(e?(e=!1,o=t&&yt.isArray(t)?t:[]):o=t&&yt.isPlainObject(t)?t:{},s[i]=yt.extend(l,o,n)):void 0!==n&&(s[i]=n));return s},yt.extend({expando:"jQuery"+(mt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===yt.type(t)},isArray:Array.isArray||function(t){return"array"===yt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!yt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==yt.type(t)||t.nodeType||yt.isWindow(t))return!1;try{if(t.constructor&&!dt.call(t,"constructor")&&!dt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!bt.ownFirst)for(e in t)return dt.call(t,e);for(e in t);return void 0===e||dt.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[pt.call(t)]||"object":typeof t},globalEval:function(t){t&&yt.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(_t,xt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(vt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?yt.merge(n,"string"==typeof t?[t]:t):ct.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(ht)return ht.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;o<s;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)r=e(t[o],o,n),null!=r&&a.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&a.push(r);return lt.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(r=t[e],e=t,t=r),yt.isFunction(t))return n=ut.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ut.call(arguments)))},i.guid=t.guid=t.guid||yt.guid++,i},now:function(){return+new Date},support:bt}),"function"==typeof Symbol&&(yt.fn[Symbol.iterator]=st[Symbol.iterator]),yt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var wt=function(t){function e(t,e,n,i){var r,o,s,a,u,l,h,p,d=e&&e.ownerDocument,b=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return n;if(!i&&((e?e.ownerDocument||e:G)!==R&&k(e),e=e||R,N)){if(11!==b&&(l=yt.exec(t)))if(r=l[1]){if(9===b){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(d&&(s=d.getElementById(r))&&D(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!Y[t+" "]&&(!L||!L.test(t))){if(1!==b)d=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(gt,"\\$&"):e.setAttribute("id",a=j),h=T(t),o=h.length,u=ft.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=u+" "+f(h[o]);p=h.join(","),d=vt.test(t)&&c(e.parentNode)||e}if(p)try{return Q.apply(n,d.querySelectorAll(p)),n}catch(t){}finally{a===j&&e.removeAttribute("id")}}}return M(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function r(t){var e=R.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=U++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,u,l,c=[V,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[j]||(e[j]={}),u=l[e.uniqueID]||(l[e.uniqueID]={}),(a=u[i])&&a[0]===V&&a[1]===o)return c[2]=a[2];if(u[i]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function b(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),l&&e.push(a)));return s}function y(t,e,n,r,o,s){return r&&!r[j]&&(r=y(r)),o&&!o[j]&&(o=y(o,s)),i(function(i,s,a,u){var l,c,h,f=[],p=[],d=s.length,y=i||b(e||"*",a.nodeType?[a]:a,[]),v=!t||!i&&e?y:m(y,f,t,a,u),g=n?o||(i?t:d||r)?[]:s:v;if(n&&n(v,g,a,u),r)for(l=m(g,p),r(l,[],a,u),c=l.length;c--;)(h=l[c])&&(g[p[c]]=!(v[p[c]]=h));if(i){if(o||t){if(o){for(l=[],c=g.length;c--;)(h=g[c])&&l.push(v[c]=h);o(null,g=[],l,u)}for(c=g.length;c--;)(h=g[c])&&(l=o?tt(i,h):f[c])>-1&&(i[l]=!(s[l]=h))}}else g=m(g===s?g.splice(d,g.length):g),o?o(null,s,g,u):Q.apply(s,g)})}function v(t){for(var e,n,i,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),l=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==O)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];a<r;a++)if(n=w.relative[t[a].type])c=[p(d(c),n)];else{if(n=w.filter[t[a].type].apply(null,t[a].matches),n[j]){for(i=++a;i<r&&!w.relative[t[i].type];i++);return y(a>1&&d(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&v(t.slice(a,i)),i<r&&v(t=t.slice(i)),i<r&&f(t))}c.push(n)}return d(c)}function g(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,u,l){var c,h,f,p=0,d="0",b=i&&[],y=[],v=O,g=i||o&&w.find.TAG("*",l),_=V+=null==v?1:Math.random()||.1,x=g.length;for(l&&(O=s===R||s||l);d!==x&&null!=(c=g[d]);d++){if(o&&c){for(h=0,s||c.ownerDocument===R||(k(c),a=!N);f=t[h++];)if(f(c,s||R,a)){u.push(c);break}l&&(V=_)}r&&((c=!f&&c)&&p--,i&&b.push(c))}if(p+=d,r&&d!==p){for(h=0;f=n[h++];)f(b,y,s,a);if(i){if(p>0)for(;d--;)b[d]||y[d]||(y[d]=K.call(u));y=m(y)}Q.apply(u,y),l&&!i&&y.length>0&&p+n.length>1&&e.uniqueSort(u)}return l&&(V=_,O=v),b};return r?i(s):s}var _,x,w,S,E,T,P,M,O,A,C,k,R,I,N,L,F,B,D,j="sizzle"+1*new Date,G=t.document,V=0,U=0,W=n(),H=n(),Y=n(),z=function(t,e){return t===e&&(C=!0),0},X=1<<31,q={}.hasOwnProperty,Z=[],K=Z.pop,J=Z.push,Q=Z.push,$=Z.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+it+"$"),pt={
ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,gt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=function(){k()};try{Q.apply(Z=$.call(G.childNodes),G.childNodes),Z[G.childNodes.length].nodeType}catch(t){Q={apply:Z.length?function(t,e){J.apply(t,$.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},k=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:G;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,I=R.documentElement,N=!E(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(R.getElementsByClassName),x.getById=r(function(t){return I.appendChild(t).id=j,!R.getElementsByName||!R.getElementsByName(j).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(_t,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},F=[],L=[],(x.qsa=mt.test(R.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||L.push(".#.+[+~]")}),r(function(t){var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=mt.test(B=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){x.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),F.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),F=F.length&&new RegExp(F.join("|")),e=mt.test(I.compareDocumentPosition),D=e||mt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return C=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===G&&D(G,t)?-1:e===R||e.ownerDocument===G&&D(G,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return C=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!r||!o)return t===R?-1:e===R?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[i]===u[i];)i++;return i?s(a[i],u[i]):a[i]===G?-1:u[i]===G?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&k(t),n=n.replace(ct,"='$1']"),x.matchesSelector&&N&&!Y[n+" "]&&(!F||!F.test(n))&&(!L||!L.test(n)))try{var i=B.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&k(t),D(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&k(t);var n=w.attrHandle[e.toLowerCase()],i=n&&q.call(w.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:x.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(C=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(z),C){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},S=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},w=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,p,d,b=o!==s?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!u&&!a,g=!1;if(m){if(o){for(;b;){for(f=e;f=f[b];)if(a?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;d=b="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&v){for(f=m,h=f[j]||(f[j]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],p=l[0]===V&&l[1],g=p&&l[2],f=p&&m.childNodes[p];f=++p&&f&&f[b]||(g=p=0)||d.pop();)if(1===f.nodeType&&++g&&f===e){c[t]=[V,p,g];break}}else if(v&&(f=e,h=f[j]||(f[j]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),l=c[t]||[],p=l[0]===V&&l[1],g=p),g===!1)for(;(f=++p&&f&&f[b]||(g=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++g||(v&&(h=f[j]||(f[j]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[V,g]),f!==e)););return g-=r,g===i||g%i===0&&g/i>=0}}},PSEUDO:function(t,n){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[j]?o(n):o.length>1?(r=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=P(t.replace(at,"$1"));return r[j]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,xt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,xt).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return bt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},w.pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=u(_);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,T=e.tokenize=function(t,n){var i,r,o,s,a,u,l,c=H[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=w.preFilter;a;){i&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),i=!1,(r=lt.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in w.filter)!(r=pt[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):H(t,u).slice(0)},P=e.compile=function(t,e){var n,i=[],r=[],o=Y[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=v(e[n]),o[j]?i.push(o):r.push(o);o=Y(t,g(r,i)),o.selector=t}return o},M=e.select=function(t,e,n,i){var r,o,s,a,u,l="function"==typeof t&&t,h=!i&&T(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&N&&w.relative[o[1].type]){if(e=(w.find.ID(s.matches[0].replace(_t,xt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((u=w.find[a])&&(i=u(s.matches[0].replace(_t,xt),vt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&f(o),!t)return Q.apply(n,i),n;break}}return(l||P(t,h))(i,e,!N,n,!e||vt.test(t)&&c(e.parentNode)||e),n},x.sortStable=j.split("").sort(z).join("")===j,x.detectDuplicates=!!C,k(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);yt.find=wt,yt.expr=wt.selectors,yt.expr[":"]=yt.expr.pseudos,yt.uniqueSort=yt.unique=wt.uniqueSort,yt.text=wt.getText,yt.isXMLDoc=wt.isXML,yt.contains=wt.contains;var St=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&yt(t).is(n))break;i.push(t)}return i},Et=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Tt=yt.expr.match.needsContext,Pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Mt=/^.[^:#\[\.,]*$/;yt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?yt.find.matchesSelector(i,t)?[i]:[]:yt.find.matches(t,yt.grep(e,function(t){return 1===t.nodeType}))},yt.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(yt(t).filter(function(){for(e=0;e<r;e++)if(yt.contains(i[e],this))return!0}));for(e=0;e<r;e++)yt.find(t,i[e],n);return n=this.pushStack(r>1?yt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&Tt.test(t)?yt(t):t||[],!1).length}});var Ot,At=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ct=yt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Ot,"string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:At.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof yt?e[0]:e,yt.merge(this,yt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),Pt.test(i[1])&&yt.isPlainObject(e))for(i in e)yt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(r=at.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return Ot.find(t);this.length=1,this[0]=r}return this.context=at,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):yt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(yt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),yt.makeArray(t,this))};Ct.prototype=yt.fn,Ot=yt(at);var kt=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};yt.fn.extend({has:function(t){var e,n=yt(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(yt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=Tt.test(t)||"string"!=typeof t?yt(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&yt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?yt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?yt.inArray(this[0],yt(t)):yt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(yt.uniqueSort(yt.merge(this.get(),yt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),yt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return St(t,"parentNode")},parentsUntil:function(t,e,n){return St(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return St(t,"nextSibling")},prevAll:function(t){return St(t,"previousSibling")},nextUntil:function(t,e,n){return St(t,"nextSibling",n)},prevUntil:function(t,e,n){return St(t,"previousSibling",n)},siblings:function(t){return Et((t.parentNode||{}).firstChild,t)},children:function(t){return Et(t.firstChild)},contents:function(t){return yt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:yt.merge([],t.childNodes)}},function(t,e){yt.fn[t]=function(n,i){var r=yt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=yt.filter(i,r)),this.length>1&&(Rt[t]||(r=yt.uniqueSort(r)),kt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var It=/\S+/g;yt.Callbacks=function(t){t="string"==typeof t?l(t):yt.extend({},t);var e,n,i,r,o=[],s=[],a=-1,u=function(){for(r=t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){yt.each(n,function(n,i){yt.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==yt.type(i)&&e(i)})}(arguments),n&&!e&&u()),this},remove:function(){return yt.each(arguments,function(t,e){for(var n;(n=yt.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?yt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=!0,n||c.disable(),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},yt.extend({Deferred:function(t){var e=[["resolve","done",yt.Callbacks("once memory"),"resolved"],["reject","fail",yt.Callbacks("once memory"),"rejected"],["notify","progress",yt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return yt.Deferred(function(n){yt.each(e,function(e,o){var s=yt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&yt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?yt.extend(t,i):i}},r={};return i.pipe=i.then,yt.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=ut.call(arguments),s=o.length,a=1!==s||t&&yt.isFunction(t.promise)?s:0,u=1===a?t:yt.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?ut.call(arguments):r,i===e?u.notifyWith(n,i):--a||u.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&yt.isFunction(o[r].promise)?o[r].promise().progress(l(r,n,e)).done(l(r,i,o)).fail(u.reject):--a;return a||u.resolveWith(i,o),u.promise()}});var Nt;yt.fn.ready=function(t){return yt.ready.promise().done(t),this},yt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?yt.readyWait++:yt.ready(!0)},ready:function(t){(t===!0?--yt.readyWait:yt.isReady)||(yt.isReady=!0,t!==!0&&--yt.readyWait>0||(Nt.resolveWith(at,[yt]),yt.fn.triggerHandler&&(yt(at).triggerHandler("ready"),yt(at).off("ready"))))}}),yt.ready.promise=function(t){if(!Nt)if(Nt=yt.Deferred(),"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll)n.setTimeout(yt.ready);else if(at.addEventListener)at.addEventListener("DOMContentLoaded",h),n.addEventListener("load",h);else{at.attachEvent("onreadystatechange",h),n.attachEvent("onload",h);var e=!1;try{e=null==n.frameElement&&at.documentElement}catch(t){}e&&e.doScroll&&!function t(){if(!yt.isReady){try{e.doScroll("left")}catch(e){return n.setTimeout(t,50)}c(),yt.ready()}}()}return Nt.promise(t)},yt.ready.promise();var Lt;for(Lt in yt(bt))break;bt.ownFirst="0"===Lt,bt.inlineBlockNeedsLayout=!1,yt(function(){var t,e,n,i;n=at.getElementsByTagName("body")[0],n&&n.style&&(e=at.createElement("div"),i=at.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",bt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=at.createElement("div");bt.deleteExpando=!0;try{delete t.test}catch(t){bt.deleteExpando=!1}t=null}();var Ft=function(t){var e=yt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||e!==!0&&t.getAttribute("classid")===e)},Bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/([A-Z])/g;yt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?yt.cache[t[yt.expando]]:t[yt.expando],!!t&&!p(t)},data:function(t,e,n){return d(t,e,n)},removeData:function(t,e){return b(t,e)},_data:function(t,e,n){return d(t,e,n,!0)},_removeData:function(t,e){return b(t,e,!0)}}),yt.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=yt.data(o),1===o.nodeType&&!yt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=yt.camelCase(i.slice(5)),f(o,i,r[i])));yt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){yt.data(this,t)}):arguments.length>1?this.each(function(){yt.data(this,t,e)}):o?f(o,t,yt.data(o,t)):void 0},removeData:function(t){return this.each(function(){yt.removeData(this,t)})}}),yt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=yt._data(t,e),n&&(!i||yt.isArray(n)?i=yt._data(t,e,yt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=yt.queue(t,e),i=n.length,r=n.shift(),o=yt._queueHooks(t,e),s=function(){yt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return yt._data(t,n)||yt._data(t,n,{empty:yt.Callbacks("once memory").add(function(){yt._removeData(t,e+"queue"),yt._removeData(t,n)})})}}),yt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?yt.queue(this[0],t):void 0===e?this:this.each(function(){var n=yt.queue(this,t,e);yt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&yt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){yt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=yt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=yt._data(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}}),function(){var t;bt.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=at.getElementsByTagName("body")[0],n&&n.style?(e=at.createElement("div"),i=at.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(at.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gt=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],Ut=function(t,e){return t=e||t,"none"===yt.css(t,"display")||!yt.contains(t.ownerDocument,t)},Wt=function(t,e,n,i,r,o,s){var a=0,u=t.length,l=null==n;if("object"===yt.type(n)){r=!0;for(a in n)Wt(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,yt.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(yt(t),n)})),e))for(;a<u;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):u?e(t[0],n):o},Ht=/^(?:checkbox|radio)$/i,Yt=/<([\w:-]+)/,zt=/^$|\/(?:java|ecma)script/i,Xt=/^\s+/,qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=at.createElement("div"),e=at.createDocumentFragment(),n=at.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",bt.leadingWhitespace=3===t.firstChild.nodeType,bt.tbody=!t.getElementsByTagName("tbody").length,bt.htmlSerialize=!!t.getElementsByTagName("link").length,bt.html5Clone="<:nav></:nav>"!==at.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),bt.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",bt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=at.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),bt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,bt.noCloneEvent=!!t.addEventListener,t[yt.expando]=1,bt.attributes=!t.getAttribute(yt.expando)}();var Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td;var Kt=/<|&#?\w+;/,Jt=/<tbody/i;!function(){var t,e,i=at.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(bt[t]=e in n)||(i.setAttribute(e,"t"),bt[t]=i.attributes[e].expando===!1);i=null}();var Qt=/^(?:input|select|textarea)$/i,$t=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^(?:focusinfocus|focusoutblur)$/,ne=/^([^.]*)(?:\.(.+)|)/;yt.event={global:{},add:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,p,d,b,m=yt._data(t);if(m){for(n.handler&&(u=n,n=u.handler,r=u.selector),n.guid||(n.guid=yt.guid++),(s=m.events)||(s=m.events={}),(c=m.handle)||(c=m.handle=function(t){return"undefined"==typeof yt||t&&yt.event.triggered===t.type?void 0:yt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(It)||[""],a=e.length;a--;)o=ne.exec(e[a])||[],p=b=o[1],d=(o[2]||"").split(".").sort(),p&&(l=yt.event.special[p]||{},p=(r?l.delegateType:l.bindType)||p,l=yt.event.special[p]||{},h=yt.extend({type:p,origType:b,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&yt.expr.match.needsContext.test(r),namespace:d.join(".")},u),(f=s[p])||(f=s[p]=[],f.delegateCount=0,l.setup&&l.setup.call(t,i,d,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),yt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,u,l,c,h,f,p,d,b,m=yt.hasData(t)&&yt._data(t);if(m&&(c=m.events)){for(e=(e||"").match(It)||[""],l=e.length;l--;)if(a=ne.exec(e[l])||[],p=b=a[1],d=(a[2]||"").split(".").sort(),p){for(h=yt.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,f=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)s=f[o],!r&&b!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(f.splice(o,1),s.selector&&f.delegateCount--,h.remove&&h.remove.call(t,s));u&&!f.length&&(h.teardown&&h.teardown.call(t,d,m.handle)!==!1||yt.removeEvent(t,p,m.handle),delete c[p])}else for(p in c)yt.event.remove(t,p+e[l],n,i,!0);yt.isEmptyObject(c)&&(delete m.handle,yt._removeData(t,"events"))}},trigger:function(t,e,i,r){var o,s,a,u,l,c,h,f=[i||at],p=dt.call(t,"type")?t.type:t,d=dt.call(t,"namespace")?t.namespace.split("."):[];if(a=c=i=i||at,3!==i.nodeType&&8!==i.nodeType&&!ee.test(p+yt.event.triggered)&&(p.indexOf(".")>-1&&(d=p.split("."),p=d.shift(),d.sort()),s=p.indexOf(":")<0&&"on"+p,t=t[yt.expando]?t:new yt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:yt.makeArray(e,[t]),l=yt.event.special[p]||{},r||!l.trigger||l.trigger.apply(i,e)!==!1)){if(!r&&!l.noBubble&&!yt.isWindow(i)){for(u=l.delegateType||p,ee.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),c=a;c===(i.ownerDocument||at)&&f.push(c.defaultView||c.parentWindow||n)}for(h=0;(a=f[h++])&&!t.isPropagationStopped();)t.type=h>1?u:l.bindType||p,o=(yt._data(a,"events")||{})[t.type]&&yt._data(a,"handle"),o&&o.apply(a,e),o=s&&a[s],o&&o.apply&&Ft(a)&&(t.result=o.apply(a,e),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),e)===!1)&&Ft(i)&&s&&i[p]&&!yt.isWindow(i)){c=i[s],c&&(i[s]=null),yt.event.triggered=p;try{i[p]()}catch(t){}yt.event.triggered=void 0,c&&(i[s]=c)}return t.result}},dispatch:function(t){t=yt.event.fix(t);var e,n,i,r,o,s=[],a=ut.call(arguments),u=(yt._data(this,"events")||{})[t.type]||[],l=yt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=yt.event.handlers.call(this,t,u),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((yt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(i=[],n=0;n<a;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?yt(r,this).index(u)>-1:yt.find(r,this,null,[u]).length),i[r]&&i.push(o);i.length&&s.push({elem:u,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[yt.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=te.test(r)?this.mouseHooks:$t.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new yt.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||at),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||at,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),
t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==E()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(yt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return yt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=yt.extend(new yt.Event,n,{type:t,isSimulated:!0});yt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},yt.removeEvent=at.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},yt.Event=function(t,e){return this instanceof yt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?w:S):this.type=t,e&&yt.extend(this,e),this.timeStamp=t&&t.timeStamp||yt.now(),void(this[yt.expando]=!0)):new yt.Event(t,e)},yt.Event.prototype={constructor:yt.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=w,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=w,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=w,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},yt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){yt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||yt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),bt.submit||(yt.event.special.submit={setup:function(){return!yt.nodeName(this,"form")&&void yt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=yt.nodeName(e,"input")||yt.nodeName(e,"button")?yt.prop(e,"form"):void 0;n&&!yt._data(n,"submit")&&(yt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),yt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&yt.event.simulate("submit",this.parentNode,t))},teardown:function(){return!yt.nodeName(this,"form")&&void yt.event.remove(this,"._submit")}}),bt.change||(yt.event.special.change={setup:function(){return Qt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(yt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),yt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),yt.event.simulate("change",this,t)})),!1):void yt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Qt.test(e.nodeName)&&!yt._data(e,"change")&&(yt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||yt.event.simulate("change",this.parentNode,t)}),yt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return yt.event.remove(this,"._change"),!Qt.test(this.nodeName)}}),bt.focusin||yt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){yt.event.simulate(e,t.target,yt.event.fix(t))};yt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=yt._data(i,e);r||i.addEventListener(t,n,!0),yt._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=yt._data(i,e)-1;r?yt._data(i,e,r):(i.removeEventListener(t,n,!0),yt._removeData(i,e))}}}),yt.fn.extend({on:function(t,e,n,i){return T(this,t,e,n,i)},one:function(t,e,n,i){return T(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,yt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=S),this.each(function(){yt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){yt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return yt.event.trigger(t,e,n,!0)}});var ie=/ jQuery\d+="(?:null|\d+)"/g,re=new RegExp("<(?:"+qt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,se=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,ue=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=y(at),he=ce.appendChild(at.createElement("div"));yt.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,u=yt.contains(t.ownerDocument,t);if(bt.html5Clone||yt.isXMLDoc(t)||!re.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(he.innerHTML=t.outerHTML,he.removeChild(o=he.firstChild)),!(bt.noCloneEvent&&bt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||yt.isXMLDoc(t)))for(i=v(o),a=v(t),s=0;null!=(r=a[s]);++s)i[s]&&C(r,i[s]);if(e)if(n)for(a=a||v(t),i=i||v(o),s=0;null!=(r=a[s]);s++)A(r,i[s]);else A(t,o);return i=v(o,"script"),i.length>0&&g(i,!u&&v(t,"script")),i=a=r=null,o},cleanData:function(t,e){for(var n,i,r,o,s=0,a=yt.expando,u=yt.cache,l=bt.attributes,c=yt.event.special;null!=(n=t[s]);s++)if((e||Ft(n))&&(r=n[a],o=r&&u[r])){if(o.events)for(i in o.events)c[i]?yt.event.remove(n,i):yt.removeEvent(n,i,o.handle);u[r]&&(delete u[r],l||"undefined"==typeof n.removeAttribute?n[a]=void 0:n.removeAttribute(a),st.push(r))}}}),yt.fn.extend({domManip:k,detach:function(t){return R(this,t,!0)},remove:function(t){return R(this,t)},text:function(t){return Wt(this,function(t){return void 0===t?yt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||at).createTextNode(t))},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=P(this,t);e.appendChild(t)}})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=P(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&yt.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&yt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return yt.clone(this,t,e)})},html:function(t){return Wt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(ie,""):void 0;if("string"==typeof t&&!se.test(t)&&(bt.htmlSerialize||!re.test(t))&&(bt.leadingWhitespace||!Xt.test(t))&&!Zt[(Yt.exec(t)||["",""])[1].toLowerCase()]){t=yt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(yt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,function(e){var n=this.parentNode;yt.inArray(this,t)<0&&(yt.cleanData(v(this)),n&&n.replaceChild(e,this))},t)}}),yt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){yt.fn[t]=function(t){for(var n,i=0,r=[],o=yt(t),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),yt(o[i])[e](n),ct.apply(r,n.get());return this.pushStack(r)}});var fe,pe={HTML:"block",BODY:"block"},de=/^margin/,be=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),me=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},ye=at.documentElement;!function(){function t(){var t,c,h=at.documentElement;h.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",e=r=a=!1,i=s=!0,n.getComputedStyle&&(c=n.getComputedStyle(l),e="1%"!==(c||{}).top,a="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,t=l.appendChild(at.createElement("div")),t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",s=!parseFloat((n.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",o=0===l.getClientRects().length,o&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse="separate",t=l.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),h.removeChild(u)}var e,i,r,o,s,a,u=at.createElement("div"),l=at.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",bt.opacity="0.5"===l.style.opacity,bt.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",bt.clearCloneStyle="content-box"===l.style.backgroundClip,u=at.createElement("div"),u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),bt.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,yt.extend(bt,{reliableHiddenOffsets:function(){return null==e&&t(),o},boxSizingReliable:function(){return null==e&&t(),r},pixelMarginRight:function(){return null==e&&t(),i},pixelPosition:function(){return null==e&&t(),e},reliableMarginRight:function(){return null==e&&t(),s},reliableMarginLeft:function(){return null==e&&t(),a}}))}();var ve,ge,_e=/^(top|right|bottom|left)$/;n.getComputedStyle?(ve=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},ge=function(t,e,n){var i,r,o,s,a=t.style;return n=n||ve(t),s=n?n.getPropertyValue(e)||n[e]:void 0,""!==s&&void 0!==s||yt.contains(t.ownerDocument,t)||(s=yt.style(t,e)),n&&!bt.pixelMarginRight()&&be.test(s)&&de.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),void 0===s?s:s+""}):ye.currentStyle&&(ve=function(t){return t.currentStyle},ge=function(t,e,n){var i,r,o,s,a=t.style;return n=n||ve(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),be.test(s)&&!_e.test(e)&&(i=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var xe=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,Se=/^(none|table(?!-c[ea]).+)/,Ee=new RegExp("^("+jt+")(.*)$","i"),Te={position:"absolute",visibility:"hidden",display:"block"},Pe={letterSpacing:"0",fontWeight:"400"},Me=["Webkit","O","Moz","ms"],Oe=at.createElement("div").style;yt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ge(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:bt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=yt.camelCase(e),u=t.style;if(e=yt.cssProps[a]||(yt.cssProps[a]=F(a)||a),s=yt.cssHooks[e]||yt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];if(o=typeof n,"string"===o&&(r=Gt.exec(n))&&r[1]&&(n=m(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(yt.cssNumber[a]?"":"px")),bt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{u[e]=n}catch(t){}}},css:function(t,e,n,i){var r,o,s,a=yt.camelCase(e);return e=yt.cssProps[a]||(yt.cssProps[a]=F(a)||a),s=yt.cssHooks[e]||yt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=ge(t,e,i)),"normal"===o&&e in Pe&&(o=Pe[e]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),yt.each(["height","width"],function(t,e){yt.cssHooks[e]={get:function(t,n,i){if(n)return Se.test(yt.css(t,"display"))&&0===t.offsetWidth?me(t,Te,function(){return G(t,e,i)}):G(t,e,i)},set:function(t,n,i){var r=i&&ve(t);return D(t,n,i?j(t,e,i,bt.boxSizing&&"border-box"===yt.css(t,"boxSizing",!1,r),r):0)}}}),bt.opacity||(yt.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=yt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===yt.trim(o.replace(xe,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=xe.test(o)?o.replace(xe,r):o+" "+r)}}),yt.cssHooks.marginRight=L(bt.reliableMarginRight,function(t,e){if(e)return me(t,{display:"inline-block"},ge,[t,"marginRight"])}),yt.cssHooks.marginLeft=L(bt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ge(t,"marginLeft"))||(yt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-me(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),yt.each({margin:"",padding:"",border:"Width"},function(t,e){yt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Vt[i]+e]=o[i]||o[i-2]||o[0];return r}},de.test(t)||(yt.cssHooks[t+e].set=D)}),yt.fn.extend({css:function(t,e){return Wt(this,function(t,e,n){var i,r,o={},s=0;if(yt.isArray(e)){for(i=ve(t),r=e.length;s<r;s++)o[e[s]]=yt.css(t,e[s],!1,i);return o}return void 0!==n?yt.style(t,e,n):yt.css(t,e)},t,e,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ut(this)?yt(this).show():yt(this).hide()})}}),yt.Tween=V,V.prototype={constructor:V,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||yt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(yt.cssNumber[n]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,n=V.propHooks[this.prop];return this.options.duration?this.pos=e=yt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=yt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){yt.fx.step[t.prop]?yt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[yt.cssProps[t.prop]]&&!yt.cssHooks[t.prop]?t.elem[t.prop]=t.now:yt.style(t.elem,t.prop,t.now+t.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},yt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},yt.fx=V.prototype.init,yt.fx.step={};var Ae,Ce,ke=/^(?:toggle|show|hide)$/,Re=/queueHooks$/;yt.Animation=yt.extend(X,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return m(n.elem,t,Gt.exec(e),n),n}]},tweener:function(t,e){yt.isFunction(t)?(e=t,t=["*"]):t=t.match(It);for(var n,i=0,r=t.length;i<r;i++)n=t[i],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(e)},prefilters:[Y],prefilter:function(t,e){e?X.prefilters.unshift(t):X.prefilters.push(t)}}),yt.speed=function(t,e,n){var i=t&&"object"==typeof t?yt.extend({},t):{complete:n||!n&&e||yt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!yt.isFunction(e)&&e};return i.duration=yt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in yt.fx.speeds?yt.fx.speeds[i.duration]:yt.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){yt.isFunction(i.old)&&i.old.call(this),i.queue&&yt.dequeue(this,i.queue)},i},yt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=yt.isEmptyObject(t),o=yt.speed(e,n,i),s=function(){var e=X(this,yt.extend({},t),o);(r||yt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=yt.timers,s=yt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Re.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||yt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=yt._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=yt.timers,s=i?i.length:0;for(n.finish=!0,yt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),yt.each(["toggle","show","hide"],function(t,e){var n=yt.fn[e];yt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(W(e,!0),t,i,r)}}),yt.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){yt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),yt.timers=[],yt.fx.tick=function(){var t,e=yt.timers,n=0;for(Ae=yt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||yt.fx.stop(),Ae=void 0},yt.fx.timer=function(t){yt.timers.push(t),t()?yt.fx.start():yt.timers.pop()},yt.fx.interval=13,yt.fx.start=function(){Ce||(Ce=n.setInterval(yt.fx.tick,yt.fx.interval))},yt.fx.stop=function(){n.clearInterval(Ce),Ce=null},yt.fx.speeds={slow:600,fast:200,_default:400},yt.fn.delay=function(t,e){return t=yt.fx?yt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t,e=at.createElement("input"),n=at.createElement("div"),i=at.createElement("select"),r=i.appendChild(at.createElement("option"));n=at.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",bt.getSetAttribute="t"!==n.className,bt.style=/top/.test(t.getAttribute("style")),bt.hrefNormalized="/a"===t.getAttribute("href"),bt.checkOn=!!e.value,bt.optSelected=r.selected,bt.enctype=!!at.createElement("form").enctype,i.disabled=!0,bt.optDisabled=!r.disabled,e=at.createElement("input"),e.setAttribute("value",""),bt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),bt.radioValue="t"===e.value}();var Ie=/\r/g,Ne=/[\x20\t\r\n\f]+/g;yt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=yt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,yt(this).val()):t,null==r?r="":"number"==typeof r?r+="":yt.isArray(r)&&(r=yt.map(r,function(t){return null==t?"":t+""})),e=yt.valHooks[this.type]||yt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=yt.valHooks[r.type]||yt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Ie,""):null==n?"":n)}}}),yt.extend({valHooks:{option:{get:function(t){var e=yt.find.attr(t,"value");return null!=e?e:yt.trim(yt.text(t)).replace(Ne," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,u=r<0?a:o?r:0;u<a;u++)if(n=i[u],(n.selected||u===r)&&(bt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!yt.nodeName(n.parentNode,"optgroup"))){if(e=yt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=yt.makeArray(e),s=r.length;s--;)if(i=r[s],yt.inArray(yt.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(t){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),yt.each(["radio","checkbox"],function(){yt.valHooks[this]={set:function(t,e){if(yt.isArray(e))return t.checked=yt.inArray(yt(t).val(),e)>-1}},bt.checkOn||(yt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Le,Fe,Be=yt.expr.attrHandle,De=/^(?:checked|selected)$/i,je=bt.getSetAttribute,Ge=bt.input;yt.fn.extend({attr:function(t,e){return Wt(this,yt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){yt.removeAttr(this,t)})}}),yt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?yt.prop(t,e,n):(1===o&&yt.isXMLDoc(t)||(e=e.toLowerCase(),r=yt.attrHooks[e]||(yt.expr.match.bool.test(e)?Fe:Le)),void 0!==n?null===n?void yt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=yt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!bt.radioValue&&"radio"===e&&yt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(It);if(o&&1===t.nodeType)for(;n=o[r++];)i=yt.propFix[n]||n,yt.expr.match.bool.test(n)?Ge&&je||!De.test(n)?t[i]=!1:t[yt.camelCase("default-"+n)]=t[i]=!1:yt.attr(t,n,""),t.removeAttribute(je?n:i)}}),Fe={set:function(t,e,n){return e===!1?yt.removeAttr(t,n):Ge&&je||!De.test(n)?t.setAttribute(!je&&yt.propFix[n]||n,n):t[yt.camelCase("default-"+n)]=t[n]=!0,n}},yt.each(yt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Be[e]||yt.find.attr;Ge&&je||!De.test(e)?Be[e]=function(t,e,i){var r,o;return i||(o=Be[e],Be[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Be[e]=o),r}:Be[e]=function(t,e,n){if(!n)return t[yt.camelCase("default-"+e)]?e.toLowerCase():null}}),Ge&&je||(yt.attrHooks.value={set:function(t,e,n){return yt.nodeName(t,"input")?void(t.defaultValue=e):Le&&Le.set(t,e,n)}}),je||(Le={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Be.id=Be.name=Be.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},yt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Le.set},yt.attrHooks.contenteditable={set:function(t,e,n){Le.set(t,""!==e&&e,n)}},yt.each(["width","height"],function(t,e){yt.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),bt.style||(yt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ve=/^(?:input|select|textarea|button|object)$/i,Ue=/^(?:a|area)$/i;yt.fn.extend({prop:function(t,e){return Wt(this,yt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=yt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),yt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&yt.isXMLDoc(t)||(e=yt.propFix[e]||e,r=yt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=yt.find.attr(t,"tabindex");return e?parseInt(e,10):Ve.test(t.nodeName)||Ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),bt.hrefNormalized||yt.each(["href","src"],function(t,e){yt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),bt.optSelected||(yt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),yt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){yt.propFix[this.toLowerCase()]=this}),bt.enctype||(yt.propFix.enctype="encoding");var We=/[\t\r\n\f]/g;yt.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,u=0;if(yt.isFunction(t))return this.each(function(e){yt(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(It)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(We," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=yt.trim(i),r!==a&&yt.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,u=0;if(yt.isFunction(t))return this.each(function(e){yt(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(It)||[];n=this[u++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(We," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=yt.trim(i),r!==a&&yt.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):yt.isFunction(t)?this.each(function(n){yt(this).toggleClass(t.call(this,n,q(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=yt(this),o=t.match(It)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=q(this),e&&yt._data(this,"__className__",e),yt.attr(this,"class",e||t===!1?"":yt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+q(n)+" ").replace(We," ").indexOf(e)>-1)return!0;return!1}}),yt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){yt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),yt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var He=n.location,Ye=yt.now(),ze=/\?/,Xe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;yt.parseJSON=function(t){if(n.JSON&&n.JSON.parse)return n.JSON.parse(t+"");var e,i=null,r=yt.trim(t+"");return r&&!yt.trim(r.replace(Xe,function(t,n,r,o){return e&&n&&(i=0),0===i?t:(e=r||n,i+=!o-!r,"")}))?Function("return "+r)():yt.error("Invalid JSON: "+t)},yt.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{n.DOMParser?(i=new n.DOMParser,e=i.parseFromString(t,"text/xml")):(e=new n.ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||yt.error("Invalid XML: "+t),e};var qe=/#.*$/,Ze=/([?&])_=[^&]*/,Ke=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Je=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qe=/^(?:GET|HEAD)$/,$e=/^\/\//,tn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,en={},nn={},rn="*/".concat("*"),on=He.href,sn=tn.exec(on.toLowerCase())||[];yt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:on,type:"GET",isLocal:Je.test(sn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":yt.parseJSON,"text xml":yt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?J(J(t,yt.ajaxSettings),e):J(yt.ajaxSettings,t)},ajaxPrefilter:Z(en),ajaxTransport:Z(nn),ajax:function(t,e){function i(t,e,i,r){var o,h,v,g,x,S=e;2!==_&&(_=2,u&&n.clearTimeout(u),c=void 0,a=r||"",w.readyState=t>0?4:0,o=t>=200&&t<300||304===t,i&&(g=Q(f,w,i)),g=$(f,g,w,o),o?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(yt.lastModified[s]=x),x=w.getResponseHeader("etag"),x&&(yt.etag[s]=x)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=g.state,h=g.data,v=g.error,o=!v)):(v=S,!t&&S||(S="error",t<0&&(t=0))),w.status=t,w.statusText=(e||S)+"",o?b.resolveWith(p,[h,S,w]):b.rejectWith(p,[w,S,v]),w.statusCode(y),y=void 0,l&&d.trigger(o?"ajaxSuccess":"ajaxError",[w,f,o?h:v]),m.fireWith(p,[w,S]),l&&(d.trigger("ajaxComplete",[w,f]),--yt.active||yt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,s,a,u,l,c,h,f=yt.ajaxSetup({},e),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?yt(p):yt.event,b=yt.Deferred(),m=yt.Callbacks("once memory"),y=f.statusCode||{},v={},g={},_=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!h)for(h={};e=Ke.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=g[n]=g[n]||t,v[t]=e),this},overrideMimeType:function(t){return _||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)y[e]=[y[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return c&&c.abort(e),i(0,e),this}};if(b.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||on)+"").replace(qe,"").replace($e,sn[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=yt.trim(f.dataType||"*").toLowerCase().match(It)||[""],null==f.crossDomain&&(r=tn.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===sn[1]&&r[2]===sn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(sn[3]||("http:"===sn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=yt.param(f.data,f.traditional)),K(en,f,e,w),2===_)return w;l=yt.event&&f.global,l&&0===yt.active++&&yt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Qe.test(f.type),s=f.url,f.hasContent||(f.data&&(s=f.url+=(ze.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Ze.test(s)?s.replace(Ze,"$1_="+Ye++):s+(ze.test(s)?"&":"?")+"_="+Ye++)),f.ifModified&&(yt.lastModified[s]&&w.setRequestHeader("If-Modified-Since",yt.lastModified[s]),yt.etag[s]&&w.setRequestHeader("If-None-Match",yt.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+rn+"; q=0.01":""):f.accepts["*"]);for(o in f.headers)w.setRequestHeader(o,f.headers[o]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===_))return w.abort();x="abort";for(o in{success:1,error:1,complete:1})w[o](f[o]);if(c=K(nn,f,e,w)){if(w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),
2===_)return w;f.async&&f.timeout>0&&(u=n.setTimeout(function(){w.abort("timeout")},f.timeout));try{_=1,c.send(v,i)}catch(t){if(!(_<2))throw t;i(-1,t)}}else i(-1,"No Transport");return w},getJSON:function(t,e,n){return yt.get(t,e,n,"json")},getScript:function(t,e){return yt.get(t,void 0,e,"script")}}),yt.each(["get","post"],function(t,e){yt[e]=function(t,n,i,r){return yt.isFunction(n)&&(r=r||i,i=n,n=void 0),yt.ajax(yt.extend({url:t,type:e,dataType:r,data:n,success:i},yt.isPlainObject(t)&&t))}}),yt._evalUrl=function(t){return yt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},yt.fn.extend({wrapAll:function(t){if(yt.isFunction(t))return this.each(function(e){yt(this).wrapAll(t.call(this,e))});if(this[0]){var e=yt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return yt.isFunction(t)?this.each(function(e){yt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=yt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt.isFunction(t);return this.each(function(n){yt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){yt.nodeName(this,"body")||yt(this).replaceWith(this.childNodes)}).end()}}),yt.expr.filters.hidden=function(t){return bt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:et(t)},yt.expr.filters.visible=function(t){return!yt.expr.filters.hidden(t)};var an=/%20/g,un=/\[\]$/,ln=/\r?\n/g,cn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;yt.param=function(t,e){var n,i=[],r=function(t,e){e=yt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=yt.ajaxSettings&&yt.ajaxSettings.traditional),yt.isArray(t)||t.jquery&&!yt.isPlainObject(t))yt.each(t,function(){r(this.name,this.value)});else for(n in t)nt(n,t[n],e,r);return i.join("&").replace(an,"+")},yt.fn.extend({serialize:function(){return yt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=yt.prop(this,"elements");return t?yt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!yt(this).is(":disabled")&&hn.test(this.nodeName)&&!cn.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var n=yt(this).val();return null==n?null:yt.isArray(n)?yt.map(n,function(t){return{name:e.name,value:t.replace(ln,"\r\n")}}):{name:e.name,value:n.replace(ln,"\r\n")}}).get()}}),yt.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return this.isLocal?rt():at.documentMode>8?it():/^(get|post|head|put|delete|options)$/i.test(this.type)&&it()||rt()}:it;var fn=0,pn={},dn=yt.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var t in pn)pn[t](void 0,!0)}),bt.cors=!!dn&&"withCredentials"in dn,dn=bt.ajax=!!dn,dn&&yt.ajaxTransport(function(t){if(!t.crossDomain||bt.cors){var e;return{send:function(i,r){var o,s=t.xhr(),a=++fn;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&s.setRequestHeader(o,i[o]+"");s.send(t.hasContent&&t.data||null),e=function(n,i){var o,u,l;if(e&&(i||4===s.readyState))if(delete pn[a],e=void 0,s.onreadystatechange=yt.noop,i)4!==s.readyState&&s.abort();else{l={},o=s.status,"string"==typeof s.responseText&&(l.text=s.responseText);try{u=s.statusText}catch(t){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&r(o,u,l,s.getAllResponseHeaders())},t.async?4===s.readyState?n.setTimeout(e):s.onreadystatechange=pn[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),yt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return yt.globalEval(t),t}}}),yt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),yt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=at.head||yt("head")[0]||at.documentElement;return{send:function(i,r){e=at.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var bn=[],mn=/(=)\?(?=&|$)|\?\?/;yt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=bn.pop()||yt.expando+"_"+Ye++;return this[t]=!0,t}}),yt.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=t.jsonp!==!1&&(mn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&mn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=yt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(mn,"$1"+r):t.jsonp!==!1&&(t.url+=(ze.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||yt.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?yt(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,bn.push(r)),s&&yt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),yt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||at;var i=Pt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=x([t],e,r),r&&r.length&&yt(r).remove(),yt.merge([],i.childNodes))};var yn=yt.fn.load;yt.fn.load=function(t,e,n){if("string"!=typeof t&&yn)return yn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=yt.trim(t.slice(a,t.length)),t=t.slice(0,a)),yt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&yt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?yt("<div>").append(yt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},yt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){yt.fn[e]=function(t){return this.on(e,t)}}),yt.expr.filters.animated=function(t){return yt.grep(yt.timers,function(e){return t===e.elem}).length},yt.offset={setOffset:function(t,e,n){var i,r,o,s,a,u,l,c=yt.css(t,"position"),h=yt(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=yt.css(t,"top"),u=yt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&yt.inArray("auto",[o,u])>-1,l?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(u)||0),yt.isFunction(e)&&(e=e.call(t,n,yt.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},yt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){yt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,yt.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=ot(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===yt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),yt.nodeName(t[0],"html")||(n=t.offset()),n.top+=yt.css(t[0],"borderTopWidth",!0),n.left+=yt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-yt.css(i,"marginTop",!0),left:e.left-n.left-yt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!yt.nodeName(t,"html")&&"static"===yt.css(t,"position");)t=t.offsetParent;return t||ye})}}),yt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);yt.fn[t]=function(i){return Wt(this,function(t,i,r){var o=ot(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:void(o?o.scrollTo(n?yt(o).scrollLeft():r,n?r:yt(o).scrollTop()):t[i]=r)},t,i,arguments.length,null)}}),yt.each(["top","left"],function(t,e){yt.cssHooks[e]=L(bt.pixelPosition,function(t,n){if(n)return n=ge(t,e),be.test(n)?yt(t).position()[e]+"px":n})}),yt.each({Height:"height",Width:"width"},function(t,e){yt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){yt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return Wt(this,function(e,n,i){var r;return yt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?yt.css(e,n,s):yt.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),yt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),yt.fn.size=function(){return this.length},yt.fn.andSelf=yt.fn.addBack,i=[],r=function(){return yt}.apply(e,i),!(void 0!==r&&(t.exports=r));var vn=n.jQuery,gn=n.$;return yt.noConflict=function(t){return n.$===yt&&(n.$=gn),t&&n.jQuery===yt&&(n.jQuery=vn),yt},o||(n.jQuery=n.$=yt),yt})},function(t,e){t.exports={_args:[[{raw:"pixi.js@3.0.7",scope:null,escapedName:"pixi.js",name:"pixi.js",rawSpec:"3.0.7",spec:"3.0.7",type:"version"},"/Users/Bryce/Sites/fnscore/node_modules/pixi-piano-roll"]],_from:"pixi.js@3.0.7",_id:"pixi.js@3.0.7",_inCache:!0,_location:"/pixi.js",_nodeVersion:"0.12.4",_npmUser:{name:"englercj",email:"englercj@live.com"},_npmVersion:"2.7.1",_phantomChildren:{},_requested:{raw:"pixi.js@3.0.7",scope:null,escapedName:"pixi.js",name:"pixi.js",rawSpec:"3.0.7",spec:"3.0.7",type:"version"},_requiredBy:["/pixi-piano-roll"],_resolved:"https://registry.npmjs.org/pixi.js/-/pixi.js-3.0.7.tgz",_shasum:"8908990cd86c6bd1d04ca8708757857c69282751",_shrinkwrap:null,_spec:"pixi.js@3.0.7",_where:"/Users/Bryce/Sites/fnscore/node_modules/pixi-piano-roll",author:{name:"Mat Groves"},browserify:{transform:["brfs"]},bugs:{url:"https://github.com/GoodBoyDigital/pixi.js/issues"},contributors:[{name:"Chad Engler",email:"chad@pantherdev.com"},{name:"Richard Davey",email:"rdavey@gmail.com"}],dependencies:{async:"^0.9.0",brfs:"^1.4.0",earcut:"^2.0.1",eventemitter3:"^1.1.0","object-assign":"^2.0.0","resource-loader":"^1.6.1"},description:"Pixi.js is a fast lightweight 2D library that works across all devices.",devDependencies:{browserify:"^10.2.3",chai:"^3.0.0",del:"^1.2.0",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.11.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.5","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.0","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.5","require-dir":"^0.3.0","run-sequence":"^1.1.0",testem:"^0.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.2.1"},directories:{},dist:{shasum:"8908990cd86c6bd1d04ca8708757857c69282751",tarball:"https://registry.npmjs.org/pixi.js/-/pixi.js-3.0.7.tgz"},files:["bin/","src/"],gitHead:"34cd01eb0f204848972de325b1b85c0b6f7b8c8e",homepage:"http://goodboydigital.com/",license:"MIT",main:"./src/index.js",maintainers:[{name:"englercj",email:"englercj@live.com"}],name:"pixi.js",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md",start:"gulp && gulp watch",test:"gulp && testem ci"},version:"3.0.7"}},function(t,e){t.exports={4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],M:["1P 3M 5P",["Major",""]],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:["1P 3M 5P 13M",["6"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:["1P 3M 5P 6M 9M",["69"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:["1P 3M 5P 6M 7M 9M"],M7b5:["1P 3M 5d 7M"],M7b6:["1P 3M 6m 7M"],M7b9:["1P 3M 5P 7M 9m"],M7sus4:["1P 4P 5P 7M"],M9:["1P 3M 5P 7M 9M",["maj9","Maj9"]],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:["1P 3M 5d 7M 9M"],M9sus4:["1P 4P 5P 7M 9M"],Madd9:["1P 3M 5P 9M",["2","add9","add2"]],Maj7:["1P 3M 5P 7M",["maj7","M7"]],Mb5:["1P 3M 5d"],Mb6:["1P 3M 13m"],Msus2:["1P 2M 5P",["add9no3","sus2"]],Msus4:["1P 4P 5P",["sus","sus4"]],addb9:["1P 3M 5P 9m"],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:["1P 3m 5P",["minor"]],"m#5":["1P 3m 5A",["m+","mb6"]],m11:["1P 3m 5P 7m 9M 11P",["_11"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13:["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6:["1P 3m 4P 5P 13M",["_6"]],m69:["1P 3m 5P 6M 9M",["_69"]],m7:["1P 3m 5P 7m",["minor7","_","_7"]],"m7#5":["1P 3m 6m 7m"],m7add11:["1P 3m 5P 7m 11P",["m7add4"]],m7b5:["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9:["1P 3m 5P 7m 9M",["_9"]],"m9#5":["1P 3m 6m 7m 9M"],m9b5:["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7:["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6:["1P 3m 5P 6m 7M",["mM7b6"]],mM9:["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6:["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7:["1P 3m 6m 7M"],mb6b9:["1P 3m 6m 9m"],o:["1P 3m 5d",["mb5","dim"]],o7:["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7:["1P 3m 5d 6M 7M"],oM7:["1P 3m 5d 7M"],sus24:["1P 2M 4P 5P",["sus4add9"]],"+add#9":["1P 3M 5A 9A"],madd4:["1P 3m 4P 5P"],madd9:["1P 3m 5P 9M"]}},function(t,e){t.exports={chromatic:["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],lydian:["1P 2M 3M 4A 5P 6M 7M"],major:["1P 2M 3M 4P 5P 6M 7M",["ionian"]],mixolydian:["1P 2M 3M 4P 5P 6M 7m",["dominant"]],dorian:["1P 2M 3m 4P 5P 6M 7m"],aeolian:["1P 2M 3m 4P 5P 6m 7m",["minor"]],phrygian:["1P 2m 3m 4P 5P 6m 7m"],locrian:["1P 2m 3m 4P 5d 6m 7m"],"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],altered:["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:["1P 2m 4P 5d 7m"],hirajoshi:["1P 2M 3m 5P 6m"],kumoijoshi:["1P 2m 4P 5P 6m"],pelog:["1P 2m 3m 5P 6m"],"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:["1P 2M 3M 4A 6M 7m"],"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:["1P 2M 4P 5P 6M"],scriabin:["1P 2m 3M 5P 6M"],piongio:["1P 2M 4P 5P 6M 7m"],"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:["1P 2A 3M 5P 5A 7M"],"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],neopolitan:["1P 2m 3m 4P 5P 6m 7M"],"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],diminished:["1P 2M 3m 4P 5d 6m 6M 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:["1P 2M 4P 5P 7m"],"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:["1P 2m 3M 4P 5d 6M 7m"],spanish:["1P 2m 3M 4P 5P 6m 7m",["phrygian major"]],"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:["1P 2m 3m 3M 4A 5P 7m"],balinese:["1P 2m 3m 4P 5P 6m 7M"],"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:["1P 2m 3M 4P 5d 6m 7M"],bebop:["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:["1P 2m 3M 5d 6m 7m 7M"],"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:["1P 2M 3M 4P 5d 5P 6M 7M"],"six tone symmetric":["1P 2m 3M 4P 5A 6M"]}},function(t,e,n){"use strict";function i(t,e){a.call(this,"FlateWorker/"+t),this._pako=new o[t]({raw:!0,level:e.level||-1}),this.meta={};var n=this;this._pako.onData=function(t){n.push({data:t,meta:n.meta})}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=n(390),s=n(8),a=n(18),u=r?"uint8array":"array";e.magic="\b\0",s.inherits(i,a),i.prototype.processChunk=function(t){this.meta=t.meta,this._pako.push(s.transformTo(u,t.data),!1)},i.prototype.flush=function(){a.prototype.flush.call(this),this._pako.push([],!0)},i.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},e.compressWorker=function(t){return new i("Deflate",t)},e.uncompressWorker=function(){return new i("Inflate",{})}},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=n(8),o=n(18),s=n(43),a=n(123),u=n(197),l=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},c=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},h=function(t,e){return 63&(t||0)},f=function(t,e,n,i,o,f){var p,d,b=t.file,m=t.compression,y=f!==s.utf8encode,v=r.transformTo("string",f(b.name)),g=r.transformTo("string",s.utf8encode(b.name)),_=b.comment,x=r.transformTo("string",f(_)),w=r.transformTo("string",s.utf8encode(_)),S=g.length!==b.name.length,E=w.length!==_.length,T="",P="",M="",O=b.dir,A=b.date,C={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(C.crc32=t.crc32,C.compressedSize=t.compressedSize,C.uncompressedSize=t.uncompressedSize);var k=0;e&&(k|=8),y||!S&&!E||(k|=2048);var R=0,I=0;O&&(R|=16),"UNIX"===o?(I=798,R|=c(b.unixPermissions,O)):(I=20,R|=h(b.dosPermissions,O)),p=A.getUTCHours(),p<<=6,p|=A.getUTCMinutes(),p<<=5,p|=A.getUTCSeconds()/2,d=A.getUTCFullYear()-1980,d<<=4,d|=A.getUTCMonth()+1,d<<=5,d|=A.getUTCDate(),S&&(P=l(1,1)+l(a(v),4)+g,T+="up"+l(P.length,2)+P),E&&(M=l(1,1)+l(a(x),4)+w,T+="uc"+l(M.length,2)+M);var N="";N+="\n\0",N+=l(k,2),N+=m.magic,N+=l(p,2),N+=l(d,2),N+=l(C.crc32,4),N+=l(C.compressedSize,4),N+=l(C.uncompressedSize,4),N+=l(v.length,2),N+=l(T.length,2);var L=u.LOCAL_FILE_HEADER+N+v+T,F=u.CENTRAL_FILE_HEADER+l(I,2)+N+l(x.length,2)+"\0\0\0\0"+l(R,4)+l(i,4)+v+T+x;return{fileRecord:L,dirRecord:F}},p=function(t,e,n,i,o){var s="",a=r.transformTo("string",o(i));return s=u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(t,2)+l(t,2)+l(e,4)+l(n,4)+l(a.length,2)+a},d=function(t){var e="";return e=u.DATA_DESCRIPTOR+l(t.crc32,4)+l(t.compressedSize,4)+l(t.uncompressedSize,4)};r.inherits(i,o),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=f(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=f(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:d(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=p(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},i.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=i},function(t,e,n){"use strict";var i=n(190),r=n(363),o=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r};e.generateWorker=function(t,e,n){var i=new r(e.streamFiles,n,e.platform,e.encodeFileName),s=0;try{t.forEach(function(t,n){s++;var r=o(n.options.compression,e.compression),a=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:t,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=s}catch(t){i.error(t)}return i}},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=n(369),i.prototype.loadAsync=n(366),i.support=n(32),i.defaults=n(191),i.version="3.1.3",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(58),t.exports=i},function(t,e,n){"use strict";function i(t){return new o.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new u);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var r=n(8),o=n(58),s=n(43),r=n(8),a=n(373),u=n(198),l=n(77);t.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new a(e);return n.load(t),n}).then(function(t){var n=[o.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var s=0;s<r.length;s++)n.push(i(r[s]));return o.Promise.all(n)}).then(function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(t,e,n){"use strict";function i(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var r=n(8),o=n(18);r.inherits(i,o),i.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},function(t,e,n){"use strict";function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}var r=n(192).Readable,o=n(317);o.inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},function(t,e,n){"use strict";function i(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var r=n(43),o=n(8),s=n(18),a=n(201),u=n(191),l=n(122),c=n(375),h=n(364),f=n(77),p=n(367),d=function(t,e,n){var i,r=o.getTypeOf(e),a=o.extend(n||{},u);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=m(t)),a.createFolders&&(i=b(t))&&y.call(this,i,!0);var h="string"===r&&a.binary===!1&&a.base64===!1;n&&"undefined"!=typeof n.binary||(a.binary=!h);var d=e instanceof l&&0===e.uncompressedSize;(d||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",r="string");var v=null;v=e instanceof l||e instanceof s?e:f.isNode&&f.isStream(e)?new p(t,e):o.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var g=new c(t,v,a);this.files[t]=g},b=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},y=function(t,e){return e="undefined"!=typeof e?e:u.createFolders,t=m(t),this.files[t]||d.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],n=e.slice(this.root.length,e.length),n&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1===arguments.length){if(i(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,d.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=y.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if(n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=h.generateWorker(this,n,i)}catch(t){e=new s("error"),e.error(t)}return new a(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=v},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(195),o=n(8);o.inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(194),o=n(8);o.inherits(i,r),
i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,"ConvertWorker to "+t),this.destType=t}var r=n(18),o=n(8);o.inherits(i,r),i.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},t.exports=i},function(t,e,n){"use strict";function i(t){this.files=[],this.loadOptions=t}var r=n(196),o=n(8),s=n(197),a=n(374),u=(n(43),n(32));i.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4),r=i===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=u.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44,r=0;r<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)t=new a({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0){var e=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(t);var n=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),t<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=n-i;if(r>0)this.isSignature(n,s.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},function(t,e,n){"use strict";function i(t,e){this.options=t,this.loadOptions=e}var r=n(196),o=n(8),s=n(122),a=n(123),u=n(43),l=n(190),c=n(32),h=0,f=3,p=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null};i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=p(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t===h&&(this.dosPermissions=63&this.externalFileAttributes),t===f&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:u.utf8decode(e.readData(t.length-5))}return null}},t.exports=i},function(t,e,n){"use strict";var i=n(201),r=n(200),o=n(43),s=n(122),a=n(18),u=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(t){var e=t.toLowerCase(),n="string"===e||"text"===e;"binarystring"!==e&&"text"!==e||(e="string");var r=this._decompressWorker(),s=!this._dataBinary;return s&&!n&&(r=r.pipe(new o.Utf8EncodeWorker)),!s&&n&&(r=r.pipe(new o.Utf8DecodeWorker)),new i(r,e,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)u.prototype[l[h]]=c;t.exports=u},function(t,e,n){n(389),t.exports=n(202).setImmediate},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(125);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(78),r=n(202),o=n(203),s=n(381),a="prototype",u=function(t,e,n){var l,c,h,f=t&u.F,p=t&u.G,d=t&u.S,b=t&u.P,m=t&u.B,y=t&u.W,v=p?r:r[e]||(r[e]={}),g=v[a],_=p?i:d?i[e]:(i[e]||{})[a];p&&(n=e);for(l in n)c=!f&&_&&void 0!==_[l],c&&l in v||(h=c?_[l]:n[l],v[l]=p&&"function"!=typeof _[l]?n[l]:m&&c?o(h,i):y&&_[l]==h?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[a]=t[a],e}(h):b&&"function"==typeof h?o(Function.call,h):h,b&&((v.virtual||(v.virtual={}))[l]=h,t&u.R&&g&&!g[l]&&s(g,l,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var i=n(385),r=n(386);t.exports=n(124)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=n(78).document&&document.documentElement},function(t,e,n){t.exports=!n(124)&&!n(205)(function(){return 7!=Object.defineProperty(n(204)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(378),r=n(383),o=n(388),s=Object.defineProperty;e.f=n(124)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i,r,o,s=n(203),a=n(384),u=n(382),l=n(204),c=n(78),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,b=0,m={},y="onreadystatechange",v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},g=function(t){v.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++b]=function(){a("function"==typeof t?t:Function(t),e)},i(b),b},p=function(t){delete m[t]},"process"==n(379)(h)?i=function(t){h.nextTick(s(v,t,1))}:d?(r=new d,o=r.port2,r.port1.onmessage=g,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",g,!1)):i=y in l("script")?function(t){u.appendChild(l("script"))[y]=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(s(v,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){var i=n(125);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(380),r=n(387);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){"use strict";var i=n(33).assign,r=n(391),o=n(392),s=n(208),a={};i(a,r,o,s),t.exports=a},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=u.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==b)throw new Error(c[n]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=a.deflateSetDictionary(this.strm,r),n!==b)throw new Error(c[n]);this._dict_set=!0}}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,r(t,e)}function s(t,e){return e=e||{},e.gzip=!0,r(t,e)}var a=n(393),u=n(33),l=n(206),c=n(126),h=n(210),f=Object.prototype.toString,p=0,d=4,b=0,m=1,y=2,v=-1,g=0,_=8;i.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:e===!0?d:p,"string"==typeof t?r.input=l.string2buf(t):"[object ArrayBuffer]"===f.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new u.Buf8(o),r.next_out=0,r.avail_out=o),n=a.deflate(r,i),n!==m&&n!==b)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==d&&i!==y)||("string"===this.options.to?this.onData(l.buf2binstring(u.shrinkBuf(r.output,r.next_out))):this.onData(u.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==m);return i===d?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===b):i!==y||(this.onEnd(b),r.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===b&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=i,e.deflate=r,e.deflateRaw=o,e.gzip=s},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=s.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,r(t,e)}var s=n(396),a=n(33),u=n(206),l=n(208),c=n(126),h=n(210),f=n(394),p=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,r,o,c,h,f=this.strm,d=this.options.chunkSize,b=this.options.dictionary,m=!1;if(this.ended)return!1;i=e===~~e?e:e===!0?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?f.input=u.binstring2buf(t):"[object ArrayBuffer]"===p.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(d),f.next_out=0,f.avail_out=d),n=s.inflate(f,l.Z_NO_FLUSH),n===l.Z_NEED_DICT&&b&&(h="string"==typeof b?u.string2buf(b):"[object ArrayBuffer]"===p.call(b)?new Uint8Array(b):b,n=s.inflateSetDictionary(this.strm,h)),n===l.Z_BUF_ERROR&&m===!0&&(n=l.Z_OK,m=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==l.Z_STREAM_END&&(0!==f.avail_in||i!==l.Z_FINISH&&i!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(r=u.utf8border(f.output,f.next_out),o=f.next_out-r,c=u.buf2string(f.output,r),f.next_out=o,f.avail_out=d-o,o&&a.arraySet(f.output,f.output,r,o,0),this.onData(c)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(i=l.Z_FINISH),i===l.Z_FINISH?(n=s.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):i!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=i,e.inflate=r,e.inflateRaw=o,e.ungzip=r},function(t,e,n){"use strict";function i(t,e){return t.msg=N[e],e}function r(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(C.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function a(t,e){k._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,i){var r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,C.arraySet(e,t.input,t.next_in,r,n),1===t.state.wrap?t.adler=R(t.adler,e,r,n):2===t.state.wrap&&(t.adler=I(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)}function h(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-ht?t.strstart-(t.w_size-ht):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+ct,p=l[o+s-1],d=l[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do if(n=e,l[n+s]===d&&l[n+s-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do;while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(i=ct-(f-o),o=f-ct,i>s){if(t.match_start=e,s=i,i>=a)break;p=l[o+s-1],d=l[o+s]}}while((e=h[e&c])>u&&0!==--r);return s<=t.lookahead?s:t.lookahead}function f(t){var e,n,i,r,o,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-ht)){C.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,n=t.hash_size,e=n;do i=t.head[--e],t.head[e]=i>=s?i-s:0;while(--n);n=s,e=n;do i=t.prev[--e],t.prev[e]=i>=s?i-s:0;while(--n);r+=s}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=lt)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+lt-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<lt)););}while(t.lookahead<ht&&0!==t.strm.avail_in)}function p(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===L)return _t;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,a(t,!1),0===t.strm.avail_out))return _t;if(t.strstart-t.block_start>=t.w_size-ht&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===D?(a(t,!0),0===t.strm.avail_out?wt:St):t.strstart>t.block_start&&(a(t,!1),0===t.strm.avail_out)?_t:_t}function d(t,e){for(var n,i;;){if(t.lookahead<ht){if(f(t),t.lookahead<ht&&e===L)return _t;if(0===t.lookahead)break}if(n=0,t.lookahead>=lt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+lt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ht&&(t.match_length=h(t,n)),t.match_length>=lt)if(i=k._tr_tally(t,t.strstart-t.match_start,t.match_length-lt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=lt){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+lt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=t.strstart<lt-1?t.strstart:lt-1,e===D?(a(t,!0),0===t.strm.avail_out?wt:St):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:xt}function b(t,e){for(var n,i,r;;){if(t.lookahead<ht){if(f(t),t.lookahead<ht&&e===L)return _t;if(0===t.lookahead)break}if(n=0,t.lookahead>=lt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+lt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=lt-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ht&&(t.match_length=h(t,n),t.match_length<=5&&(t.strategy===z||t.match_length===lt&&t.strstart-t.match_start>4096)&&(t.match_length=lt-1)),t.prev_length>=lt&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-lt,i=k._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-lt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+lt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=lt-1,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return _t}else if(t.match_available){if(i=k._tr_tally(t,0,t.window[t.strstart-1]),i&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return _t}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=k._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<lt-1?t.strstart:lt-1,e===D?(a(t,!0),0===t.strm.avail_out?wt:St):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:xt}function m(t,e){for(var n,i,r,o,s=t.window;;){if(t.lookahead<=ct){if(f(t),t.lookahead<=ct&&e===L)return _t;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=lt&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){o=t.strstart+ct;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=ct-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=lt?(n=k._tr_tally(t,1,t.match_length-lt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===D?(a(t,!0),0===t.strm.avail_out?wt:St):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:xt}function y(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===L)return _t;break}if(t.match_length=0,n=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===D?(a(t,!0),0===t.strm.avail_out?wt:St):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:xt}function v(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function g(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=A[t.level].max_lazy,t.good_match=A[t.level].good_length,t.nice_match=A[t.level].nice_length,t.max_chain_length=A[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=lt-1,t.match_available=0,t.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*at),this.dyn_dtree=new C.Buf16(2*(2*ot+1)),this.bl_tree=new C.Buf16(2*(2*st+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(ut+1),this.heap=new C.Buf16(2*rt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*rt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?pt:vt,t.adler=2===e.wrap?0:1,e.last_flush=L,k._tr_init(e),G):i(t,U)}function w(t){var e=x(t);return e===G&&g(t.state),e}function S(t,e){return t&&t.state?2!==t.state.wrap?U:(t.state.gzhead=e,G):U}function E(t,e,n,r,o,s){if(!t)return U;var a=1;if(e===Y&&(e=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>$||n!==Q||r<8||r>15||e<0||e>9||s<0||s>Z)return i(t,U);8===r&&(r=9);var u=new _;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+lt-1)/lt),u.window=new C.Buf8(2*u.w_size),u.head=new C.Buf16(u.hash_size),u.prev=new C.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new C.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=n,w(t)}function T(t,e){return E(t,e,Q,tt,et,K)}function P(t,e){var n,a,c,h;if(!t||!t.state||e>j||e<0)return t?i(t,U):U;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===gt&&e!==D)return i(t,0===t.avail_out?H:U);if(a.strm=t,n=a.last_flush,a.last_flush=e,a.status===pt)if(2===a.wrap)t.adler=0,u(a,31),u(a,139),u(a,8),a.gzhead?(u(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),u(a,255&a.gzhead.time),u(a,a.gzhead.time>>8&255),u(a,a.gzhead.time>>16&255),u(a,a.gzhead.time>>24&255),u(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),u(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(u(a,255&a.gzhead.extra.length),u(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=I(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=dt):(u(a,0),u(a,0),u(a,0),u(a,0),u(a,0),u(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),u(a,Et),a.status=vt);else{var f=Q+(a.w_bits-8<<4)<<8,p=-1;p=a.strategy>=X||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=p<<6,0!==a.strstart&&(f|=ft),f+=31-f%31,a.status=vt,l(a,f),0!==a.strstart&&(l(a,t.adler>>>16),l(a,65535&t.adler)),t.adler=1}if(a.status===dt)if(a.gzhead.extra){for(c=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>c&&(t.adler=I(t.adler,a.pending_buf,a.pending-c,c)),s(t),c=a.pending,a.pending!==a.pending_buf_size));)u(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>c&&(t.adler=I(t.adler,a.pending_buf,a.pending-c,c)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=bt)}else a.status=bt;if(a.status===bt)if(a.gzhead.name){c=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>c&&(t.adler=I(t.adler,a.pending_buf,a.pending-c,c)),s(t),c=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,u(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>c&&(t.adler=I(t.adler,a.pending_buf,a.pending-c,c)),0===h&&(a.gzindex=0,a.status=mt)}else a.status=mt;if(a.status===mt)if(a.gzhead.comment){c=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>c&&(t.adler=I(t.adler,a.pending_buf,a.pending-c,c)),s(t),c=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,u(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>c&&(t.adler=I(t.adler,a.pending_buf,a.pending-c,c)),0===h&&(a.status=yt)}else a.status=yt;if(a.status===yt&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(u(a,255&t.adler),u(a,t.adler>>8&255),t.adler=0,a.status=vt)):a.status=vt),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,G}else if(0===t.avail_in&&r(e)<=r(n)&&e!==D)return i(t,H);if(a.status===gt&&0!==t.avail_in)return i(t,H);if(0!==t.avail_in||0!==a.lookahead||e!==L&&a.status!==gt){var d=a.strategy===X?y(a,e):a.strategy===q?m(a,e):A[a.level].func(a,e);if(d!==wt&&d!==St||(a.status=gt),d===_t||d===wt)return 0===t.avail_out&&(a.last_flush=-1),G;if(d===xt&&(e===F?k._tr_align(a):e!==j&&(k._tr_stored_block(a,0,0,!1),e===B&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,G}return e!==D?G:a.wrap<=0?V:(2===a.wrap?(u(a,255&t.adler),u(a,t.adler>>8&255),u(a,t.adler>>16&255),u(a,t.adler>>24&255),u(a,255&t.total_in),u(a,t.total_in>>8&255),u(a,t.total_in>>16&255),u(a,t.total_in>>24&255)):(l(a,t.adler>>>16),l(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?G:V)}function M(t){var e;return t&&t.state?(e=t.state.status,e!==pt&&e!==dt&&e!==bt&&e!==mt&&e!==yt&&e!==vt&&e!==gt?i(t,U):(t.state=null,e===vt?i(t,W):G)):U}function O(t,e){var n,i,r,s,a,u,l,c,h=e.length;if(!t||!t.state)return U;if(n=t.state,s=n.wrap,2===s||1===s&&n.status!==pt||n.lookahead)return U;for(1===s&&(t.adler=R(t.adler,e,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new C.Buf8(n.w_size),C.arraySet(c,e,h-n.w_size,n.w_size,0),e=c,h=n.w_size),a=t.avail_in,u=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,f(n);n.lookahead>=lt;){i=n.strstart,r=n.lookahead-(lt-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+lt-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,
i++;while(--r);n.strstart=i,n.lookahead=lt-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=lt-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=a,n.wrap=s,G}var A,C=n(33),k=n(398),R=n(207),I=n(209),N=n(126),L=0,F=1,B=3,D=4,j=5,G=0,V=1,U=-2,W=-3,H=-5,Y=-1,z=1,X=2,q=3,Z=4,K=0,J=2,Q=8,$=9,tt=15,et=8,nt=29,it=256,rt=it+1+nt,ot=30,st=19,at=2*rt+1,ut=15,lt=3,ct=258,ht=ct+lt+1,ft=32,pt=42,dt=69,bt=73,mt=91,yt=103,vt=113,gt=666,_t=1,xt=2,wt=3,St=4,Et=3;A=[new v(0,0,0,0,p),new v(4,4,8,4,d),new v(4,5,16,8,d),new v(4,6,32,32,d),new v(4,4,16,16,b),new v(8,16,32,32,b),new v(8,16,128,128,b),new v(8,32,128,256,b),new v(32,128,258,1024,b),new v(32,258,258,4096,b)],e.deflateInit=T,e.deflateInit2=E,e.deflateReset=w,e.deflateResetKeep=x,e.deflateSetHeader=S,e.deflate=P,e.deflateEnd=M,e.deflateSetDictionary=O,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n},function(t,e){"use strict";var n=30,i=12;t.exports=function(t,e){var r,o,s,a,u,l,c,h,f,p,d,b,m,y,v,g,_,x,w,S,E,T,P,M,O;r=t.state,o=t.next_in,M=t.input,s=o+(t.avail_in-5),a=t.next_out,O=t.output,u=a-(e-t.avail_out),l=a+(t.avail_out-257),c=r.dmax,h=r.wsize,f=r.whave,p=r.wnext,d=r.window,b=r.hold,m=r.bits,y=r.lencode,v=r.distcode,g=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;t:do{m<15&&(b+=M[o++]<<m,m+=8,b+=M[o++]<<m,m+=8),x=y[b&g];e:for(;;){if(w=x>>>24,b>>>=w,m-=w,w=x>>>16&255,0===w)O[a++]=65535&x;else{if(!(16&w)){if(0===(64&w)){x=y[(65535&x)+(b&(1<<w)-1)];continue e}if(32&w){r.mode=i;break t}t.msg="invalid literal/length code",r.mode=n;break t}S=65535&x,w&=15,w&&(m<w&&(b+=M[o++]<<m,m+=8),S+=b&(1<<w)-1,b>>>=w,m-=w),m<15&&(b+=M[o++]<<m,m+=8,b+=M[o++]<<m,m+=8),x=v[b&_];n:for(;;){if(w=x>>>24,b>>>=w,m-=w,w=x>>>16&255,!(16&w)){if(0===(64&w)){x=v[(65535&x)+(b&(1<<w)-1)];continue n}t.msg="invalid distance code",r.mode=n;break t}if(E=65535&x,w&=15,m<w&&(b+=M[o++]<<m,m+=8,m<w&&(b+=M[o++]<<m,m+=8)),E+=b&(1<<w)-1,E>c){t.msg="invalid distance too far back",r.mode=n;break t}if(b>>>=w,m-=w,w=a-u,E>w){if(w=E-w,w>f&&r.sane){t.msg="invalid distance too far back",r.mode=n;break t}if(T=0,P=d,0===p){if(T+=h-w,w<S){S-=w;do O[a++]=d[T++];while(--w);T=a-E,P=O}}else if(p<w){if(T+=h+p-w,w-=p,w<S){S-=w;do O[a++]=d[T++];while(--w);if(T=0,p<S){w=p,S-=w;do O[a++]=d[T++];while(--w);T=a-E,P=O}}}else if(T+=p-w,w<S){S-=w;do O[a++]=d[T++];while(--w);T=a-E,P=O}for(;S>2;)O[a++]=P[T++],O[a++]=P[T++],O[a++]=P[T++],S-=3;S&&(O[a++]=P[T++],S>1&&(O[a++]=P[T++]))}else{T=a-E;do O[a++]=O[T++],O[a++]=O[T++],O[a++]=O[T++],S-=3;while(S>2);S&&(O[a++]=O[T++],S>1&&(O[a++]=O[T++]))}break}}break}}while(o<s&&a<l);S=m>>3,o-=S,m-=S<<3,b&=(1<<m)-1,t.next_in=o,t.next_out=a,t.avail_in=o<s?5+(s-o):5-(o-s),t.avail_out=a<l?257+(l-a):257-(a-l),r.hold=b,r.bits=m}},function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=B,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new v.Buf32(bt),e.distcode=e.distdyn=new v.Buf32(mt),e.sane=1,e.back=-1,A):R}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):R}function a(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?R:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,s(t))):R}function u(t,e){var n,i;return t?(i=new r,t.state=i,i.window=null,n=a(t,e),n!==A&&(t.state=null),n):R}function l(t){return u(t,vt)}function c(t){if(gt){var e;for(m=new v.Buf32(512),y=new v.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(w(E,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;w(T,t.lens,0,32,y,0,t.work,{bits:5}),gt=!1}t.lencode=m,t.lenbits=9,t.distcode=y,t.distbits=5}function h(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),i>=o.wsize?(v.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),v.arraySet(o.window,e,n-i,r,o.wnext),i-=r,i?(v.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function f(t,e){var n,r,o,s,a,u,l,f,p,d,b,m,y,bt,mt,yt,vt,gt,_t,xt,wt,St,Et,Tt,Pt=0,Mt=new v.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return R;n=t.state,n.mode===q&&(n.mode=Z),a=t.next_out,o=t.output,l=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,p=n.bits,d=u,b=l,St=A;t:for(;;)switch(n.mode){case B:if(0===n.wrap){n.mode=Z;break}for(;p<16;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(2&n.wrap&&35615===f){n.check=0,Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=_(n.check,Mt,2,0),f=0,p=0,n.mode=D;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ft;break}if((15&f)!==F){t.msg="unknown compression method",n.mode=ft;break}if(f>>>=4,p-=4,wt=(15&f)+8,0===n.wbits)n.wbits=wt;else if(wt>n.wbits){t.msg="invalid window size",n.mode=ft;break}n.dmax=1<<wt,t.adler=n.check=1,n.mode=512&f?z:q,f=0,p=0;break;case D:for(;p<16;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(n.flags=f,(255&n.flags)!==F){t.msg="unknown compression method",n.mode=ft;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ft;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=_(n.check,Mt,2,0)),f=0,p=0,n.mode=j;case j:for(;p<32;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}n.head&&(n.head.time=f),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,Mt[2]=f>>>16&255,Mt[3]=f>>>24&255,n.check=_(n.check,Mt,4,0)),f=0,p=0,n.mode=G;case G:for(;p<16;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=_(n.check,Mt,2,0)),f=0,p=0,n.mode=V;case V:if(1024&n.flags){for(;p<16;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Mt[0]=255&f,Mt[1]=f>>>8&255,n.check=_(n.check,Mt,2,0)),f=0,p=0}else n.head&&(n.head.extra=null);n.mode=U;case U:if(1024&n.flags&&(m=n.length,m>u&&(m=u),m&&(n.head&&(wt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,r,s,m,wt)),512&n.flags&&(n.check=_(n.check,r,m,s)),u-=m,s+=m,n.length-=m),n.length))break t;n.length=0,n.mode=W;case W:if(2048&n.flags){if(0===u)break t;m=0;do wt=r[s+m++],n.head&&wt&&n.length<65536&&(n.head.name+=String.fromCharCode(wt));while(wt&&m<u);if(512&n.flags&&(n.check=_(n.check,r,m,s)),u-=m,s+=m,wt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=H;case H:if(4096&n.flags){if(0===u)break t;m=0;do wt=r[s+m++],n.head&&wt&&n.length<65536&&(n.head.comment+=String.fromCharCode(wt));while(wt&&m<u);if(512&n.flags&&(n.check=_(n.check,r,m,s)),u-=m,s+=m,wt)break t}else n.head&&(n.head.comment=null);n.mode=Y;case Y:if(512&n.flags){for(;p<16;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ft;break}f=0,p=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=q;break;case z:for(;p<32;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}t.adler=n.check=i(f),f=0,p=0,n.mode=X;case X:if(0===n.havedict)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,k;t.adler=n.check=1,n.mode=q;case q:if(e===M||e===O)break t;case Z:if(n.last){f>>>=7&p,p-=7&p,n.mode=lt;break}for(;p<3;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}switch(n.last=1&f,f>>>=1,p-=1,3&f){case 0:n.mode=K;break;case 1:if(c(n),n.mode=nt,e===O){f>>>=2,p-=2;break t}break;case 2:n.mode=$;break;case 3:t.msg="invalid block type",n.mode=ft}f>>>=2,p-=2;break;case K:for(f>>>=7&p,p-=7&p;p<32;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if((65535&f)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ft;break}if(n.length=65535&f,f=0,p=0,n.mode=J,e===O)break t;case J:n.mode=Q;case Q:if(m=n.length){if(m>u&&(m=u),m>l&&(m=l),0===m)break t;v.arraySet(o,r,s,m,a),u-=m,s+=m,l-=m,a+=m,n.length-=m;break}n.mode=q;break;case $:for(;p<14;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(n.nlen=(31&f)+257,f>>>=5,p-=5,n.ndist=(31&f)+1,f>>>=5,p-=5,n.ncode=(15&f)+4,f>>>=4,p-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ft;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;p<3;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}n.lens[Ot[n.have++]]=7&f,f>>>=3,p-=3}for(;n.have<19;)n.lens[Ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Et={bits:n.lenbits},St=w(S,n.lens,0,19,n.lencode,0,n.work,Et),n.lenbits=Et.bits,St){t.msg="invalid code lengths set",n.mode=ft;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;Pt=n.lencode[f&(1<<n.lenbits)-1],mt=Pt>>>24,yt=Pt>>>16&255,vt=65535&Pt,!(mt<=p);){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(vt<16)f>>>=mt,p-=mt,n.lens[n.have++]=vt;else{if(16===vt){for(Tt=mt+2;p<Tt;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(f>>>=mt,p-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=ft;break}wt=n.lens[n.have-1],m=3+(3&f),f>>>=2,p-=2}else if(17===vt){for(Tt=mt+3;p<Tt;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}f>>>=mt,p-=mt,wt=0,m=3+(7&f),f>>>=3,p-=3}else{for(Tt=mt+7;p<Tt;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}f>>>=mt,p-=mt,wt=0,m=11+(127&f),f>>>=7,p-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ft;break}for(;m--;)n.lens[n.have++]=wt}}if(n.mode===ft)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ft;break}if(n.lenbits=9,Et={bits:n.lenbits},St=w(E,n.lens,0,n.nlen,n.lencode,0,n.work,Et),n.lenbits=Et.bits,St){t.msg="invalid literal/lengths set",n.mode=ft;break}if(n.distbits=6,n.distcode=n.distdyn,Et={bits:n.distbits},St=w(T,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Et),n.distbits=Et.bits,St){t.msg="invalid distances set",n.mode=ft;break}if(n.mode=nt,e===O)break t;case nt:n.mode=it;case it:if(u>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,x(t,b),a=t.next_out,o=t.output,l=t.avail_out,s=t.next_in,r=t.input,u=t.avail_in,f=n.hold,p=n.bits,n.mode===q&&(n.back=-1);break}for(n.back=0;Pt=n.lencode[f&(1<<n.lenbits)-1],mt=Pt>>>24,yt=Pt>>>16&255,vt=65535&Pt,!(mt<=p);){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(yt&&0===(240&yt)){for(gt=mt,_t=yt,xt=vt;Pt=n.lencode[xt+((f&(1<<gt+_t)-1)>>gt)],mt=Pt>>>24,yt=Pt>>>16&255,vt=65535&Pt,!(gt+mt<=p);){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}f>>>=gt,p-=gt,n.back+=gt}if(f>>>=mt,p-=mt,n.back+=mt,n.length=vt,0===yt){n.mode=ut;break}if(32&yt){n.back=-1,n.mode=q;break}if(64&yt){t.msg="invalid literal/length code",n.mode=ft;break}n.extra=15&yt,n.mode=rt;case rt:if(n.extra){for(Tt=n.extra;p<Tt;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;Pt=n.distcode[f&(1<<n.distbits)-1],mt=Pt>>>24,yt=Pt>>>16&255,vt=65535&Pt,!(mt<=p);){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(0===(240&yt)){for(gt=mt,_t=yt,xt=vt;Pt=n.distcode[xt+((f&(1<<gt+_t)-1)>>gt)],mt=Pt>>>24,yt=Pt>>>16&255,vt=65535&Pt,!(gt+mt<=p);){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}f>>>=gt,p-=gt,n.back+=gt}if(f>>>=mt,p-=mt,n.back+=mt,64&yt){t.msg="invalid distance code",n.mode=ft;break}n.offset=vt,n.extra=15&yt,n.mode=st;case st:if(n.extra){for(Tt=n.extra;p<Tt;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,p-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ft;break}n.mode=at;case at:if(0===l)break t;if(m=b-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ft;break}m>n.wnext?(m-=n.wnext,y=n.wsize-m):y=n.wnext-m,m>n.length&&(m=n.length),bt=n.window}else bt=o,y=a-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do o[a++]=bt[y++];while(--m);0===n.length&&(n.mode=it);break;case ut:if(0===l)break t;o[a++]=n.length,l--,n.mode=it;break;case lt:if(n.wrap){for(;p<32;){if(0===u)break t;u--,f|=r[s++]<<p,p+=8}if(b-=l,t.total_out+=b,n.total+=b,b&&(t.adler=n.check=n.flags?_(n.check,o,b,a-b):g(n.check,o,b,a-b)),b=l,(n.flags?f:i(f))!==n.check){t.msg="incorrect data check",n.mode=ft;break}f=0,p=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;p<32;){if(0===u)break t;u--,f+=r[s++]<<p,p+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ft;break}f=0,p=0}n.mode=ht;case ht:St=C;break t;case ft:St=I;break t;case pt:return N;case dt:default:return R}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=u,n.hold=f,n.bits=p,(n.wsize||b!==t.avail_out&&n.mode<ft&&(n.mode<lt||e!==P))&&h(t,t.output,t.next_out,b-t.avail_out)?(n.mode=pt,N):(d-=t.avail_in,b-=t.avail_out,t.total_in+=d,t.total_out+=b,n.total+=b,n.wrap&&b&&(t.adler=n.check=n.flags?_(n.check,o,b,t.next_out-b):g(n.check,o,b,t.next_out-b)),t.data_type=n.bits+(n.last?64:0)+(n.mode===q?128:0)+(n.mode===nt||n.mode===J?256:0),(0===d&&0===b||e===P)&&St===A&&(St=L),St)}function p(t){if(!t||!t.state)return R;var e=t.state;return e.window&&(e.window=null),t.state=null,A}function d(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?R:(n.head=e,e.done=!1,A)):R}function b(t,e){var n,i,r,o=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==X?R:n.mode===X&&(i=1,i=g(i,e,o,0),i!==n.check)?I:(r=h(t,e,o,o))?(n.mode=pt,N):(n.havedict=1,A)):R}var m,y,v=n(33),g=n(207),_=n(209),x=n(395),w=n(397),S=0,E=1,T=2,P=4,M=5,O=6,A=0,C=1,k=2,R=-2,I=-3,N=-4,L=-5,F=8,B=1,D=2,j=3,G=4,V=5,U=6,W=7,H=8,Y=9,z=10,X=11,q=12,Z=13,K=14,J=15,Q=16,$=17,tt=18,et=19,nt=20,it=21,rt=22,ot=23,st=24,at=25,ut=26,lt=27,ct=28,ht=29,ft=30,pt=31,dt=32,bt=852,mt=592,yt=15,vt=yt,gt=!0;e.inflateReset=s,e.inflateReset2=a,e.inflateResetKeep=o,e.inflateInit=l,e.inflateInit2=u,e.inflate=f,e.inflateEnd=p,e.inflateGetHeader=d,e.inflateSetDictionary=b,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(33),r=15,o=852,s=592,a=0,u=1,l=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,d,b,m,y,v){var g,_,x,w,S,E,T,P,M,O=v.bits,A=0,C=0,k=0,R=0,I=0,N=0,L=0,F=0,B=0,D=0,j=null,G=0,V=new i.Buf16(r+1),U=new i.Buf16(r+1),W=null,H=0;for(A=0;A<=r;A++)V[A]=0;for(C=0;C<d;C++)V[e[n+C]]++;for(I=O,R=r;R>=1&&0===V[R];R--);if(I>R&&(I=R),0===R)return b[m++]=20971520,b[m++]=20971520,v.bits=1,0;for(k=1;k<R&&0===V[k];k++);for(I<k&&(I=k),F=1,A=1;A<=r;A++)if(F<<=1,F-=V[A],F<0)return-1;if(F>0&&(t===a||1!==R))return-1;for(U[1]=0,A=1;A<r;A++)U[A+1]=U[A]+V[A];for(C=0;C<d;C++)0!==e[n+C]&&(y[U[e[n+C]]++]=C);if(t===a?(j=W=y,E=19):t===u?(j=c,G-=257,W=h,H-=257,E=256):(j=f,W=p,E=-1),D=0,C=0,A=k,S=m,N=I,L=0,x=-1,B=1<<I,w=B-1,t===u&&B>o||t===l&&B>s)return 1;for(;;){T=A-L,y[C]<E?(P=0,M=y[C]):y[C]>E?(P=W[H+y[C]],M=j[G+y[C]]):(P=96,M=0),g=1<<A-L,_=1<<N,k=_;do _-=g,b[S+(D>>L)+_]=T<<24|P<<16|M|0;while(0!==_);for(g=1<<A-1;D&g;)g>>=1;if(0!==g?(D&=g-1,D+=g):D=0,C++,0===--V[A]){if(A===R)break;A=e[n+y[C]]}if(A>I&&(D&w)!==x){for(0===L&&(L=I),S+=k,N=A-L,F=1<<N;N+L<R&&(F-=V[N+L],!(F<=0));)N++,F<<=1;if(B+=1<<N,t===u&&B>o||t===l&&B>s)return 1;x=D&w,b[x]=I<<24|N<<16|S-m|0}}return 0!==D&&(b[S+D]=A-L<<24|64<<16|0),v.bits=I,0}},function(t,e,n){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?ut[t]:ut[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>Z-n?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>Z-t.bi_valid,t.bi_valid+=n-Z):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function l(t,e,n){u(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function h(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var n,i,r,o,s,a,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,b=0;for(o=0;o<=q;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<X;n++)i=t.heap[n],o=u[2*u[2*i+1]+1]+1,o>d&&(o=d,b++),u[2*i+1]=o,i>l||(t.bl_count[o]++,s=0,i>=p&&(s=f[i-p]),a=u[2*i],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(c[2*i+1]+s)));if(0!==b){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,b-=2}while(b>0);for(o=d;0!==o;o--)for(i=t.bl_count[o];0!==i;)r=t.heap[--n],r>l||(u[2*r+1]!==o&&(t.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}function p(t,e,n){var i,r,o=new Array(q+1),s=0;for(i=1;i<=q;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=c(o[a]++,a))}}function d(){var t,e,n,i,o,s=new Array(q+1);for(n=0,i=0;i<U-1;i++)for(ct[i]=n,t=0;t<1<<et[i];t++)lt[n++]=i;for(lt[n-1]=i,o=0,i=0;i<16;i++)for(ht[i]=o,t=0;t<1<<nt[i];t++)ut[o++]=i;for(o>>=7;i<Y;i++)for(ht[i]=o<<7,t=0;t<1<<nt[i]-7;t++)ut[256+o++]=i;for(e=0;e<=q;e++)s[e]=0;for(t=0;t<=143;)st[2*t+1]=8,t++,s[8]++;for(;t<=255;)st[2*t+1]=9,t++,s[9]++;for(;t<=279;)st[2*t+1]=7,t++,s[7]++;for(;t<=287;)st[2*t+1]=8,t++,s[8]++;for(p(st,H+1,s),t=0;t<Y;t++)at[2*t+1]=5,at[2*t]=c(t,5);ft=new r(st,et,W+1,H,q),pt=new r(at,nt,0,Y,q),dt=new r(new Array(0),it,0,z,K)}function b(t){var e;for(e=0;e<H;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<z;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function m(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function y(t,e,n,i){m(t),i&&(a(t,n),a(t,~n)),R.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function v(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function g(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&v(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!v(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function _(t,e,n){var i,r,o,a,c=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],r=t.pending_buf[t.l_buf+c],c++,0===i?l(t,r,e):(o=lt[r],l(t,o+W+1,e),a=et[o],0!==a&&(r-=ct[o],u(t,r,a)),i--,o=s(i),l(t,o,n),a=nt[o],0!==a&&(i-=ht[o],u(t,i,a)));while(c<t.last_lit);l(t,J,e)}function x(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=X,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)r=t.heap[++t.heap_len]=l<2?++l:0,o[2*r]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)g(t,o,n);r=u;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,g(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),p(o,l,t.bl_count)}function w(t,e,n){var i,r,o=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<u&&r===s||(a<l?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*Q]++):a<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,a=0,o=r,0===s?(u=138,l=3):r===s?(u=6,l=3):(u=7,l=4))}function S(t,e,n){var i,r,o=-1,s=e[1],a=0,c=7,h=4;for(0===s&&(c=138,h=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<c&&r===s)){if(a<h){do l(t,r,t.bl_tree);while(0!==--a)}else 0!==r?(r!==o&&(l(t,r,t.bl_tree),a--),l(t,Q,t.bl_tree),u(t,a-3,2)):a<=10?(l(t,$,t.bl_tree),u(t,a-3,3)):(l(t,tt,t.bl_tree),u(t,a-11,7));a=0,o=r,0===s?(c=138,h=3):r===s?(c=6,h=3):(c=7,h=4)}}function E(t){var e;for(w(t,t.dyn_ltree,t.l_desc.max_code),w(t,t.dyn_dtree,t.d_desc.max_code),x(t,t.bl_desc),e=z-1;e>=3&&0===t.bl_tree[2*rt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function T(t,e,n,i){var r;for(u(t,e-257,5),u(t,n-1,5),u(t,i-4,4),r=0;r<i;r++)u(t,t.bl_tree[2*rt[r]+1],3);S(t,t.dyn_ltree,e-1),S(t,t.dyn_dtree,n-1)}function P(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return N;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return L;for(e=32;e<W;e++)if(0!==t.dyn_ltree[2*e])return L;return N}function M(t){bt||(d(),bt=!0),t.l_desc=new o(t.dyn_ltree,ft),t.d_desc=new o(t.dyn_dtree,pt),t.bl_desc=new o(t.bl_tree,dt),t.bi_buf=0,t.bi_valid=0,b(t)}function O(t,e,n,i){u(t,(B<<1)+(i?1:0),3),y(t,e,n,!0)}function A(t){u(t,D<<1,3),l(t,J,st),h(t)}function C(t,e,n,i){var r,o,s=0;t.level>0?(t.strm.data_type===F&&(t.strm.data_type=P(t)),x(t,t.l_desc),x(t,t.d_desc),s=E(t),r=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&e!==-1?O(t,e,n,i):t.strategy===I||o===r?(u(t,(D<<1)+(i?1:0),3),_(t,st,at)):(u(t,(j<<1)+(i?1:0),3),T(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),_(t,t.dyn_ltree,t.dyn_dtree)),b(t),i&&m(t)}function k(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(lt[n]+W+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var R=n(33),I=4,N=0,L=1,F=2,B=0,D=1,j=2,G=3,V=258,U=29,W=256,H=W+1+U,Y=30,z=19,X=2*H+1,q=15,Z=16,K=7,J=256,Q=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,st=new Array(2*(H+2));i(st);var at=new Array(2*Y);i(at);var ut=new Array(ot);i(ut);var lt=new Array(V-G+1);i(lt);var ct=new Array(U);i(ct);var ht=new Array(Y);i(ht);var ft,pt,dt,bt=!1;e._tr_init=M,e._tr_stored_block=O,e._tr_flush_block=C,e._tr_tally=k,e._tr_align=A},function(t,e,n){"use strict";function i(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,t!==i&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(t,e,n){d(function(){var i;try{i=e(n)}catch(e){return b.reject(t,e)}i===t?b.reject(t,new TypeError("Cannot resolve promise with itself")):b.resolve(t,i)})}function a(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,b.reject(t,e))}function i(e){o||(o=!0,b.resolve(t,e))}function r(){e(i,n)}var o=!1,s=l(r);"error"===s.status&&n(s.value)}function l(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function c(t){return t instanceof this?t:b.resolve(new this(i),t)}function h(t){var e=new this(i);return b.reject(e,t)}function f(t){function e(t,e){function i(t){s[e]=t,++a!==r||o||(o=!0,b.resolve(l,s))}n.resolve(t).then(i,function(t){o||(o=!0,b.reject(l,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var s=new Array(r),a=0,u=-1,l=new this(i);++u<r;)e(t[u],u);return l}function p(t){function e(t){n.resolve(t).then(function(t){o||(o=!0,b.resolve(a,t))},function(t){o||(o=!0,b.reject(a,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var s=-1,a=new this(i);++s<r;)e(t[s]);return a}var d=n(356),b={},m=["REJECTED"],y=["FULFILLED"],v=["PENDING"];t.exports=r,r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===y||"function"!=typeof e&&this.state===m)return this;var n=new this.constructor(i);if(this.state!==v){var r=this.state===y?t:e;s(n,r,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){b.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){b.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},b.resolve=function(t,e){var n=l(a,e);if("error"===n.status)return b.reject(t,n.value);var i=n.value;if(i)u(t,i);else{t.state=y,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},b.reject=function(t,e){t.state=m,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},r.resolve=c,r.reject=h,r.all=f,r.race=p},function(t,e,n){var i=n(222),r=n(34),o=i(r,"WeakMap");t.exports=o},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}t.exports=n},function(t,e,n){function i(t,e){var n=null==t?0:t.length;return!!n&&r(t,e,0)>-1}var r=n(409);t.exports=i},function(t,e,n){function i(t,e){var n=s(t),i=!n&&o(t),c=!n&&!i&&a(t),f=!n&&!i&&!c&&l(t),p=n||i||c||f,d=p?r(t.length,String):[],b=d.length;for(var m in t)!e&&!h.call(t,m)||p&&("length"==m||c&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,b))||d.push(m);return d}var r=n(215),o=n(230),s=n(82),a=n(452),u=n(223),l=n(454),c=Object.prototype,h=c.hasOwnProperty;t.exports=i},function(t,e){function n(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}t.exports=n},function(t,e,n){function i(t){return o(r(t))}var r=n(132),o=n(229);t.exports=i},function(t,e){function n(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e,n){function i(t,e,n,s,a){var u=-1,l=t.length;for(n||(n=o),a||(a=[]);++u<l;){var c=t[u];e>0&&n(c)?e>1?i(c,e-1,n,s,a):r(a,c):s||(a[a.length]=c)}return a}var r=n(405),o=n(433);t.exports=i},function(t,e,n){function i(t,e,n){return e===e?s(t,e,n):r(t,o,n)}var r=n(407),o=n(411),s=n(445);t.exports=i},function(t,e,n){function i(t){return o(t)&&r(t)==s}var r=n(79),o=n(44),s="[object Arguments]";t.exports=i},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e,n){function i(t){if(!s(t)||o(t))return!1;var e=r(t)?d:l;return e.test(a(t))}var r=n(232),o=n(435),s=n(59),a=n(446),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,h=Object.prototype,f=c.toString,p=h.hasOwnProperty,d=RegExp("^"+f.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=i},function(t,e,n){function i(t){return s(t)&&o(t.length)&&!!k[r(t)]}var r=n(79),o=n(233),s=n(44),a="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",h="[object Error]",f="[object Function]",p="[object Map]",d="[object Number]",b="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",g="[object WeakMap]",_="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",M="[object Uint8Array]",O="[object Uint8ClampedArray]",A="[object Uint16Array]",C="[object Uint32Array]",k={};k[w]=k[S]=k[E]=k[T]=k[P]=k[M]=k[O]=k[A]=k[C]=!0,k[a]=k[u]=k[_]=k[l]=k[x]=k[c]=k[h]=k[f]=k[p]=k[d]=k[b]=k[m]=k[y]=k[v]=k[g]=!1,t.exports=i},function(t,e,n){function i(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}var r=n(436),o=n(438),s=Object.prototype,a=s.hasOwnProperty;t.exports=i},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e){function n(t,e){return t+i(r()*(e-t+1))}var i=Math.floor,r=Math.random;t.exports=n},function(t,e,n){var i=n(449),r=n(427),o=n(134),s=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=s},function(t,e,n){function i(t){return r(o(t))}var r=n(229),o=n(464);t.exports=i},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function i(t,e){return r(e,function(e){return t[e]})}var r=n(212);t.exports=i},function(t,e,n){var i=n(34),r=i["__core-js_shared__"];t.exports=r},function(t,e){function n(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}t.exports=n},function(t,e,n){function i(t,e,n){function i(){var e=this&&this!==o&&this instanceof i?u:t;return e.apply(a?n:this,arguments)}var a=e&s,u=r(t);return i}var r=n(80),o=n(34),s=1;t.exports=i},function(t,e,n){function i(t,e,n){function i(){for(var o=arguments.length,f=Array(o),p=o,d=u(i);p--;)f[p]=arguments[p];var b=o<3&&f[0]!==d&&f[o-1]!==d?[]:l(f,d);if(o-=b.length,o<n)return a(t,e,s,i.placeholder,void 0,f,b,void 0,void 0,n-o);var m=this&&this!==c&&this instanceof i?h:t;return r(m,this,f)}var h=o(t);return i}var r=n(129),o=n(80),s=n(218),a=n(219),u=n(133),l=n(81),c=n(34);t.exports=i},function(t,e,n){function i(t,e,n,i){function u(){for(var e=-1,o=arguments.length,a=-1,h=i.length,f=Array(h+o),p=this&&this!==s&&this instanceof u?c:t;++a<h;)f[a]=i[a];for(;o--;)f[a++]=arguments[++e];return r(p,l?n:this,f)}var l=e&a,c=o(t);return u}var r=n(129),o=n(80),s=n(34),a=1;t.exports=i},function(t,e,n){function i(t,e,n,i,w,S,E,T){var P=e&m;if(!P&&"function"!=typeof t)throw new TypeError(d);var M=i?i.length:0;if(M||(e&=~(g|_),i=w=void 0),E=void 0===E?E:x(p(E),0),T=void 0===T?T:p(T),M-=w?w.length:0,e&_){var O=i,A=w;i=w=void 0}var C=P?void 0:l(t),k=[t,e,n,i,w,O,A,S,E,T];if(C&&c(k,C),t=k[0],e=k[1],n=k[2],i=k[3],w=k[4],T=k[9]=void 0===k[9]?P?0:t.length:x(k[9]-M,0),!T&&e&(y|v)&&(e&=~(y|v)),e&&e!=b)R=e==y||e==v?s(t,e,T):e!=g&&e!=(b|g)||w.length?a.apply(void 0,k):u(t,e,n,i);else var R=o(t,e,n);var I=C?r:h;return f(I(R,k),t,e)}var r=n(214),o=n(423),s=n(424),a=n(218),u=n(425),l=n(221),c=n(437),h=n(225),f=n(227),p=n(461),d="Expected a function",b=1,m=2,y=8,v=16,g=32,_=64,x=Math.max;t.exports=i},function(t,e,n){var i=n(222),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e,n){function i(t){for(var e=t.name+"",n=r[e],i=s.call(r,e)?n.length:0;i--;){var o=n[i],a=o.func;if(null==a||a==t)return o.name}return e}var r=n(443),o=Object.prototype,s=o.hasOwnProperty;t.exports=i},function(t,e,n){function i(t){var e=s.call(t,u),n=t[u];try{t[u]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[u]=n:delete t[u]),r}var r=n(128),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e){function n(t){var e=t.match(i);return e?e[1].split(r):[]}var i=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=n},function(t,e){function n(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(i,"{\n/* [wrapped with "+e+"] */\n");
}var i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=n},function(t,e,n){function i(t){return s(t)||o(t)||!!(a&&t&&t[a])}var r=n(128),o=n(230),s=n(82),a=r?r.isConcatSpreadable:void 0;t.exports=i},function(t,e,n){function i(t){var e=s(t),n=a[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var i=o(n);return!!i&&t===i[0]}var r=n(127),o=n(221),s=n(428),a=n(465);t.exports=i},function(t,e,n){function i(t){return!!o&&o in t}var r=n(421),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=i},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}var i=Object.prototype;t.exports=n},function(t,e,n){function i(t,e){var n=t[1],i=e[1],b=n|i,m=b<(u|l|f),y=i==f&&n==h||i==f&&n==p&&t[7].length<=e[8]||i==(f|p)&&e[7].length<=e[8]&&n==h;if(!m&&!y)return t;i&u&&(t[2]=e[2],b|=n&u?0:c);var v=e[3];if(v){var g=t[3];t[3]=g?r(g,v,e[4]):v,t[4]=g?s(t[3],a):e[4]}return v=e[5],v&&(g=t[5],t[5]=g?o(g,v,e[6]):v,t[6]=g?s(t[5],a):e[6]),v=e[7],v&&(t[7]=v),i&f&&(t[8]=null==t[8]?e[8]:d(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=b,t}var r=n(216),o=n(217),s=n(81),a="__lodash_placeholder__",u=1,l=2,c=4,h=8,f=128,p=256,d=Math.min;t.exports=i},function(t,e,n){var i=n(441),r=i(Object.keys,Object);t.exports=r},function(t,e,n){(function(t){var i=n(220),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s&&i.process,u=function(){try{return a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u}).call(e,n(180)(t))},function(t,e){function n(t){return r.call(t)}var i=Object.prototype,r=i.toString;t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){function i(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,s=-1,a=o(i.length-e,0),u=Array(a);++s<a;)u[s]=i[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=i[s];return l[e]=n(u),r(t,this,l)}}var r=n(129),o=Math.max;t.exports=i},function(t,e){var n={};t.exports=n},function(t,e,n){function i(t,e){for(var n=t.length,i=s(e.length,n),a=r(t);i--;){var u=e[i];t[i]=o(u,n)?a[u]:void 0}return t}var r=n(132),o=n(223),s=Math.min;t.exports=i},function(t,e){function n(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}t.exports=n},function(t,e){function n(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var i=Function.prototype,r=i.toString;t.exports=n},function(t,e,n){function i(t,e){return r(b,function(n){var i="_."+n[0];e&n[1]&&!o(t,i)&&t.push(i)}),t.sort()}var r=n(401),o=n(403),s=1,a=2,u=8,l=16,c=32,h=64,f=128,p=256,d=512,b=[["ary",f],["bind",s],["bindKey",a],["curry",u],["curryRight",l],["flip",d],["partial",c],["partialRight",h],["rearg",p]];t.exports=i},function(t,e,n){function i(t){if(t instanceof r)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=s(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var r=n(127),o=n(211),s=n(132);t.exports=i},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function i(t){var e=null==t?0:t.length;return e?r(t,1):[]}var r=n(408);t.exports=i},function(t,e,n){function i(t){return o(t)&&r(t)}var r=n(231),o=n(44);t.exports=i},function(t,e,n){(function(t){var i=n(34),r=n(459),o="object"==typeof e&&e&&!e.nodeType&&e,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===o,u=a?i.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||r;t.exports=c}).call(e,n(180)(t))},function(t,e,n){function i(t){return"symbol"==typeof t||o(t)&&r(t)==s}var r=n(79),o=n(44),s="[object Symbol]";t.exports=i},function(t,e,n){var i=n(413),r=n(419),o=n(439),s=o&&o.isTypedArray,a=s?r(s):i;t.exports=a},function(t,e,n){function i(t){return s(t)?r(t):o(t)}var r=n(404),o=n(414),s=n(231);t.exports=i},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e){function n(){}t.exports=n},function(t,e,n){var i=n(213),r=n(426),o=n(133),s=n(81),a=32,u=i(function(t,e){var n=s(e,o(u));return r(t,a,void 0,e,n)});u.placeholder={},t.exports=u},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function i(t){if(!t)return 0===t?t:0;if(t=r(t),t===o||t===-o){var e=t<0?-1:1;return e*s}return t===t?t:0}var r=n(462),o=1/0,s=1.7976931348623157e308;t.exports=i},function(t,e,n){function i(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}var r=n(460);t.exports=i},function(t,e,n){function i(t){if("number"==typeof t)return t;if(o(t))return s;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||c.test(t)?h(t.slice(2),n?2:8):u.test(t)?s:+t}var r=n(59),o=n(453),s=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;t.exports=i},function(t,e,n){function i(t){if(!t||!t.length)return[];var e=0;return t=r(t,function(t){if(u(t))return e=l(t.length,e),!0}),a(e,function(e){return o(t,s(e))})}var r=n(402),o=n(212),s=n(415),a=n(215),u=n(451),l=Math.max;t.exports=i},function(t,e,n){function i(t){return null==t?[]:r(t,o(t))}var r=n(420),o=n(455);t.exports=i},function(t,e,n){function i(t){if(u(t)&&!a(t)&&!(t instanceof r)){if(t instanceof o)return t;if(h.call(t,"__wrapped__"))return l(t)}return new o(t)}var r=n(127),o=n(211),s=n(131),a=n(82),u=n(44),l=n(448),c=Object.prototype,h=c.hasOwnProperty;i.prototype=s.prototype,i.prototype.constructor=i,t.exports=i},function(t,e,n){var i=n(213),r=n(463),o=i(r);t.exports=o},function(t,e,n){var i,r;!function(o,s){"use strict";i=s,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}(this,function(){"use strict";function t(t){return typeof console!==a&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):s)}function e(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function n(t,e,n){return function(){typeof console!==a&&(i.call(this,e,n),this[t].apply(this,arguments))}}function i(t,e){for(var n=0;n<u.length;n++){var i=u[n];this[i]=n<t?s:this.methodFactory(i,t,e)}}function r(e,i,r){return t(e)||n.apply(this,arguments)}function o(t,e,n){function o(t){var e=(u[t]||"silent").toUpperCase();try{return void(window.localStorage[h]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(h)+"="+e+";"}catch(t){}}function s(){var t;try{t=window.localStorage[h]}catch(t){}if(typeof t===a)try{var e=window.document.cookie,n=e.indexOf(encodeURIComponent(h)+"=");n&&(t=/^([^;]+)/.exec(e.slice(n))[1])}catch(t){}return void 0===c.levels[t]&&(t=void 0),t}var l,c=this,h="loglevel";t&&(h+=":"+t),c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||r,c.getLevel=function(){return l},c.setLevel=function(e,n){if("string"==typeof e&&void 0!==c.levels[e.toUpperCase()]&&(e=c.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(l=e,n!==!1&&o(e),i.call(c,e,t),typeof console===a&&e<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(t){s()||c.setLevel(t,!1)},c.enableAll=function(t){c.setLevel(c.levels.TRACE,t)},c.disableAll=function(t){c.setLevel(c.levels.SILENT,t)};var f=s();null==f&&(f=null==e?"WARN":e),c.setLevel(f,!1)}var s=function(){},a="undefined",u=["trace","debug","info","warn","error"],l=new o,c={};l.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=c[t];return e||(e=c[t]=new o(t,l.getLevel(),l.methodFactory)),e};var h=typeof window!==a?window.log:void 0;return l.noConflict=function(){return typeof window!==a&&window.log===l&&(window.log=h),l},l})},function(t,e,n){(function(e){(function(){function e(t){this.tokens=[],this.tokens.links={},this.options=t||c.defaults,this.rules=h.normal,this.options.gfm&&(this.options.tables?this.rules=h.tables:this.rules=h.gfm)}function n(t,e){if(this.options=e||c.defaults,this.links=t,this.rules=f.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=f.breaks:this.rules=f.gfm:this.options.pedantic&&(this.rules=f.pedantic)}function i(t){this.options=t||{}}function r(t){this.tokens=[],this.token=null,this.options=t||c.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(t,e){return e=e.toLowerCase(),"colon"===e?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function a(t,e){return t=t.source,e=e||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(i,r),n):new RegExp(t,e)}}function u(){}function l(t){for(var e,n,i=1;i<arguments.length;i++){e=arguments[i];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function c(t,n,i){if(i||"function"==typeof n){i||(i=n,n=null),n=l({},c.defaults,n||{});var s,a,u=n.highlight,h=0;try{s=e.lex(t,n)}catch(t){return i(t)}a=s.length;var f=function(t){if(t)return n.highlight=u,i(t);var e;try{e=r.parse(s,n)}catch(e){t=e}return n.highlight=u,t?i(t):i(null,e)};if(!u||u.length<3)return f();if(delete n.highlight,!a)return f();for(;h<s.length;h++)!function(t){return"code"!==t.type?--a||f():u(t.text,t.lang,function(e,n){return e?f(e):null==n||n===t.text?--a||f():(t.text=n,t.escaped=!0,void(--a||f()))})}(s[h])}else try{return n&&(n=l({},c.defaults,n)),r.parse(e.lex(t,n),n)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+o(t.message+"",!0)+"</pre>";throw t}}var h={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};h.bullet=/(?:[*+-]|\d+\.)/,h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,h.item=a(h.item,"gm")(/bull/g,h.bullet)(),h.list=a(h.list)(/bull/g,h.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+h.def.source+")")(),h.blockquote=a(h.blockquote)("def",h.def)(),h._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",h.html=a(h.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,h._tag)(),h.paragraph=a(h.paragraph)("hr",h.hr)("heading",h.heading)("lheading",h.lheading)("blockquote",h.blockquote)("tag","<"+h._tag)("def",h.def)(),h.normal=l({},h),h.gfm=l({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),h.gfm.paragraph=a(h.paragraph)("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|")(),h.tables=l({},h.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=h,e.lex=function(t,n){var i=new e(n);return i.lex(t)},e.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},e.prototype.token=function(t,e,n){for(var i,r,o,s,a,u,l,c,f,t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<u.align.length;c++)/^ *-+: *$/.test(u.align[c])?u.align[c]="right":/^ *:-+: *$/.test(u.align[c])?u.align[c]="center":/^ *:-+ *$/.test(u.align[c])?u.align[c]="left":u.align[c]=null;for(c=0;c<u.cells.length;c++)u.cells[c]=u.cells[c].split(/ *\| */);this.tokens.push(u)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),i=!1,f=o.length,c=0;c<f;c++)u=o[c],l=u.length,u=u.replace(/^ *([*+-]|\d+\.) +/,""),~u.indexOf("\n ")&&(l-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==f-1&&(a=h.bullet.exec(o[c+1])[0],s===a||s.length>1&&a.length>1||(t=o.slice(c+1).join("\n")+t,c=f-1)),r=i||/\n\n(?!\s*$)/.test(u),c!==f-1&&(i="\n"===u.charAt(u.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(u,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),u={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<u.align.length;c++)/^ *-+: *$/.test(u.align[c])?u.align[c]="right":/^ *:-+: *$/.test(u.align[c])?u.align[c]="center":/^ *:-+ *$/.test(u.align[c])?u.align[c]="left":u.align[c]=null;for(c=0;c<u.cells.length;c++)u.cells[c]=u.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(u)}else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};f._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,f._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,f.link=a(f.link)("inside",f._inside)("href",f._href)(),f.reflink=a(f.reflink)("inside",f._inside)(),f.normal=l({},f),f.pedantic=l({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),f.gfm=l({},f.normal,{escape:a(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(f.text)("]|","~]|")("|","|https?://|")()}),f.breaks=l({},f.gfm,{br:a(f.br)("{2,}","*")(),text:a(f.gfm.text)("{2,}","*")()}),n.rules=f,n.output=function(t,e,i){var r=new n(e,i);return r.output(t)},n.prototype.output=function(t){for(var e,n,i,r,s="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),s+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),"@"===r[2]?(n=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),i=this.mangle("mailto:")+n):(n=o(r[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(t))){if(r=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),t=t.substring(r[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):o(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),this.inLink=!0,s+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){s+=r[0].charAt(0),t=r[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(r,e),this.inLink=!1}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),s+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),s+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),s+=this.renderer.codespan(o(r[2],!0));else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),s+=this.renderer.br();else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),s+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),s+=this.renderer.text(o(this.smartypants(r[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(r[0].length),n=o(r[1]),i=n,s+=this.renderer.link(i,null,n);return s},n.prototype.outputLink=function(t,e){var n=o(e.href),i=e.title?o(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,o(t[1]))},n.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},n.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,r=0;r<i;r++)e=t.charCodeAt(r),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},i.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+o(e,!0)+'">'+(n?t:o(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:o(t,!0))+"\n</code></pre>"},i.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},i.prototype.html=function(t){return t},i.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},i.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},i.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},i.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},i.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},i.prototype.tablecell=function(t,e){var n=e.header?"th":"td",i=e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">";return i+t+"</"+n+">\n"},i.prototype.strong=function(t){return"<strong>"+t+"</strong>"},i.prototype.em=function(t){return"<em>"+t+"</em>"},i.prototype.codespan=function(t){return"<code>"+t+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(t){return"<del>"+t+"</del>"},i.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent(s(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},i.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},i.prototype.text=function(t){return t},r.parse=function(t,e,n){var i=new r(e,n);return i.parse(t)},r.prototype.parse=function(t){this.inline=new n(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,r,o="",s="";for(n="",t=0;t<this.token.header.length;t++)i={header:!0,align:this.token.align[t]},n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(o,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var u=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(u);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,c.options=c.setOptions=function(t){return l(c.defaults,t),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},c.Parser=r,c.parser=r.parse,c.Renderer=i,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=n,c.inlineLexer=n.output,c.parse=c,t.exports=c}).call(function(){return this||("undefined"!=typeof window?window:e)}())}).call(e,function(){return this}())},function(t,e){!function(){function e(t){if(!Array.isArray(t))throw new TypeError("You need to pass an Array not "+typeof t);if(1==t.length)return t[0];t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}"undefined"!=typeof t&&t.exports?t.exports=e:window.median=e}()},function(t,e,n){var i,r,o;!function(n,s){r=[],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(this,function(){return{louisBertrandCastel:{0:1838466,1:1806465,2:1347635,3:7377446,4:16118844,5:16110139,6:16285712,7:16386828,8:10488841,9:14095238,10:4918909,11:8325244},dDJameson:{0:16386828,1:16008978,2:16285712,3:16110139,4:16118844,5:1347635,6:1806465,7:1838466,8:4918909,9:8325244,10:10884486,11:14094981},theodorSeemann:{0:6954012,1:16386828,2:16743685,3:16569651,4:16118844,5:1478708,6:1806465,7:1838466,8:8325244,9:14095238,10:6954012,11:460551},aWallaceRimington:{0:16386828,1:10488841,2:16008978,3:16285712,4:16118844,5:7377446,6:1347635,7:2532992,8:1806465,9:8325244,10:1838466,11:14095238},hHelmholtz:{0:16118844,1:1347635,2:1806465,3:1858464,4:8325244,5:14095238,6:10292821,7:16386828,8:13839370,9:13839370,10:14227793,11:15825423},aScriabin:{0:16386828,1:14095238,2:16118844,3:5920389,4:1858464,5:10488841,6:1838466,7:16285712,8:8325756,9:1347635,10:5920389,11:1858464},aBernardKlein:{0:12847625,1:16386828,2:16008978,3:16285712,4:16118844,5:12378169,6:1347635,7:1806465,8:1838466,9:7870599,10:14095238,11:10292821},iJBelmont:{0:16386828,1:16008978,2:16285712,3:16175377,4:16118844,5:12378169,6:1281842,7:1806465,8:1838466,9:10818949,10:14095238,11:11341384},sZieverink:{0:12378169,1:1347635,2:1806465,3:1838466,4:8325244,5:14095238,6:7277893,7:10488841,8:16386828,9:16285712,10:15593607,11:16118844}}})},function(t,e,n){"use strict";function i(t,e,n){if(!(b in n)){n[b]=0;for(var i in n)if(n.hasOwnProperty(i)){if(g.indexOf(i)!==-1)continue;n[b]++,n[i][d]=n[b]}}n[b]++,t[d]=n[b]}function r(t){u.EventEmitter.call(this),this.sax=a.parser(!0,{trim:!1,normalize:!1,xmlns:!1}),this.stack=[],this.settings=t||{},this.sax.onerror=this.error.bind(this),this.sax.onopentag=this.open.bind(this),this.sax.onclosetag=this.close.bind(this),this.sax.ontext=this.sax.oncdata=this.text.bind(this)}function o(t,e,n){function i(t){return{el:t,name:a}}var r,a,u,f=typeof e,p=[];if(r=t?t.element(n):t=s.create(n,{version:c.version,encoding:c.encoding,standalone:c.standalone},{pubID:h.id,sysID:h.url}),"number"===f||"string"===f)return r.text(e);for(a in e)if(e.hasOwnProperty(a))switch(a){case"$":for(u in e[a])e[a].hasOwnProperty(u)&&r.attribute(u,e[a][u]);break;case"_":r.text(e[a]);break;case"%":case"#l":case"#d":break;default:l.isArray(e[a])?p=p.concat(e[a].map(i)):p.push({el:e[a],name:a})}var b=p.filter(function(t){return!("object"==typeof t.el&&d in t.el)});return p.filter(function(t){return"object"==typeof t.el&&d in t.el}).sort(function(t,e){return+t.el[d]-+e.el[d]}).forEach(function(t,e){var n=+t.el[d]-1;b.splice(n,0,t)}),b.forEach(function(t){o(r,t.el,t.name)}),r}var s=n(733),a=n(692),u=n(76),l=n(317),c={version:"1.0",encoding:"UTF-8",standalone:!1},h={id:"-//Recordare//DTD MusicXML 2.0 Partwise//EN",url:"http://www.musicxml.org/dtds/partwise.dtd",type:"score-partwise"},f="$",p="_",d="%",b="&",m="#name",y="#l",v="#d",g=[f,p,d,b,m,y,v];l.inherits(r,u.EventEmitter),r.prototype.error=function(t){this.emit("error",t)},r.prototype.open=function(t){var e,n={};n[m]=t.name.toLowerCase(),n[p]="",n[y]=this.sax.line+1;for(e in t.attributes)t.attributes.hasOwnProperty(e)&&(f in n||(n[f]={}),n[f][e]=t.attributes[e]);this.stack.push(n)},r.prototype.close=function(t){var e,n=this.stack.pop(),r=n[m];if(delete n[m],b in n&&delete n[b],e=this.stack[this.stack.length-1],n[p].trim().length||delete n[p],this.stack.length>0)this.settings.preserveOrder&&i(n,r,e),r in e?(e[r]=l.isArray(e[r])?e[r]:[e[r]],e[r].push(n)):e[r]=n;else{var o={};o[r]=n,this.emit("end",o)}},r.prototype.text=function(t){var e=this.stack[this.stack.length-1];e&&(e[p]+=t)},r.prototype.parse=function(t,e){this.on("end",function(t){e(null,t)}),this.on("error",e),this.sax.write(t)},e.musicJSON=function(t,e){function n(t,n){t?l.push(t):l[0]?e(l,null):e(null,n)}var i=null,o=t.match(/<\?xml [a-z0-9=\.\-\s\"\'\/\:]+\?>/gi);if(o=o[0].substring(6,o[0].length-1),i=o.match(/version=(\"|\')[0-9\.]+(\"|\')/i),!i)return void e("Invalid <xml> version",null);c.version=i[0].substring(9,i[0].length-1),i={},i=o.match(/encoding=(\"|\')[a-z0-9\-]+(\"|\')/i),i&&(c.encoding=i[0].substring(10,i[0].length-1),i={}),i=o.match(/standalone=(\"|\')[a-z0-9\-]+(\"|\')/i),i&&(c.standalone="no"!==i[0].substring(12,i[0].length-1),i={});var s=t.match(/<!DOCTYPE [a-z0-9\.\-\s\"\'\/\:]+>/gi);if(s=s[0].substring(10,s[0].length-1),i=s.match(/[a-z\-]+/i),!i)return void e("Invalid <!DOCTYPE> rootElement",null);if(h.type=i[0],i=null,i=s.match(/(\"|\')\-[a-z0-9\s\/\.]+(\"|\')/i),!i)return void e("Invalid <!DOCTYPE> dtdName",null);if(h.id=i[0].substring(1,i[0].length-1),i=null,i=s.match(/(\"|\')[a-z0-9\:\/\.]+(\"|\')/i),!i)return void e("Invalid <!DOCTYPE> dtdLocation",null);h.url=i[0].substring(1,i[0].length-1),i=null;var a={preserveOrder:!0};"object"==typeof t&&(a.preserveOrder=t.preserveOrder,t=t.source);var u=new r(a),l=[];u.parse(t,n)},e.musicXML=function(t,e){var n=o(null,t[h.type],h.type),i=n.end({pretty:!0,indent:"  ",newline:"\n"});e(null,i)}},function(t,e){"use strict";function n(t,e){return s(t-e)<=9.5367432e-7}function i(t,e){return n(e,0)?t:i(e,t%e)}function r(t){for(var e=1;!n(a(t*e)/e,t);)e*=10;return e}function o(t){if(0===t||"0"===t)return"0";"string"==typeof t&&(t=parseFloat(t));var e=r(t),n=t*e,o=s(i(n,e)),u=n/o,l=e/o;return a(u)+"/"+a(l)}var s=Math.abs,a=Math.round;t.exports=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.measureErrors={},this.errors=[],this.tempErrors=[]}return t.prototype.finalizeMeasure=function(t){var e=this.measureErrors[t];void 0===e&&(e=[]),this.measureErrors[t]=e.concat(this.tempErrors),this.tempErrors=[]},t.prototype.pushMeasureError=function(t){this.tempErrors.push(t)},t.prototype.push=function(t){this.errors.push(t)},t}();e.MusicSheetErrors=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Regular=0]="Regular",t[t.Bold=1]="Bold",t[t.Italic=2]="Italic",t[t.BoldItalic=3]="BoldItalic",t[t.Underlined=4]="Underlined"}(n=e.FontStyles||(e.FontStyles={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(237),r=n(119),o=n(365),s=function(){function t(){}return t.MXLtoIXmlElement=function(t){var e=new o;return e.loadAsync(t).then(function(t){return e.file("META-INF/container.xml").async("string")},function(t){throw t}).then(function(t){var n=new DOMParser,i=n.parseFromString(t,"text/xml"),r=i.getElementsByTagName("rootfile")[0].getAttribute("full-path");return e.file(r).async("string")},function(t){throw t}).then(function(t){var e=new DOMParser,n=e.parseFromString(t,"text/xml"),o=new i.IXmlElement(n.documentElement);return r.Promise.resolve(o)},function(t){throw t}).then(function(t){return t},function(t){throw new Error("extractSheetFromMxl: "+t.message)})},t.MXLtoXMLstring=function(t){var e=new o;return e.loadAsync(t).then(function(t){return e.file("META-INF/container.xml").async("string")},function(t){throw t}).then(function(t){var n=new DOMParser,i=n.parseFromString(t,"text/xml"),r=i.getElementsByTagName("rootfile")[0].getAttribute("full-path");return e.file(r).async("string")},function(t){throw t})},t}();e.MXLHelper=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),r=n(28),o=n(70),s=function(){function t(t){this.keySignatureNoteAlterationsDict=new o.default,this.currentAlterationsComparedToKeyInstructionList=[],this.currentInMeasureNoteAlterationsDict=new o.default,this.symbolFactory=t}return Object.defineProperty(t.prototype,"ActiveKeyInstruction",{get:function(){return this.activeKeyInstruction},set:function(t){this.activeKeyInstruction=t,this.reactOnKeyInstructionChange()},enumerable:!0,configurable:!0}),t.prototype.doCalculationsAtEndOfMeasure=function(){this.currentInMeasureNoteAlterationsDict.clear();for(var t=0,e=this.keySignatureNoteAlterationsDict.keys();t<e.length;t++){
var n=e[t];this.currentInMeasureNoteAlterationsDict.setValue(n,this.keySignatureNoteAlterationsDict.getValue(n))}},t.prototype.checkAccidental=function(t,e,n,r){if(void 0!==e){var o=e.FundamentalNote+12*e.Octave,s=this.currentAlterationsComparedToKeyInstructionList.indexOf(o)>=0;this.currentInMeasureNoteAlterationsDict.containsKey(o)?(s&&this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(o),1),this.currentInMeasureNoteAlterationsDict.getValue(o)!==e.Accidental&&(this.keySignatureNoteAlterationsDict.containsKey(o)&&this.keySignatureNoteAlterationsDict.getValue(o)!==e.Accidental?(this.currentAlterationsComparedToKeyInstructionList.push(o),this.currentInMeasureNoteAlterationsDict.setValue(o,e.Accidental)):this.currentInMeasureNoteAlterationsDict.remove(o),this.symbolFactory.addGraphicalAccidental(t,e,n,r))):e.Accidental!==i.AccidentalEnum.NONE?(s||this.currentAlterationsComparedToKeyInstructionList.push(o),this.currentInMeasureNoteAlterationsDict.setValue(o,e.Accidental),this.symbolFactory.addGraphicalAccidental(t,e,n,r)):s&&(this.currentAlterationsComparedToKeyInstructionList.splice(this.currentAlterationsComparedToKeyInstructionList.indexOf(o),1),this.symbolFactory.addGraphicalAccidental(t,e,n,r))}},t.prototype.reactOnKeyInstructionChange=function(){var t,e=r.KeyInstruction.getNoteEnumList(this.activeKeyInstruction);t=this.activeKeyInstruction.Key>0?i.AccidentalEnum.SHARP:i.AccidentalEnum.FLAT,this.keySignatureNoteAlterationsDict.clear(),this.currentAlterationsComparedToKeyInstructionList.length=0;for(var n=-9;n<9;n++)for(var o=0;o<e.length;o++)this.keySignatureNoteAlterationsDict.setValue(e[o]+12*n,t);this.doCalculationsAtEndOfMeasure()},t}();e.AccidentalCalculator=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.GraphicalObject);e.Clickable=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.All=0]="All",t[t.NoOverlays=1]="NoOverlays",t[t.Leadsheet=2]="Leadsheet"}(n=e.DrawingMode||(e.DrawingMode={}));var i;!function(t){t[t.Normal=0]="Normal",t[t.Disabled=1]="Disabled",t[t.Selected=2]="Selected",t[t.Clickable=3]="Clickable",t[t.PlaybackSymbols=4]="PlaybackSymbols",t[t.FollowSymbols=5]="FollowSymbols",t[t.QFeedbackNotFound=6]="QFeedbackNotFound",t[t.QFeedbackOk=7]="QFeedbackOk",t[t.QFeedbackPerfect=8]="QFeedbackPerfect",t[t.Debug1=9]="Debug1",t[t.Debug2=10]="Debug2",t[t.Debug3=11]="Debug3"}(i=e.MusicSymbolDrawingStyle||(e.MusicSymbolDrawingStyle={}));var r;!function(t){t[t.Following=0]="Following",t[t.Midi=1]="Midi",t[t.Manual=2]="Manual"}(r=e.PhonicScoreModes||(e.PhonicScoreModes={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.setForAllOn=function(){this.drawHighlights=!0,this.drawErrors=!0,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!0,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0},t.prototype.setForThumbmail=function(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!1,this.drawSelectionStartSymbol=!1,this.drawCursors=!1,this.drawActivitySymbols=!1,this.drawScrollIndicator=!1,this.drawComments=!0,this.drawMarkedAreas=!0},t.prototype.setForLeadsheet=function(){this.drawHighlights=!1,this.drawErrors=!1,this.drawSelectionStartSymbol=!0,this.drawSelectionEndSymbol=!0,this.drawCursors=!0,this.drawActivitySymbols=!1,this.drawScrollIndicator=!0,this.drawComments=!0,this.drawMarkedAreas=!0},t}();e.DrawingParameters=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),o=n(83),s=n(19),a=function(t){function e(e,n,i){void 0===i&&(i=void 0);var r=t.call(this)||this;return r.sourceNote=e,r.parentStaffEntry=n,r.PositionAndShape=new s.BoundingBox(r,n.PositionAndShape),void 0!==i?r.graphicalNoteLength=i:void 0!==e.NoteTie?r.graphicalNoteLength=e.calculateNoteLengthWithoutTie():r.graphicalNoteLength=e.Length,r.numberOfDots=r.calculateNumberOfNeededDots(r.graphicalNoteLength),r}return i(e,t),Object.defineProperty(e.prototype,"ParentList",{get:function(){for(var t=0,e=this.parentStaffEntry.notes.length;t<e;++t){var n=this.parentStaffEntry.notes[t];if(n.indexOf(this)!==-1)return n}},enumerable:!0,configurable:!0}),e.prototype.Transpose=function(t,e,n,i){var r=this.sourceNote.Pitch;return void 0!==o.MusicSheetCalculator.transposeCalculator&&(r=o.MusicSheetCalculator.transposeCalculator.transposePitch(this.sourceNote.Pitch,t,n)),r},e.prototype.calculateNumberOfNeededDots=function(t){var e=0;return void 0!==this.sourceNote&&void 0!==this.sourceNote.NoteTuplet||(e=Math.floor(Math.log(t.Numerator)/Math.LN2)),Math.min(3,e)},e}(r.GraphicalObject);e.GraphicalNote=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(10),s=n(142),a=n(27),u=n(45),l=function(t){function e(e,n,i){void 0===n&&(n=void 0),void 0===i&&(i=void 0);var o=t.call(this)||this;return o.graphicalInstructions=[],o.graphicalTies=[],o.lyricsEntries=[],o.parentMeasure=e,o.notes=[],o.graceStaffEntriesBefore=[],o.graceStaffEntriesAfter=[],o.sourceStaffEntry=n,void 0!==i?(o.staffEntryParent=i,o.parentVerticalContainer=i.parentVerticalContainer,o.PositionAndShape=new r.BoundingBox(o,i.PositionAndShape)):o.PositionAndShape=new r.BoundingBox(o,e.PositionAndShape),void 0!==n&&(o.relInMeasureTimestamp=n.Timestamp),o}return i(e,t),Object.defineProperty(e.prototype,"GraphicalInstructions",{get:function(){return this.graphicalInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalTies",{get:function(){return this.graphicalTies},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LyricsEntries",{get:function(){return this.lyricsEntries},enumerable:!0,configurable:!0}),e.prototype.getAbsoluteTimestamp=function(){var t=this.parentMeasure.parentSourceMeasure.AbsoluteTimestamp.clone();return void 0!==this.relInMeasureTimestamp&&t.Add(this.relInMeasureTimestamp),t},e.prototype.findEndTieGraphicalNoteFromNote=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r],a=s.sourceNote;if(void 0!==a.Pitch&&a.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&a.Pitch.Octave===t.Pitch.Octave&&a.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return s}},e.prototype.findEndTieGraphicalNoteFromNoteWithStartingSlur=function(t,e){for(var n=0,i=this.notes.length;n<i;++n)for(var r=this.notes[n],o=0,s=r.length;o<s;++o){var a=r[o],u=a.sourceNote;if(void 0!==u.NoteTie&&u.NoteSlurs.indexOf(e)!==-1)return a}},e.prototype.findEndTieGraphicalNoteFromNoteWithEndingSlur=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r],a=s.sourceNote;if(void 0!==a.Pitch&&a.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&a.Pitch.Octave===t.Pitch.Octave&&this.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return s}},e.prototype.findGraphicalNoteFromGraceNote=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s.sourceNote===t)return s}},e.prototype.findGraphicalNoteFromNote=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s.sourceNote===t&&this.getAbsoluteTimestamp().Equals(t.getAbsoluteTimestamp()))return s}},e.prototype.getGraphicalNoteDurationFromVoice=function(t){for(var e=0,n=this.notes.length;e<n;++e){var i=this.notes[e];if(i[0].sourceNote.ParentVoiceEntry.ParentVoice===t)return i[0].graphicalNoteLength}return new o.Fraction(0,1)},e.prototype.findLinkedNotes=function(t){if(void 0!==this.sourceStaffEntry&&void 0!==this.sourceStaffEntry.Link)for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r];s.parentStaffEntry===this&&t.push(s)}},e.prototype.findVoiceEntryGraphicalNotes=function(t){for(var e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s.sourceNote.ParentVoiceEntry===t)return i}},e.prototype.isVoiceEntryPartOfLinkedVoiceEntry=function(t){if(void 0!==this.sourceStaffEntry.Link)for(var e=0,n=this.sourceStaffEntry.Link.LinkStaffEntries.length;e<n;++e){var i=this.sourceStaffEntry.Link.LinkStaffEntries[e];if(i.VoiceEntries.indexOf(t)!==-1&&i!==this.sourceStaffEntry)return!0}return!1},e.prototype.getMainVoice=function(){for(var t=0,e=this.sourceStaffEntry.VoiceEntries.length;t<e;++t){var n=this.sourceStaffEntry.VoiceEntries[t];if(!(n.ParentVoice instanceof s.LinkedVoice))return n.ParentVoice}return this.notes[0][0].sourceNote.ParentVoiceEntry.ParentVoice},e.prototype.findStaffEntryMinNoteLength=function(){for(var t=new o.Fraction(Number.MAX_VALUE,1),e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,s=i.length;r<s;++r){var a=i[r],u=a.graphicalNoteLength;u.lt(t)&&u.Numerator>0&&(t=u)}return t},e.prototype.findStaffEntryMaxNoteLength=function(){for(var t=new o.Fraction(0,1),e=0,n=this.notes.length;e<n;++e)for(var i=this.notes[e],r=0,s=i.length;r<s;++r){var a=i[r],u=a.graphicalNoteLength;t.lt(u)&&u.Numerator>0&&(t=u)}return t},e.prototype.findOrCreateGraphicalNotesListFromVoiceEntry=function(t){var e;if(0===this.notes.length)e=[],this.notes.push(e);else{for(var n=0;n<this.notes.length;n++)if(this.notes[n][0].sourceNote.ParentVoiceEntry.ParentVoice===t.ParentVoice)return this.notes[n];e=[],this.notes.push(e)}return e},e.prototype.findOrCreateGraphicalNotesListFromGraphicalNote=function(t){var e,n=t.sourceNote.ParentStaffEntry;if(this.sourceStaffEntry!==n)e=this.findOrCreateGraphicalNotesListFromVoiceEntry(t.sourceNote.ParentVoiceEntry);else if(0===this.notes.length)e=[],this.notes.push(e);else{for(var i=0;i<this.notes.length;i++)if(this.notes[i][0].sourceNote.ParentVoiceEntry.ParentVoice===t.sourceNote.ParentVoiceEntry.ParentVoice)return this.notes[i];e=[],this.notes.push(e)}return e},e.prototype.addGraphicalNoteToListAtCorrectYPosition=function(t,e){if(0===t.length||e.PositionAndShape.RelativePosition.y<u.CollectionUtil.last(t).PositionAndShape.RelativePosition.Y)t.push(e);else for(var n=t.length-1;n>=0;n--){if(t[n].PositionAndShape.RelativePosition.y>e.PositionAndShape.RelativePosition.y){t.splice(n+1,0,e);break}if(0===n){t.splice(0,0,e);break}}},e}(a.GraphicalObject);e.GraphicalStaffEntry=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n=void 0),this.tie=t,this.startNote=e,this.endNote=n}return Object.defineProperty(t.prototype,"GetTie",{get:function(){return this.tie},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StartNote",{get:function(){return this.startNote},set:function(t){this.startNote=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"EndNote",{get:function(){return this.endNote},set:function(t){this.endNote=t},enumerable:!0,configurable:!0}),t}();e.GraphicalTie=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),r=n(137),o=n(479),s=n(138),a=n(136),u=n(22),l=n(60),c=n(39),h=n(484),f=n(478),p=function(){function t(t,e){void 0===e&&(e=!1),this.drawingParameters=new o.DrawingParameters,this.phonicScoreMode=f.PhonicScoreModes.Manual,this.textMeasurer=t,this.splitScreenLineColor=-1,e?this.drawingParameters.setForThumbmail():this.drawingParameters.setForAllOn()}return Object.defineProperty(t.prototype,"Mode",{set:function(t){this.phonicScoreMode=t},enumerable:!0,configurable:!0}),t.prototype.drawSheet=function(t){if(this.graphicalMusicSheet=t,this.rules=t.ParentMusicSheet.Rules,this.drawSplitScreenLine(),this.drawingParameters.drawCursors)for(var e=0,n=t.Cursors;e<n.length;e++){var o=n[e],s=new i.BoundingBox(o);s.AbsolutePosition=o.Start,s.BorderBottom=o.End.y-o.Start.y,s.BorderRight=o.Width/2,s.BorderLeft=-o.Width/2,this.isVisible(s)&&this.drawLineAsVerticalRectangle(o,r.GraphicalLayers.Cursor)}this.drawingParameters.drawScrollIndicator&&this.drawScrollIndicator();for(var a=0,u=this.graphicalMusicSheet.MusicPages;a<u.length;a++){var l=u[a];this.drawPage(l)}},t.prototype.drawLineAsHorizontalRectangle=function(t,e){var n=new a.RectangleF2D(t.Start.x,t.End.y-t.Width/2,t.End.x-t.Start.x,t.Width);n=this.applyScreenTransformationForRect(n),this.renderRectangle(n,e,t.styleId)},t.prototype.drawLineAsVerticalRectangle=function(t,e){var n=t.Start,i=t.Width,r=new a.RectangleF2D(n.x-i/2,n.y,i,t.End.y-n.y);r=this.applyScreenTransformationForRect(r),this.renderRectangle(r,e,t.styleId)},t.prototype.drawLineAsHorizontalRectangleWithOffset=function(t,e,n){var i=new u.PointF2D(t.Start.x+e.x,t.Start.y+e.y),r=new u.PointF2D(t.End.x+e.x,t.End.y+e.y),o=t.Width,s=new a.RectangleF2D(i.x,r.y-o/2,r.x-i.x,o);s=this.applyScreenTransformationForRect(s),this.renderRectangle(s,n,t.styleId)},t.prototype.drawLineAsVerticalRectangleWithOffset=function(t,e,n){var i=new u.PointF2D(t.Start.x+e.x,t.Start.y+e.y),r=new u.PointF2D(t.End.x+e.x,t.End.y+e.y),o=t.Width,s=new a.RectangleF2D(i.x,i.y,o,r.y-i.y);s=this.applyScreenTransformationForRect(s),this.renderRectangle(s,n,t.styleId)},t.prototype.drawRectangle=function(t,e){var n=t.PositionAndShape,i=new a.RectangleF2D(n.AbsolutePosition.x,n.AbsolutePosition.y,n.BorderRight,n.BorderBottom);i=this.applyScreenTransformationForRect(i),this.renderRectangle(i,e,t.style)},t.prototype.calculatePixelDistance=function(t){throw new Error("not implemented")},t.prototype.drawLabel=function(t,e){if(this.isVisible(t.PositionAndShape)){var n=t.Label;if(""!==n.text.trim()){var i=this.applyScreenTransformation(t.PositionAndShape.AbsolutePosition),r=this.calculatePixelDistance(n.fontHeight),o=r*this.textMeasurer.computeTextWidthToHeightRatio(n.text,n.font,n.fontStyle),s=Math.ceil(o),a=Math.ceil(1.2*r);switch(n.textAlignment){case l.TextAlignment.LeftTop:break;case l.TextAlignment.LeftCenter:i.y-=a/2;break;case l.TextAlignment.LeftBottom:i.y-=a;break;case l.TextAlignment.CenterTop:i.x-=s/2;break;case l.TextAlignment.CenterCenter:i.x-=s/2,i.y-=a/2;break;case l.TextAlignment.CenterBottom:i.x-=s/2,i.y-=a;break;case l.TextAlignment.RightTop:i.x-=s;break;case l.TextAlignment.RightCenter:i.x-=s,i.y-=a/2;break;case l.TextAlignment.RightBottom:i.x-=s,i.y-=a;break;default:throw new c.ArgumentOutOfRangeException("")}this.renderLabel(t,e,s,a,r,i)}}},t.prototype.applyScreenTransformation=function(t){throw new Error("not implemented")},t.prototype.applyScreenTransformations=function(t){for(var e=[],n=0,i=t;n<i.length;n++){var r=i[n];e.push(this.applyScreenTransformation(r))}return e},t.prototype.applyScreenTransformationForRect=function(t){throw new Error("not implemented")},t.prototype.drawSplitScreenLine=function(){},t.prototype.renderRectangle=function(t,e,n){throw new Error("not implemented")},t.prototype.drawScrollIndicator=function(){},t.prototype.drawSelectionStartSymbol=function(t){},t.prototype.drawSelectionEndSymbol=function(t){},t.prototype.renderLabel=function(t,e,n,i,r,o){throw new Error("not implemented")},t.prototype.renderSystemToScreen=function(t,e,n){},t.prototype.drawMeasure=function(t){throw new Error("not implemented")},t.prototype.drawSkyLine=function(t){},t.prototype.drawBottomLine=function(t){},t.prototype.drawInstrumentBracket=function(t,e){},t.prototype.drawGroupBracket=function(t,e){},t.prototype.isVisible=function(t){return!0},t.prototype.drawMusicSystem=function(t){var e=this.getSystemAbsBoundingRect(t),n=this.getSytemBoundingBoxInPixels(e);this.drawMusicSystemComponents(t,n,e)},t.prototype.getSytemBoundingBoxInPixels=function(t){var e=this.applyScreenTransformationForRect(t);return e.x=Math.round(e.x),e.y=Math.round(e.y),e},t.prototype.getSystemAbsBoundingRect=function(t){var e=t.PositionAndShape.BoundingRectangle,n=new a.RectangleF2D(t.PositionAndShape.AbsolutePosition.x+t.PositionAndShape.BorderLeft-1,t.PositionAndShape.AbsolutePosition.y+t.PositionAndShape.BorderTop-1,e.width+6,e.height+2);return n},t.prototype.drawMusicSystemComponents=function(t,e,n){var i=this.graphicalMusicSheet.SelectionStartSymbol,o=this.graphicalMusicSheet.SelectionEndSymbol;this.drawingParameters.drawSelectionStartSymbol&&void 0!==i&&this.isVisible(i.PositionAndShape)&&this.drawSelectionStartSymbol(i),this.drawingParameters.drawSelectionEndSymbol&&void 0!==o&&this.isVisible(o.PositionAndShape)&&this.drawSelectionEndSymbol(o);for(var s=0,a=t.StaffLines;s<a.length;s++){var u=a[s];this.drawStaffLine(u)}for(var l=0,c=t.SystemLines;l<c.length;l++){var h=c[l];this.drawSystemLineObject(h)}if(t===t.Parent.MusicSystems[0]&&t.Parent===t.Parent.Parent.MusicPages[0])for(var f=0,p=t.Labels;f<p.length;f++){var d=p[f];this.drawLabel(d,r.GraphicalLayers.Notes)}for(var b=0,m=t.InstrumentBrackets;b<m.length;b++){var y=m[b];this.drawInstrumentBracket(y,t)}for(var v=0,g=t.GroupBrackets;v<g.length;v++){var y=g[v];this.drawGroupBracket(y,t)}if(!this.leadSheet)for(var _=0,x=t.MeasureNumberLabels;_<x.length;_++){var w=x[_];this.drawLabel(w,r.GraphicalLayers.Notes)}for(var S=0,E=t.StaffLines;S<E.length;S++){var u=E[S];this.drawStaffLineSymbols(u)}this.drawingParameters.drawMarkedAreas&&this.drawMarkedAreas(t),this.drawingParameters.drawComments&&this.drawComment(t)},t.prototype.activateSystemRendering=function(t,e,n,i){return!0},t.prototype.drawSystemLineObject=function(t){},t.prototype.drawStaffLine=function(t){for(var e=0,n=t.Measures;e<n.length;e++){var i=n[e];this.drawMeasure(i)}},t.prototype.drawOctaveShift=function(t,e){this.drawSymbol(e.octaveSymbol,f.MusicSymbolDrawingStyle.Normal,e.PositionAndShape.AbsolutePosition);var n=t.PositionAndShape.AbsolutePosition;if(e.dashesStart.x<e.dashesEnd.x){var i=new s.GraphicalLine(e.dashesStart,e.dashesEnd,this.rules.OctaveShiftLineWidth);this.drawLineAsHorizontalRectangleWithOffset(i,n,r.GraphicalLayers.Notes)}if(!e.endsOnDifferentStaffLine||e.isSecondPart){var o=void 0,a=e.dashesEnd,l=this.rules.OctaveShiftVerticalLineLength,c=this.rules.OctaveShiftLineWidth;o=e.octaveSymbol===h.MusicSymbol.VA8||e.octaveSymbol===h.MusicSymbol.MA15?new s.GraphicalLine(a,new u.PointF2D(a.x,a.y+l),c):new s.GraphicalLine(new u.PointF2D(a.x,a.y-l),a,c),this.drawLineAsVerticalRectangleWithOffset(o,n,r.GraphicalLayers.Notes)}},t.prototype.drawStaffLines=function(t){if(void 0!==t.StaffLines)for(var e=t.PositionAndShape.AbsolutePosition,n=0;n<5;n++)this.drawLineAsHorizontalRectangleWithOffset(t.StaffLines[n],e,r.GraphicalLayers.Notes)},t.prototype.drawSymbol=function(t,e,n,i,o){void 0===i&&(i=1),void 0===o&&(o=r.GraphicalLayers.Notes)},Object.defineProperty(t.prototype,"leadSheet",{get:function(){return this.graphicalMusicSheet.LeadSheet},set:function(t){this.graphicalMusicSheet.LeadSheet=t},enumerable:!0,configurable:!0}),t.prototype.drawPage=function(t){if(this.isVisible(t.PositionAndShape)){for(var e=0,n=t.MusicSystems;e<n.length;e++){var i=n[e];this.isVisible(i.PositionAndShape)&&this.drawMusicSystem(i)}if(t===t.Parent.MusicPages[0])for(var o=0,s=t.Labels;o<s.length;o++){var a=s[o];this.drawLabel(a,r.GraphicalLayers.Notes)}}},t.prototype.drawMarkedAreas=function(t){for(var e=0,n=t.GraphicalMarkedAreas;e<n.length;e++){var i=n[e];void 0!==i&&(void 0!==i.systemRectangle&&this.drawRectangle(i.systemRectangle,r.GraphicalLayers.Background),void 0!==i.settings&&this.drawLabel(i.settings,r.GraphicalLayers.Comment),void 0!==i.labelRectangle&&this.drawRectangle(i.labelRectangle,r.GraphicalLayers.Background),void 0!==i.label&&this.drawLabel(i.label,r.GraphicalLayers.Comment))}},t.prototype.drawComment=function(t){for(var e=0,n=t.GraphicalComments;e<n.length;e++){var i=n[e];void 0!==i&&(void 0!==i.settings&&this.drawLabel(i.settings,r.GraphicalLayers.Comment),void 0!==i.label&&this.drawLabel(i.label,r.GraphicalLayers.Comment))}},t.prototype.drawStaffLineSymbols=function(t){var e=t.ParentStaff.ParentInstrument,n=t.PositionAndShape.AbsolutePosition.x,i=t.PositionAndShape.AbsolutePosition.y+2,o=t.PositionAndShape.BorderRight;e.highlight&&this.drawingParameters.drawHighlights&&this.drawLineAsHorizontalRectangle(new s.GraphicalLine(new u.PointF2D(n,i),new u.PointF2D(n+o,i),4,r.OutlineAndFillStyleEnum.Highlighted),r.GraphicalLayers.Highlight);var a=f.MusicSymbolDrawingStyle.Disabled,l=h.MusicSymbol.PLAY,c=this.drawingParameters.drawActivitySymbols;switch(this.phonicScoreMode){case f.PhonicScoreModes.Midi:l=h.MusicSymbol.PLAY,this.midiPlaybackAvailable&&t.ParentStaff.audible&&(a=f.MusicSymbolDrawingStyle.PlaybackSymbols);break;case f.PhonicScoreModes.Following:l=h.MusicSymbol.MIC,t.ParentStaff.following&&(a=f.MusicSymbolDrawingStyle.FollowSymbols);break;default:c=!1}if(c){var p=new u.PointF2D(n+o+2,i);this.drawSymbol(l,a,p)}if(this.drawingParameters.drawErrors)for(var d=0,b=t.Measures;d<b.length;d++){var m=b[d],y=m.PositionAndShape,v=y.AbsolutePosition.x,g=y.AbsolutePosition.y+2;m.hasError&&this.graphicalMusicSheet.ParentMusicSheet.DrawErroneousMeasures&&this.drawLineAsHorizontalRectangle(new s.GraphicalLine(new u.PointF2D(v,g),new u.PointF2D(v+y.BorderRight,g),4,r.OutlineAndFillStyleEnum.ErrorUnderlay),r.GraphicalLayers.MeasureError)}},t}();e.MusicSheetDrawer=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Unused_first_Symbol=0]="Unused_first_Symbol",t[t.BLACK_HEAD=1]="BLACK_HEAD",t[t.UPWARDS_TAIL=2]="UPWARDS_TAIL",t[t.DOWNWARDS_TAIL=3]="DOWNWARDS_TAIL",t[t.UPWARDS_DOUBLE_TAIL=4]="UPWARDS_DOUBLE_TAIL",t[t.DOWNWARDS_DOUBLE_TAIL=5]="DOWNWARDS_DOUBLE_TAIL",t[t.UPWARDS_TRIPLE_TAIL=6]="UPWARDS_TRIPLE_TAIL",t[t.DOWNWARDS_TRIPLE_TAIL=7]="DOWNWARDS_TRIPLE_TAIL",t[t.UPWARDS_QUAD_TAIL=8]="UPWARDS_QUAD_TAIL",t[t.DOWNWARDS_QUAD_TAIL=9]="DOWNWARDS_QUAD_TAIL",t[t.ROUND_HEAD=10]="ROUND_HEAD",t[t.WHITE_HEAD=11]="WHITE_HEAD",t[t.G_CLEF=12]="G_CLEF",t[t.F_CLEF=13]="F_CLEF",t[t.C_CLEF=14]="C_CLEF",t[t.BREVE=15]="BREVE",t[t.BREVE_REST=16]="BREVE_REST",t[t.COMMON_TIME=17]="COMMON_TIME",t[t.CUT_TIME=18]="CUT_TIME",t[t.WHOLE_REST=19]="WHOLE_REST",t[t.HALF_REST=20]="HALF_REST",t[t.QUARTER_REST=21]="QUARTER_REST",t[t.EIGHTH_REST=22]="EIGHTH_REST",t[t.SIXTEENTH_REST=23]="SIXTEENTH_REST",t[t.THIRTYSECOND_REST=24]="THIRTYSECOND_REST",t[t.SIXTYFOURTH_REST=25]="SIXTYFOURTH_REST",t[t.FLAT=26]="FLAT",t[t.SHARP=27]="SHARP",t[t.NATURAL=28]="NATURAL",t[t.DOUBLE_FLAT=29]="DOUBLE_FLAT",t[t.DOUBLE_SHARP=30]="DOUBLE_SHARP",t[t.ZERO=31]="ZERO",t[t.ONE=32]="ONE",t[t.TWO=33]="TWO",t[t.THREE=34]="THREE",t[t.FOUR=35]="FOUR",t[t.FIVE=36]="FIVE",t[t.SIX=37]="SIX",t[t.SEVEN=38]="SEVEN",t[t.EIGHT=39]="EIGHT",t[t.NINE=40]="NINE",t[t.DOT=41]="DOT",t[t.FERMATA=42]="FERMATA",t[t.INVERTED_FERMATA=43]="INVERTED_FERMATA",t[t.SPICCATO=44]="SPICCATO",t[t.TENUTO=45]="TENUTO",t[t.MARCATO=46]="MARCATO",t[t.MARCATISSIMO=47]="MARCATISSIMO",t[t.INVERTED_MARCATISSIMO=48]="INVERTED_MARCATISSIMO",t[t.P=49]="P",t[t.F=50]="F",t[t.S=51]="S",t[t.Z=52]="Z",t[t.M=53]="M",t[t.R=54]="R",t[t.SEGNO=55]="SEGNO",t[t.CODA=56]="CODA",t[t.DRUM_CLEF=57]="DRUM_CLEF",t[t.G_CLEF_SUB8=58]="G_CLEF_SUB8",t[t.G_CLEF_SUPER8=59]="G_CLEF_SUPER8",t[t.G_CLEF_SUB15=60]="G_CLEF_SUB15",t[t.G_CLEF_SUPER15=61]="G_CLEF_SUPER15",t[t.F_CLEF_SUB8=62]="F_CLEF_SUB8",t[t.F_CLEF_SUPER8=63]="F_CLEF_SUPER8",t[t.F_CLEF_SUB15=64]="F_CLEF_SUB15",t[t.F_CLEF_SUPER15=65]="F_CLEF_SUPER15",t[t.DOWN_BOW=66]="DOWN_BOW",t[t.MORDENT=67]="MORDENT",t[t.INVERTED_MORDENT=68]="INVERTED_MORDENT",t[t.TURN=69]="TURN",t[t.INVERTED_TURN=70]="INVERTED_TURN",t[t.LEFTHAND_PIZZICATO=71]="LEFTHAND_PIZZICATO",t[t.RELEASE_PED=72]="RELEASE_PED",t[t.ENGAGE_PED=73]="ENGAGE_PED",t[t.VA8=74]="VA8",t[t.VB8=75]="VB8",t[t.TRILL=76]="TRILL",t[t.MA15=77]="MA15",t[t.MB15=78]="MB15",t[t.HIGH=79]="HIGH",t[t.PLAY=80]="PLAY",t[t.MIC=81]="MIC",t[t.SNAP_PIZZICATO=82]="SNAP_PIZZICATO",t[t.NATURAL_HARMONIC=83]="NATURAL_HARMONIC",t[t.EditPen=84]="EditPen"}(n=e.MusicSymbol||(e.MusicSymbol={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(244),o=n(19),s=n(10),a=n(60),u=n(239),l=n(27),c=n(22),h=n(84),f=n(70),p=n(45),d=n(242),b=function(t){function e(e,n){var i=t.call(this)||this;return i.needsToBeRedrawn=!0,i.staffLines=[],i.graphicalMeasures=[],i.labels=new f.default,i.measureNumberLabels=[],i.objectsToRedraw=[],i.instrumentBrackets=[],i.groupBrackets=[],i.graphicalMarkedAreas=[],i.graphicalComments=[],i.systemLines=[],i.parent=e,i.id=n,i.boundingBox=new o.BoundingBox(i,e.PositionAndShape),i.maxLabelLength=0,i.rules=i.parent.Parent.ParentMusicSheet.Rules,i}return i(e,t),Object.defineProperty(e.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffLines",{get:function(){return this.staffLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalMeasures",{get:function(){return this.graphicalMeasures},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MeasureNumberLabels",{get:function(){return this.measureNumberLabels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Labels",{get:function(){return this.labels.keys()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ObjectsToRedraw",{get:function(){return this.objectsToRedraw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"InstrumentBrackets",{get:function(){return this.instrumentBrackets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GroupBrackets",{get:function(){return this.groupBrackets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalMarkedAreas",{get:function(){return this.graphicalMarkedAreas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GraphicalComments",{get:function(){return this.graphicalComments},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SystemLines",{get:function(){return this.systemLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e.prototype.createSystemLeftLine=function(t,e){var n=-t/2;this===this.parent.MusicSystems[0]&&this.parent===this.parent.Parent.MusicPages[0]&&(n=this.maxLabelLength+e-t/2);var i=this.staffLines[0].Measures[0],r=void 0;this.staffLines.length>1&&(r=this.staffLines[this.staffLines.length-1].Measures[0]);var o=this.createSystemLine(n,t,h.SystemLinesEnum.SingleThin,d.SystemLinePosition.MeasureBegin,this,i,r);this.SystemLines.push(o),this.boundingBox.ChildElements.push(o.PositionAndShape),o.PositionAndShape.RelativePosition=new c.PointF2D(n,0),o.PositionAndShape.BorderLeft=0,o.PositionAndShape.BorderRight=t,o.PositionAndShape.BorderTop=0,o.PositionAndShape.BorderBottom=this.boundingBox.Size.height,this.createLinesForSystemLine(o)},e.prototype.createVerticalLineForMeasure=function(t,e,n,i,r,o){var s=o.ParentStaffLine,a=new c.PointF2D(s.PositionAndShape.RelativePosition.x,s.PositionAndShape.RelativePosition.y),u=s.ParentStaff.ParentInstrument.Staves;if(s.ParentStaff===u[0]){var l=void 0;u.length>1&&(l=this.getBottomStaffLine(s).Measures[r]);var h=this.createSystemLine(t,e,n,i,this,o,l),f=a.x+t;h.PositionAndShape.RelativePosition=new c.PointF2D(f,0),h.PositionAndShape.BorderLeft=0,h.PositionAndShape.BorderRight=e,this.SystemLines.push(h),this.boundingBox.ChildElements.push(h.PositionAndShape)}},e.prototype.setYPositionsToVerticalLineObjectsAndCreateLines=function(t){},e.prototype.calculateBorders=function(t){},e.prototype.alignBeginInstructions=function(){},e.prototype.GetLeftBorderAbsoluteXPosition=function(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].Measures[0].beginInstructionsWidth},e.prototype.GetRightBorderAbsoluteXPosition=function(){return this.StaffLines[0].PositionAndShape.AbsolutePosition.x+this.StaffLines[0].StaffLines[0].End.x},e.prototype.AddStaffMeasures=function(t){for(var e=0,n=t.length;e<n;++e){var i=t[e];i.parentMusicSystem=this}this.graphicalMeasures.push(t)},e.prototype.GetSystemsFirstTimeStamp=function(){return this.graphicalMeasures[0][0].parentSourceMeasure.AbsoluteTimestamp},e.prototype.GetSystemsLastTimeStamp=function(){var t=this.graphicalMeasures[this.graphicalMeasures.length-1][0].parentSourceMeasure;return s.Fraction.plus(t.AbsoluteTimestamp,t.Duration)},e.prototype.createInstrumentBrackets=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n];if(r.Staves.length>1){for(var o=void 0,s=void 0,a=0,u=this.staffLines.length;a<u;++a){var l=this.staffLines[a];l.ParentStaff===r.Staves[0]&&(o=l),l.ParentStaff===r.Staves[r.Staves.length-1]&&(s=l)}void 0!==o&&void 0!==s&&this.createInstrumentBracket(o,s)}}},e.prototype.createGroupBrackets=function(t,e,n){for(var i=0,r=t.length;i<r;++i){var o=t[i];if(!(o.InstrumentalGroups.length<1)){var s=this.findFirstVisibleInstrumentInInstrumentalGroup(o),a=this.findLastVisibleInstrumentInInstrumentalGroup(o);if(void 0!==s&&void 0!==a){for(var u=void 0,l=void 0,c=0,h=this.staffLines.length;c<h;++c){var f=this.staffLines[c];f.ParentStaff===s.Staves[0]&&(u=f),f.ParentStaff===p.CollectionUtil.last(a.Staves)&&(l=f)}void 0!==u&&void 0!==u&&this.createGroupBracket(u,u,n),o.InstrumentalGroups.length<1||this.createGroupBrackets(o.InstrumentalGroups,e,n+1)}}}},e.prototype.createMusicSystemLabel=function(t,e,n){if(this.parent===this.parent.Parent.MusicPages[0]&&this===this.parent.MusicSystems[0]){for(var i=this.parent.Parent.ParentMusicSheet.getVisibleInstruments(),r=0,o=i.length;r<o;++r){var s=i[r],l=new u.GraphicalLabel(s.NameLabel,t,a.TextAlignment.LeftCenter,this.boundingBox);l.setLabelPositionAndShapeBorders(),this.labels.setValue(l,s),this.boundingBox.ChildElements.push(l.PositionAndShape),l.PositionAndShape.RelativePosition=new c.PointF2D(0,0)}this.maxLabelLength=0;for(var h=this.labels.keys(),r=0,o=h.length;r<o;++r){var f=h[r];f.PositionAndShape.Size.width>this.maxLabelLength&&(this.maxLabelLength=f.PositionAndShape.Size.width)}this.updateMusicSystemStaffLineXPosition(e)}},e.prototype.setMusicSystemLabelsYPosition=function(){var t=this;this.parent===this.parent.Parent.MusicPages[0]&&this===this.parent.MusicSystems[0]&&this.labels.forEach(function(e,n){for(var i=0,r=0,o=0;o<t.staffLines.length;o++)if(t.staffLines[o].ParentStaff.ParentInstrument===n){for(var s=o;s<t.staffLines.length;s++){var a=t.staffLines[s];if(a.ParentStaff.ParentInstrument!==n)break;i+=a.PositionAndShape.RelativePosition.y,r++}break}r>0&&(e.PositionAndShape.RelativePosition=new c.PointF2D(0,i/r+2))})},e.prototype.checkStaffEntriesForStaffEntryLink=function(){for(var t=!1,e=!1,n=0;n<this.staffLines.length-1;n++){for(var i=0,r=this.staffLines[n].Measures.length;i<r;++i)for(var o=this.staffLines[n].Measures[i],s=0,a=o.staffEntries.length;s<a;++s){
var u=o.staffEntries[s];void 0!==u.sourceStaffEntry.Link&&(t=!0)}for(var i=0,r=this.staffLines[n+1].Measures.length;i<r;++i)for(var o=this.staffLines[n+1].Measures[i],s=0,a=o.staffEntries.length;s<a;++s){var u=o.staffEntries[s];void 0!==u.sourceStaffEntry.Link&&(e=!0)}}return!(!t||!e)},e.prototype.getBottomStaffLine=function(t){for(var e=t.ParentStaff.ParentInstrument.Staves,n=e[e.length-1],i=0,r=t.ParentMusicSystem.staffLines;i<r.length;i++){var o=r[i];if(o.ParentStaff===n)return o}},e.prototype.createSystemLine=function(t,e,n,i,r,o,s){throw void 0===s&&(s=void 0),new Error("not implemented")},e.prototype.createLinesForSystemLine=function(t){},e.prototype.calcBracketsWidth=function(){for(var t=0,e=0,n=this.GroupBrackets.length;e<n;++e){var i=this.GroupBrackets[e];t=Math.max(t,i.PositionAndShape.Size.width)}for(var r=0,o=this.InstrumentBrackets.length;r<o;++r){var s=this.InstrumentBrackets[r];t=Math.max(t,s.PositionAndShape.Size.width)}return t},e.prototype.createInstrumentBracket=function(t,e){},e.prototype.createGroupBracket=function(t,e,n){},e.prototype.findFirstVisibleInstrumentInInstrumentalGroup=function(t){for(var e=0,n=t.InstrumentalGroups.length;e<n;++e){var i=t.InstrumentalGroups[e];{if(!(i instanceof r.Instrument))return this.findFirstVisibleInstrumentInInstrumentalGroup(i);if(i.Visible===!0)return i}}},e.prototype.findLastVisibleInstrumentInInstrumentalGroup=function(t){for(var e,n=t.InstrumentalGroups.length-1;n>=0;n--){e=t.InstrumentalGroups[n];{if(!(e instanceof r.Instrument))return this.findLastVisibleInstrumentInInstrumentalGroup(e);if(e.Visible===!0)return e}}},e.prototype.updateMusicSystemStaffLineXPosition=function(t){for(var e=0,n=this.StaffLines.length;e<n;++e){var i=this.StaffLines[e],r=i.PositionAndShape.RelativePosition;r.x=this.maxLabelLength+t,i.PositionAndShape.RelativePosition=r,i.PositionAndShape.BorderRight=this.boundingBox.Size.width-this.maxLabelLength-t;for(var o=0;o<i.StaffLines.length;o++){var s=new c.PointF2D(i.PositionAndShape.Size.width,i.StaffLines[o].End.y);i.StaffLines[o].End=s}}},e}(l.GraphicalObject);e.MusicSystem=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(240),r=n(35),o=n(28),s=n(20),a=n(22),u=n(138),l=n(84),c=n(83),h=n(20),f=n(45),p=n(242),d=function(){function t(){this.globalSystemIndex=0,this.leadSheet=!1}return t.prototype.initialize=function(t,e,n,i){this.leadSheet=t.LeadSheet,this.graphicalMusicSheet=t,this.rules=this.graphicalMusicSheet.ParentMusicSheet.rules,this.measureList=e,this.symbolFactory=i,this.currentMusicPage=this.createMusicPage(),this.currentPageHeight=0,this.numberOfVisibleStaffLines=n,this.activeRhythm=new Array(this.numberOfVisibleStaffLines),this.activeKeys=new Array(this.numberOfVisibleStaffLines),this.activeClefs=new Array(this.numberOfVisibleStaffLines),this.initializeActiveInstructions(this.measureList[0])},t.prototype.buildMusicSystems=function(){var t=!1,e=this.getFullPageSystemWidth();this.measureListIndex=0,this.currentSystemParams=new b,this.currentSystemParams.currentSystem=this.initMusicSystem(),this.layoutSystemStaves(),this.currentSystemParams.currentSystem.createMusicSystemLabel(this.rules.InstrumentLabelTextHeight,this.rules.SystemLabelsRightMargin,this.rules.LabelMarginBorderFactor),this.currentPageHeight+=this.currentSystemParams.currentSystem.PositionAndShape.RelativePosition.y;for(var n=0,i=0,r=this.measureList.length;i<r;++i)this.measureList[i].length>0&&n++;for(;this.measureListIndex<n;){for(var o=this.measureList[this.measureListIndex],i=0,r=o.length;i<r;++i)o[i].resetLayout();var s=o[0].parentSourceMeasure,a=s.BreakSystemAfter,u=this.currentSystemParams.IsSystemStartMeasure(),l=s===this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure(),c=this.rules.MeasureLeftMargin,h=0,f=this.getMeasureStartLine();c+=this.getLineWidth(o[0],f,u),this.leadSheet||(c+=this.addBeginInstructions(o,u,l),h+=this.addEndInstructions(o));for(var p=0,d=0;d<this.numberOfVisibleStaffLines;d++)p=Math.max(p,o[d].minimumStaffEntriesWidth);var m=this.getMeasureEndLine();h+=this.getLineWidth(o[0],m,u);var y=this.rules.MeasureLeftMargin;if(this.measureListIndex+1<this.measureList.length){var v=this.measureList[this.measureListIndex+1],g=v[0].parentSourceMeasure;g.hasBeginInstructions()&&(y+=this.addBeginInstructions(v,!1,!1))}var _=c+h+p,x=this.currentSystemParams.currentWidth+_+y<e;u||x?(this.addMeasureToSystem(o,f,m,_,c,p,h),this.updateActiveClefs(s,o),this.measureListIndex++):this.finalizeCurrentAndCreateNewSystem(o,t),t=a}this.finalizeCurrentAndCreateNewSystem(this.measureList[this.measureList.length-1],!0)},t.prototype.setMeasureWidth=function(t,e,n,i){for(var r=0,o=t.length;r<o;++r){var s=t[r];s.setWidth(e),n>0&&(s.beginInstructionsWidth=n),i>0&&(s.endInstructionsWidth=i)}},t.prototype.finalizeCurrentAndCreateNewSystem=function(t,e){void 0===e&&(e=!1),this.adaptRepetitionLineWithIfNeeded(),e||this.checkAndCreateExtraInstructionMeasure(t),this.stretchMusicSystem(e),this.currentPageHeight+this.currentSystemParams.currentSystem.PositionAndShape.Size.height+this.rules.SystemDistance<=this.rules.PageHeight?(this.currentPageHeight+=this.currentSystemParams.currentSystem.PositionAndShape.Size.height+this.rules.SystemDistance,this.currentPageHeight+this.currentSystemParams.currentSystem.PositionAndShape.Size.height+this.rules.SystemDistance>=this.rules.PageHeight&&(this.currentMusicPage=this.createMusicPage(),this.currentPageHeight=this.rules.PageTopMargin+this.rules.TitleTopDistance)):(this.currentMusicPage=this.createMusicPage(),this.currentPageHeight=this.rules.PageTopMargin+this.rules.TitleTopDistance),this.currentSystemParams=new b,this.measureListIndex<this.measureList.length&&(this.currentSystemParams.currentSystem=this.initMusicSystem(),this.layoutSystemStaves())},t.prototype.adaptRepetitionLineWithIfNeeded=function(){var t=this.currentSystemParams.systemMeasures;if(t.length>=1){var e=this.currentSystemParams.currentSystem.GraphicalMeasures[this.currentSystemParams.currentSystem.GraphicalMeasures.length-1],n=t[t.length-1],i=0;n.endLine===l.SystemLinesEnum.DotsBoldBoldDots&&(n.endLine=l.SystemLinesEnum.DotsThinBold,i=e[0].getLineWidth(l.SystemLinesEnum.DotsBoldBoldDots)/2-e[0].getLineWidth(l.SystemLinesEnum.DotsThinBold)),this.currentSystemParams.currentSystemFixWidth-=i;for(var r=0,o=e.length;r<o;++r){var s=e[r];s.endInstructionsWidth-=i}}},t.prototype.addMeasureToSystem=function(t,e,n,i,r,o,s){this.currentSystemParams.systemMeasures.push({beginLine:e,endLine:n}),this.setMeasureWidth(t,i,r,s),this.addStaveMeasuresToSystem(t),this.currentSystemParams.currentWidth+=i,this.currentSystemParams.currentSystemFixWidth+=r+s,this.currentSystemParams.currentSystemVarWidth+=o,this.currentSystemParams.systemMeasureIndex++},t.prototype.createMusicPage=function(){var t=new i.GraphicalMusicPage(this.graphicalMusicSheet);return this.graphicalMusicSheet.MusicPages.push(t),t.PositionAndShape.BorderLeft=0,t.PositionAndShape.BorderRight=this.graphicalMusicSheet.ParentMusicSheet.pageWidth,t.PositionAndShape.BorderTop=0,t.PositionAndShape.BorderBottom=this.rules.PageHeight,t.PositionAndShape.RelativePosition=new a.PointF2D(0,0),t},t.prototype.initMusicSystem=function(){var t=this.symbolFactory.createMusicSystem(this.currentMusicPage,this.globalSystemIndex++);this.currentMusicPage.MusicSystems.push(t);var e=t.PositionAndShape;return this.currentMusicPage.PositionAndShape.ChildElements.push(e),t},t.prototype.getFullPageSystemWidth=function(){return this.currentMusicPage.PositionAndShape.Size.width-this.rules.PageLeftMargin-this.rules.PageRightMargin-this.rules.SystemLeftMargin-this.rules.SystemRightMargin},t.prototype.layoutSystemStaves=function(){var t=this.getFullPageSystemWidth(),e=this.currentSystemParams.currentSystem,n=e.PositionAndShape;n.BorderLeft=0,n.BorderRight=t,n.BorderTop=0;for(var i=[],r=this.graphicalMusicSheet.ParentMusicSheet.Instruments,o=0,s=r.length;o<s;++o){var a=r[o];if(0!==a.Voices.length&&a.Visible)for(var u=0,l=a.Staves.length;u<l;++u){var c=a.Staves[u];i.push(c)}}var h=!1;if(this.leadSheet)for(var o=0,s=i.length;o<s;++o){var c=i[o];if(c.ParentInstrument.LyricVersesNumbers.length>1){h=!0;break}}for(var f=0,p=0;p<i.length;p++)if(this.addStaffLineToMusicSystem(e,f,i[p]),f+=this.rules.StaffHeight,p+1<i.length){var d=0;d=this.leadSheet&&!h?2.5:i[p].ParentInstrument===i[p+1].ParentInstrument?this.rules.BetweenStaffDistance:this.rules.StaffDistance,f+=d}n.BorderBottom=f},t.prototype.addStaffLineToMusicSystem=function(t,e,n){if(void 0!==t){var i=this.symbolFactory.createStaffLine(t,n);t.StaffLines.push(i);var r=i.PositionAndShape;t.PositionAndShape.ChildElements.push(r);var o=new a.PointF2D;t.Parent.MusicSystems[0]===t&&t.Parent===t.Parent.Parent.MusicPages[0]?o.x=this.rules.FirstSystemMargin:o.x=0,o.y=e,r.RelativePosition=o,t.Parent.MusicSystems[0]===t&&t.Parent===t.Parent.Parent.MusicPages[0]?r.BorderRight=t.PositionAndShape.Size.width-this.rules.FirstSystemMargin:r.BorderRight=t.PositionAndShape.Size.width,r.BorderLeft=0,r.BorderTop=0,r.BorderBottom=this.rules.StaffHeight;for(var s=0;s<5;s++){var l=new a.PointF2D;l.x=0,l.y=s*this.rules.StaffHeight/4;var c=new a.PointF2D;c.x=i.PositionAndShape.Size.width,c.y=s*this.rules.StaffHeight/4,this.leadSheet&&(l.y=c.y=0),i.StaffLines[s]=new u.GraphicalLine(l,c,this.rules.StaffLineWidth)}}},t.prototype.initializeActiveInstructions=function(t){var e=this.graphicalMusicSheet.ParentMusicSheet.getFirstSourceMeasure();if(void 0!==e){this.visibleStaffIndices=this.graphicalMusicSheet.getVisibleStavesIndecesFromSourceMeasure(t);for(var n=0,i=this.visibleStaffIndices.length;n<i;n++){var r=this.visibleStaffIndices[n],s=this.graphicalMusicSheet.getGraphicalMeasureFromSourceMeasureAndIndex(e,r);this.activeClefs[n]=e.FirstInstructionsStaffEntries[r].Instructions[0];var a=o.KeyInstruction.copy(e.FirstInstructionsStaffEntries[r].Instructions[1]);a=this.transposeKeyInstruction(a,s),this.activeKeys[n]=a,this.activeRhythm[n]=e.FirstInstructionsStaffEntries[r].Instructions[2]}}},t.prototype.transposeKeyInstruction=function(t,e){return 0!==this.graphicalMusicSheet.ParentMusicSheet.Transpose&&e.ParentStaff.ParentInstrument.MidiInstrumentId!==h.MidiInstrument.Percussion&&void 0!==c.MusicSheetCalculator.transposeCalculator&&c.MusicSheetCalculator.transposeCalculator.transposeKey(t,this.graphicalMusicSheet.ParentMusicSheet.Transpose),t},t.prototype.addBeginInstructions=function(t,e,n){var i=t.length;if(0===i)return 0;for(var r=0,o=t[0].parentSourceMeasure,s=0;s<i;++s){var a=t[s],u=this.visibleStaffIndices[s],l=o.FirstInstructionsStaffEntries[u],c=this.AddInstructionsAtMeasureBegin(l,a,s,n,e);r=Math.max(r,c)}return r},t.prototype.addEndInstructions=function(t){var e=t.length;if(0===e)return 0;for(var n=.5,i=t[0].parentSourceMeasure,r=0;r<e;r++){var o=t[r],s=this.visibleStaffIndices[r],a=i.LastInstructionsStaffEntries[s],u=this.addInstructionsAtMeasureEnd(a,o);n=Math.max(n,u)}return n},t.prototype.AddInstructionsAtMeasureBegin=function(t,e,n,i,a){var u=0,l=void 0,c=void 0,h=void 0;if(void 0!==t)for(var f=0,p=t.Instructions.length;f<p;++f){var d=t.Instructions[f];d instanceof s.ClefInstruction?l=d:d instanceof o.KeyInstruction?c=d:d instanceof r.RhythmInstruction&&(h=d)}a&&(void 0===l&&(l=this.activeClefs[n]),void 0===c&&(c=this.activeKeys[n]),i&&void 0===h&&(h=this.activeRhythm[n]));var b=!1,m=!1,y=!1;if(void 0!==l?(e.addClefAtBegin(l),b=!0):l=this.activeClefs[n],void 0!==c){c=this.transposeKeyInstruction(c,e);var v=a?void 0:this.activeKeys[n];e.addKeyAtBegin(c,v,l),m=!0}return void 0!==h&&(e.addRhythmAtBegin(h),y=!0),(b||m||y)&&(u+=e.beginInstructionsWidth,y&&(u+=this.rules.RhythmRightMargin)),u},t.prototype.addInstructionsAtMeasureEnd=function(t,e){if(void 0===t||void 0===t.Instructions||0===t.Instructions.length)return 0;for(var n=0,i=t.Instructions.length;n<i;++n){var r=t.Instructions[n];if(r instanceof s.ClefInstruction){var o=r;e.addClefAtEnd(o)}}return this.rules.MeasureRightMargin+e.endInstructionsWidth},t.prototype.updateActiveClefs=function(t,e){for(var n=0,i=e.length;n<i;n++){var a=this.visibleStaffIndices[n],u=t.FirstInstructionsStaffEntries[a];if(void 0!==u)for(var l=0,c=u.Instructions.length;l<c;++l){var h=u.Instructions[l];h instanceof s.ClefInstruction?this.activeClefs[n]=h:h instanceof o.KeyInstruction?this.activeKeys[n]=h:h instanceof r.RhythmInstruction&&(this.activeRhythm[n]=h)}for(var f=t.getEntriesPerStaff(a),l=0,c=f.length;l<c;++l){var p=f[l];if(void 0!==p.Instructions)for(var d=0,b=p.Instructions.length;d<b;++d){var h=p.Instructions[d];h instanceof s.ClefInstruction&&(this.activeClefs[n]=h)}}var m=t.LastInstructionsStaffEntries[a];if(void 0!==m)for(var y=m.Instructions,l=0,b=y.length;l<b;++l){var h=y[l];h instanceof s.ClefInstruction&&(this.activeClefs[n]=h)}}},t.prototype.checkAndCreateExtraInstructionMeasure=function(t){for(var e=t[0].parentSourceMeasure.FirstInstructionsStaffEntries,n=[],i=0,s=t.length;i<s;++i){var a=t[i];n.push(e[a.ParentStaff.idInMusicSheet])}for(var u=0,c=0,s=n.length;c<s;++c){var h=n[c];if(void 0!==h){for(var f=h.Instructions,p=void 0,d=void 0,b=0,m=f.length;b<m;++b){var y=f[b];y instanceof o.KeyInstruction&&y.Key!==this.activeKeys[c].Key&&(p=y),y instanceof r.RhythmInstruction&&y!==this.activeRhythm[c]&&(d=y)}if(void 0!==p||void 0!==d){var v=this.addExtraInstructionMeasure(c,p,d);u=Math.max(u,v)}}}u>0&&(this.currentSystemParams.systemMeasures.push({beginLine:l.SystemLinesEnum.None,endLine:l.SystemLinesEnum.None}),this.currentSystemParams.currentWidth+=u,this.currentSystemParams.currentSystemFixWidth+=u)},t.prototype.addExtraInstructionMeasure=function(t,e,n){var i=this.currentSystemParams.currentSystem,r=[],o=this.symbolFactory.createExtraStaffMeasure(i.StaffLines[t]);r.push(o),void 0!==e&&o.addKeyAtBegin(e,this.activeKeys[t],this.activeClefs[t]),void 0!==n&&o.addRhythmAtBegin(n),o.PositionAndShape.BorderLeft=0,o.PositionAndShape.BorderTop=0,o.PositionAndShape.BorderBottom=this.rules.StaffHeight;var s=this.rules.MeasureLeftMargin+o.beginInstructionsWidth+this.rules.MeasureRightMargin;return o.PositionAndShape.BorderRight=s,i.StaffLines[t].Measures.push(o),o.ParentStaffLine=i.StaffLines[t],i.StaffLines[t].PositionAndShape.ChildElements.push(o.PositionAndShape),s},t.prototype.addStaveMeasuresToSystem=function(t){if(void 0!==t[0]){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);for(var i=this.currentSystemParams.currentSystem,r=0;r<this.numberOfVisibleStaffLines;r++){var o=e[r];i.StaffLines[r].Measures.push(o),o.ParentStaffLine=i.StaffLines[r],i.StaffLines[r].PositionAndShape.ChildElements.push(o.PositionAndShape)}i.AddStaffMeasures(e)}},t.prototype.getMeasureStartLine=function(){var t=this.thisMeasureBeginsLineRepetition();if(t){var e=this.currentSystemParams.IsSystemStartMeasure(),n=0===this.measureListIndex;if(this.previousMeasureEndsLineRepetition()&&!e)return l.SystemLinesEnum.DotsBoldBoldDots;if(!n)return l.SystemLinesEnum.BoldThinDots}return l.SystemLinesEnum.None},t.prototype.getMeasureEndLine=function(){return this.nextMeasureBeginsLineRepetition()&&this.thisMeasureEndsLineRepetition()?l.SystemLinesEnum.DotsBoldBoldDots:this.thisMeasureEndsLineRepetition()?l.SystemLinesEnum.DotsThinBold:this.measureListIndex===this.measureList.length-1||this.measureList[this.measureListIndex][0].parentSourceMeasure.endsPiece?l.SystemLinesEnum.ThinBold:this.nextMeasureHasKeyInstructionChange()||this.thisMeasureEndsWordRepetition()||this.nextMeasureBeginsWordRepetition()?l.SystemLinesEnum.DoubleThin:l.SystemLinesEnum.SingleThin},t.prototype.getLineWidth=function(t,e,n){var i=t.getLineWidth(e);return e===l.SystemLinesEnum.DotsBoldBoldDots&&(i/=2),n&&e===l.SystemLinesEnum.BoldThinDots&&(i+=this.rules.DistanceBetweenLastInstructionAndRepetitionBarline),i},t.prototype.previousMeasureEndsLineRepetition=function(){if(0===this.measureListIndex)return!1;for(var t=0,e=this.measureList[this.measureListIndex-1].length;t<e;++t){var n=this.measureList[this.measureListIndex-1][t];if(n.endsWithLineRepetition())return!0}return!1},t.prototype.thisMeasureBeginsLineRepetition=function(){for(var t=0,e=this.measureList[this.measureListIndex].length;t<e;++t){var n=this.measureList[this.measureListIndex][t];if(n.beginsWithLineRepetition())return!0}return!1},t.prototype.nextMeasureBeginsLineRepetition=function(){var t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length)return!1;for(var e=0,n=this.measureList[t].length;e<n;++e){var i=this.measureList[t][e];if(i.beginsWithLineRepetition())return!0}return!1},t.prototype.thisMeasureEndsLineRepetition=function(){for(var t=0,e=this.measureList[this.measureListIndex].length;t<e;++t){var n=this.measureList[this.measureListIndex][t];if(n.endsWithLineRepetition())return!0}return!1},t.prototype.nextMeasureBeginsWordRepetition=function(){var t=this.measureListIndex+1;if(t>=this.graphicalMusicSheet.ParentMusicSheet.SourceMeasures.length)return!1;for(var e=0,n=this.measureList[t].length;e<n;++e){var i=this.measureList[t][e];if(i.beginsWithWordRepetition())return!0}return!1},t.prototype.thisMeasureEndsWordRepetition=function(){for(var t=0,e=this.measureList[this.measureListIndex].length;t<e;++t){var n=this.measureList[this.measureListIndex][t];if(n.endsWithWordRepetition())return!0}return!1},t.prototype.nextMeasureHasKeyInstructionChange=function(){return void 0!==this.getNextMeasureKeyInstruction()},t.prototype.getNextMeasureKeyInstruction=function(){if(this.measureListIndex<this.measureList.length-1)for(var t=0;t<this.measureList[this.measureListIndex].length;t++){var e=this.measureList[this.measureListIndex+1][t].parentSourceMeasure;if(void 0===e)return;return e.getKeyInstruction(this.visibleStaffIndices[t])}},t.prototype.calculateXScalingFactor=function(t,e){if(Math.abs(e-0)<1e-5||Math.abs(t-0)<1e-5)return 1;var n,i=this.currentSystemParams.currentSystem;n=i.StaffLines[0].PositionAndShape.Size.width;var r=(n-t)/e;return r},t.prototype.stretchMusicSystem=function(t){var e=this.calculateXScalingFactor(this.currentSystemParams.currentSystemFixWidth,this.currentSystemParams.currentSystemVarWidth);t&&(e=Math.min(e,this.rules.LastSystemMaxScalingFactor));for(var n=this.currentSystemParams.currentSystem,i=0,r=n.StaffLines.length;i<r;++i)for(var o=n.StaffLines[i],s=0,a=0;a<o.Measures.length;a++){var u=o.Measures[a];if(u.setPositionInStaffline(s),u.setWidth(u.beginInstructionsWidth+u.minimumStaffEntriesWidth*e+u.endInstructionsWidth),a<this.currentSystemParams.systemMeasures.length){var c=this.currentSystemParams.systemMeasures[a].beginLine,h=u.getLineWidth(l.SystemLinesEnum.BoldThinDots);switch(c){case l.SystemLinesEnum.BoldThinDots:var f=s;0===a&&(f=s+u.beginInstructionsWidth-h),n.createVerticalLineForMeasure(f,h,c,p.SystemLinePosition.MeasureBegin,a,u)}}u.staffEntriesScaleFactor=e,u.layoutSymbols();var d=a+1<this.currentSystemParams.systemMeasures.length&&this.currentSystemParams.systemMeasures[a+1].beginLine===l.SystemLinesEnum.BoldThinDots;if(!d){var b=l.SystemLinesEnum.SingleThin;a<this.currentSystemParams.systemMeasures.length&&(b=this.currentSystemParams.systemMeasures[a].endLine);var h=u.getLineWidth(b),m=u.PositionAndShape.RelativePosition.x+u.PositionAndShape.BorderRight-h;b===l.SystemLinesEnum.DotsBoldBoldDots&&(m-=h/2),n.createVerticalLineForMeasure(m,h,b,p.SystemLinePosition.MeasureEnd,a,u)}s=u.PositionAndShape.RelativePosition.x+u.PositionAndShape.BorderRight}t&&this.decreaseMusicSystemBorders()},t.prototype.decreaseMusicSystemBorders=function(){for(var t=this.currentSystemParams.currentSystem,e=f.CollectionUtil.last(t.StaffLines[0].Measures).PositionAndShape,n=e.RelativePosition.x+e.Size.width,i=0,r=t.StaffLines.length;i<r;++i){var o=t.StaffLines[i];o.PositionAndShape.BorderRight=n;for(var s=0,u=o.StaffLines.length;s<u;++s){var l=o.StaffLines[s];l.End=new a.PointF2D(n,l.End.y)}}t.PositionAndShape.BorderRight=n+this.currentSystemParams.maxLabelLength+this.rules.SystemLabelsRightMargin},t}();e.MusicSystemBuilder=d;var b=function(){function t(){this.systemMeasures=[],this.systemMeasureIndex=0,this.currentWidth=0,this.currentSystemFixWidth=0,this.currentSystemVarWidth=0,this.maxLabelLength=0}return t.prototype.IsSystemStartMeasure=function(){return 0===this.systemMeasureIndex},t}();e.SystemBuildParameters=b;var m=function(){function t(){}return t}();e.MeasureBuildParameters=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.getOpenOctaveShift=t,this.getAbsoluteStartTimestamp=e,this.getAbsoluteEndTimestamp=n}return t}();e.OctaveShiftParams=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(27),s=n(489),a=n(22),u=function(t){function e(e,n){var i=t.call(this)||this;return i.measures=[],i.staffLines=new Array(5),i.parentMusicSystem=e,i.parentStaff=n,i.boundingBox=new r.BoundingBox(i,e.PositionAndShape),i}return i(e,t),Object.defineProperty(e.prototype,"Measures",{get:function(){return this.measures},set:function(t){this.measures=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffLines",{get:function(){return this.staffLines},set:function(t){this.staffLines=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentMusicSystem",{get:function(){return this.parentMusicSystem},set:function(t){this.parentMusicSystem=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentStaff",{get:function(){return this.parentStaff},set:function(t){this.parentStaff=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SkyLine",{get:function(){return this.skyLine},set:function(t){this.skyLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BottomLine",{get:function(){return this.bottomLine},set:function(t){this.bottomLine=t},enumerable:!0,configurable:!0}),e.prototype.addActivitySymbolClickArea=function(){var t=new s.StaffLineActivitySymbol(this),e=this.PositionAndShape;t.PositionAndShape.RelativePosition=new a.PointF2D(e.RelativePosition.x+e.BorderRight+.5,e.RelativePosition.y+.5),this.parentMusicSystem.PositionAndShape.ChildElements.push(t.PositionAndShape)},e.prototype.isPartOfMultiStaffInstrument=function(){var t=this.parentStaff.ParentInstrument;return t.Staves.length>1},e.prototype.findClosestStaffEntry=function(t){for(var e=void 0,n=Number.MAX_VALUE,i=0,r=this.Measures.length;i<r;++i)for(var o=this.Measures[i],s=0,a=o.staffEntries.length;s<a;++s){var u=o.staffEntries[s];Math.abs(u.PositionAndShape.RelativePosition.x-t+o.PositionAndShape.RelativePosition.x)<5&&(n=Math.abs(u.PositionAndShape.RelativePosition.x-t+o.PositionAndShape.RelativePosition.x),e=u)}return e},e}(o.GraphicalObject);e.StaffLine=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),o=n(19),s=function(t){function e(e){var n=t.call(this)||this;n.parentStaffLine=e;var i=e.PositionAndShape;return n.boundingBox=new o.BoundingBox(n,i),n.boundingBox.BorderRight=6,n.boundingBox.BorderBottom=4.5,n.boundingBox.BorderLeft=-1.5,n.boundingBox.BorderTop=-1.5,n}return i(e,t),e}(r.GraphicalObject);e.StaffLineActivitySymbol=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),o=n(10),s=n(19),a=n(22),u=function(t){function e(e,n,i){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);var r=t.call(this)||this;return r.measureNumber=-1,r.parentStaff=e,r.parentSourceMeasure=n,r.parentStaffLine=i,void 0!==i?(r.parentStaff=i.ParentStaff,r.PositionAndShape=new s.BoundingBox(r,i.PositionAndShape)):r.PositionAndShape=new s.BoundingBox(r),r.PositionAndShape.BorderBottom=4,void 0!==r.parentSourceMeasure&&(r.measureNumber=r.parentSourceMeasure.MeasureNumber),r.staffEntries=[],r}return i(e,t),Object.defineProperty(e.prototype,"ParentStaff",{get:function(){return this.parentStaff},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MeasureNumber",{get:function(){return this.measureNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FirstInstructionStaffEntry",{get:function(){return this.firstInstructionStaffEntry},set:function(t){this.firstInstructionStaffEntry=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastInstructionStaffEntry",{get:function(){return this.lastInstructionStaffEntry},set:function(t){this.lastInstructionStaffEntry=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentStaffLine",{get:function(){return this.parentStaffLine},set:function(t){this.parentStaffLine=t,void 0!==this.parentStaffLine&&(this.PositionAndShape.Parent=this.parentStaffLine.PositionAndShape)},enumerable:!0,configurable:!0}),e.prototype.resetLayout=function(){throw new Error("not implemented")},e.prototype.getLineWidth=function(t){throw new Error("not implemented")},e.prototype.addClefAtBegin=function(t){throw new Error("not implemented")},e.prototype.addKeyAtBegin=function(t,e,n){throw new Error("not implemented")},e.prototype.addRhythmAtBegin=function(t){throw new Error("not implemented")},e.prototype.addClefAtEnd=function(t){throw new Error("not implemented")},e.prototype.setPositionInStaffline=function(t){this.PositionAndShape.RelativePosition=new a.PointF2D(t,0)},e.prototype.setWidth=function(t){this.PositionAndShape.BorderRight=t},e.prototype.layoutSymbols=function(){throw new Error("not implemented")},e.prototype.findGraphicalStaffEntryFromTimestamp=function(t){for(var e=0,n=this.staffEntries.length;e<n;++e){var i=this.staffEntries[e];if(i.relInMeasureTimestamp.Equals(t))return i}},e.prototype.findGraphicalStaffEntryFromVerticalContainerTimestamp=function(t){for(var e=0,n=this.staffEntries.length;e<n;++e){var i=this.staffEntries[e];if(i.sourceStaffEntry.VerticalContainerParent.getAbsoluteTimestamp().Equals(t))return i}},e.prototype.hasSameDurationWithSourceMeasureParent=function(){for(var t=new o.Fraction(0,1),e=0,n=this.staffEntries.length;e<n;++e){var i=this.staffEntries[e];t.Add(i.findStaffEntryMinNoteLength())}return t.Equals(this.parentSourceMeasure.Duration)},e.prototype.hasMultipleVoices=function(){if(0===this.staffEntries.length)return!1;for(var t=[],e=0,n=this.staffEntries.length;e<n;++e)for(var i=this.staffEntries[e],r=0,o=i.sourceStaffEntry.VoiceEntries.length;r<o;++r){var s=i.sourceStaffEntry.VoiceEntries[r];t.indexOf(s.ParentVoice)<0&&t.push(s.ParentVoice)}return t.length>1},e.prototype.isVisible=function(){return this.ParentStaff.ParentInstrument.Visible},e.prototype.getGraphicalMeasureDurationFromStaffEntries=function(){for(var t=new o.Fraction(0,1),e=[],n=0,i=this.staffEntries.length;n<i;++n)for(var r=this.staffEntries[n],s=0,a=r.sourceStaffEntry.VoiceEntries.length;s<a;++s){var u=r.sourceStaffEntry.VoiceEntries[s];e.indexOf(u.ParentVoice)<0&&e.push(u.ParentVoice)}for(var n=0,i=e.length;n<i;++n){for(var l=e[n],c=new o.Fraction(0,1),s=0,a=this.staffEntries.length;s<a;++s)for(var r=this.staffEntries[s],h=0,f=r.notes.length;h<f;++h){var p=r.notes[h];p.length>0&&p[0].sourceNote.ParentVoiceEntry.ParentVoice===l&&c.Add(p[0].graphicalNoteLength)}t.lt(c)&&(t=o.Fraction.createFromFraction(c))}return t},e.prototype.addGraphicalStaffEntry=function(t){this.staffEntries.push(t),this.PositionAndShape.ChildElements.push(t.PositionAndShape)},e.prototype.addGraphicalStaffEntryAtTimestamp=function(t){if(void 0!==t){if(0===this.staffEntries.length||this.staffEntries[this.staffEntries.length-1].relInMeasureTimestamp.lt(t.relInMeasureTimestamp))this.staffEntries.push(t);else for(var e=this.staffEntries.length-1;e>=0;e--){if(this.staffEntries[e].relInMeasureTimestamp.lt(t.relInMeasureTimestamp)){this.staffEntries.splice(e+1,0,t);break}0===e&&this.staffEntries.splice(e,0,t)}this.PositionAndShape.ChildElements.push(t.PositionAndShape)}},e.prototype.beginsWithLineRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.beginsWithLineRepetition()},e.prototype.endsWithLineRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.endsWithLineRepetition()},e.prototype.beginsWithWordRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.beginsWithWordRepetition()},e.prototype.endsWithWordRepetition=function(){var t=this.parentSourceMeasure;return void 0!==t&&t.endsWithWordRepetition()},e}(r.GraphicalObject);e.StaffMeasure=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(84),o=n(19),s=n(27),a=function(t){function e(e,n,i,r,s){void 0===s&&(s=void 0);var a=t.call(this)||this;return a.lineType=e,a.linePosition=n,a.parentMusicSystem=i,a.topMeasure=r,a.bottomMeasure=s,a.parentTopStaffLine=r.ParentStaffLine,a.boundingBox=new o.BoundingBox(a,i.PositionAndShape),a}return i(e,t),e.getObjectWidthForLineType=function(t,e){switch(e){case r.SystemLinesEnum.SingleThin:return t.SystemThinLineWidth;case r.SystemLinesEnum.DoubleThin:return 2*t.SystemThinLineWidth+t.DistanceBetweenVerticalSystemLines;case r.SystemLinesEnum.ThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines;case r.SystemLinesEnum.BoldThinDots:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines+t.SystemDotWidth+t.DistanceBetweenDotAndLine;case r.SystemLinesEnum.DotsThinBold:return t.SystemThinLineWidth+t.SystemBoldLineWidth+t.DistanceBetweenVerticalSystemLines+t.SystemDotWidth+t.DistanceBetweenDotAndLine;case r.SystemLinesEnum.DotsBoldBoldDots:return 2*t.SystemBoldLineWidth+2*t.SystemDotWidth+2*t.DistanceBetweenDotAndLine+t.DistanceBetweenVerticalSystemLines;default:return 0}},e}(s.GraphicalObject);e.SystemLine=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.staffEntries=[],this.absoluteTimestamp=e,this.staffEntries=new Array(t)}return Object.defineProperty(t.prototype,"Index",{get:function(){return this.index},set:function(t){this.index=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AbsoluteTimestamp",{get:function(){return this.absoluteTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffEntries",{get:function(){return this.staffEntries},set:function(t){this.staffEntries=t},enumerable:!0,configurable:!0}),t.compareByTimestamp=function(t,e){var n=t.absoluteTimestamp.RealValue,i=e.absoluteTimestamp.RealValue;return n<i?-1:n>i?1:0},t.prototype.getFirstNonNullStaffEntry=function(){for(var t=0,e=this.staffEntries.length;t<e;++t){var n=this.staffEntries[t];if(void 0!==n)return n}},t}();e.VerticalGraphicalStaffEntryContainer=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){
function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(71),o=n(480),s=n(61),a=n(140),u=function(t){function e(e,n,i,r,o){void 0===r&&(r=a.OctaveEnum.NONE),void 0===o&&(o=void 0);var u=t.call(this,e,n,o)||this;return u.clef=i,e.Pitch&&(u.vfpitch=s.VexFlowConverter.pitch(e.Pitch,u.clef),u.vfpitch[1]=void 0),u}return i(e,t),e.prototype.setPitch=function(t){if(this.vfnote){var e=s.VexFlowConverter.accidental(t.Accidental);e&&(alert(e),this.vfnote[0].addAccidental(this.vfnote[1],new r.Flow.Accidental(e)))}else this.vfpitch=s.VexFlowConverter.pitch(t,this.clef)},e.prototype.setIndex=function(t,e){this.vfnote=[t,e]},e}(o.GraphicalNote);e.VexFlowGraphicalNote=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(497),r=n(499),o=n(495),s=n(498),a=n(140),u=n(493),l=function(){function t(){}return t.prototype.createMusicSystem=function(t,e){return new i.VexFlowMusicSystem(t,e)},t.prototype.createStaffLine=function(t,e){return new r.VexFlowStaffLine(t,e)},t.prototype.createStaffMeasure=function(t,e){return new o.VexFlowMeasure(e,void 0,t)},t.prototype.createExtraStaffMeasure=function(t){return new o.VexFlowMeasure(t.ParentStaff,t)},t.prototype.createStaffEntry=function(t,e){return new s.VexFlowStaffEntry(e,t,void 0)},t.prototype.createGraceStaffEntry=function(t,e){return new s.VexFlowStaffEntry(e,void 0,t)},t.prototype.createNote=function(t,e,n,i,r){void 0===i&&(i=a.OctaveEnum.NONE),void 0===r&&(r=void 0);var o=new u.VexFlowGraphicalNote(t,e,n,i,r);if(void 0!==t.ParentVoiceEntry){var s=t.ParentVoiceEntry.ParentVoice.VoiceId,l=e.graphicalNotes;s in l||(l[s]=[]),l[s].push(o)}return o},t.prototype.createGraceNote=function(t,e,n,i){return void 0===i&&(i=a.OctaveEnum.NONE),new u.VexFlowGraphicalNote(t,e,n,i)},t.prototype.addGraphicalAccidental=function(t,e,n,i){var r=t;r.setPitch(e)},t.prototype.addFermataAtTiedEndNote=function(t,e){},t.prototype.createGraphicalTechnicalInstruction=function(t,e){},t.prototype.createInStaffClef=function(t,e){},t.prototype.createChordSymbol=function(t,e,n){},t}();e.VexFlowGraphicalSymbolFactory=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(71),o=n(490),s=n(61),a=n(15),u=n(85),l=function(t){function e(e,n,i){void 0===n&&(n=void 0),void 0===i&&(i=void 0);var r=t.call(this,e,i,n)||this;return r.octaveOffset=3,r.vfVoices={},r.vfTies=[],r.connectors=[],r.beams={},r.tuplets={},r.vftuplets={},r.minimumStaffEntriesWidth=-1,r.resetLayout(),r}return i(e,t),e.prototype.setAbsoluteCoordinates=function(t,e){this.stave.setX(t).setY(e)},e.prototype.resetLayout=function(){this.stave=new r.Flow.Stave(0,0,0,{space_above_staff_ln:0,space_below_staff_ln:0}),this.updateInstructionWidth()},e.prototype.clean=function(){this.vfTies.length=0,this.connectors=[],this.resetLayout()},e.prototype.getLineWidth=function(t){var e=s.VexFlowConverter.line(t);switch(e){case r.Flow.StaveConnector.type.SINGLE:return 1/u.unitInPixels;case r.Flow.StaveConnector.type.DOUBLE:return 3/u.unitInPixels;default:return 0}},e.prototype.addClefAtBegin=function(t){this.octaveOffset=t.OctaveOffset;var e=s.VexFlowConverter.Clef(t);this.stave.addClef(e.type,void 0,e.annotation,r.Flow.Modifier.Position.BEGIN),this.updateInstructionWidth()},e.prototype.addKeyAtBegin=function(t,e,n){this.stave.setKeySignature(s.VexFlowConverter.keySignature(t),s.VexFlowConverter.keySignature(e),void 0),this.updateInstructionWidth()},e.prototype.addRhythmAtBegin=function(t){var e=s.VexFlowConverter.TimeSignature(t);this.stave.addModifier(e,r.Flow.Modifier.Position.BEGIN),this.updateInstructionWidth()},e.prototype.addClefAtEnd=function(t){var e=s.VexFlowConverter.Clef(t);this.stave.setEndClef(e.type,"small",e.annotation),this.updateInstructionWidth()},e.prototype.setWidth=function(e){t.prototype.setWidth.call(this,e),this.stave.setWidth(e*u.unitInPixels)},e.prototype.layoutSymbols=function(){},e.prototype.draw=function(t){this.formatVoices&&this.formatVoices((this.PositionAndShape.BorderRight-this.beginInstructionsWidth-this.endInstructionsWidth)*u.unitInPixels),this.stave.setNoteStartX(this.stave.getX()+u.unitInPixels*this.beginInstructionsWidth),this.stave.setContext(t).draw();for(var e in this.vfVoices)this.vfVoices.hasOwnProperty(e)&&this.vfVoices[e].draw(t,this.stave);for(var e in this.vfbeams)if(this.vfbeams.hasOwnProperty(e))for(var n=0,i=this.vfbeams[e];n<i.length;n++){var r=i[n];r.setContext(t).draw()}for(var e in this.vftuplets)if(this.vftuplets.hasOwnProperty(e))for(var o=0,s=this.vftuplets[e];o<s.length;o++){var a=s[o];a.setContext(t).draw()}for(var l=0,c=this.vfTies;l<c.length;l++){var h=c[l];h.setContext(t).draw()}for(var f=0,p=this.connectors;f<p.length;f++){var d=p[f];d.setContext(t).draw()}this.setStaffEntriesXPositions()},e.prototype.handleBeam=function(t,e){var n=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId,i=this.beams[n];void 0===i&&(i=this.beams[n]=[]);for(var r,o=0,s=i;o<s.length;o++){var a=s[o];a[0]===e&&(r=a)}void 0===r&&(r=[e,[]],i.push(r));var u=t.parentStaffEntry;r[1].indexOf(u)<0&&r[1].push(u)},e.prototype.handleTuplet=function(t,e){var n=t.sourceNote.ParentVoiceEntry.ParentVoice.VoiceId,i=this.tuplets[n];void 0===i&&(i=this.tuplets[n]=[]);for(var r,o=0,s=i;o<s.length;o++){var a=s[o];a[0]===e&&(r=a)}void 0===r&&(r=[e,[]],i.push(r));var u=t.parentStaffEntry;r[1].indexOf(u)<0&&r[1].push(u)},e.prototype.finalizeBeams=function(){this.vfbeams={};for(var t in this.beams)if(this.beams.hasOwnProperty(t)){var e=this.vfbeams[t];void 0===e&&(e=this.vfbeams[t]=[]);for(var n=0,i=this.beams[t];n<i.length;n++){for(var o=i[n],s=[],u=0,l=o[1];u<l.length;u++){var c=l[u];s.push(c.vfNotes[t])}s.length>1?e.push(new r.Flow.Beam(s,!0)):a.Logging.log("Warning! Beam with no notes! Trying to ignore, but this is a serious problem.")}}},e.prototype.finalizeTuplets=function(){this.vftuplets={};for(var t in this.tuplets)if(this.tuplets.hasOwnProperty(t)){var e=this.vftuplets[t];void 0===e&&(e=this.vftuplets[t]=[]);for(var n=0,i=this.tuplets[t];n<i.length;n++){for(var o=i[n],s=[],u=0,l=o[1];u<l.length;u++){var c=l[u];s.push(c.vfNotes[t])}s.length>1?e.push(new r.Flow.Tuplet(s)):a.Logging.log("Warning! Tuplet with no notes! Trying to ignore, but this is a serious problem.")}}},e.prototype.layoutStaffEntry=function(t){},e.prototype.staffMeasureCreatedCalculations=function(){for(var t=0,e=this.staffEntries.length;t<e;++t){var n=this.staffEntries[t],i=n.graphicalNotes;for(var o in i)if(i.hasOwnProperty(o)){var a=s.VexFlowConverter.StaveNote(i[o]);n.vfNotes[o]=a}}this.finalizeBeams(),this.finalizeTuplets();for(var t=0,e=this.staffEntries.length;t<e;++t){var n=this.staffEntries[t],i=n.graphicalNotes,u=this.vfVoices;for(var o in i)i.hasOwnProperty(o)&&(o in u||(u[o]=new r.Flow.Voice({beat_value:this.parentSourceMeasure.Duration.Denominator,num_beats:this.parentSourceMeasure.Duration.Numerator,resolution:r.Flow.RESOLUTION}).setMode(r.Flow.Voice.Mode.SOFT)),u[o].addTickable(n.vfNotes[o]))}},e.prototype.lineTo=function(t,e){var n=new r.Flow.StaveConnector(t.getVFStave(),this.stave);n.setType(e),this.connectors.push(n)},e.prototype.getVFStave=function(){return this.stave},e.prototype.updateInstructionWidth=function(){this.beginInstructionsWidth=(this.stave.getNoteStartX()-this.stave.getX())/u.unitInPixels,this.endInstructionsWidth=(this.stave.getX()+this.stave.getWidth()-this.stave.getNoteEndX())/u.unitInPixels},e.prototype.setStaffEntriesXPositions=function(){for(var t=0,e=this.staffEntries.length;t<e;++t){var n=this.staffEntries[t],i=n.parentMeasure,r=n.getX()-i.PositionAndShape.RelativePosition.x-i.ParentStaffLine.PositionAndShape.RelativePosition.x-i.parentMusicSystem.PositionAndShape.RelativePosition.x;n.PositionAndShape.RelativePosition.x=r}},e}(o.StaffMeasure);e.VexFlowMeasure=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(83),o=n(494),s=n(482),a=n(513),u=n(243),l=n(71),c=n(15),h=n(85),f=function(t){function e(){var e=t.call(this,new o.VexFlowGraphicalSymbolFactory)||this,n=new a.LyricsEntry(void 0,void 0,void 0);return n=n,r.MusicSheetCalculator.TextMeasurer=new u.VexFlowTextMeasurer,e}return i(e,t),e.prototype.clearRecreatedObjects=function(){t.prototype.clearRecreatedObjects.call(this);for(var e=0,n=this.graphicalMusicSheet.MeasureList;e<n.length;e++)for(var i=n[e],r=0,o=i;r<o.length;r++){var s=o[r];s.clean()}},e.prototype.calculateMeasureXLayout=function(t){for(var e=[],n=new l.Flow.Formatter({align_rests:!0}),i=0,r=t;i<r.length;i++){var o=r[i],s=o.vfVoices,a=[];for(var u in s)s.hasOwnProperty(u)&&(a.push(s[u]),e.push(s[u]));0!==a.length?n.joinVoices(a):c.Logging.warn("Found a measure with no voices... Continuing anyway.",s)}var f=200;if(e.length>0){var p=t[0];f=n.preCalculateMinTotalWidth(e)/h.unitInPixels+5;for(var d=0,b=t;d<b.length;d++){var o=b[d];o.minimumStaffEntriesWidth=f,o.formatVoices=void 0}p.formatVoices=function(t){n.format(e,t)}}return f},e.prototype.createGraphicalTie=function(t,e,n,i,r){return new s.GraphicalTie(t,i,r)},e.prototype.updateStaffLineBorders=function(t){},e.prototype.calculateMeasureNumberPlacement=function(t){},e.prototype.staffMeasureCreatedCalculations=function(t){t.staffMeasureCreatedCalculations()},e.prototype.layoutVoiceEntry=function(t,e,n,i,r){},e.prototype.layoutStaffEntry=function(t){t.parentMeasure.layoutStaffEntry(t)},e.prototype.calculateSystemYLayout=function(){for(var t=0,e=this.graphicalMusicSheet.MusicPages.length;t<e;++t){var n=this.graphicalMusicSheet.MusicPages[t];if(!this.leadSheet)for(var i=this.rules.PageTopMargin+this.rules.TitleTopDistance+this.rules.SheetTitleHeight+this.rules.TitleBottomDistance,r=0,o=n.MusicSystems.length;r<o;++r){for(var s=n.MusicSystems[r],a=0,u=0,l=s.StaffLines;u<l.length;u++){var c=l[u];c.PositionAndShape.RelativePosition.y=a,a+=10}s.PositionAndShape.BorderBottom=a+0,s.PositionAndShape.RelativePosition.x=this.rules.PageLeftMargin+this.rules.SystemLeftMargin,s.PositionAndShape.RelativePosition.y=i,i+=a+5}}},e.prototype.initStaffMeasuresCreation=function(){},e.prototype.layoutGraphicalTie=function(t,e){var n=t.StartNote,i=void 0;void 0!==n&&(i=n.vfnote[0]);var r=t.EndNote,o=void 0;if(void 0!==r&&(o=r.vfnote[0]),e){var s=new l.Flow.StaveTie({first_note:i}),a=n.parentStaffEntry.parentMeasure;a.vfTies.push(s);var u=new l.Flow.StaveTie({last_note:o}),c=r.parentStaffEntry.parentMeasure;c.vfTies.push(u)}else{var h=new l.Flow.StaveTie({first_note:i,last_note:o}),f=r.parentStaffEntry.parentMeasure;f.vfTies.push(h)}},e.prototype.calculateSingleStaffLineLyricsPosition=function(t,e){},e.prototype.calculateSingleOctaveShift=function(t,e,n,i){},e.prototype.calculateWordRepetitionInstruction=function(t,e){},e.prototype.calculateMoodAndUnknownExpression=function(t,e,n){},e.prototype.handleTiedGraphicalNote=function(t,e,n,i,r,o,s,a){},e.prototype.handleBeam=function(t,e,n){t.parentStaffEntry.parentMeasure.handleBeam(t,e)},e.prototype.handleVoiceEntryLyrics=function(t,e,n,i){},e.prototype.handleVoiceEntryOrnaments=function(t,e,n){},e.prototype.handleVoiceEntryArticulations=function(t,e,n){},e.prototype.handleTuplet=function(t,e,n){t.parentStaffEntry.parentMeasure.handleTuplet(t,e)},e}(r.MusicSheetCalculator);e.VexFlowMusicSheetCalculator=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(485),o=n(491),s=n(61),a=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.prototype.calculateBorders=function(t){if(0!==this.staffLines.length){var e=this.calcBracketsWidth();this.boundingBox.BorderLeft=-e,this.boundingBox.BorderMarginLeft=-e,this.boundingBox.XBordersHaveBeenSet=!0}},e.prototype.createSystemLine=function(t,e,n,i,r,a,u){return void 0===u&&(u=void 0),u&&u.lineTo(a,s.VexFlowConverter.line(n)),new o.SystemLine(n,i,this,a,u)},e.prototype.createInstrumentBrace=function(t,e){},e.prototype.createGroupBracket=function(t,e,n){},e}(r.MusicSystem);e.VexFlowMusicSystem=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(481),o=n(85),s=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.graphicalNotes={},r.vfNotes={},r}return i(e,t),e.prototype.getX=function(){var t=0,e=0,n=this.vfNotes;for(var i in n)n.hasOwnProperty(i)&&(t+=(n[i].getNoteHeadBeginX()+n[i].getNoteHeadEndX())/2,e+=1);return 0===e?0:t/e/o.unitInPixels},e}(r.GraphicalStaffEntry);e.VexFlowStaffEntry=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(488),o=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e}(r.StaffLine);e.VexFlowStaffLine=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(501),o=function(){function t(t){this.musicSheet=t}return t.prototype.reInit=function(){this.init()},t.prototype.init=function(){this.parts=this.musicSheet.Repetitions.slice(),this.sheetStart=this.musicSheet.SelectionStart=new i.Fraction(0,1),this.sheetEnd=this.musicSheet.SelectionEnd=this.musicSheet.SheetEndTimestamp,this.calcMapping()},t.prototype.getCurrentRepetitionTimestampTransform=function(t){for(var e=void 0,n=this.timestamps.length-1;n>=0;n--)if(e=this.timestamps[n],t>=e.$from)return e;return this.timestamps[0]},t.prototype.absoluteEnrolledToSheetTimestamp=function(t){if(0===this.timestamps.length)return t;var e=this.getCurrentRepetitionTimestampTransform(t);return i.Fraction.plus(t,i.Fraction.minus(e.to,e.$from))},Object.defineProperty(t.prototype,"Parts",{get:function(){return this.parts},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MusicSheet",{get:function(){return this.musicSheet},enumerable:!0,configurable:!0}),t.prototype.getIterator=function(t){return void 0===t?new r.MusicPartManagerIterator(this,this.musicSheet.SelectionStart,this.musicSheet.SelectionEnd):new r.MusicPartManagerIterator(this,t,void 0)},t.prototype.setSelectionStart=function(t){this.musicSheet.SelectionStart=t,this.musicSheet.SelectionEnd=void 0},t.prototype.setSelectionRange=function(t,e){this.musicSheet.SelectionStart=void 0===t?this.sheetStart:t,this.musicSheet.SelectionEnd=void 0===e?this.sheetEnd:e},t.prototype.calcMapping=function(){var t=[],e=this.getIterator(),n=e.CurrentRepetition,i=new s(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0);for(t.push(i);!e.EndReached;){if(e.JumpOccurred||n!==e.CurrentRepetition){if(n=e.CurrentRepetition,e.backJumpOccurred){var r=e.JumpResponsibleRepetition;i.nextBackJump=e.CurrentEnrolledTimestamp,i.curRepetition=r,i.curRepetitionIteration=e.CurrentJumpResponsibleRepetitionIterationBeforeJump;for(var o=this.timestamps.length-2;o>=0&&(!t[o].to.lt(r.AbsoluteTimestamp)&&void 0===t[o].curRepetition);o--)t[o].nextBackJump=i.nextBackJump,t[o].curRepetition=r,t[o].curRepetitionIteration=i.curRepetitionIteration}i=new s(e.CurrentEnrolledTimestamp.clone(),e.CurrentSourceTimestamp.clone(),void 0,0),t.push(i)}e.moveToNext()}this.timestamps=t},t}();e.MusicPartManager=o;var s=function(){function t(t,e,n,i){this.$from=t,this.to=e,this.curRepetition=n,this.curRepetitionIteration=i,this.nextBackJump=void 0,this.nextForwardJump=void 0}return t}();e.TimestampTransform=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(512),o=n(35),s=n(249),a=n(15),u=function(){function t(t,e,n){this.currentMeasureIndex=0,this.currentPartIndex=0,this.currentVoiceEntryIndex=-1,this.currentDynamicEntryIndex=0,this.currentTempoEntryIndex=0,this.currentDynamicChangingExpressions=[],this.currentRepetition=void 0,this.endReached=!1,this.frontReached=!1,this.currentTimeStamp=new i.Fraction(0,1),this.currentEnrolledMeasureTimestamp=new i.Fraction(0,1),this.currentVerticalContainerInMeasureTimestamp=new i.Fraction(0,1),this.jumpResponsibleRepetition=void 0,this.activeDynamicExpressions=[];try{this.frontReached=!0,this.manager=t,this.currentVoiceEntries=void 0,this.frontReached=!1;for(var o=0,u=t.MusicSheet.Repetitions;o<u.length;o++){var l=u[o];this.setRepetitionIterationCount(l,1)}if(this.activeDynamicExpressions=new Array(t.MusicSheet.getCompleteNumberOfStaves()),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[0],void 0===e)return;do this.moveToNext();while((void 0===this.currentVoiceEntries||this.currentTimeStamp.lt(e))&&!this.endReached);for(var c=0;c<this.activeDynamicExpressions.length;c++)if(void 0!==this.activeDynamicExpressions[c])if(this.activeDynamicExpressions[c]instanceof s.ContinuousDynamicExpression){var h=this.activeDynamicExpressions[c];this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(h,c))}else{var f=this.activeDynamicExpressions[c];this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(f,c))}this.currentTempoChangingExpression=this.activeTempoExpression}catch(t){a.Logging.log("MusicPartManagerIterator: "+t)}}return Object.defineProperty(t.prototype,"EndReached",{get:function(){return this.endReached},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FrontReached",{get:function(){return this.frontReached},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentMeasure",{get:function(){return this.currentMeasure},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentRepetition",{get:function(){return this.currentRepetition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentRepetitionIteration",{get:function(){return void 0!==this.CurrentRepetition?this.getRepetitionIterationCount(this.CurrentRepetition):0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentJumpResponsibleRepetitionIterationBeforeJump",{get:function(){return void 0!==this.jumpResponsibleRepetition?this.getRepetitionIterationCount(this.jumpResponsibleRepetition)-1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentVoiceEntries",{get:function(){return this.currentVoiceEntries},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentMeasureIndex",{get:function(){return this.currentMeasureIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentEnrolledTimestamp",{get:function(){return i.Fraction.plus(this.currentEnrolledMeasureTimestamp,this.currentVerticalContainerInMeasureTimestamp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentSourceTimestamp",{get:function(){return this.currentTimeStamp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"JumpOccurred",{get:function(){return this.backJumpOccurred||this.forwardJumpOccurred},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ActiveTempoExpression",{get:function(){return this.activeTempoExpression},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ActiveDynamicExpressions",{get:function(){return this.activeDynamicExpressions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentTempoChangingExpression",{get:function(){return this.currentTempoChangingExpression},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"JumpResponsibleRepetition",{get:function(){return this.jumpResponsibleRepetition},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t(this.manager);return e.currentVoiceEntryIndex=this.currentVoiceEntryIndex,e.currentMappingPart=this.currentMappingPart,e.currentPartIndex=this.currentPartIndex,e.currentVoiceEntries=this.currentVoiceEntries,e.endReached=this.endReached,e.frontReached=this.frontReached,e},t.prototype.CurrentVisibleVoiceEntries=function(t){var e=[];if(void 0===this.currentVoiceEntries)return e;if(void 0!==t)for(var n=0,i=this.currentVoiceEntries;n<i.length;n++){var r=i[n];if(r.ParentVoice.Parent.IdString===t.IdString)return this.getVisibleEntries(r,e),e}else for(var o=0,s=this.currentVoiceEntries;o<s.length;o++){var r=s[o];this.getVisibleEntries(r,e)}return e},t.prototype.CurrentAudibleVoiceEntries=function(t){var e=[];if(void 0===this.currentVoiceEntries)return e;if(void 0!==t)for(var n=0,i=this.currentVoiceEntries;n<i.length;n++){var r=i[n];if(r.ParentVoice.Parent.IdString===t.IdString)return this.getAudibleEntries(r,e),e}else for(var o=0,s=this.currentVoiceEntries;o<s.length;o++){var r=s[o];this.getAudibleEntries(r,e)}return e},t.prototype.getCurrentDynamicChangingExpressions=function(){return this.currentDynamicChangingExpressions},t.prototype.CurrentScoreFollowingVoiceEntries=function(t){var e=[];if(void 0===this.currentVoiceEntries)return e;if(void 0!==t)for(var n=0,i=this.currentVoiceEntries;n<i.length;n++){var r=i[n];if(r.ParentVoice.Parent.IdString===t.IdString)return this.getScoreFollowingEntries(r,e),e}else for(var o=0,s=this.currentVoiceEntries;o<s.length;o++){var r=s[o];this.getScoreFollowingEntries(r,e)}return e},t.prototype.moveToNext=function(){this.forwardJumpOccurred=this.backJumpOccurred=!1,this.endReached||(void 0!==this.currentVoiceEntries&&(this.currentVoiceEntries=[]),this.recursiveMove(),void 0===this.currentMeasure&&(this.currentTimeStamp=new i.Fraction(99999,1)))},t.prototype.moveToNextVisibleVoiceEntry=function(t){for(;!this.endReached;)if(this.moveToNext(),this.checkEntries(t))return},t.prototype.resetRepetitionIterationCount=function(t){return this.setRepetitionIterationCount(t,1),1},t.prototype.incrementRepetitionIterationCount=function(t){return this.repetitionIterationCountDictKeys.indexOf(t)===-1?this.setRepetitionIterationCount(t,1):this.setRepetitionIterationCount(t,this.getRepetitionIterationCount(t)+1)},t.prototype.setRepetitionIterationCount=function(t,e){var n=this.repetitionIterationCountDictKeys.indexOf(t);return n===-1?(this.repetitionIterationCountDictKeys.push(t),this.repetitionIterationCountDictValues.push(e)):this.repetitionIterationCountDictValues[n]=e,e},t.prototype.getRepetitionIterationCount=function(t){var e=this.repetitionIterationCountDictKeys.indexOf(t);if(e!==-1)return this.repetitionIterationCountDictValues[e]},t.prototype.handleRepetitionsAtMeasureBegin=function(){for(var t=0,e=this.currentMeasure.FirstRepetitionInstructions.length;t<e;++t){var n=this.currentMeasure.FirstRepetitionInstructions[t];if(void 0!==n.parentRepetition){var i=n.parentRepetition;this.currentRepetition=i,i.StartIndex===this.currentMeasureIndex&&void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i)}}},t.prototype.handleRepetitionsAtMeasureEnd=function(){for(var t=0,e=this.currentMeasure.LastRepetitionInstructions.length;t<e;++t){var n=this.currentMeasure.LastRepetitionInstructions[t],i=n.parentRepetition;if(void 0!==i){if(i.BackwardJumpInstructions.indexOf(n)>-1&&this.getRepetitionIterationCount(i)<i.UserNumberOfRepetitions)return this.doBackJump(i),void(this.backJumpOccurred=!0);if(n===i.forwardJumpInstruction){void 0!==this.JumpResponsibleRepetition&&i!==this.JumpResponsibleRepetition&&i.StartIndex>=this.JumpResponsibleRepetition.StartIndex&&i.EndIndex<=this.JumpResponsibleRepetition.EndIndex&&this.resetRepetitionIterationCount(i);var r=i.getForwardJumpTargetForIteration(this.getRepetitionIterationCount(i));if(r>=0)return this.currentMeasureIndex=r,this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.jumpResponsibleRepetition=i,void(this.forwardJumpOccurred=!0);r===-2&&(this.endReached=!0)}}}this.currentMeasureIndex++,void 0!==this.JumpResponsibleRepetition&&this.currentMeasureIndex>this.JumpResponsibleRepetition.EndIndex&&(this.jumpResponsibleRepetition=void 0)},t.prototype.doBackJump=function(t){this.currentMeasureIndex=t.getBackwardJumpTarget(),this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentVoiceEntryIndex=-1,this.incrementRepetitionIterationCount(t),this.jumpResponsibleRepetition=t},t.prototype.activateCurrentRhythmInstructions=function(){if(void 0!==this.currentMeasure&&this.currentMeasure.FirstInstructionsStaffEntries.length>0&&void 0!==this.currentMeasure.FirstInstructionsStaffEntries[0])for(var t=this.currentMeasure.FirstInstructionsStaffEntries[0].Instructions,e=0,n=t.length;e<n;++e){var i=t[e];i instanceof o.RhythmInstruction&&(this.manager.MusicSheet.SheetPlaybackSetting.rhythm=i.Rhythm)}},t.prototype.activateCurrentDynamicOrTempoInstructions=function(){for(var t=this.manager.MusicSheet.TimestampSortedDynamicExpressionsList;this.currentDynamicEntryIndex>0&&(this.currentDynamicEntryIndex>=t.length||this.CurrentSourceTimestamp.lte(t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp));)this.currentDynamicEntryIndex--;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentDynamicEntryIndex++;for(;this.currentDynamicEntryIndex<t.length&&t[this.currentDynamicEntryIndex].parMultiExpression().AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);){var e=t[this.currentDynamicEntryIndex],n=e.staffNumber;this.CurrentSourceTimestamp.Equals(e.parMultiExpression().AbsoluteTimestamp)&&(void 0!==e.continuousDynamicExpression?this.activeDynamicExpressions[n]=e.continuousDynamicExpression:void 0!==e.instantaneousDynamicExpression&&(this.activeDynamicExpressions[n]=e.instantaneousDynamicExpression)),this.currentDynamicEntryIndex++}this.currentDynamicChangingExpressions=[];for(var n=0;n<this.activeDynamicExpressions.length;n++)if(void 0!==this.activeDynamicExpressions[n]){var i=void 0,o=void 0;if(this.activeDynamicExpressions[n]instanceof s.ContinuousDynamicExpression){var a=this.activeDynamicExpressions[n];i=a.StartMultiExpression.AbsoluteTimestamp,o=a.EndMultiExpression.AbsoluteTimestamp,i.lte(this.CurrentSourceTimestamp)&&this.CurrentSourceTimestamp.lte(o)&&this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(a,n))}else{var u=this.activeDynamicExpressions[n];this.CurrentSourceTimestamp.Equals(u.ParentMultiExpression.AbsoluteTimestamp)&&this.currentDynamicChangingExpressions.push(new r.DynamicsContainer(u,n))}}for(var l=this.manager.MusicSheet.TimestampSortedTempoExpressionsList;this.currentTempoEntryIndex>0&&(this.currentTempoEntryIndex>=l.length||this.CurrentSourceTimestamp.lte(l[this.currentTempoEntryIndex].AbsoluteTimestamp));)this.currentTempoEntryIndex--;for(;this.currentTempoEntryIndex<l.length&&l[this.currentTempoEntryIndex].AbsoluteTimestamp.lt(this.CurrentSourceTimestamp);)this.currentTempoEntryIndex++;for(;this.currentTempoEntryIndex<l.length&&l[this.currentTempoEntryIndex].AbsoluteTimestamp.Equals(this.CurrentSourceTimestamp);)this.activeTempoExpression=l[this.currentTempoEntryIndex],this.currentTempoEntryIndex++;if(this.currentTempoChangingExpression=void 0,void 0!==this.activeTempoExpression){var o=this.activeTempoExpression.AbsoluteTimestamp;void 0!==this.activeTempoExpression.ContinuousTempo&&(o=this.activeTempoExpression.ContinuousTempo.AbsoluteEndTimestamp),(this.activeTempoExpression.AbsoluteTimestamp.lte(this.CurrentSourceTimestamp)||this.CurrentSourceTimestamp.lte(o))&&(this.currentTempoChangingExpression=this.activeTempoExpression)}},t.prototype.recursiveMove=function(){if(this.currentVoiceEntryIndex++,0===this.currentVoiceEntryIndex&&(this.handleRepetitionsAtMeasureBegin(),this.activateCurrentRhythmInstructions()),this.currentVoiceEntryIndex>=0&&this.currentVoiceEntryIndex<this.currentMeasure.VerticalSourceStaffEntryContainers.length){var t=this.currentMeasure.VerticalSourceStaffEntryContainers[this.currentVoiceEntryIndex];return this.currentVoiceEntries=this.getVoiceEntries(t),this.currentVerticalContainerInMeasureTimestamp=t.Timestamp,this.currentTimeStamp=i.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp),this.currentTimeStamp>=this.manager.MusicSheet.SelectionEnd&&(this.endReached=!0),void this.activateCurrentDynamicOrTempoInstructions()}return this.currentEnrolledMeasureTimestamp.Add(this.currentMeasure.Duration),this.handleRepetitionsAtMeasureEnd(),this.currentMeasureIndex>=0&&this.currentMeasureIndex<this.manager.MusicSheet.SourceMeasures.length?(this.currentMeasure=this.manager.MusicSheet.SourceMeasures[this.currentMeasureIndex],this.currentTimeStamp=i.Fraction.plus(this.currentMeasure.AbsoluteTimestamp,this.currentVerticalContainerInMeasureTimestamp),this.currentVoiceEntryIndex=-1,void this.recursiveMove()):(this.currentVerticalContainerInMeasureTimestamp=new i.Fraction,this.currentMeasure=void 0,this.currentVoiceEntries=void 0,void(this.endReached=!0))},t.prototype.checkEntries=function(t){var e=this.CurrentVisibleVoiceEntries();if(e.length>0){if(!t)return!0;for(var n=0,i=e.length;n<i;++n){var r=e[n];if(void 0!==r.Notes[0].Pitch)return!0}}return!1},t.prototype.getVisibleEntries=function(t,e){t.ParentVoice.Visible&&e.push(t)},t.prototype.getAudibleEntries=function(t,e){t.ParentVoice.Audible&&e.push(t)},t.prototype.getScoreFollowingEntries=function(t,e){t.ParentVoice.Following&&t.ParentVoice.Parent.Following&&e.push(t)},t.prototype.getVoiceEntries=function(t){for(var e=[],n=0,i=t.StaffEntries;n<i.length;n++){var r=i[n];if(void 0!==r)for(var o=0,s=r.VoiceEntries;o<s.length;o++){var a=s[o];e.push(a)}}return e},t}();e.MusicPartManagerIterator=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(500),o=n(503),s=n(144),a=n(473),u=n(238),l=n(137),c=n(15),h=function(){function t(){}return t}();e.PlaybackSettings=h;var f=function(){function t(){this.idString="kjgdfuilhsdaöoihfsvjh",this.sourceMeasures=[],this.repetitions=[],this.dynListStaves=[],this.timestampSortedDynamicExpressionsList=[],this.timestampSortedTempoExpressionsList=[],this.instrumentalGroups=[],this.instruments=[],this.musicPartManager=void 0,this.musicSheetErrors=new a.MusicSheetErrors,this.staves=[],this.transpose=0,this.defaultStartTempoInBpm=0,this.drawErroneousMeasures=!1,this.hasBeenOpenedForTheFirstTime=!1,this.currentEnrolledPosition=new i.Fraction(0,1),this.rules=u.EngravingRules.Rules,this.playbackSettings=new h,this.playbackSettings.rhythm=new i.Fraction(4,4,!1),this.userStartTempoInBPM=100,this.pageWidth=120,this.MusicPartManager=new r.MusicPartManager(this)}return t.getIndexFromStaff=function(t){return t.idInMusicSheet},Object.defineProperty(t.prototype,"SourceMeasures",{get:function(){return this.sourceMeasures;
},set:function(t){this.sourceMeasures=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Repetitions",{get:function(){return this.repetitions},set:function(t){this.repetitions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DynListStaves",{get:function(){return this.dynListStaves},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimestampSortedTempoExpressionsList",{get:function(){return this.timestampSortedTempoExpressionsList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TimestampSortedDynamicExpressionsList",{get:function(){return this.timestampSortedDynamicExpressionsList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"InstrumentalGroups",{get:function(){return this.instrumentalGroups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Instruments",{get:function(){return this.instruments},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetPlaybackSetting",{get:function(){return this.playbackSettings},set:function(t){this.playbackSettings=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DrawErroneousMeasures",{get:function(){return this.drawErroneousMeasures},set:function(t){this.drawErroneousMeasures=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"HasBeenOpenedForTheFirstTime",{get:function(){return this.hasBeenOpenedForTheFirstTime},set:function(t){this.hasBeenOpenedForTheFirstTime=t},enumerable:!0,configurable:!0}),t.prototype.InitializeStartTempoInBPM=function(t){this.userStartTempoInBPM=t},Object.defineProperty(t.prototype,"DefaultStartTempoInBpm",{get:function(){return this.defaultStartTempoInBpm},set:function(t){this.defaultStartTempoInBpm=t,this.InitializeStartTempoInBPM(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Path",{get:function(){return this.path},set:function(t){this.path=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Staves",{get:function(){return this.staves},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TitleString",{get:function(){return void 0!==this.title?this.title.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SubtitleString",{get:function(){return void 0!==this.subtitle?this.subtitle.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ComposerString",{get:function(){return void 0!==this.composer?this.composer.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LyricistString",{get:function(){return void 0!==this.lyricist?this.lyricist.text:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Title",{get:function(){return this.title},set:function(t){this.title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Subtitle",{get:function(){return this.subtitle},set:function(t){this.subtitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Composer",{get:function(){return this.composer},set:function(t){this.composer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Lyricist",{get:function(){return this.lyricist},set:function(t){this.lyricist=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Rules",{get:function(){return this.engravingRules},set:function(t){this.engravingRules=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SheetErrors",{get:function(){return this.musicSheetErrors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionStart",{get:function(){return this.selectionStart},set:function(t){this.selectionStart=t.clone(),this.currentEnrolledPosition=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SelectionEnd",{get:function(){return this.selectionEnd},set:function(t){this.selectionEnd=t},enumerable:!0,configurable:!0}),t.prototype.addMeasure=function(t){this.sourceMeasures.push(t),t.measureListIndex=this.sourceMeasures.length-1},t.prototype.checkForInstrumentWithNoVoice=function(){for(var t=0,e=this.instruments.length;t<e;++t){var n=this.instruments[t];if(0===n.Voices.length){var i=new s.Voice(n,1);n.Voices.push(i)}}},t.prototype.getStaffFromIndex=function(t){return this.staves[t]},t.prototype.fillStaffList=function(){for(var t=0,e=0,n=this.instruments.length;e<n;++e)for(var i=this.instruments[e],r=0,o=i.Staves.length;r<o;++r){var s=i.Staves[r];s.idInMusicSheet=t,this.staves.push(s),t++}},Object.defineProperty(t.prototype,"MusicPartManager",{get:function(){return this.musicPartManager},set:function(t){this.musicPartManager=t},enumerable:!0,configurable:!0}),t.prototype.getCompleteNumberOfStaves=function(){for(var t=0,e=0,n=this.instruments.length;e<n;++e){var i=this.instruments[e];t+=i.Staves.length}return t},t.prototype.getListOfMeasuresFromIndeces=function(t,e){for(var n=[],i=t;i<=e;i++)n.push(this.sourceMeasures[i]);return n},t.prototype.getNextSourceMeasure=function(t){var e=this.sourceMeasures.indexOf(t);return e===this.sourceMeasures.length-1?t:this.sourceMeasures[e+1]},t.prototype.getFirstSourceMeasure=function(){return this.sourceMeasures[0]},t.prototype.getLastSourceMeasure=function(){return this.sourceMeasures[this.sourceMeasures.length-1]},t.prototype.resetAllNoteStates=function(){for(var t=this.MusicPartManager.getIterator();!t.EndReached&&void 0!==t.CurrentVoiceEntries;){for(var e=0,n=t.CurrentVoiceEntries.length;e<n;++e)for(var i=t.CurrentVoiceEntries[e],r=0,o=i.Notes.length;r<o;++r){var s=i.Notes[r];s.state=l.NoteState.Normal}t.moveToNext()}},t.prototype.getMusicSheetInstrumentIndex=function(t){return this.Instruments.indexOf(t)},t.prototype.getGlobalStaffIndexOfFirstStaff=function(t){for(var e=this.getMusicSheetInstrumentIndex(t),n=0,i=0;i<e;i++)n+=this.Instruments[i].Staves.length;return n},t.prototype.setRepetitionNewUserNumberOfRepetitions=function(t,e){for(var n=0,i=0;i<this.repetitions.length;i++)if(this.repetitions[i]instanceof o.Repetition){if(t===n){this.repetitions[i].UserNumberOfRepetitions=e;break}n++}},t.prototype.getRepetitionByIndex=function(t){for(var e=0,n=0;n<this.repetitions.length;n++)if(this.repetitions[n]instanceof o.Repetition){if(t===e)return this.repetitions[n];e++}},t.prototype.CompareTo=function(t){return this.Title.text.localeCompare(t.Title.text)},Object.defineProperty(t.prototype,"Errors",{get:function(){return this.musicSheetErrors.measureErrors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FirstMeasureNumber",{get:function(){try{return this.getFirstSourceMeasure().MeasureNumber}catch(t){return c.Logging.log("MusicSheet.FirstMeasureNumber: ",t),0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LastMeasureNumber",{get:function(){try{return this.getLastSourceMeasure().MeasureNumber}catch(t){return c.Logging.log("MusicSheet.LastMeasureNumber: ",t),0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CurrentEnrolledPosition",{get:function(){return this.currentEnrolledPosition.clone()},set:function(t){this.currentEnrolledPosition=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Transpose",{get:function(){return this.transpose},set:function(t){this.transpose=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"FullNameString",{get:function(){return this.ComposerString+" "+this.TitleString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IdString",{get:function(){return this.idString},set:function(t){this.idString=t},enumerable:!0,configurable:!0}),t.prototype.getEnrolledSelectionStartTimeStampWorkaround=function(){var t=this.MusicPartManager.getIterator(this.SelectionStart);return i.Fraction.createFromFraction(t.CurrentEnrolledTimestamp)},Object.defineProperty(t.prototype,"SheetEndTimestamp",{get:function(){var t=this.getLastSourceMeasure();return i.Fraction.plus(t.AbsoluteTimestamp,t.Duration)},enumerable:!0,configurable:!0}),t.prototype.getSourceMeasureFromTimeStamp=function(t){for(var e=0,n=this.sourceMeasures.length;e<n;++e)for(var i=this.sourceMeasures[e],r=0,o=i.VerticalSourceStaffEntryContainers.length;r<o;++r){var s=i.VerticalSourceStaffEntryContainers[r];if(t.Equals(s.getAbsoluteTimestamp()))return i}return this.findSourceMeasureFromTimeStamp(t)},t.prototype.findSourceMeasureFromTimeStamp=function(t){for(var e=0,n=this.sourceMeasures;e<n.length;e++){var r=n[e];if(r.AbsoluteTimestamp.lte(t)&&t.lt(i.Fraction.plus(r.AbsoluteTimestamp,r.Duration)))return r}},t.prototype.getVisibleInstruments=function(){for(var t=[],e=0,n=this.Instruments.length;e<n;++e){var i=this.Instruments[e];i.Voices.length>0&&i.Voices[0].Visible&&t.push(i)}return t},t}();f.defaultTitle="[kein Titel]",e.MusicSheet=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(504),o=n(10),s=n(247),a=n(15),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.backwardJumpInstructions=[],i.endingParts=[],i.endingIndexDict={},i.userNumberOfRepetitions=0,i.visibles=[],i.fromWords=!1,i.repetitonIterationOrder=[],i.numberOfEndings=1,i.musicSheet2=e,i.virtualOverallRepetition=n,i}return i(e,t),Object.defineProperty(e.prototype,"BackwardJumpInstructions",{get:function(){return this.backwardJumpInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndingIndexDict",{get:function(){return this.endingIndexDict},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndingParts",{get:function(){return this.endingParts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Visibles",{get:function(){return this.visibles},set:function(t){this.visibles=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DefaultNumberOfRepetitions",{get:function(){var t=2;return this.virtualOverallRepetition&&(t=1),Math.max(t,Object.keys(this.endingIndexDict).length,this.checkRepetitionForMultipleLyricVerses())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UserNumberOfRepetitions",{get:function(){return this.userNumberOfRepetitions},set:function(t){this.userNumberOfRepetitions=t,this.repetitonIterationOrder=[];for(var e=this.userNumberOfRepetitions-this.NumberOfEndings,n=1;n<=this.userNumberOfRepetitions;n++)n<=e?this.repetitonIterationOrder.push(1):this.repetitonIterationOrder.push(n-e)},enumerable:!0,configurable:!0}),e.prototype.getForwardJumpTargetForIteration=function(t){var e=this.repetitonIterationOrder[t-1];return void 0!==this.endingIndexDict[e]?this.endingIndexDict[e].part.StartIndex:-1},e.prototype.getBackwardJumpTarget=function(){return this.startMarker.measureIndex},e.prototype.SetEndingStartIndex=function(t,e){var n=new l(new r.SourceMusicPart(this.musicSheet2,e,e));this.endingParts.push(n);for(var i=0,o=t;i<o.length;i++){var s=o[i];try{this.endingIndexDict[s]=n,n.endingIndices.push(s),this.numberOfEndings<s&&(this.numberOfEndings=s)}catch(t){a.Logging.error("Repetition: Exception.",t)}}},e.prototype.setEndingEndIndex=function(t,e){void 0!==this.endingIndexDict[t]&&this.endingIndexDict[t].part.setEndIndex(e)},Object.defineProperty(e.prototype,"NumberOfEndings",{get:function(){return this.numberOfEndings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FromWords",{get:function(){return this.fromWords},set:function(t){this.fromWords=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AbsoluteTimestamp",{get:function(){return o.Fraction.createFromFraction(this.musicSheet2.SourceMeasures[this.startMarker.measureIndex].AbsoluteTimestamp)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartIndex",{get:function(){return this.startMarker.measureIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndIndex",{get:function(){if(0===this.BackwardJumpInstructions.length)return this.StartIndex;var t=this.backwardJumpInstructions[this.backwardJumpInstructions.length-1].measureIndex;return void 0!==this.endingIndexDict[this.NumberOfEndings]&&(t=Math.max(this.endingIndexDict[this.NumberOfEndings].part.EndIndex,t)),t},enumerable:!0,configurable:!0}),e.prototype.checkRepetitionForMultipleLyricVerses=function(){for(var t=0,e=this.StartIndex,n=this.EndIndex,i=e;i<=n;i++)for(var r=this.musicSheet2.SourceMeasures[i],o=0;o<r.CompleteNumberOfStaves;o++)for(var s=0,a=r.VerticalSourceStaffEntryContainers[o].StaffEntries;s<a.length;s++){var u=a[s];if(void 0!==u){for(var l=0,c=0,h=u.VoiceEntries;c<h.length;c++){var f=h[c];l+=Object.keys(f.LyricsEntries).length}t=Math.max(t,l)}}return t},Object.defineProperty(e.prototype,"FirstSourceMeasureNumber",{get:function(){return this.getFirstSourceMeasure().MeasureNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastSourceMeasureNumber",{get:function(){return this.getLastSourceMeasure().MeasureNumber},enumerable:!0,configurable:!0}),e}(s.PartListEntry);e.Repetition=u;var l=function(){function t(t){this.endingIndices=[],this.part=t}return t.prototype.ToString=function(){return this.endingIndices.join(", ")},t}();e.RepetitionEndingPart=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(247),o=n(10),s=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.musicSheet=e,r.startIndex=n,r.endIndex=i,r}return i(e,t),Object.defineProperty(e.prototype,"MeasuresCount",{get:function(){return this.endIndex-this.startIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StartIndex",{get:function(){return this.startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EndIndex",{get:function(){return this.endIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ParentRepetition",{get:function(){return this.parentRepetition},set:function(t){this.parentRepetition=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AbsoluteTimestamp",{get:function(){return o.Fraction.createFromFraction(this.musicSheet.SourceMeasures[this.startIndex].AbsoluteTimestamp)},enumerable:!0,configurable:!0}),e.prototype.setStartIndex=function(t){this.startIndex=t},e.prototype.setEndIndex=function(t){this.endIndex=t},e}(r.PartListEntry);e.SourceMusicPart=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(507),r=n(62),o=n(20),s=n(28),a=n(35),u=n(10),l=n(139),c=n(39),h=n(20),f=n(35),p=n(28),d=n(15),b=n(20),m=function(){function t(t,e,n){this.voiceGeneratorsDict={},this.staffMainVoiceGeneratorDict={},this.divisions=0,this.currentXmlMeasureIndex=0,this.activeKeyHasBeenInitialized=!1,this.abstractInstructions=[],this.xmlMeasureList=e,this.musicSheet=n.GetMusicSheet,this.instrument=n,this.activeClefs=new Array(n.Staves.length),this.activeClefsHaveBeenInitialized=new Array(n.Staves.length);for(var i=0;i<n.Staves.length;i++)this.activeClefsHaveBeenInitialized[i]=!1}return Object.defineProperty(t.prototype,"ActiveKey",{get:function(){return this.activeKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MaxTieNoteFraction",{get:function(){return this.maxTieNoteFraction},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ActiveRhythm",{get:function(){return this.activeRhythm},set:function(t){this.activeRhythm=t},enumerable:!0,configurable:!0}),t.prototype.readNextXmlMeasure=function(t,e,n){if(this.currentXmlMeasureIndex>=this.xmlMeasureList.length)return!1;this.currentMeasure=t,this.inSourceMeasureInstrumentIndex=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument);var i=new u.Fraction(0,1),r=new u.Fraction(0,1),o=!1;this.maxTieNoteFraction=new u.Fraction(0,1);var s=!1;try{for(var a=this.xmlMeasureList[this.currentXmlMeasureIndex].elements(),h=0,f=a;h<f.length;h++){var p=f[h];if("note"===p.name){if(p.hasAttributes&&p.attribute("print-object")&&p.attribute("print-spacing"))continue;var b=1;this.instrument.Staves.length>1&&void 0!==p.element("staff")&&(b=parseInt(p.element("staff").value,10),isNaN(b)&&(d.Logging.debug("InstrumentReader.readNextXmlMeasure.get staff number"),b=1)),this.currentStaff=this.instrument.Staves[b-1];var m=void 0!==p.element("chord");if(void 0!==p.element("voice")){var y=parseInt(p.element("voice").value,10);this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(y,b-1)}else m&&void 0!==this.currentVoiceGenerator||(this.currentVoiceGenerator=this.getOrCreateVoiceGenerator(1,b-1));var v=0,g=new u.Fraction(0,1),_=!1;if(void 0!==p.element("duration")){if(v=parseInt(p.element("duration").value,10),isNaN(v)){var x=l.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid Note Duration.");this.musicSheet.SheetErrors.pushMeasureError(x),d.Logging.debug("InstrumentReader.readNextXmlMeasure",x);continue}g=new u.Fraction(v,4*this.divisions),0===v&&(g=this.getNoteDurationFromTypeNode(p)),void 0!==p.element("time-modification")&&(g=this.getNoteDurationForTuplet(p),_=!0)}var w=void 0!==p.element("rest"),S=void 0!==p.element("grace")||0===v||m&&s,E=i.clone();m&&(E=r.clone()),this.currentStaffEntry=this.currentMeasure.findOrCreateStaffEntry(E,this.inSourceMeasureInstrumentIndex+b-1,this.currentStaff).staffEntry,this.currentVoiceGenerator.hasVoiceEntry()&&(m||S||s)&&(s||!S)||this.currentVoiceGenerator.createVoiceEntry(E,this.currentStaffEntry,!w),S||m||(r=i.clone(),i.Add(g)),m&&void 0!==this.currentStaffEntry&&this.currentStaffEntry.ParentStaff!==this.currentStaff&&(this.currentStaffEntry=this.currentVoiceGenerator.checkForStaffEntryLink(this.inSourceMeasureInstrumentIndex+b-1,this.currentStaff,this.currentStaffEntry,this.currentMeasure));var T=void 0!==this.currentStaffEntry&&void 0!==this.currentStaffEntry.Timestamp&&this.currentStaffEntry.Timestamp.Equals(new u.Fraction(0,1))&&!this.currentStaffEntry.hasNotes();this.saveAbstractInstructionList(this.instrument.Staves.length,T),void 0!==this.openChordSymbolContainer&&(this.currentStaffEntry.ChordContainer=this.openChordSymbolContainer,this.openChordSymbolContainer=void 0),void 0!==this.activeRhythm,_?this.currentVoiceGenerator.read(p,g.Numerator,g.Denominator,w,S,this.currentStaffEntry,this.currentMeasure,e,this.maxTieNoteFraction,m,n):this.currentVoiceGenerator.read(p,v,4*this.divisions,w,S,this.currentStaffEntry,this.currentMeasure,e,this.maxTieNoteFraction,m,n);var P=p.element("notations");void 0!==P&&void 0!==P.element("dynamics"),s=S}else if("attributes"===p.name){var M=p.element("divisions");if(void 0!==M&&(this.divisions=parseInt(M.value,10),isNaN(this.divisions))){var x=l.ITextTranslation.translateText("ReaderErrorMessages/DivisionError","Invalid divisions value at Instrument: ");if(d.Logging.debug("InstrumentReader.readNextXmlMeasure",x),this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new c.MusicSheetReadingException(x+this.instrument.Name);this.musicSheet.SheetErrors.push(x+this.instrument.Name)}if(void 0===p.element("divisions")&&0===this.divisions&&0===this.currentXmlMeasureIndex){var x=l.ITextTranslation.translateText("ReaderErrorMessages/DivisionError","Invalid divisions value at Instrument: ");if(this.divisions=this.readDivisionsFromNotes(),!(this.divisions>0))throw o=!0,new c.MusicSheetReadingException(x+this.instrument.Name);this.musicSheet.SheetErrors.push(x+this.instrument.Name)}this.addAbstractInstruction(p,n),i.Equals(new u.Fraction(0,1))&&this.isAttributesNodeAtBeginOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],p)&&this.saveAbstractInstructionList(this.instrument.Staves.length,!0),this.isAttributesNodeAtEndOfMeasure(this.xmlMeasureList[this.currentXmlMeasureIndex],p)&&this.saveClefInstructionAtEndOfMeasure()}else if("forward"===p.name){var O=parseInt(p.element("duration").value,10);i.Add(new u.Fraction(O,4*this.divisions))}else if("backup"===p.name){var A=parseInt(p.element("duration").value,10);i.Sub(new u.Fraction(A,4*this.divisions)),i.Numerator<0&&(i=new u.Fraction(0,1)),r.Sub(new u.Fraction(A,4*this.divisions)),r.Numerator<0&&(r=new u.Fraction(0,1))}else if("direction"===p.name){var C=Math.min(1,i.RealValue);void 0!==this.activeRhythm&&void 0!==this.activeRhythm.Rhythm&&(C/=this.activeRhythm.Rhythm.RealValue)}else"barline"===p.name||"sound"===p.name||"harmony"===p.name}for(var k in this.voiceGeneratorsDict)if(this.voiceGeneratorsDict.hasOwnProperty(k)){var R=this.voiceGeneratorsDict[k];R.checkForOpenBeam(),R.checkForOpenGraceNotes()}if(this.currentXmlMeasureIndex===this.xmlMeasureList.length-1){for(var I=0;I<this.instrument.Staves.length;I++)this.activeClefsHaveBeenInitialized[I]||this.createDefaultClefInstruction(this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.instrument)+I);this.activeKeyHasBeenInitialized||this.createDefaultKeyInstruction()}}catch(t){if(o)throw new c.MusicSheetReadingException(t.Message);var x=l.ITextTranslation.translateText("ReaderErrorMessages/MeasureError","Error while reading Measure.");this.musicSheet.SheetErrors.pushMeasureError(x),d.Logging.debug("InstrumentReader.readNextXmlMeasure",x,t)}return this.previousMeasure=this.currentMeasure,this.currentXmlMeasureIndex+=1,!0},t.prototype.doCalculationsAfterDurationHasBeenSet=function(){for(var t in this.voiceGeneratorsDict)this.voiceGeneratorsDict.hasOwnProperty(t)&&this.voiceGeneratorsDict[t].checkOpenTies()},t.prototype.getOrCreateVoiceGenerator=function(t,e){var n=this.instrument.Staves[e],r=this.voiceGeneratorsDict[t];if(void 0!==r)n.Voices.indexOf(r.GetVoice)===-1&&n.Voices.push(r.GetVoice);else{var o=this.staffMainVoiceGeneratorDict[e];void 0!==o?(r=new i.VoiceGenerator(this.instrument,t,this.slurReader,o.GetVoice),n.Voices.push(r.GetVoice),this.voiceGeneratorsDict[t]=r):(r=new i.VoiceGenerator(this.instrument,t,this.slurReader),n.Voices.push(r.GetVoice),this.voiceGeneratorsDict[t]=r,this.staffMainVoiceGeneratorDict[e]=r)}return r},t.prototype.createDefaultClefInstruction=function(t){var e;e=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;var n,i=new o.ClefInstruction(h.ClefEnum.G,0,2);void 0===e.FirstInstructionsStaffEntries[t]?(n=new r.SourceStaffEntry(void 0,void 0),e.FirstInstructionsStaffEntries[t]=n):(n=e.FirstInstructionsStaffEntries[t],n.removeFirstInstructionOfTypeClefInstruction()),i.Parent=n,n.Instructions.splice(0,0,i)},t.prototype.createDefaultKeyInstruction=function(){var t;t=this.musicSheet.SourceMeasures.length>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure;for(var e=new s.KeyInstruction(void 0,0,p.KeyEnum.major),n=this.inSourceMeasureInstrumentIndex;n<this.inSourceMeasureInstrumentIndex+this.instrument.Staves.length;n++)if(void 0===t.FirstInstructionsStaffEntries[n]){var i=new r.SourceStaffEntry(void 0,void 0);t.FirstInstructionsStaffEntries[n]=i,e.Parent=i,i.Instructions.push(e)}else{var i=t.FirstInstructionsStaffEntries[n];e.Parent=i,i.removeFirstInstructionOfTypeKeyInstruction(),i.Instructions[0]instanceof o.ClefInstruction?i.Instructions.splice(1,0,e):i.Instructions.splice(0,0,e)}},t.prototype.isAttributesNodeAtBeginOfMeasure=function(t,e){var n=t.elements(),i=n.indexOf(e);if(i>0&&"backup"===n[i-1].name)return!0;for(var r=-1,o=0;o<n.length;o++)if("note"===n[o].name){r=o;break}return i<r&&r>0||r<0},t.prototype.isAttributesNodeAtEndOfMeasure=function(t,e){for(var n=t.elements().slice(),i=0,r=0;r<n.length;r++)if(n[r]===e){i=r;break}for(var o=0,r=i;r<n.length;r++)if("note"===n[r].name){o=r;break}return i>o},t.prototype.getNoteDurationFromTypeNode=function(t){if(void 0!==t.element("type")){var e=t.element("type");if(void 0!==e){var n=e.value;return this.currentVoiceGenerator.getNoteDurationFromType(n)}}return new u.Fraction(0,4*this.divisions)},t.prototype.addAbstractInstruction=function(t,e){if(void 0===t.element("divisions")||1!==t.elements().length){var n=t.element("transpose");if(void 0!==n){var i=n.element("chromatic");void 0!==i&&(this.instrument.PlaybackTranspose=parseInt(i.value,10))}var r,c=t.elements("clef");if(c.length>0)for(var m=0,y=c.length;m<y;++m){var v=c[m],g=h.ClefEnum.G,_=2,x=1,w=0,S=v.element("line");if(void 0!==S)try{_=parseInt(S.value,10)}catch(t){r=l.ITextTranslation.translateText("ReaderErrorMessages/ClefLineError","Invalid clef line given -> using default clef line."),this.musicSheet.SheetErrors.pushMeasureError(r),_=2,d.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var E=v.element("sign");if(void 0!==E)try{g=h.ClefEnum[E.value],o.ClefInstruction.isSupportedClef(g)||(g===h.ClefEnum.TAB&&e&&(w=-1),r=l.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Unsupported clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),g=h.ClefEnum.G,_=2)}catch(t){r=l.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Invalid clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),g=h.ClefEnum.G,_=2,d.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var T=v.element("clef-octave-change");if(void 0!==T)try{w=parseInt(T.value,10)}catch(t){r=l.ITextTranslation.translateText("ReaderErrorMessages/ClefOctaveError","Invalid clef octave found -> using default clef octave."),this.musicSheet.SheetErrors.pushMeasureError(r),w=0}if(v.hasAttributes&&"number"===v.attributes()[0].name)try{x=parseInt(v.attributes()[0].value,10)}catch(t){r=l.ITextTranslation.translateText("ReaderErrorMessages/ClefError","Invalid clef found -> using default clef."),this.musicSheet.SheetErrors.pushMeasureError(r),x=1}var P=new o.ClefInstruction(g,w,_);this.abstractInstructions.push([x,P])}if(void 0!==t.element("key")&&this.instrument.MidiInstrumentId!==b.MidiInstrument.Percussion){var M=0,O=t.element("key").element("fifths");if(void 0!==O)try{M=parseInt(O.value,10)}catch(t){r=l.ITextTranslation.translateText("ReaderErrorMessages/KeyError","Invalid key found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),M=0,d.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var A=p.KeyEnum.none,C=t.element("key");if(void 0!==C&&(C=C.element("mode")),void 0!==C)try{A=p.KeyEnum[C.value]}catch(t){r=l.ITextTranslation.translateText("ReaderErrorMessages/KeyError","Invalid key found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),A=p.KeyEnum.major,d.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}var k=new s.KeyInstruction(void 0,M,A);this.abstractInstructions.push([1,k])}if(void 0!==t.element("time")){var R=f.RhythmSymbolEnum.NONE,I=t.element("time");if(void 0!==I&&I.hasAttributes){var N=I.firstAttribute;"symbol"===N.name&&("common"===N.value?R=f.RhythmSymbolEnum.COMMON:"cut"===N.value&&(R=f.RhythmSymbolEnum.CUT))}for(var L=0,F=0,B=void 0!==I&&void 0!==I.element("senza-misura"),D=t.elements("time"),j=[],G=[],m=0,y=D.length;m<y;++m){var V=D[m];j.push.apply(j,V.elements("beats")),G.push.apply(G,V.elements("beat-type"))}if(B)this.abstractInstructions.push([1,new a.RhythmInstruction(new u.Fraction(4,4,!1),4,4,f.RhythmSymbolEnum.NONE)]);else{try{if(void 0!==j&&j.length>0&&void 0!==G&&j.length===G.length){for(var U=j.length,W=new Array(U),H=0,Y=0;Y<U;Y++){var z=j[Y].value,X=0,q=0;if(z.indexOf("+")!==-1)for(var Z=z.split("+"),m=0,y=Z.length;m<y;++m)X+=parseInt(Z[m],10);else X=parseInt(z,10);q=parseInt(G[Y].value,10),H=Math.max(H,q),W[Y]=new u.Fraction(X,q,!1)}for(var Y=0;Y<U;Y++)L+=W[Y].Denominator===H?W[Y].Numerator:H/W[Y].Denominator*W[Y].Numerator;F=H}else L=parseInt(t.element("time").element("beats").value,10),F=parseInt(t.element("time").element("beat-type").value,10)}catch(t){r=l.ITextTranslation.translateText("ReaderErrorMessages/RhythmError","Invalid rhythm found -> set to default."),this.musicSheet.SheetErrors.pushMeasureError(r),L=4,F=4,d.Logging.debug("InstrumentReader.addAbstractInstruction",r,t)}(4===L&&4===F||2===L&&2===F)&&(R=f.RhythmSymbolEnum.NONE),this.abstractInstructions.push([1,new a.RhythmInstruction(new u.Fraction(L,F,!1),L,F,R)])}}}},t.prototype.saveAbstractInstructionList=function(t,e){for(var n=this.abstractInstructions.length-1;n>=0;n--){var i=this.abstractInstructions[n],u=i[0],l=i[1];if(l instanceof o.ClefInstruction){var c=l;if(0===this.currentXmlMeasureIndex||u<=this.activeClefs.length&&c!==this.activeClefs[u-1])if(e||void 0===this.currentStaffEntry||this.currentStaffEntry.hasNotes()||u-1!==this.instrument.Staves.indexOf(this.currentStaffEntry.ParentStaff)){if(e){var h=void 0;if(void 0!==this.currentMeasure){var f=c,p=this.inSourceMeasureInstrumentIndex+u-1,d=this.currentMeasure.FirstInstructionsStaffEntries[p];if(0===this.currentXmlMeasureIndex)if(void 0===d)h=new r.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[p]=h,f.Parent=h,h.Instructions.push(f),this.activeClefsHaveBeenInitialized[u-1]=!0;else if(void 0===this.currentMeasure.FirstInstructionsStaffEntries[p]||d.Instructions[0]instanceof o.ClefInstruction){var b=new r.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[p]=b,f.Parent=b,b.Instructions.push(f)}else h=d,f.Parent=h,h.removeFirstInstructionOfTypeClefInstruction(),h.Instructions.splice(0,0,f),this.activeClefsHaveBeenInitialized[u-1]=!0;else if(this.activeClefsHaveBeenInitialized[u-1]){var b=new r.SourceStaffEntry(void 0,void 0);this.previousMeasure.LastInstructionsStaffEntries[p]=b,f.Parent=b,b.Instructions.push(f)}else{var m=this.musicSheet.SourceMeasures[0];void 0===m.FirstInstructionsStaffEntries[p]?h=new r.SourceStaffEntry(void 0,void 0):(h=m.FirstInstructionsStaffEntries[p],h.removeFirstInstructionOfTypeClefInstruction()),f.Parent=h,h.Instructions.splice(0,0,f),this.activeClefsHaveBeenInitialized[u-1]=!0}this.activeClefs[u-1]=c,this.abstractInstructions.splice(n,1)}}}else{var f=c;f.Parent=this.currentStaffEntry,this.currentStaffEntry.removeFirstInstructionOfTypeClefInstruction(),this.currentStaffEntry.Instructions.push(f),this.activeClefs[u-1]=c,this.abstractInstructions.splice(n,1)}else u<=this.activeClefs.length&&c===this.activeClefs[u-1]&&this.abstractInstructions.splice(n,1)}if(l instanceof s.KeyInstruction){var y=l;if(void 0===this.activeKey||this.activeKey.Key!==y.Key){this.activeKey=y,this.abstractInstructions.splice(n,1);var v=void 0;if(this.activeKeyHasBeenInitialized?v=this.currentMeasure:(this.activeKeyHasBeenInitialized=!0,v=this.currentXmlMeasureIndex>0?this.musicSheet.SourceMeasures[0]:this.currentMeasure),void 0!==v)for(var g=this.inSourceMeasureInstrumentIndex;g<this.inSourceMeasureInstrumentIndex+t;g++){var _=y;if(void 0===v.FirstInstructionsStaffEntries[g]){var h=new r.SourceStaffEntry(void 0,void 0);v.FirstInstructionsStaffEntries[g]=h,_.Parent=h,h.Instructions.push(_)}else{var h=v.FirstInstructionsStaffEntries[g];_.Parent=h,h.removeFirstInstructionOfTypeKeyInstruction(),0===h.Instructions.length?h.Instructions.push(_):h.Instructions[0]instanceof o.ClefInstruction?h.Instructions.splice(1,0,_):h.Instructions.splice(0,0,_)}}}else this.abstractInstructions.splice(n,1)}if(l instanceof a.RhythmInstruction){var x=l;if(void 0===this.activeRhythm||this.activeRhythm!==x){if(this.activeRhythm=x,this.abstractInstructions.splice(n,1),void 0!==this.currentMeasure)for(var g=this.inSourceMeasureInstrumentIndex;g<this.inSourceMeasureInstrumentIndex+t;g++){var w=x,h=void 0;void 0===this.currentMeasure.FirstInstructionsStaffEntries[g]?(h=new r.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[g]=h):(h=this.currentMeasure.FirstInstructionsStaffEntries[g],h.removeFirstInstructionOfTypeRhythmInstruction()),w.Parent=h,h.Instructions.push(w)}}else this.abstractInstructions.splice(n,1);
}}},t.prototype.saveClefInstructionAtEndOfMeasure=function(){for(var t=this.abstractInstructions.length-1;t>=0;t--){var e=this.abstractInstructions[t][0],n=this.abstractInstructions[t][1];if(n instanceof o.ClefInstruction){var i=n;if(void 0===this.activeClefs[e-1]||i.ClefType!==this.activeClefs[e-1].ClefType||i.ClefType===this.activeClefs[e-1].ClefType&&i.Line!==this.activeClefs[e-1].Line){var s=new r.SourceStaffEntry(void 0,void 0);this.currentMeasure.LastInstructionsStaffEntries[this.inSourceMeasureInstrumentIndex+e-1]=s;var a=i;a.Parent=s,s.Instructions.push(a),this.activeClefs[e-1]=i,this.abstractInstructions.splice(t,1)}}}},t.prototype.getNoteDurationForTuplet=function(t){var e=new u.Fraction(0,1),n=this.getNoteDurationFromTypeNode(t);if(void 0!==t.element("time-modification")){var i=t.element("time-modification");if(void 0!==i&&void 0!==i.element("actual-notes")&&void 0!==i.element("normal-notes")){var r=i.element("actual-notes"),o=i.element("normal-notes");if(void 0!==r&&void 0!==o){var s=parseInt(r.value,10),a=parseInt(o.value,10);e=new u.Fraction(a*n.Numerator,s*n.Denominator)}}}return e},t.prototype.readDivisionsFromNotes=function(){for(var t=0,e=this.currentXmlMeasureIndex,n=!1;!n;){for(var i=this.xmlMeasureList[e].elements(),r=0,o=i.length;r<o;++r){var s=i[r];if("note"===s.name&&void 0===s.element("time-modification")&&void 0!==s.element("duration")&&void 0!==s.element("type")){var a=s.element("duration"),u=s.element("type");if(void 0!==a&&void 0!==u){var h=u.value,f=0;try{f=parseInt(a.value,10)}catch(t){d.Logging.debug("InstrumentReader.readDivisionsFromNotes",t);continue}switch(h){case"1024th":t=f/4*1024;break;case"512th":t=f/4*512;break;case"256th":t=f/4*256;break;case"128th":t=f/4*128;break;case"64th":t=f/4*64;break;case"32nd":t=f/4*32;break;case"16th":t=f/4*16;break;case"eighth":t=f/4*8;break;case"quarter":t=f/4*4;break;case"half":t=f/4*2;break;case"whole":t=f/4;break;case"breve":t=f/4/2;break;case"long":t=f/4/4;break;case"maxima":t=f/4/8}}}if(t>0){n=!0;break}}if(0===t&&(e++,e===this.xmlMeasureList.length)){var p=l.ITextTranslation.translateText("ReaderErrorMEssages/DivisionsError","Invalid divisions value at Instrument: ");throw new c.MusicSheetReadingException(p+this.instrument.Name)}}return t},t}();e.InstrumentReader=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(502),r=n(515),o=n(10),s=n(505),a=n(244),u=n(139),l=n(39),c=n(15),h=n(35),f=n(35),p=n(62),d=n(245),b=n(508),m=n(20),y=n(246),v=function(){function t(){this.completeNumberOfStaves=0}return Object.defineProperty(t.prototype,"CompleteNumberOfStaves",{get:function(){return this.completeNumberOfStaves},enumerable:!0,configurable:!0}),t.doCalculationsAfterDurationHasBeenSet=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];i.doCalculationsAfterDurationHasBeenSet()}},t.prototype.createMusicSheet=function(t,e){try{return this._createMusicSheet(t,e)}catch(t){c.Logging.log("MusicSheetReader.CreateMusicSheet",t)}},t.prototype._removeFromArray=function(t,e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)},t.prototype.trimString=function(t){return t.replace(/^\s+|\s+$/g,"")},t.prototype._lastElement=function(t){return t[t.length-1]},t.prototype._createMusicSheet=function(e,n){var s=[],a=0;if(this.musicSheet=new i.MusicSheet,this.musicSheet.Path=n,void 0===e)throw new l.MusicSheetReadingException("Undefined root element");this.pushSheetLabels(e,n);var c=e.element("part-list");if(void 0===c)throw new l.MusicSheetReadingException("Undefined partListNode");var h=e.elements("part"),f=c.elements();this.initializeReading(f,h,s);var p=!0;this.currentFraction=new o.Fraction(0,1);var d=!1,b=e.element("identification");for(void 0!==b&&(b=b.element("encoding")),void 0!==b&&(b=b.element("software")),void 0!==b&&"Guitar Pro 5"===b.value&&(d=!0);p;){void 0!==this.currentMeasure&&this.currentMeasure.endsPiece&&(a=0),this.currentMeasure=new r.SourceMeasure(this.completeNumberOfStaves);for(var m=0,y=s;m<y.length;m++){var v=y[m];try{p=p&&v.readNextXmlMeasure(this.currentMeasure,this.currentFraction,d)}catch(t){var g=u.ITextTranslation.translateText("ReaderErrorMessages/InstrumentError","Error while reading instruments.");throw new l.MusicSheetReadingException(g,t)}}p&&(this.musicSheet.addMeasure(this.currentMeasure),this.checkIfRhythmInstructionsAreSetAndEqual(s),this.checkSourceMeasureForNullEntries(),a=this.setSourceMeasureDuration(s,a),t.doCalculationsAfterDurationHasBeenSet(s),this.currentMeasure.AbsoluteTimestamp=this.currentFraction.clone(),this.musicSheet.SheetErrors.finalizeMeasure(this.currentMeasure.MeasureNumber),this.currentFraction.Add(this.currentMeasure.Duration),this.previousMeasure=this.currentMeasure)}return void 0!==this.repetitionInstructionReader&&(this.repetitionInstructionReader.removeRedundantInstructions(),void 0!==this.repetitionCalculator&&this.repetitionCalculator.calculateRepetitions(this.musicSheet,this.repetitionInstructionReader.RepetitionInstructions)),this.musicSheet.checkForInstrumentWithNoVoice(),this.musicSheet.fillStaffList(),this.musicSheet},t.prototype.initializeReading=function(t,e,n){var i=this.createInstrumentGroups(t);this.completeNumberOfStaves=this.getCompleteNumberOfStavesFromXml(e),0!==e.length&&(this.currentFraction=new o.Fraction(0,1),this.currentMeasure=void 0,this.previousMeasure=void 0);for(var r=0,a=0,l=e;a<l.length;a++){var c=l[a],h=c.attribute("id");if(h){var f=i[h.value],p=c.elements("measure"),d=1;try{d=this.getInstrumentNumberOfStavesFromXml(c)}catch(t){var b=u.ITextTranslation.translateText("ReaderErrorMessages/InstrumentStavesNumberError","Invalid number of staves at instrument: ");this.musicSheet.SheetErrors.push(b+f.Name);continue}f.createStaves(d),n.push(new s.InstrumentReader(this.repetitionInstructionReader,p,f)),void 0!==this.repetitionInstructionReader&&(this.repetitionInstructionReader.XmlMeasureList[r]=p),r++}}},t.prototype.checkIfRhythmInstructionsAreSetAndEqual=function(t){for(var e=[],n=0;n<this.completeNumberOfStaves;n++)if(void 0!==this.currentMeasure.FirstInstructionsStaffEntries[n]){var i=this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions[this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.length-1];i instanceof h.RhythmInstruction&&e.push(i)}for(var r=0,s=-1,a=0,u=e.length;a<u;++a){var l=e[a];if(l.Rhythm.RealValue>r){if(this.areRhythmInstructionsMixed(e)&&l.SymbolEnum!==f.RhythmSymbolEnum.NONE)continue;r=l.Rhythm.RealValue,s=e.indexOf(l)}}if(e.length>0&&e.length<this.completeNumberOfStaves){for(var l=e[s].clone(),n=0;n<this.completeNumberOfStaves;n++)void 0===this.currentMeasure.FirstInstructionsStaffEntries[n]||this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions)instanceof h.RhythmInstruction||(this.currentMeasure.FirstInstructionsStaffEntries[n].removeAllInstructionsOfTypeRhythmInstruction(),this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.push(l.clone())),void 0===this.currentMeasure.FirstInstructionsStaffEntries[n]&&(this.currentMeasure.FirstInstructionsStaffEntries[n]=new p.SourceStaffEntry(void 0,void 0),this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.push(l.clone()));for(var a=0,u=t.length;a<u;++a){var c=t[a];c.ActiveRhythm=l}}if(0===e.length&&this.currentMeasure===this.musicSheet.SourceMeasures[0]){for(var l=new h.RhythmInstruction(new o.Fraction(4,4,!1),4,4,f.RhythmSymbolEnum.NONE),n=0;n<this.completeNumberOfStaves;n++)void 0===this.currentMeasure.FirstInstructionsStaffEntries[n]?this.currentMeasure.FirstInstructionsStaffEntries[n]=new p.SourceStaffEntry(void 0,void 0):this.currentMeasure.FirstInstructionsStaffEntries[n].removeAllInstructionsOfTypeRhythmInstruction(),this.currentMeasure.FirstInstructionsStaffEntries[n].Instructions.push(l);for(var a=0,u=t.length;a<u;++a){var c=t[a];c.ActiveRhythm=l}}for(var a=0,u=e.length;a<u;++a){var l=e[a];if(l.Rhythm.RealValue<r&&this._lastElement(this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(l)].Instructions)instanceof h.RhythmInstruction){var d=this.currentMeasure.FirstInstructionsStaffEntries[e.indexOf(l)].Instructions;d[d.length-1]=e[s].clone()}Math.abs(l.Rhythm.RealValue-r)<1e-6&&l.SymbolEnum!==f.RhythmSymbolEnum.NONE&&this.areRhythmInstructionsMixed(e)&&(l.SymbolEnum=f.RhythmSymbolEnum.NONE)}},t.prototype.areRhythmInstructionsMixed=function(t){for(var e=1;e<t.length;e++)if(Math.abs(t[e].Rhythm.RealValue-t[0].Rhythm.RealValue)<1e-6&&t[e].SymbolEnum!==t[0].SymbolEnum)return!0;return!1},t.prototype.setSourceMeasureDuration=function(t,e){for(var n=new o.Fraction(0,1),i=[],r=0,s=t;r<s.length;r++){var a=s[r];i.push(a.MaxTieNoteFraction);var l=a.ActiveRhythm.Rhythm;n.lt(l)&&(n=new o.Fraction(l.Numerator,l.Denominator,!1))}for(var c=this.currentMeasure.calculateInstrumentsDuration(this.musicSheet,i),h=new o.Fraction(0,1),f=0,p=c;f<p.length;f++){var d=p[f];h.lt(d)&&(h=d)}o.Fraction.Equal(h,n)?this.checkFractionsForEquivalence(h,n):h.lt(n)&&(h=this.currentMeasure.reverseCheck(this.musicSheet,h),this.checkFractionsForEquivalence(h,n)),this.currentMeasure.ImplicitMeasure=this.checkIfMeasureIsImplicit(h,n),this.currentMeasure.ImplicitMeasure||e++,this.currentMeasure.Duration=h,this.currentMeasure.MeasureNumber=e;for(var b=0;b<c.length;b++){var d=c[b];if(this.currentMeasure.ImplicitMeasure&&d!==h||!o.Fraction.Equal(d,n)&&!this.allInstrumentsHaveSameDuration(c,h))for(var m=this.musicSheet.getGlobalStaffIndexOfFirstStaff(this.musicSheet.Instruments[b]),y=0;y<this.musicSheet.Instruments[b].Staves.length;y++)if(!this.staffMeasureIsEmpty(m+y)){this.currentMeasure.setErrorInStaffMeasure(m+y,!0);var v=u.ITextTranslation.translateText("ReaderErrorMessages/MissingNotesError","Given Notes don't correspond to measure duration.");this.musicSheet.SheetErrors.pushMeasureError(v)}}return e},t.prototype.checkFractionsForEquivalence=function(t,e){if(e.Denominator>t.Denominator){var n=e.Denominator/t.Denominator;t.multiplyWithFactor(n)}},t.prototype.checkIfMeasureIsImplicit=function(t,e){return!(void 0!==this.previousMeasure||!t.lt(e))||void 0!==this.previousMeasure&&o.Fraction.plus(this.previousMeasure.Duration,t).Equals(e)},t.prototype.allInstrumentsHaveSameDuration=function(t,e){for(var n=0,i=0,r=t.length;i<r;++i){var s=t[i];s.Equals(e)&&n++}return n===t.length&&e!==new o.Fraction(0,1)},t.prototype.staffMeasureIsEmpty=function(t){for(var e=0,n=0;n<this.currentMeasure.VerticalSourceStaffEntryContainers.length;n++)void 0===this.currentMeasure.VerticalSourceStaffEntryContainers[n].StaffEntries[t]&&e++;return e===this.currentMeasure.VerticalSourceStaffEntryContainers.length},t.prototype.checkSourceMeasureForNullEntries=function(){for(var t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--)for(var e=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length-1;e>=0;e--){var n=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e];if(void 0!==n)for(var i=n.VoiceEntries.length-1;i>=0;i--){var r=n.VoiceEntries[i];0===r.Notes.length&&(this._removeFromArray(r.ParentVoice.VoiceEntries,r),this._removeFromArray(n.VoiceEntries,r))}void 0!==n&&0===n.VoiceEntries.length&&(this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[e]=void 0)}for(var t=this.currentMeasure.VerticalSourceStaffEntryContainers.length-1;t>=0;t--){for(var o=0,s=0,a=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length;s<a;++s){var n=this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries[s];void 0===n&&o++}o===this.currentMeasure.VerticalSourceStaffEntryContainers[t].StaffEntries.length&&this._removeFromArray(this.currentMeasure.VerticalSourceStaffEntryContainers,this.currentMeasure.VerticalSourceStaffEntryContainers[t])}},t.prototype.pushSheetLabels=function(t,e){if(this.readComposer(t),this.readTitle(t),void 0!==this.musicSheet.Title&&void 0!==this.musicSheet.Composer||this.readTitleAndComposerFromCredits(t),void 0===this.musicSheet.Title)try{var n=Math.max(0,e.lastIndexOf("/"),e.lastIndexOf("\\")),i=e.substr(n),r=i.split(".",1);this.musicSheet.Title=new y.Label(r[0])}catch(t){c.Logging.log("MusicSheetReader.pushSheetLabels: ",t)}},t.prototype.presentAttrsWithValue=function(t,e){for(var n=0,i=t.attributes();n<i.length;n++){var r=i[n];if(r.value===e)return!0}return!1},t.prototype.readComposer=function(t){var e=t.element("identification");if(void 0!==e)for(var n=e.elements("creator"),i=0,r=n.length;i<r;++i){var o=n[i];if(o.hasAttributes){if(this.presentAttrsWithValue(o,"composer")){this.musicSheet.Composer=new y.Label(this.trimString(o.value));continue}(this.presentAttrsWithValue(o,"lyricist")||this.presentAttrsWithValue(o,"poet"))&&(this.musicSheet.Lyricist=new y.Label(this.trimString(o.value)))}}},t.prototype.readTitleAndComposerFromCredits=function(t){var e=this.computeSystemYCoordinates(t);if(0!==e){for(var n=1,i=void 0,r=0,o=void 0,s=void 0,a=t.elements("credit"),u=0,l=a.length;u<l;++u){var c=a[u];if(!c.attribute("page"))return;if("1"===c.attribute("page").value){var h=void 0;if(void 0!==c){if(h=c.element("credit-words"),!h.attribute("justify"))break;var f=h.attribute("justify").value,p=h.attribute("default-y").value,d=parseFloat(p);if(d>e){if(void 0===this.musicSheet.Title){var b=h.attribute("font-size").value,m=parseFloat(b);n<m&&(n=m,i=h.value)}if(void 0===this.musicSheet.Subtitle&&"right"!==f&&"left"!==f&&r<d&&(r=d,s?(o=s,s=h.value):s=h.value),void 0===this.musicSheet.Composer||void 0===this.musicSheet.Lyricist)switch(f){case"right":this.musicSheet.Composer=new y.Label(this.trimString(h.value));break;case"left":this.musicSheet.Lyricist=new y.Label(this.trimString(h.value))}}}}}void 0===this.musicSheet.Title&&i&&(this.musicSheet.Title=new y.Label(this.trimString(i))),void 0===this.musicSheet.Subtitle&&o&&(this.musicSheet.Subtitle=new y.Label(this.trimString(o)))}},t.prototype.computeSystemYCoordinates=function(t){if(void 0===t.element("defaults"))return 0;var e=0,n=0,i=t.element("defaults").element("page-layout").element("page-height").value;e=parseFloat(i);for(var r=!1,o=t.elements("part"),s=0,a=o.length;s<a;++s){for(var u=o[s].elements("measure"),l=0,c=u.length;l<c;++l){var h=u[l];if(void 0!==h.element("print")){for(var f=h.element("print").elements("system-layout"),p=0,d=f.length;p<d;++p){var b=f[p];if(void 0!==b.element("top-system-distance")){var m=b.element("top-system-distance").value;n=parseFloat(m),r=!0;break}}break}}if(r)break}if(void 0!==t.element("defaults").element("system-layout")){var y=t.element("defaults").element("system-layout");if(void 0!==y.element("top-system-distance")){var m=t.element("defaults").element("system-layout").element("top-system-distance").value;n=parseFloat(m)}}return 0===n?0:e-n},t.prototype.readTitle=function(t){var e=t.element("work"),n=void 0;void 0!==e&&(n=e.element("work-title"),void 0!==n&&n.value&&(this.musicSheet.Title=new y.Label(this.trimString(n.value))));var i=t.element("movement-title"),r="";if(void 0!==i&&(void 0===this.musicSheet.Title?this.musicSheet.Title=new y.Label(this.trimString(i.value)):r=this.trimString(i.value)),void 0!==e){var o=e.element("work-number");if(void 0!==o){var s=o.value;s&&(r=r?s:r+", "+s)}}r&&(this.musicSheet.Subtitle=new y.Label(r))},t.prototype.createInstrumentGroups=function(t){var e,n=0,i={};try{for(var r=t,o=0,s=r.length;o<s;++o){var h=r[o];if("score-part"===h.name){var f=h.attribute("id").value,p=new a.Instrument(n,f,this.musicSheet,e);n++;for(var y=h.elements(),v=0,g=y.length;v<g;++v){var _=y[v];try{if("part-name"===_.name)p.Name=_.value;else if("score-instrument"===_.name){var x=new b.SubInstrument(p);x.idString=_.firstAttribute.value,p.SubInstruments.push(x);var w=_.element("instrument-name");void 0!==w&&(x.name=w.value,x.setMidiInstrument(w.value))}else if("midi-instrument"===_.name){for(var x=p.getSubInstrument(_.firstAttribute.value),S=0,E=p.SubInstruments.length;S<E;++S){var T=p.SubInstruments[S];if(T.idString===_.value){x=T;break}}for(var P=_.elements(),S=0,E=P.length;S<E;++S){var M=P[S];try{if("midi-channel"===M.name)10===parseInt(M.value,10)&&(p.MidiInstrumentId=m.MidiInstrument.Percussion);else if("midi-program"===M.name)p.SubInstruments.length>0&&p.MidiInstrumentId!==m.MidiInstrument.Percussion&&(x.midiInstrumentID=Math.max(0,parseInt(M.value,10)-1));else if("midi-unpitched"===M.name)x.fixedKey=Math.max(0,parseInt(M.value,10));else if("volume"===M.name)try{var O=parseFloat(M.value);x.volume=O/127}catch(t){c.Logging.debug("ExpressionReader.readExpressionParameters","read volume",t)}else if("pan"===M.name)try{var O=parseFloat(M.value);x.pan=O/64}catch(t){c.Logging.debug("ExpressionReader.readExpressionParameters","read pan",t)}}catch(t){c.Logging.log("MusicSheetReader.createInstrumentGroups midi settings: ",t)}}}}catch(t){c.Logging.log("MusicSheetReader.createInstrumentGroups: ",t)}}if(0===p.SubInstruments.length){var x=new b.SubInstrument(p);p.SubInstruments.push(x)}i[f]=p,void 0!==e?(e.InstrumentalGroups.push(p),this.musicSheet.Instruments.push(p)):(this.musicSheet.InstrumentalGroups.push(p),this.musicSheet.Instruments.push(p))}else if("part-group"===h.name&&"start"===h.attribute("type").value){var A=new d.InstrumentalGroup("group",this.musicSheet,e);void 0!==e?e.InstrumentalGroups.push(A):this.musicSheet.InstrumentalGroups.push(A),e=A}else if("part-group"===h.name&&"stop"===h.attribute("type").value&&void 0!==e){if(1===e.InstrumentalGroups.length){var C=e.InstrumentalGroups[0];void 0!==e.Parent?(e.Parent.InstrumentalGroups.push(C),this._removeFromArray(e.Parent.InstrumentalGroups,e)):(this.musicSheet.InstrumentalGroups.push(C),this._removeFromArray(this.musicSheet.InstrumentalGroups,e))}e=e.Parent}}}catch(t){var k=u.ITextTranslation.translateText("ReaderErrorMessages/InstrumentError","Error while reading Instruments");throw new l.MusicSheetReadingException(k,t)}for(var o=0,s=this.musicSheet.Instruments.length;o<s;++o){var p=this.musicSheet.Instruments[o];p.Name||(p.Name="Instr. "+p.IdString)}return i},t.prototype.getCompleteNumberOfStavesFromXml=function(t){for(var e=0,n=0,i=t;n<i.length;n++){var r=i[n],o=r.elements("measure");if(o.length>0){var s=o[0];if(void 0!==s){var a=s.element("attributes");void 0!==a&&(a=a.element("staves")),void 0===a?e++:e+=parseInt(a.value,10)}}}if(isNaN(e)||e<=0){var c=u.ITextTranslation.translateText("ReaderErrorMessages/StaffError","Invalid number of staves.");throw new l.MusicSheetReadingException(c)}return e},t.prototype.getInstrumentNumberOfStavesFromXml=function(t){var e=0,n=t.element("measure");if(void 0!==n){var i=n.element("attributes"),r=void 0;void 0!==i&&(r=i.element("staves")),e=void 0===i||void 0===r?1:parseInt(r.value,10)}if(isNaN(e)||e<=0){var o=u.ITextTranslation.translateText("ReaderErrorMessages/StaffError","Invalid number of Staves.");throw new l.MusicSheetReadingException(o)}return e},t}();e.MusicSheetReader=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(142),r=n(144),o=n(86),s=n(143),a=n(62),u=n(509),l=n(518),c=n(519),h=n(10),f=n(139),p=n(86),d=n(39),b=n(14),m=n(14),y=n(517),v=n(15),g=n(14),_=n(45),x=function(){function t(t,e,n,o){void 0===o&&(o=void 0),this.lastBeamTag="",this.openTieDict={},this.currentOctaveShift=0,this.tupletDict={},this.openTupletNumber=0,this.musicSheet=t.GetMusicSheet,this.slurReader=n,void 0!==o?this.voice=new i.LinkedVoice(t,e,o):this.voice=new r.Voice(t,e),t.Voices.push(this.voice)}return Object.defineProperty(t.prototype,"GetVoice",{get:function(){return this.voice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OctaveShift",{get:function(){return this.currentOctaveShift},set:function(t){this.currentOctaveShift=t},enumerable:!0,configurable:!0}),t.prototype.createVoiceEntry=function(t,e,n){this.currentVoiceEntry=new o.VoiceEntry(t.clone(),this.voice,e),n&&this.voice.VoiceEntries.push(this.currentVoiceEntry),e.VoiceEntries.indexOf(this.currentVoiceEntry)===-1&&e.VoiceEntries.push(this.currentVoiceEntry)},t.prototype.read=function(t,e,n,i,r,o,s,a,u,l,c){this.currentStaffEntry=o,this.currentMeasure=s;try{this.currentNote=i?this.addRestNote(e,n):this.addSingleNote(t,e,n,r,l,c);var p=t.element("notations");if(void 0!==p){var d=p.elements("tuplet");d&&(this.openTupletNumber=this.addTuplet(t,d)),void 0===p.element("arpeggiate")||r||this.currentVoiceEntry.ArpeggiosNotesIndices.push(this.currentVoiceEntry.Notes.indexOf(this.currentNote));var b=p.elements("tied");b&&this.addTie(b,a,u);var m=this.openTieDict;for(var y in m)if(m.hasOwnProperty(y)){var v=m[y];h.Fraction.plus(v.Start.ParentStaffEntry.Timestamp,v.Start.Length).lt(this.currentStaffEntry.Timestamp)&&delete m[y]}}void 0!==t.element("time-modification")&&void 0===p&&this.handleTimeModificationNode(t)}catch(t){var g=f.ITextTranslation.translateText("ReaderErrorMessages/NoteError","Ignored erroneous Note.");this.musicSheet.SheetErrors.pushMeasureError(g)}return this.currentNote},t.prototype.checkForOpenGraceNotes=function(){if(void 0!==this.currentStaffEntry&&0===this.currentStaffEntry.VoiceEntries.length&&void 0!==this.currentVoiceEntry.graceVoiceEntriesBefore&&this.currentVoiceEntry.graceVoiceEntriesBefore.length>0){var t=this.currentVoiceEntry.ParentVoice,e=this.currentMeasure.VerticalSourceStaffEntryContainers.indexOf(this.currentStaffEntry.VerticalContainerParent),n=this.currentStaffEntry.VerticalContainerParent.StaffEntries.indexOf(this.currentStaffEntry),i=this.currentMeasure.getPreviousSourceStaffEntryFromIndex(n,e);if(void 0!==i)for(var r=void 0,o=0,s=i.VoiceEntries.length;o<s;++o){var a=i.VoiceEntries[o];if(a.ParentVoice===t){r=a,r.graceVoiceEntriesAfter=[];for(var u=0,l=this.currentVoiceEntry.graceVoiceEntriesBefore.length;u<l;++u){var c=this.currentVoiceEntry.graceVoiceEntriesBefore[u];r.graceVoiceEntriesAfter.push(c)}this.currentVoiceEntry.graceVoiceEntriesBefore=[],this.currentStaffEntry=void 0;break}}}},t.prototype.checkForStaffEntryLink=function(t,e,n,i){var r=new y.StaffEntryLink(this.currentVoiceEntry);r.LinkStaffEntries.push(n),n.Link=r;var o=this.currentVoiceEntry.Timestamp.clone(),s=i.getVerticalContainerByTimestamp(o);return n=s.StaffEntries[t],void 0===n&&(n=new a.SourceStaffEntry(s,e),s.StaffEntries[t]=n),n.VoiceEntries.push(this.currentVoiceEntry),r.LinkStaffEntries.push(n),n.Link=r,n},t.prototype.checkForOpenBeam=function(){void 0!==this.openBeam&&void 0!==this.currentNote&&this.handleOpenBeam()},t.prototype.checkOpenTies=function(){var t=this.openTieDict;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];h.Fraction.plus(n.Start.ParentStaffEntry.Timestamp,n.Start.Length).lt(n.Start.ParentStaffEntry.VerticalContainerParent.ParentMeasure.Duration)&&delete t[e]}},t.prototype.hasVoiceEntry=function(){return void 0!==this.currentVoiceEntry},t.prototype.getNoteDurationFromType=function(t){switch(t){case"1024th":return new h.Fraction(1,1024);case"512th":return new h.Fraction(1,512);case"256th":return new h.Fraction(1,256);case"128th":return new h.Fraction(1,128);case"64th":return new h.Fraction(1,64);case"32th":case"32nd":return new h.Fraction(1,32);case"16th":return new h.Fraction(1,16);case"eighth":return new h.Fraction(1,8);case"quarter":return new h.Fraction(1,4);case"half":return new h.Fraction(1,2);case"whole":return new h.Fraction(1,1);case"breve":return new h.Fraction(2,1);case"long":return new h.Fraction(4,1);case"maxima":return new h.Fraction(8,1);default:var e=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw new d.MusicSheetReadingException(e)}},t.prototype.addSingleNote=function(t,e,n,i,r,o){for(var a=b.AccidentalEnum.NONE,u=m.NoteEnum.C,l=0,c=void 0,p=t.elements(),y=0,_=p.length;y<_;++y){var x=p[y];try{if("pitch"===x.name)for(var w=x.elements(),S=0,E=w.length;S<E;++S){var T=w[S];try{if("step"===T.name){if(u=m.NoteEnum[T.value],void 0===u){var P=f.ITextTranslation.translateText("ReaderErrorMessages/NotePitchError","Invalid pitch while reading note.");throw this.musicSheet.SheetErrors.pushMeasureError(P),new d.MusicSheetReadingException(P,void 0)}}else if("alter"===T.name){if(a=parseInt(T.value,10),isNaN(a)){var P=f.ITextTranslation.translateText("ReaderErrorMessages/NoteAlterationError","Invalid alteration while reading note.");throw this.musicSheet.SheetErrors.pushMeasureError(P),new d.MusicSheetReadingException(P,void 0)}}else if("octave"===T.name&&(l=parseInt(T.value,10),isNaN(l))){var P=f.ITextTranslation.translateText("ReaderErrorMessages/NoteOctaveError","Invalid octave value while reading note.");throw this.musicSheet.SheetErrors.pushMeasureError(P),new d.MusicSheetReadingException(P,void 0)}}catch(t){v.Logging.log("VoiceGenerator.addSingleNote read Step: ",t.message)}}else if("unpitched"===x.name){var M=x.element("display-step");void 0!==M&&(u=m.NoteEnum[M.value.toUpperCase()]);var O=x.element("display-octave");void 0!==O&&(l=parseInt(O.value,10),o&&(l+=1))}else"instrument"===x.name&&void 0!==x.firstAttribute&&(c=x.firstAttribute.value)}catch(t){v.Logging.log("VoiceGenerator.addSingleNote: ",t)}}l-=g.Pitch.OctaveXmlDifference;var A=new g.Pitch(u,l,a),C=new h.Fraction(e,n),k=new s.Note(this.currentVoiceEntry,this.currentStaffEntry,C,A);return k.PlaybackInstrumentId=c,i?this.handleGraceNote(t,k):this.currentVoiceEntry.Notes.push(k),t.elements("beam")&&!r&&this.createBeam(t,k,i),k},t.prototype.addRestNote=function(t,e){var n=new h.Fraction(t,e),i=new s.Note(this.currentVoiceEntry,this.currentStaffEntry,n,void 0);return this.currentVoiceEntry.Notes.push(i),void 0!==this.openBeam&&this.openBeam.ExtendedNoteList.push(i),i},t.prototype.createBeam=function(t,e,n){try{var i=t.element("beam"),r=void 0;if(void 0!==i&&i.hasAttributes&&(r=i.attribute("number")),void 0!==r){var o=parseInt(r.value,10),s=t.elements("beam"),a=s[0].value;1===o&&void 0!==s&&("begin"===a&&this.lastBeamTag!==a&&(n?(void 0!==this.openGraceBeam&&this.handleOpenBeam(),this.openGraceBeam=new u.Beam):(void 0!==this.openBeam&&this.handleOpenBeam(),this.openBeam=new u.Beam)),this.lastBeamTag=a);var l=!1;if(n){if(void 0===this.openGraceBeam)return;for(var c=0,h=this.openGraceBeam.Notes.length;c<h;++c){var p=this.openGraceBeam.Notes[c];this.currentVoiceEntry===p.ParentVoiceEntry&&(l=!0)}l||(this.openGraceBeam.addNoteToBeam(e),"end"===a&&1===o&&(this.openGraceBeam=void 0))}else{if(void 0===this.openBeam)return;for(var c=0,h=this.openBeam.Notes.length;c<h;++c){var p=this.openBeam.Notes[c];this.currentVoiceEntry===p.ParentVoiceEntry&&(l=!0)}l||(this.openBeam.addNoteToBeam(e),"end"===a&&1===o&&(this.openBeam=void 0))}}}catch(t){var b=f.ITextTranslation.translateText("ReaderErrorMessages/BeamError","Error while reading beam.");throw this.musicSheet.SheetErrors.pushMeasureError(b),new d.MusicSheetReadingException("",t)}},t.prototype.handleOpenBeam=function(){if(1===this.openBeam.Notes.length){var t=this.openBeam.Notes[0];return t.NoteBeam=void 0,void(this.openBeam=void 0)}if(this.currentNote===_.CollectionUtil.last(this.openBeam.Notes))this.openBeam=void 0;else{var e=_.CollectionUtil.last(this.openBeam.Notes),n=e.ParentStaffEntry,i=this.currentMeasure.getVerticalContainerIndexByTimestamp(n.Timestamp),r=n.VerticalContainerParent.StaffEntries.indexOf(n);if(i<this.currentMeasure.VerticalSourceStaffEntryContainers.length-1){var o=this.currentMeasure.VerticalSourceStaffEntryContainers[i+1].StaffEntries[r];if(void 0!==o)for(var s=0,a=o.VoiceEntries.length;s<a;++s){var u=o.VoiceEntries[s];if(u.ParentVoice===this.voice){var l=u.Notes[0];l.Length.lte(new h.Fraction(1,8))?(this.openBeam.addNoteToBeam(l),this.openBeam=void 0):this.openBeam=void 0}}}else this.openBeam=void 0}},t.prototype.handleGraceNote=function(t,e){var n=!1,i="";if(t.elements("type")){var r=t.elements("type");if(r){i=r[0].value;try{e.Length=this.getNoteDurationFromType(i),e.Length.Numerator=1}catch(t){var s=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(s),new d.MusicSheetReadingException(s,t)}}}var a=t.element("grace");if(void 0!==a&&a.attributes()&&a.attribute("slash")){var u=a.attribute("slash").value;"yes"===u&&(e.GraceNoteSlash=!0)}void 0!==t.element("chord")&&(n=!0);var l=void 0;n?void 0!==this.currentVoiceEntry.graceVoiceEntriesBefore&&this.currentVoiceEntry.graceVoiceEntriesBefore.length>0&&(l=_.CollectionUtil.last(this.currentVoiceEntry.graceVoiceEntriesBefore)):(l=new o.VoiceEntry(new h.Fraction(0,1),this.currentVoiceEntry.ParentVoice,this.currentStaffEntry),void 0===this.currentVoiceEntry.graceVoiceEntriesBefore&&(this.currentVoiceEntry.graceVoiceEntriesBefore=[]),this.currentVoiceEntry.graceVoiceEntriesBefore.push(l)),void 0!==l&&(l.Notes.push(e),e.ParentVoiceEntry=l)},t.prototype.addTuplet=function(t,e){if(void 0!==e&&e.length>1){var n=t.element("time-modification");void 0!==n&&(n=n.element("actual-notes"));for(var i=e,r=0,o=i.length;r<o;++r){var s=i[r];if(void 0!==s&&s.attributes()){var a=s.attribute("type").value;if("start"===a){var u=1;s.attribute("number")&&(u=parseInt(s.attribute("number").value,10));var l=0;if(void 0!==n&&(l=parseInt(n.value,10),isNaN(l))){var h=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNoteDurationError","Invalid tuplet note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(h),new d.MusicSheetReadingException(h,void 0)}var p=new c.Tuplet(l);void 0!==this.tupletDict[u]&&(delete this.tupletDict[u],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--),this.tupletDict[u]=p;var b=[];b.push(this.currentNote),p.Notes.push(b),p.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=p,this.openTupletNumber=u}else if("stop"===a){var u=1;s.attribute("number")&&(u=parseInt(s.attribute("number").value,10));var p=this.tupletDict[u];if(void 0!==p){var b=[];b.push(this.currentNote),p.Notes.push(b),p.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=p,delete this.tupletDict[u],0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--}}}}}else if(void 0!==e[0]){var m=e[0];if(m.hasAttributes){var a=m.attribute("type").value,y=1;m.attribute("number")&&(y=parseInt(m.attribute("number").value,10));var v=isNaN(y);if("start"===a){var l=0,n=t.element("time-modification");if(void 0!==n&&(n=n.element("actual-notes")),void 0!==n&&(l=parseInt(n.value,10),isNaN(l))){var h=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNoteDurationError","Invalid tuplet note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(h),new d.MusicSheetReadingException(h)}v&&(this.openTupletNumber++,y=this.openTupletNumber);var p=this.tupletDict[y];void 0===p&&(p=this.tupletDict[y]=new c.Tuplet(l));var b=[];b.push(this.currentNote),p.Notes.push(b),p.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=p,this.openTupletNumber=y}else if("stop"===a){v&&(y=this.openTupletNumber);var p=this.tupletDict[this.openTupletNumber];if(void 0!==p){var b=[];b.push(this.currentNote),p.Notes.push(b),p.Fractions.push(this.getTupletNoteDurationFromType(t)),this.currentNote.NoteTuplet=p,0===Object.keys(this.tupletDict).length?this.openTupletNumber=0:Object.keys(this.tupletDict).length>1&&this.openTupletNumber--,delete this.tupletDict[y]}}}}return this.openTupletNumber},t.prototype.handleTimeModificationNode=function(t){if(this.openTupletNumber in this.tupletDict)try{var e=this.tupletDict[this.openTupletNumber],n=_.CollectionUtil.last(e.Notes),i=n[0].ParentVoiceEntry,r=void 0;i.Timestamp.Equals(this.currentVoiceEntry.Timestamp)?r=n:(r=[],e.Notes.push(r),e.Fractions.push(this.getTupletNoteDurationFromType(t))),r.push(this.currentNote),this.currentNote.NoteTuplet=e}catch(t){var o=f.ITextTranslation.translateText("ReaderErrorMessages/TupletNumberError","Invalid tuplet number.");throw this.musicSheet.SheetErrors.pushMeasureError(o),t}else if(this.currentVoiceEntry.Notes.length>0){var s=this.currentVoiceEntry.Notes[0];if(void 0!==s.NoteTuplet){var e=s.NoteTuplet,n=_.CollectionUtil.last(e.Notes);n.push(this.currentNote),
this.currentNote.NoteTuplet=e}}},t.prototype.addTie=function(t,e,n){if(void 0!==t)if(1===t.length){var i=t[0];if(void 0!==i&&i.attributes()){var r=i.attribute("type").value;try{if("start"===r){var o=this.findCurrentNoteInTieDict(this.currentNote);o<0&&delete this.openTieDict[o];var s=this.getNextAvailableNumberForTie(),a=new l.Tie(this.currentNote);if(this.openTieDict[s]=a,void 0!==this.currentNote.NoteBeam)if(this.currentNote.NoteBeam.Notes[0]===this.currentNote)a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp);else{for(var u=0,c=this.currentNote.NoteBeam.Notes.length;u<c;++u){var d=this.currentNote.NoteBeam.Notes[u];if(void 0!==d.NoteTie&&d.NoteTie!==a&&void 0!==d.NoteTie.BeamStartTimestamp){a.BeamStartTimestamp=d.NoteTie.BeamStartTimestamp;break}}this.currentNote===_.CollectionUtil.last(this.currentNote.NoteBeam.Notes)&&(a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp))}}else if("stop"===r){var b=this.findCurrentNoteInTieDict(this.currentNote),a=this.openTieDict[b];if(void 0!==a){var m=a.Start;m.NoteTie=a,m.Length.Add(this.currentNote.Length),a.Fractions.push(this.currentNote.Length),n.lt(h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(n=h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length));var y=this.currentVoiceEntry.Notes.indexOf(this.currentNote);if(y!==-1&&this.currentVoiceEntry.Notes.splice(y,1),1===this.currentVoiceEntry.Articulations.length&&this.currentVoiceEntry.Articulations[0]===p.ArticulationEnum.fermata&&void 0===m.ParentVoiceEntry.Articulations[p.ArticulationEnum.fermata]&&m.ParentVoiceEntry.Articulations.push(p.ArticulationEnum.fermata),void 0!==this.currentNote.NoteBeam){var v=this.currentNote.NoteBeam.Notes.indexOf(this.currentNote);0===v&&void 0===a.BeamStartTimestamp&&(a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp));var g=this.currentNote.NoteBeam;g.Notes[v]=m,a.TieBeam=g}if(void 0!==this.currentNote.NoteTuplet){var x=this.currentNote.NoteTuplet.getNoteIndex(this.currentNote),w=this.currentNote.NoteTuplet.Notes[x].indexOf(this.currentNote),S=this.currentNote.NoteTuplet;S.Notes[x][w]=m,a.TieTuplet=S}for(var u=0,c=this.currentNote.NoteSlurs.length;u<c;++u){var E=this.currentNote.NoteSlurs[u];E.StartNote===this.currentNote&&(E.StartNote=a.Start,E.StartNote.NoteSlurs.push(E)),E.EndNote===this.currentNote&&(E.EndNote=a.Start,E.EndNote.NoteSlurs.push(E))}var T=this.currentVoiceEntry.LyricsEntries;for(var P in T)if(T.hasOwnProperty(P)){var M=this.currentVoiceEntry.LyricsEntries[P];m.ParentVoiceEntry.LyricsEntries.hasOwnProperty(P)||(m.ParentVoiceEntry.LyricsEntries[P]=M,M.Parent=m.ParentVoiceEntry)}delete this.openTieDict[b]}}}catch(t){var O=f.ITextTranslation.translateText("ReaderErrorMessages/TieError","Error while reading tie.");this.musicSheet.SheetErrors.pushMeasureError(O)}}}else if(2===t.length){var b=this.findCurrentNoteInTieDict(this.currentNote);if(b>=0){var a=this.openTieDict[b],A=a.Start;if(A.Length.Add(this.currentNote.Length),a.Fractions.push(this.currentNote.Length),void 0!==this.currentNote.NoteBeam){var v=this.currentNote.NoteBeam.Notes.indexOf(this.currentNote);0===v&&void 0===a.BeamStartTimestamp&&(a.BeamStartTimestamp=h.Fraction.plus(e,this.currentVoiceEntry.Timestamp));var g=this.currentNote.NoteBeam;g.Notes[v]=A,a.TieBeam=g}for(var u=0,c=this.currentNote.NoteSlurs.length;u<c;++u){var E=this.currentNote.NoteSlurs[u];E.StartNote===this.currentNote&&(E.StartNote=a.Start,E.StartNote.NoteSlurs.push(E)),E.EndNote===this.currentNote&&(E.EndNote=a.Start,E.EndNote.NoteSlurs.push(E))}this.currentVoiceEntry.LyricsEntries.forEach(function(t,e){A.ParentVoiceEntry.LyricsEntries.containsKey(t)||(A.ParentVoiceEntry.LyricsEntries.setValue(t,e),e.Parent=A.ParentVoiceEntry)}),n.lt(h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length))&&(n=h.Fraction.plus(this.currentStaffEntry.Timestamp,this.currentNote.Length));var y=this.currentVoiceEntry.Notes.indexOf(this.currentNote);y!==-1&&this.currentVoiceEntry.Notes.splice(y,1)}}},t.prototype.getNextAvailableNumberForTie=function(){var t=Object.keys(this.openTieDict);if(0===t.length)return 1;t.sort(function(t,e){return+t-+e});for(var e=0;e<t.length;e++)if(""+(e+1)!==t[e])return e+1;return+t[t.length-1]+1},t.prototype.findCurrentNoteInTieDict=function(t){var e=this.openTieDict;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(i.Start.Pitch.FundamentalNote===t.Pitch.FundamentalNote&&i.Start.Pitch.Octave===t.Pitch.Octave)return+n}return-1},t.prototype.getTupletNoteDurationFromType=function(t){if(void 0!==t.element("type")){var e=t.element("type");if(void 0!==e){var n=e.value;try{return this.getNoteDurationFromType(n)}catch(t){var i=f.ITextTranslation.translateText("ReaderErrorMessages/NoteDurationError","Invalid note duration.");throw this.musicSheet.SheetErrors.pushMeasureError(i),new d.MusicSheetReadingException("",t)}}}},t}();e.VoiceGenerator=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(20),r=n(15),o=function(){function t(e){this.parentInstrument=e,this.fixedKey=-1,this.name=this.parseMidiInstrument(this.parentInstrument.Name),this.midiInstrumentID=t.midiInstrument[this.name],this.volume=1}return Object.defineProperty(t.prototype,"ParentInstrument",{get:function(){return this.parentInstrument},enumerable:!0,configurable:!0}),t.isPianoInstrument=function(t){return t===i.MidiInstrument.Acoustic_Grand_Piano||t===i.MidiInstrument.Bright_Acoustic_Piano||t===i.MidiInstrument.Electric_Grand_Piano||t===i.MidiInstrument.Electric_Piano_1||t===i.MidiInstrument.Electric_Piano_2},t.prototype.setMidiInstrument=function(e){this.midiInstrumentID=t.midiInstrument[this.parseMidiInstrument(e)]},t.prototype.parseMidiInstrument=function(e){try{if(e){var n=e.toLowerCase().trim();for(var i in t.midiInstrument)if(n.indexOf(i)!==-1)return i}if(this.parentInstrument.Name){var n=this.parentInstrument.Name.toLowerCase().trim();for(var i in t.midiInstrument)if(n.indexOf(i)!==-1)return i}}catch(t){r.Logging.error("Error parsing MIDI Instrument. Default to Grand Piano.")}return"unnamed"},t}();o.midiInstrument={alt:i.MidiInstrument.Synth_Voice,alto:i.MidiInstrument.Synth_Voice,banjo:i.MidiInstrument.Banjo,bariton:i.MidiInstrument.Synth_Voice,baritone:i.MidiInstrument.Synth_Voice,bass:i.MidiInstrument.Synth_Voice,"blockflöte":i.MidiInstrument.Recorder,brass:i.MidiInstrument.Trombone,bratsche:i.MidiInstrument.Viola,cello:i.MidiInstrument.Cello,clarinet:i.MidiInstrument.Clarinet,contrabass:i.MidiInstrument.Contrabass,drums:i.MidiInstrument.Percussion,flute:i.MidiInstrument.Flute,"flöte":i.MidiInstrument.Flute,frenchhorn:i.MidiInstrument.French_Horn,gitarre:i.MidiInstrument.Acoustic_Guitar_nylon,guitar:i.MidiInstrument.Acoustic_Guitar_nylon,harfe:i.MidiInstrument.Orchestral_Harp,harp:i.MidiInstrument.Orchestral_Harp,klarinette:i.MidiInstrument.Clarinet,klavier:i.MidiInstrument.Acoustic_Grand_Piano,kontrabass:i.MidiInstrument.Contrabass,oboe:i.MidiInstrument.Oboe,organ:i.MidiInstrument.Church_Organ,orgel:i.MidiInstrument.Church_Organ,orgue:i.MidiInstrument.Church_Organ,percussion:i.MidiInstrument.Percussion,piano:i.MidiInstrument.Acoustic_Grand_Piano,piccolo:i.MidiInstrument.Piccolo,posaune:i.MidiInstrument.Trombone,recorder:i.MidiInstrument.Recorder,sax:i.MidiInstrument.Tenor_Sax,schlagwerk:i.MidiInstrument.Percussion,schlagzeug:i.MidiInstrument.Percussion,sopran:i.MidiInstrument.Synth_Voice,steeldrum:i.MidiInstrument.Steel_Drums,streicher:i.MidiInstrument.String_Ensemble_1,strings:i.MidiInstrument.String_Ensemble_1,tenor:i.MidiInstrument.Synth_Voice,tpt:i.MidiInstrument.Trumpet,trombone:i.MidiInstrument.Trombone,trompete:i.MidiInstrument.Trumpet,trumpet:i.MidiInstrument.Trumpet,tuba:i.MidiInstrument.Tuba,unnamed:i.MidiInstrument.Acoustic_Grand_Piano,viola:i.MidiInstrument.Viola,violin:i.MidiInstrument.Violin,"violon-c":i.MidiInstrument.Cello,"violon.":i.MidiInstrument.Violin,voice:i.MidiInstrument.Synth_Voice,woodblock:i.MidiInstrument.Woodblock},e.SubInstrument=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.notes=[],this.extendedNoteList=[]}return Object.defineProperty(t.prototype,"Notes",{get:function(){return this.notes},set:function(t){this.notes=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ExtendedNoteList",{get:function(){return this.extendedNoteList},set:function(t){this.extendedNoteList=t},enumerable:!0,configurable:!0}),t.prototype.addNoteToBeam=function(t){void 0!==t&&(t.NoteBeam=this,this.notes.push(t),this.extendedNoteList.push(t))},t}();e.Beam=n;var i;!function(t){t[t.BeamNone=-1]="BeamNone",t[t.BeamBegin=0]="BeamBegin",t[t.BeamContinue=1]="BeamContinue",t[t.BeamEnd=2]="BeamEnd",t[t.BeamForward=3]="BeamForward",t[t.BeamBackward=4]="BeamBackward"}(i=e.BeamEnum||(e.BeamEnum={}))},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.p=0]="p",t[t.f=1]="f",t[t.s=2]="s",t[t.z=3]="z",t[t.m=4]="m",t[t.r=5]="r"}(n=e.DynamicExpressionSymbolEnum||(e.DynamicExpressionSymbolEnum={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(248),o=n(510),s=n(39),a=n(15),u=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.dynamicEnum=l[e.toLowerCase()],o.soundDynamic=n,o.placement=i,o.staffNumber=r,o}return i(e,t),Object.defineProperty(e.prototype,"ParentMultiExpression",{get:function(){return this.multiExpression},set:function(t){this.multiExpression=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DynEnum",{get:function(){return this.dynamicEnum},set:function(t){this.dynamicEnum=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SoundDynamic",{get:function(){return this.soundDynamic},set:function(t){this.soundDynamic=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Placement",{get:function(){return this.placement},set:function(t){this.placement=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffNumber",{get:function(){return this.staffNumber},set:function(t){this.staffNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Length",{get:function(){return Math.abs(this.length)<1e-4&&(this.length=this.calculateLength()),this.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MidiVolume",{get:function(){return 127*e.dynamicToRelativeVolumeDict[this.dynamicEnum]},enumerable:!0,configurable:!0}),e.isInputStringInstantaniousDynamic=function(t){return void 0!==t&&e.isStringInStringList(e.listInstantaniousDynamics,t)},e.prototype.getDynamicExpressionSymbol=function(t){switch(t){case"p":return o.DynamicExpressionSymbolEnum.p;case"f":return o.DynamicExpressionSymbolEnum.f;case"s":return o.DynamicExpressionSymbolEnum.s;case"z":return o.DynamicExpressionSymbolEnum.z;case"m":return o.DynamicExpressionSymbolEnum.m;case"r":return o.DynamicExpressionSymbolEnum.r;default:throw new s.InvalidEnumArgumentException("unknown DynamicExpressionSymbolEnum: "+t)}},e.prototype.calculateLength=function(){return a.Logging.debug("[Andrea] instantaniousDynamicExpression: not implemented: calculateLength!"),0},e}(r.AbstractExpression);u.dynamicToRelativeVolumeDict={f:92/127,ff:108/127,fff:124/127,ffff:125/127,fffff:126/127,ffffff:1,fp:.5,fz:.5,mf:76/127,mp:60/127,p:44/127,pp:28/127,ppp:12/127,pppp:10/127,ppppp:8/127,pppppp:6/127,rf:.5,rfz:.5,sf:.5,sffz:.5,sfp:.5,sfpp:.5,sfz:.5},u.listInstantaniousDynamics=["pppppp","ppppp","pppp","ppp","pp","p","ffffff","fffff","ffff","fff","ff","f","mf","mp","sf","sp","spp","fp","rf","rfz","sfz","sffz","fz"],e.InstantaniousDynamicExpression=u;var l;!function(t){t[t.pppppp=0]="pppppp",t[t.ppppp=1]="ppppp",t[t.pppp=2]="pppp",t[t.ppp=3]="ppp",t[t.pp=4]="pp",t[t.p=5]="p",t[t.mp=6]="mp",t[t.mf=7]="mf",t[t.f=8]="f",t[t.ff=9]="ff",t[t.fff=10]="fff",t[t.ffff=11]="ffff",t[t.fffff=12]="fffff",t[t.ffffff=13]="ffffff",t[t.sf=14]="sf",t[t.sfp=15]="sfp",t[t.sfpp=16]="sfpp",t[t.fp=17]="fp",t[t.rf=18]="rf",t[t.rfz=19]="rfz",t[t.sfz=20]="sfz",t[t.sffz=21]="sffz",t[t.fz=22]="fz",t[t.other=23]="other"}(l=e.DynamicEnum||(e.DynamicEnum={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(249),r=n(511),o=function(){function t(t,e){t instanceof i.ContinuousDynamicExpression?this.continuousDynamicExpression=t:t instanceof r.InstantaniousDynamicExpression&&(this.instantaneousDynamicExpression=t),this.staffNumber=e}return t.prototype.parMultiExpression=function(){return void 0!==this.continuousDynamicExpression?this.continuousDynamicExpression.StartMultiExpression:void 0!==this.instantaneousDynamicExpression?this.instantaneousDynamicExpression.ParentMultiExpression:void 0},t.prototype.CompareTo=function(t){return this.parMultiExpression().AbsoluteTimestamp.CompareTo(t.parMultiExpression().AbsoluteTimestamp)},t}();e.DynamicsContainer=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.text=t,this.word=e,this.parent=n}return Object.defineProperty(t.prototype,"Text",{get:function(){return this.text},set:function(t){this.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Word",{get:function(){return this.word},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Parent",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!0,configurable:!0}),t}();e.LyricsEntry=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(14),r=function(){function t(t){this.accidentalAbove=i.AccidentalEnum.NONE,this.accidentalBelow=i.AccidentalEnum.NONE,this.ornament=t}return Object.defineProperty(t.prototype,"GetOrnament",{get:function(){return this.ornament},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AccidentalAbove",{get:function(){return this.accidentalAbove},set:function(t){this.accidentalAbove=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AccidentalBelow",{get:function(){return this.accidentalBelow},set:function(t){this.accidentalBelow=t},enumerable:!0,configurable:!0}),t}();e.OrnamentContainer=r;var o;!function(t){t[t.Trill=0]="Trill",t[t.Turn=1]="Turn",t[t.InvertedTurn=2]="InvertedTurn",t[t.DelayedTurn=3]="DelayedTurn",t[t.DelayedInvertedTurn=4]="DelayedInvertedTurn",t[t.Mordent=5]="Mordent",t[t.InvertedMordent=6]="InvertedMordent"}(o=e.OrnamentEnum||(e.OrnamentEnum={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),o=n(520),s=n(62),a=n(86),u=n(28),l=n(250),c=function(t){function e(e){var n=t.call(this)||this;n.staffLinkedExpressions=[],n.tempoExpressions=[],n.verticalSourceStaffEntryContainers=[],n.staffMeasureErrors=[],n.firstRepetitionInstructions=[],n.lastRepetitionInstructions=[],n.completeNumberOfStaves=e,n.implicitMeasure=!1,n.breakSystemAfter=!1,n.endsPiece=!1,n.firstInstructionsStaffEntries=new Array(e),n.lastInstructionsStaffEntries=new Array(e);for(var i=0;i<e;i++)n.staffMeasureErrors.push(!1),n.staffLinkedExpressions.push([]);return n}return i(e,t),Object.defineProperty(e.prototype,"MeasureNumber",{get:function(){return this.measureNumber},set:function(t){this.measureNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AbsoluteTimestamp",{get:function(){return this.absoluteTimestamp},set:function(t){this.absoluteTimestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CompleteNumberOfStaves",{get:function(){return this.completeNumberOfStaves},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.duration},set:function(t){this.duration=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ImplicitMeasure",{get:function(){return this.implicitMeasure},set:function(t){this.implicitMeasure=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BreakSystemAfter",{get:function(){return this.breakSystemAfter},set:function(t){this.breakSystemAfter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StaffLinkedExpressions",{get:function(){return this.staffLinkedExpressions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TempoExpressions",{get:function(){return this.tempoExpressions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"VerticalSourceStaffEntryContainers",{get:function(){return this.verticalSourceStaffEntryContainers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FirstInstructionsStaffEntries",{get:function(){return this.firstInstructionsStaffEntries},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastInstructionsStaffEntries",{get:function(){return this.lastInstructionsStaffEntries},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FirstRepetitionInstructions",{get:function(){return this.firstRepetitionInstructions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LastRepetitionInstructions",{get:function(){return this.lastRepetitionInstructions},enumerable:!0,configurable:!0}),e.prototype.getErrorInMeasure=function(t){return this.staffMeasureErrors[t]},e.prototype.setErrorInStaffMeasure=function(t,e){this.staffMeasureErrors[t]=e},e.prototype.getNextMeasure=function(t){return t[this.measureListIndex+1]},e.prototype.getPreviousMeasure=function(t){if(this.measureListIndex>1)return t[this.measureListIndex-1]},e.prototype.findOrCreateStaffEntry=function(t,e,n){for(var i,r=void 0,a=0,u=this.verticalSourceStaffEntryContainers;a<u.length;a++){var l=u[a];if(l.Timestamp.Equals(t)){i=l;break}}if(void 0!==i)return void 0!==i.StaffEntries[e]?r=i.StaffEntries[e]:(r=new s.SourceStaffEntry(i,n),i.StaffEntries[e]=r),{createdNewContainer:!1,staffEntry:r};var c=this.verticalSourceStaffEntryContainers[this.verticalSourceStaffEntryContainers.length-1];if(0===this.verticalSourceStaffEntryContainers.length||c.Timestamp.lt(t)){var l=new o.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.push(l),r=new s.SourceStaffEntry(l,n),l.StaffEntries[e]=r}else for(var h=this.verticalSourceStaffEntryContainers.length-1;h>=0;h--){if(this.verticalSourceStaffEntryContainers[h].Timestamp.lt(t)){var l=new o.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.splice(h+1,0,l),r=new s.SourceStaffEntry(l,n),l.StaffEntries[e]=r;break}if(0===h){var l=new o.VerticalSourceStaffEntryContainer(this,t.clone(),this.completeNumberOfStaves);this.verticalSourceStaffEntryContainers.splice(h,0,l),r=new s.SourceStaffEntry(l,n),l.StaffEntries[e]=r;break}}return{createdNewContainer:!0,staffEntry:r}},e.prototype.findOrCreateVoiceEntry=function(t,e){for(var n=void 0,i=!1,r=0,o=t.VoiceEntries;r<o.length;r++){var s=o[r];if(s.ParentVoice===e){n=s;break}}return void 0===n&&(n=new a.VoiceEntry(t.Timestamp,e,t),t.VoiceEntries.push(n),i=!0),{createdVoiceEntry:i,voiceEntry:n}},e.prototype.getPreviousSourceStaffEntryFromIndex=function(t,e){for(var n=e-1;n>=0;n--)if(void 0!==this.verticalSourceStaffEntryContainers[n][t])return this.verticalSourceStaffEntryContainers[n][t]},e.prototype.getVerticalContainerIndexByTimestamp=function(t){for(var e=0,n=this.VerticalSourceStaffEntryContainers.length;e<n;++e)if(this.VerticalSourceStaffEntryContainers[e].Timestamp.Equals(t))return e;return-1},e.prototype.getVerticalContainerByTimestamp=function(t){for(var e=0,n=this.VerticalSourceStaffEntryContainers.length;e<n;++e){var i=this.VerticalSourceStaffEntryContainers[e];if(i.Timestamp.Equals(t))return i}},e.prototype.checkForEmptyVerticalContainer=function(t){for(var e=0,n=0;n<this.completeNumberOfStaves;n++)void 0===this.verticalSourceStaffEntryContainers[t][n]&&e++;e===this.completeNumberOfStaves&&this.verticalSourceStaffEntryContainers.splice(t,1)},e.prototype.reverseCheck=function(t,e){for(var n=new r.Fraction(0,1),i=[],o=0;o<t.Instruments.length;o++){for(var s=new r.Fraction(0,1),a=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[o]),u=0;u<t.Instruments[o].Staves.length;u++){var l=this.getLastSourceStaffEntryForInstrument(a+u);if(void 0!==l&&!l.hasTie())for(var c=this.verticalSourceStaffEntryContainers.indexOf(l.VerticalContainerParent),h=c-1;h>=0;h--){var f=this.verticalSourceStaffEntryContainers[h][a+u];if(void 0!==f&&f.hasTie()&&s.lt(r.Fraction.plus(f.Timestamp,f.calculateMaxNoteLength()))){s=r.Fraction.plus(f.Timestamp,f.calculateMaxNoteLength());break}}}i.push(s)}for(var p=0,d=i.length;p<d;++p){var b=i[p];n.lt(b)&&(n=b)}return r.Fraction.max(n,e)},e.prototype.calculateInstrumentsDuration=function(t,e){for(var n=[],i=0;i<t.Instruments.length;i++){for(var o=new r.Fraction(0,1),s=t.getGlobalStaffIndexOfFirstStaff(t.Instruments[i]),a=0;a<t.Instruments[i].Staves.length;a++){var u=this.getLastSourceStaffEntryForInstrument(s+a);void 0!==u&&void 0!==u.Timestamp&&o.lt(r.Fraction.plus(u.Timestamp,u.calculateMaxNoteLength()))&&(o=r.Fraction.plus(u.Timestamp,u.calculateMaxNoteLength()))}o.lt(e[i])&&(o=e[i]),n.push(o)}return n},e.prototype.getEntriesPerStaff=function(t){for(var e=[],n=0,i=this.VerticalSourceStaffEntryContainers;n<i.length;n++){var r=i[n],o=r.StaffEntries[t];void 0!==o&&e.push(o)}return e},e.prototype.hasBeginInstructions=function(){for(var t=0,e=this.FirstInstructionsStaffEntries.length;t<e;t++){var n=this.FirstInstructionsStaffEntries[t];if(void 0!==n&&n.Instructions.length>0)return!0}return!1},e.prototype.beginsWithLineRepetition=function(){for(var t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){var n=this.FirstRepetitionInstructions[t];if(void 0!==n.parentRepetition&&n===n.parentRepetition.startMarker&&!n.parentRepetition.FromWords)return!0}return!1},e.prototype.endsWithLineRepetition=function(){for(var t=0,e=this.LastRepetitionInstructions.length;t<e;++t){var n=this.LastRepetitionInstructions[t],i=n.parentRepetition;if(void 0!==i&&!i.FromWords)for(var r=0,o=i.BackwardJumpInstructions.length;r<o;++r){var s=i.BackwardJumpInstructions[r];if(n===s)return!0}}return!1},e.prototype.beginsWithWordRepetition=function(){for(var t=0,e=this.FirstRepetitionInstructions.length;t<e;++t){var n=this.FirstRepetitionInstructions[t];if(void 0!==n.parentRepetition&&n===n.parentRepetition.startMarker&&n.parentRepetition.FromWords)return!0}return!1},e.prototype.endsWithWordRepetition=function(){for(var t=0,e=this.LastRepetitionInstructions.length;t<e;++t){var n=this.LastRepetitionInstructions[t],i=n.parentRepetition;if(void 0!==i&&i.FromWords){for(var r=0,o=i.BackwardJumpInstructions.length;r<o;++r){var s=i.BackwardJumpInstructions[r];if(n===s)return!0}if(n===i.forwardJumpInstruction)return!0}}return!1},e.prototype.getKeyInstruction=function(t){if(void 0!==this.FirstInstructionsStaffEntries[t])for(var e=this.FirstInstructionsStaffEntries[t],n=0,i=e.Instructions.length;n<i;++n){var r=e.Instructions[n];if(r instanceof u.KeyInstruction)return r}},e.prototype.getLastSourceStaffEntryForInstrument=function(t){for(var e,n=this.verticalSourceStaffEntryContainers.length-1;n>=0&&!(e=this.verticalSourceStaffEntryContainers[n].StaffEntries[t]);n--);return e},e}(l.BaseIdClass);e.SourceMeasure=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.voices=[],this.volume=1,this.parentInstrument=t,this.id=e,this.audible=!0,this.following=!0}return Object.defineProperty(t.prototype,"ParentInstrument",{get:function(){return this.parentInstrument},set:function(t){this.parentInstrument=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Voices",{get:function(){return this.voices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Volume",{get:function(){return this.volume},set:function(t){this.volume=t},enumerable:!0,configurable:!0}),t}();e.Staff=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.linkStaffEntries=[],this.voiceEntry=t}return Object.defineProperty(t.prototype,"GetVoiceEntry",{get:function(){return this.voiceEntry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LinkStaffEntries",{get:function(){return this.linkStaffEntries},set:function(t){this.linkStaffEntries=t},enumerable:!0,configurable:!0}),t}();e.StaffEntryLink=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(250),o=function(t){function e(e){var n=t.call(this)||this;return n.fractions=[],n.noteHasBeenCreated=[],n.start=e,n}return i(e,t),Object.defineProperty(e.prototype,"Start",{get:function(){return this.start},set:function(t){this.start=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TieBeam",{get:function(){return this.tieBeam},set:function(t){this.tieBeam=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BeamStartTimestamp",{get:function(){return this.beamStartTimestamp},set:function(t){this.beamStartTimestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TieTuplet",{get:function(){return this.tieTuplet},set:function(t){this.tieTuplet=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Fractions",{get:function(){return this.fractions},set:function(t){this.fractions=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NoteHasBeenCreated",{get:function(){return this.noteHasBeenCreated},set:function(t){this.noteHasBeenCreated=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BaseNoteYPosition",{get:function(){return this.baseNoteYPosition},set:function(t){this.baseNoteYPosition=t},enumerable:!0,configurable:!0}),e.prototype.initializeBoolList=function(){this.noteHasBeenCreated=new Array(this.fractions.length)},e.prototype.allGraphicalNotesHaveBeenCreated=function(){for(var t=0,e=this.noteHasBeenCreated;t<e.length;t++){var n=e[t];if(!n)return!1}return!0},e}(r.BaseIdClass);e.Tie=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.notes=[],this.fractions=[],this.tupletLabelNumber=t}return Object.defineProperty(t.prototype,"TupletLabelNumber",{get:function(){return this.tupletLabelNumber},set:function(t){this.tupletLabelNumber=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Notes",{get:function(){return this.notes},set:function(t){this.notes=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Fractions",{get:function(){return this.fractions},set:function(t){this.fractions=t},enumerable:!0,configurable:!0}),t.prototype.getNoteIndex=function(t){for(var e=this.notes.length-1;e>=0;e--)for(var n=0;n<this.notes[e].length;n++)if(t===this.notes[e][n])return e;return 0},t}();e.Tuplet=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=function(){function t(t,e,n){this.staffEntries=[],this.comments=[],this.timestamp=e,this.size=n,this.staffEntries=new Array(n),this.parentMeasure=t}return t.prototype.$get$=function(t){return this.staffEntries[t]},t.prototype.$set$=function(t,e){this.staffEntries[t]=e},Object.defineProperty(t.prototype,"Timestamp",{get:function(){return this.timestamp},set:function(t){this.timestamp=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StaffEntries",{get:function(){return this.staffEntries},set:function(t){this.staffEntries=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Comments",{get:function(){return this.comments},set:function(t){this.comments=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ParentMeasure",{get:function(){return this.parentMeasure},set:function(t){this.parentMeasure=t},enumerable:!0,configurable:!0}),t.prototype.getAbsoluteTimestamp=function(){return i.Fraction.plus(this.timestamp,this.parentMeasure.AbsoluteTimestamp)},t}();e.VerticalSourceStaffEntryContainer=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(119),r=function(){function t(){}return t.ajax=function(t){var e;if(XMLHttpRequest)e=new XMLHttpRequest;else{if(!ActiveXObject)return i.Promise.reject(new Error("XMLHttp not supported."));e=new ActiveXObject("Microsoft.XMLHTTP")}return new i.Promise(function(n,i){e.onreadystatechange=function(){e.readyState===XMLHttpRequest.DONE&&(200===e.status?n(e.responseText):0===e.status&&e.responseText?n(e.responseText):i(new Error("Could not retrieve requested URL")))},e.overrideMimeType("text/plain; charset=x-user-defined"),e.open("GET",t,!0),e.send()})},t}();e.AJAX=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.hidden=!0,this.container=t,this.osmd=e;var n=document.createElement("img");n.style.position="absolute",n.style.zIndex="-1",this.cursorElement=n,t.appendChild(n)}return t.prototype.init=function(t,e){this.manager=t,this.reset(),this.graphic=e,this.hidden=!0,this.hide()},t.prototype.show=function(){this.hidden=!1,this.update()},t.prototype.update=function(){if(!this.hidden){this.graphic.Cursors.length=0;var t=this.iterator;if(!t.EndReached&&void 0!==t.CurrentVoiceEntries){for(var e=0,n=0,i=0,r=0,o=t.CurrentVoiceEntries.length;r<o;++r){var s=t.CurrentVoiceEntries[r],a=s.ParentSourceStaffEntry.VerticalContainerParent.ParentMeasure.measureListIndex,u=s.ParentSourceStaffEntry.ParentStaff.idInMusicSheet,l=this.graphic.findGraphicalStaffEntryFromMeasureList(u,a,s.ParentSourceStaffEntry);if(0===r){e=l.getX();var c=l.parentMeasure.parentMusicSystem;n=c.PositionAndShape.AbsolutePosition.y+c.StaffLines[0].PositionAndShape.RelativePosition.y;var h=c.PositionAndShape.AbsolutePosition.y+c.StaffLines[c.StaffLines.length-1].PositionAndShape.RelativePosition.y+4;i=h-n}}var f=this.cursorElement;f.style.top=10*n*this.osmd.zoom+"px",f.style.left=10*(e-1.5)*this.osmd.zoom+"px",f.height=10*i*this.osmd.zoom;var p=30*this.osmd.zoom;p!==f.width&&(f.width=p,this.updateStyle(p)),this.cursorElement.style.display=""}}},t.prototype.hide=function(){this.cursorElement.style.display="none",this.hidden=!0},t.prototype.next=function(){this.iterator.moveToNext(),this.hidden||this.show()},t.prototype.reset=function(){this.iterator=this.manager.getIterator(),this.iterator.moveToNext(),this.update()},t.prototype.updateStyle=function(t,e){void 0===e&&(e="#33e02f");var n=document.createElement("canvas");n.width=this.cursorElement.width,n.height=1;var i=n.getContext("2d");i.globalAlpha=.5;var r=i.createLinearGradient(0,0,this.cursorElement.width,0);r.addColorStop(0,"white"),r.addColorStop(.2,e),r.addColorStop(.8,e),r.addColorStop(1,"white"),i.fillStyle=r,i.fillRect(0,0,t,1),this.cursorElement.src=n.toDataURL("image/png")},t}();e.Cursor=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(237),r=n(496),o=n(506),s=n(241),a=n(85),u=n(522),l=n(475),c=n(119),h=n(521),f=n(15),p=n(467),d=function(){function t(t,e){
if(void 0===e&&(e=!1),this.zoom=1,"string"==typeof t?this.container=document.getElementById(t):t&&"appendChild"in t&&(this.container=t),!this.container)throw new Error("Please pass a valid div container to OSMD");this.canvas=document.createElement("canvas"),this.canvas.style.zIndex="0";var n=document.createElement("div");n.style.position="relative",n.appendChild(this.canvas),this.container.appendChild(n),this.drawer=new a.VexFlowMusicSheetDrawer(this.canvas),this.cursor=new u.Cursor(n,this),e&&this.autoResize()}return t.prototype.load=function(t){if(this.reset(),"string"==typeof t){var e=t,n=this;if("PK"===e.substr(0,4))return l.MXLHelper.MXLtoXMLstring(e).then(function(t){return n.load(t)},function(t){throw f.Logging.debug(t),new Error("OSMD: Invalid MXL file")});if("<?xml"===e.substr(0,5)){var a=new DOMParser;t=a.parseFromString(e,"text/xml")}else if(e.length<2083)return h.AJAX.ajax(e).then(function(t){return n.load(t)},function(t){throw t})}if(!t||!t.nodeName)return c.Promise.reject(new Error("OSMD: The document which was provided is invalid"));for(var u,d=t.childNodes,b=0,m=d.length;b<m;b+=1){var y=d[b];if(y.nodeType===Node.ELEMENT_NODE&&"score-partwise"===y.nodeName.toLowerCase()){u=y;break}}if(!u)return c.Promise.reject(new Error("OSMD: Document is not a valid 'partwise' MusicXML"));var v=new i.IXmlElement(u),g=new r.VexFlowMusicSheetCalculator,_=new o.MusicSheetReader;return this.sheet=_.createMusicSheet(v,"Unknown path"),this.graphic=new s.GraphicalMusicSheet(this.sheet,g),this.cursor.init(this.sheet.MusicPartManager,this.graphic),p.info("Loaded sheet "+this.sheet.TitleString+" successfully."),c.Promise.resolve({})},t.prototype.render=function(){if(!this.graphic)throw new Error("OSMD: Before rendering a music sheet, please load a MusicXML file");var t=this.container.offsetWidth;this.sheet.pageWidth=t/this.zoom/10,this.graphic.reCalculate(),this.graphic.Cursors.length=0;var e=10*this.graphic.MusicPages[0].PositionAndShape.BorderBottom*this.zoom;this.drawer.resize(t,e),this.drawer.scale(this.zoom),this.drawer.drawSheet(this.graphic),this.cursor.update()},t.prototype.setLogLevel=function(t){switch(t){case"trace":p.setDefaultLevel(0);break;case"debug":p.setDefaultLevel(1);break;case"info":p.setDefaultLevel(2);break;case"warn":p.setDefaultLevel(3);break;case"error":p.setDefaultLevel(4);break;default:p.warn("Could not set log level to "+t+". Using warn instead."),p.setDefaultLevel(3)}},t.prototype.reset=function(){this.cursor.hide(),this.sheet=void 0,this.graphic=void 0,this.zoom=1,this.canvas.width=0,this.canvas.height=0},t.prototype.autoResize=function(){var t=this;this.handleResize(function(){},function(){t.render()})},t.prototype.handleResize=function(t,e){function n(){o=void 0,window.clearTimeout(o),(new Date).getTime()-r<s?o=window.setTimeout(n,s):e()}function i(){r=(new Date).getTime(),o||(t(),r=(new Date).getTime(),o=window.setTimeout(n,s))}var r,o=void 0,s=200;window.attachEvent?window.attachEvent("onresize",i):window.addEventListener("resize",i),window.setTimeout(t,0),window.setTimeout(e,1)},t}();e.OSMD=d},function(t,e){t.exports=function(t,e){return"number"==typeof t?(e=t,function(t){return e*Math.pow(2,(12*t[0]+7*t[1])/12)}):(e=e||440,e*Math.pow(2,(12*t[0]+7*t[1])/12))}},function(t,e,n){var i,r,o;!function(s,a){r=[n(585),n(704),n(470)],i=a,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(this,function(t,e,n){"use strict";function i(i){function o(t){var n=e.note["from"+i.noteFormat](t);return"Frequency"===i.noteFormat?n.note:n}function s(){var t=void 0,e=void 0,n=!0,s=!1,a=void 0;try{for(var u,l=i.noteData[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var c=r(u.value,2),h=c[1],f=o(h).key();(f<t||"number"!=typeof t)&&(t=f),(f>e||"number"!=typeof e)&&(e=f)}}catch(t){s=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(s)throw a}}return{min:t-1,max:e}}function a(e,n){return(e.graphic||new t.Graphics).clear().beginFill(n?e.activeColor:e.color).lineStyle(e.color===y.white?T/10:0,y.black).drawRect(0,e.y,e.width,e.height).endFill()}function u(){var n=[],r=[],o=i.pianoKeyWidth/1.575;v={},N=new Set,F.removeChild(M),M=new t.Container;for(var s=S.min;s<S.max+2;s++){var u=i.height+(S.min-s)*T,l=e.note.fromKey(s),c=l.chroma(),h={keyNumber:l.key(),activeColor:"number"==typeof i.noteColor?i.noteColor:i.noteColor[c]};new Set([0,2,4,5,7,9,11]).has(c)?n.push(Object.assign(h,{y:u+(new Set([4,11]).has(c)?0:-T/2),width:i.pianoKeyWidth,height:new Set([2,7,9]).has(c)?2*T:1.5*T,color:y.white})):r.push(Object.assign(h,{y:u,width:o,height:T,color:y.black}))}n.concat(r).forEach(function(t){var e=a(t);v[t.keyNumber]=Object.assign(t,{graphic:e}),M.addChild(e)}),F.addChild(M)}function l(t,e){if(!t)return 0;var n=t.split(":"),o=r(n,3),s=o[0],a=o[1],u=void 0===a?0:a,l=o[2],c=void 0===l?0:l,h=O*s+A*u+C*c;return e?h:i.pianoKeyWidth-h}function c(){var e=B.removeChild(w);w=new t.Container;var n=!0,s=!1,a=void 0;try{for(var u,c=i.noteData[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var h=r(u.value,3),f=h[0],p=h[1],d=h[2],b=new t.Graphics,m=o(p),y=m.key(),v="number"==typeof i.noteColor?i.noteColor:i.noteColor[m.chroma()];b.beginFill(v).drawRect(0,0,O/parseInt(d),P).endFill(),b.x=l(f,!0)+R,b.y=i.height-(y-S.min)*T+R,b.keyNumber=y,w.addChild(b)}}catch(t){s=!0,a=t}finally{try{!n&&c.return&&c.return()}finally{if(s)throw a}}w.x=e?e.x:l(i.time),B.addChild(w)}function h(t){var e=D.vertical.children,n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;u.x-=t}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}if(e[0].x+k<i.pianoKeyWidth){var u=D.vertical.removeChildAt(0);u.x=e[e.length-1].x+I,D.vertical.addChild(u)}}function f(t){for(var e=t;e+I<i.pianoKeyWidth;)e+=I;return e}function p(e){var n=void 0;if(!e||"horizontal"===e){for(D.main.removeChild(D.horizontal),D.horizontal=new t.Container,n=0;n<E+1;n++)D.horizontal.addChild((new t.Graphics).beginFill(i.gridLineColor).drawRect(0,n*T-R,i.width,k).endFill());D.main.addChild(D.horizontal)}if(!e||"vertical"===e){var r=f(w?w.x:l(i.time));for(D.main.removeChild(D.vertical),D.vertical=new t.Container,n=0;n<i.zoom*i.resolution+1;n++){var o=(new t.Graphics).beginFill(i.gridLineColor).drawRect(0,0,k,i.height).endFill();o.x=r+n*I-R,D.vertical.addChild(o)}D.main.addChild(D.vertical)}B.addChild(D.main)}function d(){if(i.activateKeys){var e=new Set,n=!0,r=!1,o=void 0;try{for(var s,u=w.children[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;l.containsPoint(new t.Point(i.pianoKeyWidth,l.y))&&e.add(l.keyNumber)}}catch(t){r=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}var c=!0,h=!1,f=void 0;try{for(var p,d=e[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var b=p.value;if(!N.has(b)){var m=v[b];a(m,!0),N.add(b)}}}catch(t){h=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(h)throw f}}var y=!0,g=!1,_=void 0;try{for(var x,S=N[Symbol.iterator]();!(y=(x=S.next()).done);y=!0){var E=x.value;if(!e.has(E)){var m=v[E];a(m),N.delete(E)}}}catch(t){g=!0,_=t}finally{try{!y&&S.return&&S.return()}finally{if(g)throw _}}}}function b(t){g||(g=t);var e=t-g,n=e*x;w.x=w.x-n,h(n),d(),g=t,j.render(F),L?requestAnimationFrame(b):g=null}function m(){S=s(i.noteData),E=S.max-S.min,O=(i.width-i.pianoKeyWidth)/i.zoom,A=(i.width-i.pianoKeyWidth)/(4*i.zoom),C=A/4,k=O/100,R=k/2,I=O/i.resolution,_=i.bpm/60/1e3,x=A*_,T=i.height/E,P=T-k}var y={black:0,white:16777215};i=Object.assign({width:900,height:400,pianoKeyWidth:125,noteColor:n.dDJameson,gridLineColor:3355443,backgroundColor:y.black,bpm:140,activateKeys:!0,antialias:!0,zoom:4,resolution:1,time:"0:0:0",renderer:"WebGLRenderer",noteFormat:"String",noteData:[]},i);var v=void 0,g=void 0,_=void 0,x=void 0,w=void 0,S=void 0,E=void 0,T=void 0,P=void 0,M=void 0,O=void 0,A=void 0,C=void 0,k=void 0,R=void 0,I=void 0,N=void 0,L=!1,F=new t.Container,B=new t.Container,D={main:new t.Container},j=new t[i.renderer](i.width,i.height,{antialias:i.antialias,autoResize:!0});!function(){F.addChild(B),m(),p(),c(),u(),j.backgroundColor=i.backgroundColor,j.render(F)}();var G={playback:{toggle:function(t){L?G.playback.pause():G.playback.play(t)},play:function(t){L||(t&&G.playback.seek(t),L=!0,requestAnimationFrame(b))},pause:function(){L=!1},seek:function(t){i.time=t,w.x=l(t),p("vertical"),B.addChild(B.removeChild(w)),j.render(F)}},set bpm(t){i.bpm=t,m()},set zoom(t){i.zoom=t,m(),p(),c(),j.render(F)},set resolution(t){i.resolution=t,m(),p("vertical"),B.addChild(B.removeChild(w)),j.render(F)},set noteData(t){i.noteData=t,m(),p("horizontal"),c(),u(),j.render(F)},get playing(){return L},get view(){return j.view}};return G}var r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return i})},function(t,e,n){var i,r;(function(n,o){!function(){function s(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(a,arguments)}}var a,u,l={};a=this,null!=a&&(u=a.async),l.noConflict=function(){return a.async=u,l};var c=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===c.call(t)},f=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)},p=function(t,e){if(t.map)return t.map(e);var n=[];return f(t,function(t,i,r){n.push(e(t,i,r))}),n},d=function(t,e,n){return t.reduce?t.reduce(e,n):(f(t,function(t,i,r){n=e(n,t,i,r)}),n)},b=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof n&&n.nextTick?(l.nextTick=n.nextTick,"undefined"!=typeof o?l.setImmediate=function(t){o(t)}:l.setImmediate=l.nextTick):"function"==typeof o?(l.nextTick=function(t){o(t)},l.setImmediate=l.nextTick):(l.nextTick=function(t){setTimeout(t,0)},l.setImmediate=l.nextTick),l.each=function(t,e,n){function i(e){e?(n(e),n=function(){}):(r+=1,r>=t.length&&n())}if(n=n||function(){},!t.length)return n();var r=0;f(t,function(t){e(t,s(i))})},l.forEach=l.each,l.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var i=0,r=function(){e(t[i],function(e){e?(n(e),n=function(){}):(i+=1,i>=t.length?n():r())})};r()},l.forEachSeries=l.eachSeries,l.eachLimit=function(t,e,n,i){var r=m(e);r.apply(null,[t,n,i])},l.forEachLimit=l.eachLimit;var m=function(t){return function(e,n,i){if(i=i||function(){},!e.length||t<=0)return i();var r=0,o=0,s=0;!function a(){if(r>=e.length)return i();for(;s<t&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(i(t),i=function(){}):(r+=1,s-=1,r>=e.length?i():a())})}()}},y=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[l.each].concat(e))}},v=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[m(t)].concat(n))}},g=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[l.eachSeries].concat(e))}},_=function(t,e,n,i){if(e=p(e,function(t,e){return{index:e,value:t}}),i){var r=[];t(e,function(t,e){n(t.value,function(n,i){r[t.index]=i,e(n)})},function(t){i(t,r)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};l.map=y(_),l.mapSeries=g(_),l.mapLimit=function(t,e,n,i){return x(e)(t,n,i)};var x=function(t){return v(t,_)};l.reduce=function(t,e,n,i){l.eachSeries(t,function(t,i){n(e,t,function(t,n){e=n,i(t)})},function(t){i(t,e)})},l.inject=l.reduce,l.foldl=l.reduce,l.reduceRight=function(t,e,n,i){var r=p(t,function(t){return t}).reverse();l.reduce(r,e,n,i)},l.foldr=l.reduceRight;var w=function(t,e,n,i){var r=[];e=p(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&r.push(t),e()})},function(t){i(p(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};l.filter=y(w),l.filterSeries=g(w),l.select=l.filter,l.selectSeries=l.filterSeries;var S=function(t,e,n,i){var r=[];e=p(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||r.push(t),e()})},function(t){i(p(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};l.reject=y(S),l.rejectSeries=g(S);var E=function(t,e,n,i){t(e,function(t,e){n(t,function(n){n?(i(t),i=function(){}):e()})},function(t){i()})};l.detect=y(E),l.detectSeries=g(E),l.some=function(t,e,n){l.each(t,function(t,i){e(t,function(t){t&&(n(!0),n=function(){}),i()})},function(t){n(!1)})},l.any=l.some,l.every=function(t,e,n){l.each(t,function(t,i){e(t,function(t){t||(n(!1),n=function(){}),i()})},function(t){n(!0)})},l.all=l.every,l.sortBy=function(t,e,n){l.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){if(t)return n(t);var i=function(t,e){var n=t.criteria,i=e.criteria;return n<i?-1:n>i?1:0};n(null,p(e.sort(i),function(t){return t.value}))})},l.auto=function(t,e){e=e||function(){};var n=b(t),i=n.length;if(!i)return e();var r={},o=[],s=function(t){o.unshift(t)},a=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},u=function(){i--,f(o.slice(0),function(t){t()})};s(function(){if(!i){var t=e;e=function(){},t(null,r)}}),f(n,function(n){var i=h(t[n])?t[n]:[t[n]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};f(b(r),function(t){o[t]=r[t]}),o[n]=i,e(t,o),e=function(){}}else r[n]=i,l.setImmediate(u)},c=i.slice(0,Math.abs(i.length-1))||[],p=function(){return d(c,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(p())i[i.length-1](o,r);else{var m=function(){p()&&(a(m),i[i.length-1](o,r))};s(m)}})},l.retry=function(t,e,n){var i=5,r=[];"function"==typeof t&&(n=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var s=function(t,e){return function(n){t(function(t,i){n(!t||e,{err:t,result:i})},o)}};t;)r.push(s(e,!(t-=1)));l.series(r,function(t,e){e=e[e.length-1],(i||n)(e.err,e.result)})};return n?o():o},l.waterfall=function(t,e){if(e=e||function(){},!h(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var i=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=t.next();o?r.push(i(o)):r.push(e),l.setImmediate(function(){t.apply(null,r)})}}};i(l.iterator(t))()};var T=function(t,e,n){if(n=n||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var i={};t.each(b(e),function(t,n){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(t){n(t,i)})}};l.parallel=function(t,e){T({map:l.map,each:l.each},t,e)},l.parallelLimit=function(t,e,n){T({map:x(e),each:m(e)},t,n)},l.series=function(t,e){if(e=e||function(){},h(t))l.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};l.eachSeries(b(t),function(e,i){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[e]=r,i(t)})},function(t){e(t,n)})}},l.iterator=function(t){var e=function(n){var i=function(){return t.length&&t[n].apply(null,arguments),i.next()};return i.next=function(){return n<t.length-1?e(n+1):null},i};return e(0)},l.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var P=function(t,e,n,i){var r=[];t(e,function(t,e){n(t,function(t,n){r=r.concat(n||[]),e(t)})},function(t){i(t,r)})};l.concat=y(P),l.concatSeries=g(P),l.whilst=function(t,e,n){t()?e(function(i){return i?n(i):void l.whilst(t,e,n)}):n()},l.doWhilst=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?l.doWhilst(t,e,n):n()})},l.until=function(t,e,n){t()?n():e(function(i){return i?n(i):void l.until(t,e,n)})},l.doUntil=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?n():l.doUntil(t,e,n)})},l.queue=function(t,e){function n(t,e,n,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?l.setImmediate(function(){t.drain&&t.drain()}):void f(e,function(e){var r={data:e,callback:"function"==typeof i?i:null};n?t.tasks.unshift(r):t.tasks.push(r),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),l.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,r={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(r,t,!1,e)},kill:function(){r.drain=null,r.tasks=[]},unshift:function(t,e){n(r,t,!0,e)},process:function(){if(!r.paused&&i<r.concurrency&&r.tasks.length){var e=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),i+=1;var n=function(){i-=1,e.callback&&e.callback.apply(e,arguments),r.drain&&r.tasks.length+i===0&&r.drain(),r.process()},o=s(n);t(e.data,o)}},length:function(){return r.tasks.length},running:function(){return i},idle:function(){return r.tasks.length+i===0},pause:function(){r.paused!==!0&&(r.paused=!0)},resume:function(){if(r.paused!==!1){r.paused=!1;for(var t=1;t<=r.concurrency;t++)l.setImmediate(r.process)}}};return r},l.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function i(t,e,n){for(var i=-1,r=t.length-1;i<r;){var o=i+(r-i+1>>>1);n(e,t[o])>=0?i=o:r=o-1}return i}function r(t,e,r,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?l.setImmediate(function(){t.drain&&t.drain()}):void f(e,function(e){var s={data:e,priority:r,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,s,n)+1,0,s),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),l.setImmediate(t.process)})}var o=l.queue(t,e);return o.push=function(t,e,n){r(o,t,e,n)},delete o.unshift,o},l.cargo=function(t,e){var n=!1,i=[],r={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){h(t)||(t=[t]),f(t,function(t){i.push({data:t,callback:"function"==typeof n?n:null}),r.drained=!1,r.saturated&&i.length===e&&r.saturated()}),l.setImmediate(r.process)},process:function o(){if(!n){if(0===i.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=p(s,function(t){return t.data});r.empty&&r.empty(),n=!0,t(a,function(){n=!1;var t=arguments;f(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return n}};return r};var M=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&f(n,function(e){console[t](e)}))}]))}};l.log=M("log"),l.dir=M("dir"),l.memoize=function(t,e){var n={},i={};e=e||function(t){return t};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),s=e.apply(null,r);s in n?l.nextTick(function(){o.apply(null,n[s])}):s in i?i[s].push(o):(i[s]=[o],t.apply(null,r.concat([function(){n[s]=arguments;var t=i[s];delete i[s];for(var e=0,r=t.length;e<r;e++)t[e].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=t,r},l.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},l.times=function(t,e,n){for(var i=[],r=0;r<t;r++)i.push(r);return l.map(i,e,n)},l.timesSeries=function(t,e,n){for(var i=[],r=0;r<t;r++)i.push(r);return l.mapSeries(i,e,n)},l.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),i=n.pop();l.reduce(t,n,function(t,n,i){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,n){i.apply(e,[t].concat(n))})}},l.compose=function(){return l.seq.apply(null,Array.prototype.reverse.call(arguments))};var O=function(t,e){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return t(e,function(t,e){t.apply(n,i.concat([e]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};l.applyEach=y(O),l.applyEachSeries=g(O),l.forever=function(t,e){function n(i){if(i){if(e)return e(i);throw i}t(n)}n()},"undefined"!=typeof t&&t.exports?t.exports=l:(i=[],r=function(){return l}.apply(e,i),!(void 0!==r&&(t.exports=r)))}()}).call(e,n(25),n(309).setImmediate)},function(t,e){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var i,r,o=n(t),s=1;s<arguments.length;s++){i=arguments[s],r=Object.keys(Object(i));for(var a=0;a<r.length;a++)o[r[a]]=i[r[a]]}return o}},function(t,e,n){function i(){r.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=c.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new l.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var r=n(87),o=n(64),s=n(147),a=n(148),u=n(254),l=n(11),c=n(7),h=new l.Point;i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{}),i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=this.dirty,t.glDirty=this.glDirty,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(t,e,n){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===n?1:n,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new l.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},i.prototype.moveTo=function(t,e){return this.drawShape(new l.Polygon([t,e])),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.prototype.quadraticCurveTo=function(t,e,n,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var r,o,s=20,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);for(var u=a[a.length-2],l=a[a.length-1],c=0,h=1;h<=s;++h)c=h/s,r=u+(t-u)*c,o=l+(e-l)*c,a.push(r+(t+(n-t)*c-r)*c,o+(e+(i-e)*c-o)*c);return this.dirty=this.boundsDirty=!0,this},i.prototype.bezierCurveTo=function(t,e,n,i,r,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var s,a,u,l,c,h=20,f=this.currentPath.shape.points,p=f[f.length-2],d=f[f.length-1],b=0,m=1;m<=h;++m)b=m/h,s=1-b,a=s*s,u=a*s,l=b*b,c=l*b,f.push(u*p+3*a*b*t+3*s*l*n+c*r,u*d+3*a*b*e+3*s*l*i+c*o);return this.dirty=this.boundsDirty=!0,this},i.prototype.arcTo=function(t,e,n,i,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1],u=a-e,l=s-t,c=i-e,h=n-t,f=Math.abs(u*h-l*c);if(f<1e-8||0===r)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var p=u*u+l*l,d=c*c+h*h,b=u*c+l*h,m=r*Math.sqrt(p)/f,y=r*Math.sqrt(d)/f,v=m*b/p,g=y*b/d,_=m*h+y*l,x=m*c+y*u,w=l*(y+v),S=u*(y+v),E=h*(m+g),T=c*(m+g),P=Math.atan2(S-x,w-_),M=Math.atan2(T-x,E-_);this.arc(_+t,x+e,r,P,M,l*c>h*u)}return this.dirty=this.boundsDirty=!0,this},i.prototype.arc=function(t,e,n,i,r,o){if(o=o||!1,i===r)return this;!o&&r<=i?r+=2*Math.PI:o&&i<=r&&(i+=2*Math.PI);var s=o?(i-r)*-1:r-i,a=40*Math.ceil(Math.abs(s)/(2*Math.PI));if(0===s)return this;var u=t+Math.cos(i)*n,l=e+Math.sin(i)*n;this.currentPath?o&&this.filling?this.currentPath.shape.points.push(t,e):this.currentPath.shape.points.push(u,l):o&&this.filling?this.moveTo(t,e):this.moveTo(u,l);for(var c=this.currentPath.shape.points,h=s/(2*a),f=2*h,p=Math.cos(h),d=Math.sin(h),b=a-1,m=b%1/b,y=0;y<=b;y++){var v=y+m*y,g=h+i+f*v,_=Math.cos(g),x=-Math.sin(g);c.push((p*_+d*x)*n+t,(p*-x+d*_)*n+e)}return this.dirty=this.boundsDirty=!0,this},i.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,n,i){return this.drawShape(new l.Rectangle(t,e,n,i)),this},i.prototype.drawRoundedRect=function(t,e,n,i,r){return this.drawShape(new l.RoundedRectangle(t,e,n,i,r)),this},i.prototype.drawCircle=function(t,e,n){return this.drawShape(new l.Circle(t,e,n)),this},i.prototype.drawEllipse=function(t,e,n,i){return this.drawShape(new l.Ellipse(t,e,n,i)),this},i.prototype.drawPolygon=function(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}return this.drawShape(new l.Polygon(e)),this},i.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.prototype.generateTexture=function(t,e,n){e=e||1;var i=this.getLocalBounds(),r=new s(i.width*e,i.height*e),u=o.fromCanvas(r.canvas,n);return u.baseTexture.resolution=e,r.context.scale(e,e),r.context.translate(-i.x,-i.y),a.renderGraphics(this,r.context),u},i.prototype._renderWebGL=function(t){this.glDirty&&(this.dirty=!0,this.glDirty=!1),t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this)},i.prototype._renderCanvas=function(t){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint);var e=t.context,n=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=t.blendModes[t.currentBlendMode]);var i=t.resolution;e.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i),a.renderGraphics(this,e)}},i.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return l.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var e=this._localBounds,n=e.x,i=e.width+e.x,r=e.y,o=e.height+e.y,s=t||this.worldTransform,a=s.a,u=s.b,c=s.c,h=s.d,f=s.tx,p=s.ty,d=a*i+c*o+f,b=h*o+u*i+p,m=a*n+c*o+f,y=h*o+u*n+p,v=a*n+c*r+f,g=h*r+u*n+p,_=a*i+c*r+f,x=h*r+u*i+p,w=d,S=b,E=d,T=b;E=m<E?m:E,E=v<E?v:E,E=_<E?_:E,T=y<T?y:T,T=g<T?g:T,T=x<T?x:T,w=m>w?m:w,w=v>w?v:w,w=_>w?_:w,S=y>S?y:S,S=g>S?g:S,S=x>S?x:S,this._bounds.x=E,this._bounds.width=w-E,this._bounds.y=T,this._bounds.height=S-T,this._currentBounds=this._bounds}return this._currentBounds},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);for(var e=this.graphicsData,n=0;n<e.length;n++){var i=e[n];if(i.fill&&i.shape&&i.shape.contains(h.x,h.y))return!0}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),n=1/0,i=-(1/0);if(this.graphicsData.length)for(var r,o,s,a,u,l,h=0;h<this.graphicsData.length;h++){var f=this.graphicsData[h],p=f.type,d=f.lineWidth;if(r=f.shape,p===c.SHAPES.RECT||p===c.SHAPES.RREC)s=r.x-d/2,a=r.y-d/2,u=r.width+d,l=r.height+d,t=s<t?s:t,e=s+u>e?s+u:e,n=a<n?a:n,i=a+l>i?a+l:i;else if(p===c.SHAPES.CIRC)s=r.x,a=r.y,u=r.radius+d/2,l=r.radius+d/2,t=s-u<t?s-u:t,e=s+u>e?s+u:e,n=a-l<n?a-l:n,i=a+l>i?a+l:i;else if(p===c.SHAPES.ELIP)s=r.x,a=r.y,u=r.width+d/2,l=r.height+d/2,t=s-u<t?s-u:t,e=s+u>e?s+u:e,n=a-l<n?a-l:n,i=a+l>i?a+l:i;else{o=r.points;for(var b=0;b<o.length;b+=2)s=o[b],a=o[b+1],t=s-d<t?s-d:t,e=s+d>e?s+d:e,n=a-d<n?a-d:n,i=a+d>i?a+d:i}}else t=0,e=0,n=0,i=0;var m=this.boundsPadding;this._localBounds.x=t-m,this._localBounds.width=e-t+2*m,this._localBounds.y=n-m,this._localBounds.height=i-n+2*m},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new u(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===c.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty=this.boundsDirty=!0,e},i.prototype.destroy=function(){r.prototype.destroy.apply(this,arguments);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var e in this._webgl)for(var n=0;n<this._webgl[e].data.length;++n)this._webgl[e].data[n].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},function(t,e,n){function i(t){a.call(this,t),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var r=n(12),o=n(11),s=n(7),a=n(63),u=n(88),l=n(530),c=n(339);i.prototype=Object.create(a.prototype),i.prototype.constructor=i,t.exports=i,u.registerPlugin("graphics",i),i.prototype.onContextChange=function(){},i.prototype.destroy=function(){a.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},i.prototype.render=function(t){var e,n=this.renderer,i=n.gl,o=n.shaderManager.plugins.primitiveShader;t.dirty&&this.updateGraphics(t,i);var s=t._webGL[i.id];n.blendModeManager.setBlendMode(t.blendMode);for(var a=0;a<s.data.length;a++)1===s.data[a].mode?(e=s.data[a],n.stencilManager.pushStencil(t,e,n),i.uniform1f(n.shaderManager.complexPrimitiveShader.uniforms.alpha._location,t.worldAlpha*e.alpha),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilManager.popStencil(t,e,n)):(e=s.data[a],o=n.shaderManager.primitiveShader,n.shaderManager.setShader(o),i.uniformMatrix3fv(o.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(o.uniforms.projectionMatrix._location,!1,n.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(o.uniforms.tint._location,r.hex2rgb(t.tint)),i.uniform1f(o.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(o.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(o.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.drawElements(i.TRIANGLE_STRIP,e.indices.length,i.UNSIGNED_SHORT,0))},i.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[e.id];n||(n=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var i;if(t.clearDirty){for(t.clearDirty=!1,i=0;i<n.data.length;i++){var r=n.data[i];r.reset(),this.graphicsDataPool.push(r)}n.data=[],n.lastIndex=0}var o;for(i=n.lastIndex;i<t.graphicsData.length;i++){var a=t.graphicsData[i];if(a.type===s.SHAPES.POLY){if(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]===a.points[a.points.length-2]&&a.points[1]===a.points[a.points.length-1]||a.points.push(a.points[0],a.points[1])),a.fill&&a.points.length>=6)if(a.points.length<2*this.maximumSimplePolySize){o=this.switchMode(n,0);var u=this.buildPoly(a,o);u||(o=this.switchMode(n,1),this.buildComplexPoly(a,o))}else o=this.switchMode(n,1),this.buildComplexPoly(a,o);a.lineWidth>0&&(o=this.switchMode(n,0),this.buildLine(a,o))}else o=this.switchMode(n,0),a.type===s.SHAPES.RECT?this.buildRectangle(a,o):a.type===s.SHAPES.CIRC||a.type===s.SHAPES.ELIP?this.buildCircle(a,o):a.type===s.SHAPES.RREC&&this.buildRoundedRectangle(a,o);n.lastIndex++}for(i=0;i<n.data.length;i++)o=n.data[i],o.dirty&&o.upload()},i.prototype.switchMode=function(t,e){var n;return t.data.length?(n=t.data[t.data.length-1],(n.points.length>32e4||n.mode!==e||1===e)&&(n=this.graphicsDataPool.pop()||new l(t.gl),
n.mode=e,t.data.push(n))):(n=this.graphicsDataPool.pop()||new l(t.gl),n.mode=e,t.data.push(n)),n.dirty=!0,n},i.prototype.buildRectangle=function(t,e){var n=t.shape,i=n.x,o=n.y,s=n.width,a=n.height;if(t.fill){var u=r.hex2rgb(t.fillColor),l=t.fillAlpha,c=u[0]*l,h=u[1]*l,f=u[2]*l,p=e.points,d=e.indices,b=p.length/6;p.push(i,o),p.push(c,h,f,l),p.push(i+s,o),p.push(c,h,f,l),p.push(i,o+a),p.push(c,h,f,l),p.push(i+s,o+a),p.push(c,h,f,l),d.push(b,b,b+1,b+2,b+3,b+3)}if(t.lineWidth){var m=t.points;t.points=[i,o,i+s,o,i+s,o+a,i,o+a,i,o],this.buildLine(t,e),t.points=m}},i.prototype.buildRoundedRectangle=function(t,e){var n=t.shape,i=n.x,o=n.y,s=n.width,a=n.height,u=n.radius,l=[];if(l.push(i,o+u),this.quadraticBezierCurve(i,o+a-u,i,o+a,i+u,o+a,l),this.quadraticBezierCurve(i+s-u,o+a,i+s,o+a,i+s,o+a-u,l),this.quadraticBezierCurve(i+s,o+u,i+s,o,i+s-u,o,l),this.quadraticBezierCurve(i+u,o,i,o,i,o+u+1e-10,l),t.fill){var h=r.hex2rgb(t.fillColor),f=t.fillAlpha,p=h[0]*f,d=h[1]*f,b=h[2]*f,m=e.points,y=e.indices,v=m.length/6,g=c(l,null,2),_=0;for(_=0;_<g.length;_+=3)y.push(g[_]+v),y.push(g[_]+v),y.push(g[_+1]+v),y.push(g[_+2]+v),y.push(g[_+2]+v);for(_=0;_<l.length;_++)m.push(l[_],l[++_],p,d,b,f)}if(t.lineWidth){var x=t.points;t.points=l,this.buildLine(t,e),t.points=x}},i.prototype.quadraticBezierCurve=function(t,e,n,i,r,o,s){function a(t,e,n){var i=e-t;return t+i*n}for(var u,l,c,h,f,p,d=20,b=s||[],m=0,y=0;y<=d;y++)m=y/d,u=a(t,n,m),l=a(e,i,m),c=a(n,r,m),h=a(i,o,m),f=a(u,c,m),p=a(l,h,m),b.push(f,p);return b},i.prototype.buildCircle=function(t,e){var n,i,o=t.shape,a=o.x,u=o.y;t.type===s.SHAPES.CIRC?(n=o.radius,i=o.radius):(n=o.width,i=o.height);var l=40,c=2*Math.PI/l,h=0;if(t.fill){var f=r.hex2rgb(t.fillColor),p=t.fillAlpha,d=f[0]*p,b=f[1]*p,m=f[2]*p,y=e.points,v=e.indices,g=y.length/6;for(v.push(g),h=0;h<l+1;h++)y.push(a,u,d,b,m,p),y.push(a+Math.sin(c*h)*n,u+Math.cos(c*h)*i,d,b,m,p),v.push(g++,g++);v.push(g-1)}if(t.lineWidth){var _=t.points;for(t.points=[],h=0;h<l+1;h++)t.points.push(a+Math.sin(c*h)*n,u+Math.cos(c*h)*i);this.buildLine(t,e),t.points=_}},i.prototype.buildLine=function(t,e){var n=0,i=t.points;if(0!==i.length){if(t.lineWidth%2)for(n=0;n<i.length;n++)i[n]+=.5;var s=new o.Point(i[0],i[1]),a=new o.Point(i[i.length-2],i[i.length-1]);if(s.x===a.x&&s.y===a.y){i=i.slice(),i.pop(),i.pop(),a=new o.Point(i[i.length-2],i[i.length-1]);var u=a.x+.5*(s.x-a.x),l=a.y+.5*(s.y-a.y);i.unshift(u,l),i.push(u,l)}var c,h,f,p,d,b,m,y,v,g,_,x,w,S,E,T,P,M,O,A,C,k,R,I=e.points,N=e.indices,L=i.length/2,F=i.length,B=I.length/6,D=t.lineWidth/2,j=r.hex2rgb(t.lineColor),G=t.lineAlpha,V=j[0]*G,U=j[1]*G,W=j[2]*G;for(f=i[0],p=i[1],d=i[2],b=i[3],v=-(p-b),g=f-d,R=Math.sqrt(v*v+g*g),v/=R,g/=R,v*=D,g*=D,I.push(f-v,p-g,V,U,W,G),I.push(f+v,p+g,V,U,W,G),n=1;n<L-1;n++)f=i[2*(n-1)],p=i[2*(n-1)+1],d=i[2*n],b=i[2*n+1],m=i[2*(n+1)],y=i[2*(n+1)+1],v=-(p-b),g=f-d,R=Math.sqrt(v*v+g*g),v/=R,g/=R,v*=D,g*=D,_=-(b-y),x=d-m,R=Math.sqrt(_*_+x*x),_/=R,x/=R,_*=D,x*=D,E=-g+p-(-g+b),T=-v+d-(-v+f),P=(-v+f)*(-g+b)-(-v+d)*(-g+p),M=-x+y-(-x+b),O=-_+d-(-_+m),A=(-_+m)*(-x+b)-(-_+d)*(-x+y),C=E*O-M*T,Math.abs(C)<.1?(C+=10.1,I.push(d-v,b-g,V,U,W,G),I.push(d+v,b+g,V,U,W,G)):(c=(T*A-O*P)/C,h=(M*P-E*A)/C,k=(c-d)*(c-d)+(h-b)+(h-b),k>19600?(w=v-_,S=g-x,R=Math.sqrt(w*w+S*S),w/=R,S/=R,w*=D,S*=D,I.push(d-w,b-S),I.push(V,U,W,G),I.push(d+w,b+S),I.push(V,U,W,G),I.push(d-w,b-S),I.push(V,U,W,G),F++):(I.push(c,h),I.push(V,U,W,G),I.push(d-(c-d),b-(h-b)),I.push(V,U,W,G)));for(f=i[2*(L-2)],p=i[2*(L-2)+1],d=i[2*(L-1)],b=i[2*(L-1)+1],v=-(p-b),g=f-d,R=Math.sqrt(v*v+g*g),v/=R,g/=R,v*=D,g*=D,I.push(d-v,b-g),I.push(V,U,W,G),I.push(d+v,b+g),I.push(V,U,W,G),N.push(B),n=0;n<F;n++)N.push(B++);N.push(B-1)}},i.prototype.buildComplexPoly=function(t,e){var n=t.points.slice();if(!(n.length<6)){var i=e.indices;e.points=n,e.alpha=t.fillAlpha,e.color=r.hex2rgb(t.fillColor);for(var o,s,a=1/0,u=-(1/0),l=1/0,c=-(1/0),h=0;h<n.length;h+=2)o=n[h],s=n[h+1],a=o<a?o:a,u=o>u?o:u,l=s<l?s:l,c=s>c?s:c;n.push(a,l,u,l,u,c,a,c);var f=n.length/2;for(h=0;h<f;h++)i.push(h)}},i.prototype.buildPoly=function(t,e){var n=t.points;if(!(n.length<6)){var i=e.points,o=e.indices,s=n.length/2,a=r.hex2rgb(t.fillColor),u=t.fillAlpha,l=a[0]*u,h=a[1]*u,f=a[2]*u,p=c(n,null,2);if(!p)return!1;var d=i.length/6,b=0;for(b=0;b<p.length;b+=3)o.push(p[b]+d),o.push(p[b]+d),o.push(p[b+1]+d),o.push(p[b+2]+d),o.push(p[b+2]+d);for(b=0;b<s;b++)i.push(n[2*b],n[2*b+1],l,h,f,u);return!0}}},function(t,e){function n(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}n.prototype.constructor=n,t.exports=n,n.prototype.reset=function(){this.points.length=0,this.indices.length=0},n.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndices,t.STATIC_DRAW),this.dirty=!1},n.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},function(t,e,n){function i(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var r=n(145);i.prototype.constructor=i,t.exports=i,i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},i.prototype.apply=function(t,e){e=e||new r;var n=t.x,i=t.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},i.prototype.applyInverse=function(t,e){e=e||new r;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},i.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a,r=this.c,o=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=r*e-this.d*n,this.d=r*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},i.prototype.append=function(t){var e=this.a,n=this.b,i=this.c,r=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*n+t.b*r,this.c=t.c*e+t.d*i,this.d=t.c*n+t.d*r,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*r+this.ty,this},i.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},i.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,o=t*i-e*n;return this.a=i/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*r)/o,this.ty=-(t*this.ty-e*r)/o,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.IDENTITY=new i,i.TEMP_MATRIX=new i},function(t,e,n){function i(t,e,n){this.x=t||0,this.y=e||0,this.radius=n||0,this.type=o.SHAPES.CIRC}var r=n(146),o=n(7);i.prototype.constructor=i,t.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.radius)},i.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.x-t,i=this.y-e,r=this.radius*this.radius;return n*=n,i*=i,n+i<=r},i.prototype.getBounds=function(){return new r(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},function(t,e,n){function i(t,e,n,i){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this.type=o.SHAPES.ELIP}var r=n(146),o=n(7);i.prototype.constructor=i,t.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(e-this.y)/this.height;return n*=n,i*=i,n+i<=1},i.prototype.getBounds=function(){return new r(this.x-this.width,this.y-this.height,this.width,this.height)}},function(t,e,n){function i(t){var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}if(e[0]instanceof r){for(var i=[],s=0,a=e.length;s<a;s++)i.push(e[s].x,e[s].y);e=i}this.closed=!0,this.points=e,this.type=o.SHAPES.POLY}var r=n(145),o=n(7);i.prototype.constructor=i,t.exports=i,i.prototype.clone=function(){return new i(this.points.slice())},i.prototype.contains=function(t,e){for(var n=!1,i=this.points.length/2,r=0,o=i-1;r<i;o=r++){var s=this.points[2*r],a=this.points[2*r+1],u=this.points[2*o],l=this.points[2*o+1],c=a>e!=l>e&&t<(u-s)*(e-a)/(l-a)+s;c&&(n=!n)}return n}},function(t,e,n){function i(t,e,n,i,o){this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this.radius=o||20,this.type=r.SHAPES.RREC}var r=n(7);i.prototype.constructor=i,t.exports=i,i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.radius)},i.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height)}},function(t,e,n){function i(t,e){r.call(this),this._properties=[!1,!0,!1,!1,!1],this._size=t||15e3,this._buffers=null,this._updateStatic=!1,this.interactiveChildren=!1,this.blendMode=o.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(e)}var r=n(87),o=n(7);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},i.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.prototype.renderWebGL=function(t){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},i.prototype.addChildAt=function(t,e){if(t===this)return t;if(e>=0&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),this._updateStatic=!0,t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,this.children.splice(t,1),this._updateStatic=!0,e},i.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,i=!0,r=0,o=0,s=0,a=0;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var c=l.texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)===0)i&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx,n.ty),i=!1),r=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,s=c.width*l.scale.x,a=c.height*l.scale.y;else{i||(i=!0),l.displayObjectUpdateTransform();var h=l.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,0|h.tx,0|h.ty):e.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty),r=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,s=c.width,a=c.height}e.drawImage(l.texture.baseTexture.source,c.x,c.y,c.width,c.height,r,o,s,a)}}}},i.prototype.destroy=function(){if(r.prototype.destroy.apply(this,arguments),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null}},function(t,e){function n(t,e,n){this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;i++){var r=e[i];r.dynamic?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}n.prototype.constructor=n,t.exports=n,n.prototype.initBuffers=function(){var t,e,n=this.gl,i=0;for(this.dynamicStride=0,t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],e.offset=i,i+=e.size,this.dynamicStride+=e.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),n.bufferData(n.ARRAY_BUFFER,this.dynamicData,n.DYNAMIC_DRAW);var r=0;for(this.staticStride=0,t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],e.offset=r,r+=e.size,this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),n.bufferData(n.ARRAY_BUFFER,this.staticData,n.DYNAMIC_DRAW)},n.prototype.uploadDynamic=function(t,e,n){for(var i=this.gl,r=0;r<this.dynamicProperties.length;r++){var o=this.dynamicProperties[r];o.uploadFunction(t,e,n,this.dynamicData,this.dynamicStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.dynamicBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.dynamicData)},n.prototype.uploadStatic=function(t,e,n){for(var i=this.gl,r=0;r<this.staticProperties.length;r++){var o=this.staticProperties[r];o.uploadFunction(t,e,n,this.staticData,this.staticStride,o.offset)}i.bindBuffer(i.ARRAY_BUFFER,this.staticBuffer),i.bufferSubData(i.ARRAY_BUFFER,0,this.staticData)},n.prototype.bind=function(){var t,e,n=this.gl;for(n.bindBuffer(n.ARRAY_BUFFER,this.dynamicBuffer),t=0;t<this.dynamicProperties.length;t++)e=this.dynamicProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.dynamicStride,4*e.offset);for(n.bindBuffer(n.ARRAY_BUFFER,this.staticBuffer),t=0;t<this.staticProperties.length;t++)e=this.staticProperties[t],n.vertexAttribPointer(e.attribute,e.size,n.FLOAT,!1,4*this.staticStride,4*e.offset)},n.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},function(t,e,n){function i(t){r.call(this,t),this.size=15e3;var e=6*this.size;this.indices=new Uint16Array(e);for(var n=0,i=0;n<e;n+=6,i+=4)this.indices[n+0]=i+0,this.indices[n+1]=i+1,this.indices[n+2]=i+2,this.indices[n+3]=i+0,this.indices[n+4]=i+2,this.indices[n+5]=i+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new u.Matrix}var r=n(63),o=n(88),s=n(539),a=n(537),u=n(11);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,o.registerPlugin("particle",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s(this.renderer.shaderManager),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,dynamic:!1,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,dynamic:!0,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,dynamic:!1,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,dynamic:!1,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,dynamic:!1,size:1,uploadFunction:this.uploadAlpha,offset:0}]},i.prototype.start=function(){var t=this.renderer.gl;t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.shader;this.renderer.shaderManager.setShader(e)},i.prototype.render=function(t){var e=t.children,n=e.length,i=t._size;if(0!==n){n>i&&(n=i),t._buffers||(t._buffers=this.generateBuffers(t)),this.renderer.blendModeManager.setBlendMode(t.blendMode);var r=this.renderer.gl,o=t.worldTransform.copy(this.tempMatrix);o.prepend(this.renderer.currentRenderTarget.projectionMatrix),r.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,o.toArray(!0)),r.uniform1f(this.shader.uniforms.uAlpha._location,t.worldAlpha);var s=t._updateStatic,a=e[0]._texture.baseTexture;if(a._glTextures[r.id])r.bindTexture(r.TEXTURE_2D,a._glTextures[r.id]);else{if(!this.renderer.updateTexture(a))return;this.properties[0].dynamic&&this.properties[3].dynamic||(s=!0)}for(var u=0,l=0;l<n;l+=this.size){var c=n-l;c>this.size&&(c=this.size);var h=t._buffers[u++];h.uploadDynamic(e,l,c),s&&h.uploadStatic(e,l,c),h.bind(this.shader),r.drawElements(r.TRIANGLES,6*c,r.UNSIGNED_SHORT,0),this.renderer.drawCount++}t._updateStatic=!1}},i.prototype.generateBuffers=function(t){var e,n=this.renderer.gl,i=[],r=t._size;for(e=0;e<t._properties.length;e++)this.properties[e].dynamic=t._properties[e];for(e=0;e<r;e+=this.size)i.push(new a(n,this.properties,this.size,this.shader));return i},i.prototype.uploadVertices=function(t,e,n,i,r,o){for(var s,a,u,l,c,h,f,p,d,b=0;b<n;b++)s=t[e+b],a=s._texture,l=s.scale.x,c=s.scale.y,a.trim?(u=a.trim,f=u.x-s.anchor.x*u.width,h=f+a.crop.width,d=u.y-s.anchor.y*u.height,p=d+a.crop.height):(h=a._frame.width*(1-s.anchor.x),f=a._frame.width*-s.anchor.x,p=a._frame.height*(1-s.anchor.y),d=a._frame.height*-s.anchor.y),i[o]=f*l,i[o+1]=d*c,i[o+r]=h*l,i[o+r+1]=d*c,i[o+2*r]=h*l,i[o+2*r+1]=p*c,i[o+3*r]=f*l,i[o+3*r+1]=p*c,o+=4*r},i.prototype.uploadPosition=function(t,e,n,i,r,o){for(var s=0;s<n;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+r]=a.x,i[o+r+1]=a.y,i[o+2*r]=a.x,i[o+2*r+1]=a.y,i[o+3*r]=a.x,i[o+3*r+1]=a.y,o+=4*r}},i.prototype.uploadRotation=function(t,e,n,i,r,o){for(var s=0;s<n;s++){var a=t[e+s].rotation;i[o]=a,i[o+r]=a,i[o+2*r]=a,i[o+3*r]=a,o+=4*r}},i.prototype.uploadUvs=function(t,e,n,i,r,o){for(var s=0;s<n;s++){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+r]=a.x1,i[o+r+1]=a.y1,i[o+2*r]=a.x2,i[o+2*r+1]=a.y2,i[o+3*r]=a.x3,i[o+3*r+1]=a.y3,o+=4*r):(i[o]=0,i[o+1]=0,i[o+r]=0,i[o+r+1]=0,i[o+2*r]=0,i[o+2*r+1]=0,i[o+3*r]=0,i[o+3*r+1]=0,o+=4*r)}},i.prototype.uploadAlpha=function(t,e,n,i,r,o){for(var s=0;s<n;s++){var a=t[e+s].alpha;i[o]=a,i[o+r]=a,i[o+2*r]=a,i[o+3*r]=a,o+=4*r}},i.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),r.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},function(t,e,n){function i(t){r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var r=n(150);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t,e,n){r.call(this,"Canvas",t,e,n),this.type=u.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new o,this.roundPixels=!1,this.currentScaleMode=u.SCALE_MODES.DEFAULT,this.currentBlendMode=u.BLEND_MODES.NORMAL,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new a.Matrix,worldAlpha:1},this.resize(t,e)}var r=n(255),o=n(541),s=n(12),a=n(11),u=n(7);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,s.pluginTarget.mixin(i),i.prototype.render=function(t){var e=t.parent;this._lastObjectRendered=t,t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=e,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.currentBlendMode=u.BLEND_MODES.NORMAL,this.context.globalCompositeOperation=this.blendModes[u.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t,this.context)},i.prototype.destroy=function(t){this.destroyPlugins(),r.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.roundPixels=!1,this.currentScaleMode=0,this.currentBlendMode=0,this.smoothProperty=null},i.prototype.renderDisplayObject=function(t,e){var n=this.context;this.context=e,t.renderCanvas(this),this.context=n},i.prototype.resize=function(t,e){r.prototype.resize.call(this,t,e),this.currentScaleMode=u.SCALE_MODES.DEFAULT,this.smoothProperty&&(this.context[this.smoothProperty]=this.currentScaleMode===u.SCALE_MODES.LINEAR)},i.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},s.canUseNewCanvasBlendModes()?(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[u.BLEND_MODES.SCREEN]="screen",this.blendModes[u.BLEND_MODES.OVERLAY]="overlay",this.blendModes[u.BLEND_MODES.DARKEN]="darken",this.blendModes[u.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[u.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[u.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[u.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[u.BLEND_MODES.HUE]="hue",this.blendModes[u.BLEND_MODES.SATURATION]="saturate",this.blendModes[u.BLEND_MODES.COLOR]="color",this.blendModes[u.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[u.BLEND_MODES.NORMAL]="source-over",this.blendModes[u.BLEND_MODES.ADD]="lighter",this.blendModes[u.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[u.BLEND_MODES.SCREEN]="source-over",this.blendModes[u.BLEND_MODES.OVERLAY]="source-over",this.blendModes[u.BLEND_MODES.DARKEN]="source-over",this.blendModes[u.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[u.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[u.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[u.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[u.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[u.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[u.BLEND_MODES.HUE]="source-over",this.blendModes[u.BLEND_MODES.SATURATION]="source-over",this.blendModes[u.BLEND_MODES.COLOR]="source-over",this.blendModes[u.BLEND_MODES.LUMINOSITY]="source-over"))}},function(t,e,n){function i(){}var r=n(148);i.prototype.constructor=i,t.exports=i,i.prototype.pushMask=function(t,e){e.context.save();var n=t.alpha,i=t.worldTransform,o=e.resolution;e.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),t.texture||(r.renderGraphicsMask(t,e.context),e.context.clip()),t.worldAlpha=n},i.prototype.popMask=function(t){t.context.restore()},i.prototype.destroy=function(){}},function(t,e,n){var i=n(12),r={};t.exports=r,r.getTintedTexture=function(t,e){var n=t.texture;e=r.roundColor(e);var i="#"+("00000"+(0|e).toString(16)).substr(-6);if(n.tintCache=n.tintCache||{},n.tintCache[i])return n.tintCache[i];var o=r.canvas||document.createElement("canvas");if(r.tintMethod(n,e,o),r.convertTintToImage){var s=new Image;s.src=o.toDataURL(),n.tintCache[i]=s}else n.tintCache[i]=o,r.canvas=null;return o},r.tintWithMultiply=function(t,e,n){var i=n.getContext("2d"),r=t.crop;n.width=r.width,n.height=r.height,i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply",i.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},r.tintWithOverlay=function(t,e,n){var i=n.getContext("2d"),r=t.crop;n.width=r.width,n.height=r.height,i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},r.tintWithPerPixel=function(t,e,n){var r=n.getContext("2d"),o=t.crop;n.width=o.width,n.height=o.height,r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=i.hex2rgb(e),a=s[0],u=s[1],l=s[2],c=r.getImageData(0,0,o.width,o.height),h=c.data,f=0;f<h.length;f+=4)h[f+0]*=a,h[f+1]*=u,h[f+2]*=l;r.putImageData(c,0,0)},r.roundColor=function(t){var e=r.cacheStepsPerColorChannel,n=i.hex2rgb(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),i.rgb2hex(n)},r.cacheStepsPerColorChannel=8,r.convertTintToImage=!1,r.canUseMultiply=i.canUseNewCanvasBlendModes(),r.tintMethod=r.canUseMultiply?r.tintWithMultiply:r.tintWithPerPixel},function(t,e,n){function i(t){r.call(this,t),this.currentBlendMode=99999}var r=n(46);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;var e=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(e[0],e[1]),!0}},function(t,e,n){function i(t){r.call(this,t),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var r=n(46),o=n(257);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.pushMask=function(t,e){e.texture?this.pushSpriteMask(t,e):this.pushStencilMask(t,e)},i.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.popStencilMask(t,e)},i.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool.pop();n||(n=[new o(e)]),n[0].maskSprite=e,this.renderer.filterManager.pushFilter(t,n)},i.prototype.popSpriteMask=function(){var t=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(t)},i.prototype.pushStencilMask=function(t,e){this.renderer.stencilManager.pushMask(e)},i.prototype.popStencilMask=function(t,e){this.renderer.stencilManager.popMask(e)}},function(t,e,n){function i(t){r.call(this,t),this.stencilMaskStack=null}var r=n(46),o=n(12);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.stencilStack.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},i.prototype.pushStencil=function(t,e){this.renderer.currentRenderTarget.attachStencilBuffer();var n=this.renderer.gl,i=this.stencilMaskStack;this.bindGraphics(t,e,this.renderer),0===i.stencilStack.length&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),i.reverse=!0,i.count=0),i.stencilStack.push(e);var r=i.count;n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),1===e.mode?(n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),i.reverse?(n.stencilFunc(n.EQUAL,255-r,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,r,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),i.reverse?n.stencilFunc(n.EQUAL,255-(r+1),255):n.stencilFunc(n.EQUAL,r+1,255),i.reverse=!i.reverse):(i.reverse?(n.stencilFunc(n.EQUAL,r,255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,255-r,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),i.reverse?n.stencilFunc(n.EQUAL,r+1,255):n.stencilFunc(n.EQUAL,255-(r+1),255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),i.count++},i.prototype.bindGraphics=function(t,e){this._currentGraphics=t;var n,i=this.renderer.gl;1===e.mode?(n=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(n),i.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform3fv(n.uniforms.color._location,e.color),i.uniform1f(n.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,8,0),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer)):(n=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(n),i.uniformMatrix3fv(n.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),i.uniformMatrix3fv(n.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),i.uniform3fv(n.uniforms.tint._location,o.hex2rgb(t.tint)),i.uniform1f(n.uniforms.alpha._location,t.worldAlpha),i.bindBuffer(i.ARRAY_BUFFER,e.buffer),i.vertexAttribPointer(n.attributes.aVertexPosition,2,i.FLOAT,!1,24,0),i.vertexAttribPointer(n.attributes.aColor,4,i.FLOAT,!1,24,8),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer))},i.prototype.popStencil=function(t,e){var n=this.renderer.gl,i=this.stencilMaskStack;if(i.stencilStack.pop(),i.count--,0===i.stencilStack.length)n.disable(n.STENCIL_TEST);else{var r=i.count;this.bindGraphics(t,e,this.renderer),n.colorMask(!1,!1,!1,!1),1===e.mode?(i.reverse=!i.reverse,i.reverse?(n.stencilFunc(n.EQUAL,255-(r+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,r+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0),i.reverse?n.stencilFunc(n.EQUAL,r,255):n.stencilFunc(n.EQUAL,255-r,255)):(i.reverse?(n.stencilFunc(n.EQUAL,r+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(r+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0),i.reverse?n.stencilFunc(n.EQUAL,r,255):n.stencilFunc(n.EQUAL,255-r,255)),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},i.prototype.destroy=function(){r.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},i.prototype.pushMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),t.dirty&&this.renderer.plugins.graphics.updateGraphics(t,this.renderer.gl),
t._webGL[this.renderer.gl.id].data.length&&this.pushStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)},i.prototype.popMask=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(t,t._webGL[this.renderer.gl.id].data[0],this.renderer)}},function(t,e,n){function i(t){r.call(this,t,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var r=n(89);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i},function(t,e,n){function i(t){r.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var r=n(89);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i},function(t,e){function n(t){this.gl=t,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,128,t.DYNAMIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),this.upload()}n.prototype.constructor=n,n.prototype.map=function(t,e){var n=0,i=0;this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+e.width/t.width,this.uvs[3]=i,this.uvs[4]=n+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=n,this.uvs[7]=i+e.height/t.height,n=e.x,i=e.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+e.width,this.vertices[3]=i,this.vertices[4]=n+e.width,this.vertices[5]=i+e.height,this.vertices[6]=n,this.vertices[7]=i+e.height,this.upload()},n.prototype.upload=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices),t.bufferSubData(t.ARRAY_BUFFER,32,this.uvs),t.bufferSubData(t.ARRAY_BUFFER,64,this.colors)},t.exports=n},function(t,e){function n(){this.stencilStack=[],this.reverse=!0,this.count=0}n.prototype.constructor=n,t.exports=n},function(t,e,n){function i(t){r.call(this,t),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=s.SPRITE_BATCH_SIZE;var e=4*this.size*this.vertByteSize,n=6*this.size;this.vertices=new ArrayBuffer(e),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(n);for(var i=0,o=0;i<n;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var r=n(63),o=n(88),s=n(7);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,o.registerPlugin("sprite",i),i.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999},i.prototype.render=function(t){var e=t._texture;this.currentBatchSize>=this.size&&this.flush();var n=e._uvs;if(n){var i,r,o,s,a=t.anchor.x,u=t.anchor.y;if(e.trim){var l=e.trim;r=l.x-a*l.width,i=r+e.crop.width,s=l.y-u*l.height,o=s+e.crop.height}else i=e._frame.width*(1-a),r=e._frame.width*-a,o=e._frame.height*(1-u),s=e._frame.height*-u;var c=this.currentBatchSize*this.vertByteSize,h=t.worldTransform,f=h.a,p=h.b,d=h.c,b=h.d,m=h.tx,y=h.ty,v=this.colors,g=this.positions;this.renderer.roundPixels?(g[c]=f*r+d*s+m|0,g[c+1]=b*s+p*r+y|0,g[c+5]=f*i+d*s+m|0,g[c+6]=b*s+p*i+y|0,g[c+10]=f*i+d*o+m|0,g[c+11]=b*o+p*i+y|0,g[c+15]=f*r+d*o+m|0,g[c+16]=b*o+p*r+y|0):(g[c]=f*r+d*s+m,g[c+1]=b*s+p*r+y,g[c+5]=f*i+d*s+m,g[c+6]=b*s+p*i+y,g[c+10]=f*i+d*o+m,g[c+11]=b*o+p*i+y,g[c+15]=f*r+d*o+m,g[c+16]=b*o+p*r+y),g[c+2]=n.x0,g[c+3]=n.y0,g[c+7]=n.x1,g[c+8]=n.y1,g[c+12]=n.x2,g[c+13]=n.y2,g[c+17]=n.x3,g[c+18]=n.y3;var _=t.tint;v[c+4]=v[c+9]=v[c+14]=v[c+19]=(_>>16)+(65280&_)+((255&_)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t}},i.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e=this.renderer.gl;if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var n=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);e.bufferSubData(e.ARRAY_BUFFER,0,n)}for(var i,r,o,s,a=0,u=0,l=null,c=this.renderer.blendModeManager.currentBlendMode,h=null,f=!1,p=!1,d=0,b=this.currentBatchSize;d<b;d++)s=this.sprites[d],i=s._texture.baseTexture,r=s.blendMode,o=s.shader||this.shader,f=c!==r,p=h!==o,(l!==i||f||p)&&(this.renderBatch(l,a,u),u=d,a=0,l=i,f&&(c=r,this.renderer.blendModeManager.setBlendMode(c)),p&&(h=o,t=h.shaders?h.shaders[e.id]:h,t||(t=h.getShader(this.renderer)),this.renderer.shaderManager.setShader(t),t.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),t.syncUniforms(),e.activeTexture(e.TEXTURE0))),a++;this.renderBatch(l,a,u),this.currentBatchSize=0}},i.prototype.renderBatch=function(t,e,n){if(0!==e){var i=this.renderer.gl;t._glTextures[i.id]?i.bindTexture(i.TEXTURE_2D,t._glTextures[i.id]):this.renderer.updateTexture(t),i.drawElements(i.TRIANGLES,6*e,i.UNSIGNED_SHORT,6*n*2),this.renderer.drawCount++}},i.prototype.start=function(){var t=this.renderer.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var e=this.vertByteSize;t.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.attributes.aColor,4,t.UNSIGNED_BYTE,!0,e,16)},i.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},function(t,e,n){function i(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||u.RESOLUTION,this._text=null,this._style=null;var i=o.fromCanvas(this.canvas);i.trim=new s.Rectangle,r.call(this,i),this.text=t,this.style=e}var r=n(260),o=n(64),s=n(11),a=n(12),u=n(7);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.fontPropertiesCache={},i.fontPropertiesCanvas=document.createElement("canvas"),i.fontPropertiesContext=i.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(i.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(t){this.scale.x=t/this._texture._frame.width,this._width=t}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(t){this.scale.y=t/this._texture._frame.height,this._height=t}},style:{get:function(){return this._style},set:function(t){t=t||{},"number"==typeof t.fill&&(t.fill=a.hex2string(t.fill)),"number"==typeof t.stroke&&(t.stroke=a.hex2string(t.stroke)),"number"==typeof t.dropShadowColor&&(t.dropShadowColor=a.hex2string(t.dropShadowColor)),t.font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowColor=t.dropShadowColor||"#000000",t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||5,t.padding=t.padding||0,t.textBaseline=t.textBaseline||"alphabetic",t.lineJoin=t.lineJoin||"miter",t.miterLimit=t.miterLimit||10,this._style=t,this.dirty=!0}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){var t=this._style;this.context.font=t.font;for(var e=t.wordWrap?this.wordWrap(this._text):this._text,n=e.split(/(?:\r\n|\r|\n)/),i=new Array(n.length),r=0,o=this.determineFontProperties(t.font),s=0;s<n.length;s++){var a=this.context.measureText(n[s]).width;i[s]=a,r=Math.max(r,a)}var u=r+t.strokeThickness;t.dropShadow&&(u+=t.dropShadowDistance),this.canvas.width=(u+this.context.lineWidth)*this.resolution;var l=this.style.lineHeight||o.fontSize+t.strokeThickness,c=l*n.length;t.dropShadow&&(c+=t.dropShadowDistance),this.canvas.height=(c+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=t.font,this.context.strokeStyle=t.stroke,this.context.lineWidth=t.strokeThickness,this.context.textBaseline=t.textBaseline,this.context.lineJoin=t.lineJoin,this.context.miterLimit=t.miterLimit;var h,f;if(t.dropShadow){this.context.fillStyle=t.dropShadowColor;var p=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,d=Math.sin(t.dropShadowAngle)*t.dropShadowDistance;for(s=0;s<n.length;s++)h=t.strokeThickness/2,f=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?h+=r-i[s]:"center"===t.align&&(h+=(r-i[s])/2),t.fill&&this.context.fillText(n[s],h+p,f+d+this._style.padding)}for(this.context.fillStyle=t.fill,s=0;s<n.length;s++)h=t.strokeThickness/2,f=t.strokeThickness/2+s*l+o.ascent,"right"===t.align?h+=r-i[s]:"center"===t.align&&(h+=(r-i[s])/2),t.stroke&&t.strokeThickness&&this.context.strokeText(n[s],h,f+this._style.padding),t.fill&&this.context.fillText(n[s],h,f+this._style.padding);this.updateTexture()},i.prototype.updateTexture=function(){var t=this._texture;t.baseTexture.hasLoaded=!0,t.baseTexture.resolution=this.resolution,t.baseTexture.width=this.canvas.width/this.resolution,t.baseTexture.height=this.canvas.height/this.resolution,t.crop.width=t._frame.width=this.canvas.width/this.resolution,t.crop.height=t._frame.height=this.canvas.height/this.resolution,t.trim.x=0,t.trim.y=-this._style.padding,t.trim.width=t._frame.width,t.trim.height=t._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,t.baseTexture.emit("update",t.baseTexture),this.dirty=!1},i.prototype.renderWebGL=function(t){this.dirty&&this.updateText(),r.prototype.renderWebGL.call(this,t)},i.prototype._renderCanvas=function(t){this.dirty&&this.updateText(),r.prototype._renderCanvas.call(this,t)},i.prototype.determineFontProperties=function(t){var e=i.fontPropertiesCache[t];if(!e){e={};var n=i.fontPropertiesCanvas,r=i.fontPropertiesContext;r.font=t;var o=Math.ceil(r.measureText("|MÉq").width),s=Math.ceil(r.measureText("M").width),a=2*s;s=1.4*s|0,n.width=o,n.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText("|MÉq",0,s);var u,l,c=r.getImageData(0,0,o,a).data,h=c.length,f=4*o,p=0,d=!1;for(u=0;u<s;u++){for(l=0;l<f;l+=4)if(255!==c[p+l]){d=!0;break}if(d)break;p+=f}for(e.ascent=s-u,p=h-f,d=!1,u=a;u>s;u--){for(l=0;l<f;l+=4)if(255!==c[p+l]){d=!0;break}if(d)break;p-=f}e.descent=u-s,e.fontSize=e.ascent+e.descent,i.fontPropertiesCache[t]=e}return e},i.prototype.wordWrap=function(t){for(var e="",n=t.split("\n"),i=this._style.wordWrapWidth,r=0;r<n.length;r++){for(var o=i,s=n[r].split(" "),a=0;a<s.length;a++){var u=this.context.measureText(s[a]).width,l=u+this.context.measureText(" ").width;0===a||l>o?(a>0&&(e+="\n"),e+=s[a],o=i-u):(o-=l,e+=" "+s[a])}r<n.length-1&&(e+="\n")}return e},i.prototype.getBounds=function(t){return this.dirty&&this.updateText(),r.prototype.getBounds.call(this,t)},i.prototype.destroy=function(t){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===t||t)}},function(t,e,n){function i(){var t=this;this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))},this._emitter=new o,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/r.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var r=n(7),o=n(56),s="tick";Object.defineProperties(i.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,r.TARGET_FPMS);this._maxElapsedMS=1/e}}}),i.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},i.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},i.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},i.prototype.add=function(t,e){return this._emitter.on(s,t,e),this._startIfPossible(),this},i.prototype.addOnce=function(t,e){return this._emitter.once(s,t,e),this._startIfPossible(),this},i.prototype.remove=function(t,e){return this._emitter.off(s,t,e),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},i.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},i.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},i.prototype.update=function(t){var e;t=t||performance.now(),e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*r.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime),this.lastTime=t},t.exports=i},function(t,e,n){var i=n(552),r=new i;r.autoStart=!0,t.exports={shared:r,Ticker:i}},function(t,e){function n(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}t.exports={mixin:function(t){n(t)}}},function(t,e,n){var i=n(1),r=n(272),o=n(152),s=n(263);i.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},i.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(i,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),r.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),r.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),o.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),o.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),o.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}}}),i.Sprite.prototype.setTexture=function(t){this.texture=t,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},o.BitmapText.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},i.Text.prototype.setText=function(t){this.text=t,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.prototype.setStyle=function(t){this.style=t,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Texture.prototype.setFrame=function(t){this.frame=t,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(s,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),i.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),i.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}}}),i.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()}},function(t,e,n){function i(t,e){r.Container.call(this),e=e||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},this.font=e.font,this._text=t,this.maxWidth=0,this.dirty=!1,this.updateText()}var r=n(1);i.prototype=Object.create(r.Container.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{tint:{get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}}}),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],e=new r.Point,n=null,o=[],s=0,a=0,u=[],l=0,c=this._font.size/t.size,h=-1,f=0;f<this.text.length;f++){var p=this.text.charCodeAt(f);if(h=/(\s)/.test(this.text.charAt(f))?f:h,/(?:\r\n|\r|\n)/.test(this.text.charAt(f)))u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,n=null;else if(h!==-1&&this.maxWidth>0&&e.x*c>this.maxWidth)o.splice(h,f-h),f=h,h=-1,u.push(s),a=Math.max(a,s),l++,e.x=0,e.y+=t.lineHeight,n=null;else{var d=t.chars[p];d&&(n&&d.kerning[n]&&(e.x+=d.kerning[n]),o.push({texture:d.texture,line:l,charCode:p,position:new r.Point(e.x+d.xOffset,e.y+d.yOffset)}),s=e.x+(d.texture.width+d.xOffset),e.x+=d.xAdvance,n=p)}}u.push(s),a=Math.max(a,s);var b=[];for(f=0;f<=l;f++){var m=0;"right"===this._font.align?m=a-u[f]:"center"===this._font.align&&(m=(a-u[f])/2),b.push(m)}var y=o.length,v=this.tint;for(f=0;f<y;f++){var g=this._glyphs[f];g?g.texture=o[f].texture:(g=new r.Sprite(o[f].texture),this._glyphs.push(g)),g.position.x=(o[f].position.x+b[o[f].line])*c,g.position.y=o[f].position.y*c,g.scale.x=g.scale.y=c,g.tint=v,g.parent||this.addChild(g)}for(f=y;f<this._glyphs.length;++f)this.removeChild(this._glyphs[f]);this.textWidth=a*c,this.textHeight=(e.y+t.lineHeight)*c},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),r.Container.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.fonts={}},function(t,e,n){function i(t){r.Sprite.call(this,t[0]),this._textures=t,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var r=n(1);i.prototype=Object.create(r.Sprite.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(t){this._textures=t,this.texture=this._textures[Math.floor(this._currentTime)%this._textures.length]}},currentFrame:{get:function(){return Math.floor(this._currentTime)%this._textures.length}}}),i.prototype.stop=function(){this.playing&&(this.playing=!1,r.ticker.shared.remove(this.update,this))},i.prototype.play=function(){this.playing||(this.playing=!0,r.ticker.shared.add(this.update,this))},i.prototype.gotoAndStop=function(t){this.stop(),this._currentTime=t;var e=Math.floor(this._currentTime);this._texture=this._textures[e%this._textures.length]},i.prototype.gotoAndPlay=function(t){this._currentTime=t,this.play()},i.prototype.update=function(t){this._currentTime+=this.animationSpeed*t;var e=Math.floor(this._currentTime);e<0?this.loop?this._texture=this._textures[this._textures.length-1+e%this._textures.length]:(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this.loop||e<this._textures.length?this._texture=this._textures[e%this._textures.length]:e>=this._textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())},i.prototype.destroy=function(){this.stop(),r.Sprite.prototype.destroy.call(this)},i.fromFrames=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new r.Texture.fromFrame(t[n]));return new i(e)},i.fromImages=function(t){for(var e=[],n=0;n<t.length;++n)e.push(new r.Texture.fromImage(t[n]));return new i(e)}},function(t,e,n){function i(t,e,n){r.Sprite.call(this,t),this.tileScale=new r.Point(1,1),this.tilePosition=new r.Point(0,0),this._width=e||100,this._height=n||100,this._uvs=new r.TextureUvs,this._canvasPattern=null,this.shader=new r.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var r=n(1),o=new r.Point;i.prototype=Object.create(r.Sprite.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}}}),i.prototype._onTextureUpdate=function(){},i.prototype._renderWebGL=function(t){var e=this._texture;if(e&&e._uvs){var n=e._uvs,i=e._frame.width,r=e._frame.height,o=e.baseTexture.width,s=e.baseTexture.height;e._uvs=this._uvs,e._frame.width=this.width,e._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/o,this.shader.uniforms.uPixelSize.value[1]=1/s,this.shader.uniforms.uFrame.value[0]=n.x0,this.shader.uniforms.uFrame.value[1]=n.y0,this.shader.uniforms.uFrame.value[2]=n.x1-n.x0,this.shader.uniforms.uFrame.value[3]=n.y2-n.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(i*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(r*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=o/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=s/this._height*this.tileScale.y,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this),e._uvs=n,e._frame.width=i,e._frame.height=r}},i.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,i=this.worldTransform,o=t.resolution,s=e.baseTexture,a=this.tilePosition.x%(e._frame.width*this.tileScale.x),u=this.tilePosition.y%(e._frame.height*this.tileScale.y);if(!this._canvasPattern){var l=new r.CanvasBuffer(e._frame.width,e._frame.height);l.context.drawImage(s.source,-e._frame.x,-e._frame.y),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o),n.scale(this.tileScale.x,this.tileScale.y),n.translate(a+this.anchor.x*-this._width,u+this.anchor.y*-this._height),this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,n.globalCompositeOperation=t.blendModes[t.currentBlendMode]),n.fillStyle=this._canvasPattern,n.fillRect(-a,-u,this._width/this.tileScale.x,this._height/this.tileScale.y)}},i.prototype.getBounds=function(){var t,e,n,i,r=this._width,o=this._height,s=r*(1-this.anchor.x),a=r*-this.anchor.x,u=o*(1-this.anchor.y),l=o*-this.anchor.y,c=this.worldTransform,h=c.a,f=c.b,p=c.c,d=c.d,b=c.tx,m=c.ty,y=h*a+p*l+b,v=d*l+f*a+m,g=h*s+p*l+b,_=d*l+f*s+m,x=h*s+p*u+b,w=d*u+f*s+m,S=h*a+p*u+b,E=d*u+f*a+m;t=y,t=g<t?g:t,t=x<t?x:t,t=S<t?S:t,n=v,n=_<n?_:n,n=w<n?w:n,n=E<n?E:n,e=y,e=g>e?g:e,e=x>e?x:e,e=S>e?S:e,i=v,i=_>i?_:i,i=w>i?w:i,i=E>i?E:i;var T=this._bounds;return T.x=t,T.width=e-t,T.y=n,T.height=i-n,this._currentBounds=T,T},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,o);var e,n=this._width,i=this._height,r=-n*this.anchor.x;return o.x>r&&o.x<r+n&&(e=-i*this.anchor.y,o.y>e&&o.y<e+i)},i.prototype.destroy=function(){r.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},i.fromFrame=function(t,e,n){var o=r.utils.TextureCache[t];if(!o)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new i(o,e,n)},i.fromImage=function(t,e,n,o,s){return new i(r.Texture.fromImage(t,o,s),e,n)}},function(t,e,n){var i=n(1),r=i.DisplayObject,o=new i.Matrix;r.prototype._cacheAsBitmap=!1,r.prototype._originalRenderWebGL=null,r.prototype._originalRenderCanvas=null,r.prototype._originalUpdateTransform=null,r.prototype._originalHitTest=null,r.prototype._originalDestroy=null,r.prototype._cachedSprite=null,Object.defineProperties(r.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),r.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cachedSprite.worldAlpha=this.worldAlpha,t.setObjectRenderer(t.plugins.sprite),t.plugins.sprite.render(this._cachedSprite))},r.prototype._initCachedDisplayObject=function(t){if(!this._cachedSprite){t.currentRenderer.flush();var e=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;e.x-=n,e.y-=n,e.width+=2*n,e.height+=2*n}var r=t.currentRenderTarget,s=t.filterManager.filterStack,a=new i.RenderTexture(t,0|e.width,0|e.height),u=o;u.tx=-e.x,u.ty=-e.y,this.renderWebGL=this._originalRenderWebGL,a.render(this,u,!0,!0),t.setRenderTarget(r),t.filterManager.filterStack=s,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(a),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},r.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(t))},r.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cachedSprite){var e=this.getLocalBounds(),n=t.context,r=new i.RenderTexture(t,0|e.width,0|e.height),s=o;s.tx=-e.x,s.ty=-e.y,this.renderCanvas=this._originalRenderCanvas,r.render(this,s,!0),t.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new i.Sprite(r),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(e.x/e.width),this._cachedSprite.anchor.y=-(e.y/e.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},r.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},r.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},r.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},function(t,e,n){var i=n(1);i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,n){var i=n(1);i.DisplayObject.prototype.getGlobalPosition=function(t){
return t=t||new i.Point,this.parent?(this.displayObjectUpdateTransform(),t.x=this.worldTransform.tx,t.y=this.worldTransform.ty):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/ascii.frag","utf8"),{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})}).call(e,"/")},function(t,e,n){function i(){r.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s,this.defaultFilter=new r.AbstractFilter}var r=n(1),o=n(92),s=n(153);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(t,e,n),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(r.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(t,i,n),t.blendModeManager.setBlendMode(r.BLEND_MODES.NORMAL),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},function(t,e,n){(function(e){function i(t,n){r.AbstractFilter.call(this,o.readFileSync(e+"/blurDir.vert","utf8"),o.readFileSync(e+"/blurDir.frag","utf8"),{strength:{type:"1f",value:1},dirX:{type:"1f",value:t||0},dirY:{type:"1f",value:n||0}}),this.defaultFilter=new r.AbstractFilter,this.passes=1,this.dirX=t||0,this.dirY=n||0,this.strength=4}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.width/e.size.width),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{var o=t.filterManager.getRenderTarget(!0);t.filterManager.applyFilter(r,e,o,i);for(var s=0;s<this.passes-2;s++)t.filterManager.applyFilter(r,o,o,i);t.filterManager.applyFilter(r,o,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}},dirX:{get:function(){return this.dirX},set:function(t){this.uniforms.dirX.value=t}},dirY:{get:function(){return this.dirY},set:function(t){this.uniforms.dirY.value=t}}})}).call(e,"/")},function(t,e,n){function i(){r.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYFilter=new s}var r=n(1),o=n(92),s=n(153);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(t,e,i),this.blurYFilter.applyFilter(t,i,n),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.padding=.5*Math.abs(t),this.blurXFilter.blur=this.blurYFilter.blur=t}},passes:{get:function(){return this.blurXFilter.passes},set:function(t){this.blurXFilter.passes=this.blurYFilter.passes=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t}}})},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/smartBlur.frag","utf8"),{delta:{type:"v2",value:{x:.1,y:0}}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/colorMatrix.frag","utf8"),{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype._loadMatrix=function(t,e){e=!!e;var n=t;e&&(this._multiply(n,this.uniforms.m.value,t),n=this._colorMatrix(n)),this.uniforms.m.value=n},i.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.grayscale=i.prototype.greyscale,i.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),i=Math.sin(t),r=.213,o=.715,s=.072,a=[r+n*(1-r)+i*-r,o+n*-o+i*-o,s+n*-s+i*(1-s),0,0,r+n*-r+.143*i,o+n*(1-o)+.14*i,s+n*-s+i*-.283,0,0,r+n*-r+i*-(1-r),o+n*-o+i*o,s+n*(1-s)+i*s,0,0,0,0,0,1,0];this._loadMatrix(a,e)},i.prototype.contrast=function(t,e){var n=(t||0)+1,i=-128*(n-1),r=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.saturate=function(t,e){var n=2*(t||0)/3+1,i=(n-1)*-.5,r=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(r,e)},i.prototype.desaturate=function(t){this.saturate(-1)},i.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.colorTone=function(t,e,n,i,r){t=t||.2,e=e||.15,n=n||16770432,i=i||3375104;var o=(n>>16&255)/255,s=(n>>8&255)/255,a=(255&n)/255,u=(i>>16&255)/255,l=(i>>8&255)/255,c=(255&i)/255,h=[.3,.59,.11,0,0,o,s,a,t,0,u,l,c,e,0,o-u,s-l,a-c,0,0];this._loadMatrix(h,r)},i.prototype.night=function(t,e){t=t||.1;var n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},i.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(t){this.uniforms.m.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/colorStep.frag","utf8"),{step:{type:"1f",value:5}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(t){this.uniforms.step.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(t,n,i){r.AbstractFilter.call(this,null,o.readFileSync(e+"/convolution.frag","utf8"),{matrix:{type:"1fv",value:new Float32Array(t)},texelSize:{type:"v2",value:{x:1/n,y:1/i}}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(t){this.uniforms.matrix.value=new Float32Array(t)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(t){this.uniforms.texelSize.value.x=1/t}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(t){this.uniforms.texelSize.value.y=1/t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/crosshatch.frag","utf8"))}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i}).call(e,"/")},function(t,e,n){(function(e){function i(t){var n=new r.Matrix;t.renderable=!1,r.AbstractFilter.call(this,o.readFileSync(e+"/displacement.vert","utf8"),o.readFileSync(e+"/displacement.frag","utf8"),{mapSampler:{type:"sampler2D",value:t.texture},otherMatrix:{type:"mat3",value:n.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=t,this.maskMatrix=n,this.scale=new r.Point(20,20)}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager;i.calculateMappedMatrix(e.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/e.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/e.frame.height);var r=this.getShader(t);i.applyFilter(r,e,n)},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(t){this.uniforms.mapSampler.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/dotScreen.frag","utf8"),{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,o.readFileSync(e+"/blurYTint.vert","utf8"),o.readFileSync(e+"/blurYTint.frag","utf8"),{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n,i){var r=this.getShader(t);if(this.uniforms.strength.value=this.strength/4/this.passes*(e.frame.height/e.size.height),1===this.passes)t.filterManager.applyFilter(r,e,n,i);else{for(var o=t.filterManager.getRenderTarget(!0),s=e,a=o,u=0;u<this.passes-1;u++){t.filterManager.applyFilter(r,s,a,i);var l=a;a=s,s=l}t.filterManager.applyFilter(r,s,n,i),t.filterManager.returnRenderTarget(o)}},Object.defineProperties(i.prototype,{blur:{get:function(){return this.strength},set:function(t){this.padding=.5*t,this.strength=t}}})}).call(e,"/")},function(t,e,n){function i(){r.AbstractFilter.call(this),this.blurXFilter=new o,this.blurYTintFilter=new s,this.defaultFilter=new r.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=r.BLEND_MODES.MULTIPLY}var r=n(1),o=n(92),s=n(573);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(t,e,i),t.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(t,i,n),t.blendModeManager.setBlendMode(r.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(t,e,n),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYTintFilter.blur=t}},blurX:{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(t){this.blurYTintFilter.blur=t}},color:{get:function(){return r.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(t){this.blurYTintFilter.uniforms.color.value=r.utils.hex2rgb(t)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(t){this.blurYTintFilter.uniforms.alpha.value=t}},distance:{get:function(){return this._distance},set:function(t){this._dirtyPosition=!0,this._distance=t}},angle:{get:function(){return this._angle},set:function(t){this._dirtyPosition=!0,this._angle=t}}})},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/gray.frag","utf8"),{gray:{type:"1f",value:1}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(t){this.uniforms.gray.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/invert.frag","utf8"),{invert:{type:"1f",value:1}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(t){this.uniforms.invert.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/noise.frag","utf8"),{noise:{type:"1f",value:.5}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(t){this.uniforms.noise.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(t){r.AbstractFilter.call(this,null,o.readFileSync(e+"/normalMap.frag","utf8"),{displacementMap:{type:"sampler2D",value:t},scale:{type:"2f",value:{x:15,y:15}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:1}},dimensions:{type:"4f",value:[0,0,0,0]},LightPos:{type:"3f",value:[0,1,0]}}),t.baseTexture._powerOf2=!0,t.baseTexture.hasLoaded?this.onTextureLoaded():t.baseTexture.once("loaded",this.onTextureLoaded,this)}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height},Object.defineProperties(i.prototype,{map:{get:function(){return this.uniforms.displacementMap.value},set:function(t){this.uniforms.displacementMap.value=t}},scale:{get:function(){return this.uniforms.scale.value},set:function(t){this.uniforms.scale.value=t}},offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/pixelate.frag","utf8"),{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(t){this.uniforms.pixelSize.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/rgbSplit.frag","utf8"),{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(t){this.uniforms.red.value=t}},green:{get:function(){return this.uniforms.green.value},set:function(t){this.uniforms.green.value=t}},blue:{get:function(){return this.uniforms.blue.value},set:function(t){this.uniforms.blue.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/sepia.frag","utf8"),{sepia:{type:"1f",value:1}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(t){this.uniforms.sepia.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/shockwave.frag","utf8"),{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(t){this.uniforms.center.value=t}},params:{get:function(){return this.uniforms.params.value},set:function(t){this.uniforms.params.value=t}},time:{get:function(){return this.uniforms.time.value},set:function(t){this.uniforms.time.value=t}}})}).call(e,"/")},function(t,e,n){function i(){r.AbstractFilter.call(this),this.tiltShiftXFilter=new o,this.tiltShiftYFilter=new s}var r=n(1),o=n(265),s=n(266);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.applyFilter=function(t,e,n){var i=t.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(t,e,i),this.tiltShiftYFilter.applyFilter(t,i,n),t.filterManager.returnRenderTarget(i)},Object.defineProperties(i.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}}})},function(t,e,n){(function(e){function i(){r.AbstractFilter.call(this,null,o.readFileSync(e+"/twist.frag","utf8"),{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var r=n(1),o=n(5);i.prototype=Object.create(r.AbstractFilter.prototype),i.prototype.constructor=i,t.exports=i,Object.defineProperties(i.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(t){this.uniforms.offset.value=t}},radius:{get:function(){return this.uniforms.radius.value},set:function(t){this.uniforms.radius.value=t}},angle:{get:function(){return this.uniforms.angle.value},set:function(t){this.uniforms.angle.value=t}}})}).call(e,"/")},function(t,e,n){(function(e){n(594);var i=t.exports=n(1);i.extras=n(152),i.filters=n(263),i.interaction=n(587),i.loaders=n(588),i.mesh=n(272),i.loader=new i.loaders.Loader,Object.assign(i,n(555)),e.PIXI=i}).call(e,function(){return this}())},function(t,e,n){function i(t,e){e=e||{},this.renderer=t,this.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,this.interactionFrequency=e.interactionFrequency||10,this.mouse=new o,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new r.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var r=n(1),o=n(267);Object.assign(r.DisplayObject.prototype,n(268)),i.prototype.constructor=i,t.exports=i,i.prototype.setTargetElement=function(t,e){this.removeEvents(),this.interactionDOMElement=t,this.resolution=e||1,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(r.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(r.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},i.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.target=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},i.prototype.mapPositionToPoint=function(t,e,n){var i=this.interactionDOMElement.getBoundingClientRect();t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)/this.resolution,t.y=(n-i.top)*(this.interactionDOMElement.height/i.height)/this.resolution},i.prototype.processInteractive=function(t,e,n,i,r){if(!e.visible)return!1;var o=e.children,s=!1;if(r=r||e.interactive,e.interactiveChildren)for(var a=o.length-1;a>=0;a--)!s&&i?s=this.processInteractive(t,o[a],n,!0,r):this.processInteractive(t,o[a],n,!1,!1);return r&&(i&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),s=e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):e.containsPoint&&(s=e.containsPoint(t))),e.interactive&&n(e,s)),s},i.prototype.onMouseDown=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},i.prototype.processMouseDown=function(t,e){var n=this.mouse.originalEvent,i=2===n.button||3===n.which;e&&(t[i?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(t,i?"rightdown":"mousedown",this.eventData))},i.prototype.onMouseUp=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},i.prototype.processMouseUp=function(t,e){var n=this.mouse.originalEvent,i=2===n.button||3===n.which,r=i?"_isRightDown":"_isLeftDown";e?(this.dispatchEvent(t,i?"rightup":"mouseup",this.eventData),t[r]&&(t[r]=!1,this.dispatchEvent(t,i?"rightclick":"click",this.eventData))):t[r]&&(t[r]=!1,this.dispatchEvent(t,i?"rightupoutside":"mouseupoutside",this.eventData))},i.prototype.onMouseMove=function(t){this.mouse.originalEvent=t,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},i.prototype.processMouseMove=function(t,e){this.dispatchEvent(t,"mousemove",this.eventData),this.processMouseOverOut(t,e)},i.prototype.onMouseOut=function(t){this.mouse.originalEvent=t,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,t.clientX,t.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},i.prototype.processMouseOverOut=function(t,e){e?(t._over||(t._over=!0,this.dispatchEvent(t,"mouseover",this.eventData)),t.buttonMode&&(this.cursor=t.defaultCursor)):t._over&&(t._over=!1,this.dispatchEvent(t,"mouseout",this.eventData))},i.prototype.onTouchStart=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,i=0;i<n;i++){var r=e[i],o=this.getTouchData(r);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(o)}},i.prototype.processTouchStart=function(t,e){e&&(t._touchDown=!0,this.dispatchEvent(t,"touchstart",this.eventData))},i.prototype.onTouchEnd=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,i=0;i<n;i++){var r=e[i],o=this.getTouchData(r);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(o)}},i.prototype.processTouchEnd=function(t,e){e?(this.dispatchEvent(t,"touchend",this.eventData),t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"tap",this.eventData))):t._touchDown&&(t._touchDown=!1,this.dispatchEvent(t,"touchendoutside",this.eventData))},i.prototype.onTouchMove=function(t){this.autoPreventDefault&&t.preventDefault();for(var e=t.changedTouches,n=e.length,i=0;i<n;i++){var r=e[i],o=this.getTouchData(r);o.originalEvent=t,this.eventData.data=o,this.eventData.stopped=!1,this.processInteractive(o.global,this.renderer._lastObjectRendered,this.processTouchMove,!1),this.returnTouchData(o)}},i.prototype.processTouchMove=function(t,e){e=e,this.dispatchEvent(t,"touchmove",this.eventData)},i.prototype.getTouchData=function(t){var e=this.interactiveDataPool.pop();return e||(e=new o),e.identifier=t.identifier,this.mapPositionToPoint(e.global,t.clientX,t.clientY),navigator.isCocoonJS&&(e.global.x=e.global.x/this.resolution,e.global.y=e.global.y/this.resolution),t.globalX=e.global.x,t.globalY=e.global.y,e},i.prototype.returnTouchData=function(t){this.interactiveDataPool.push(t)},i.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},r.WebGLRenderer.registerPlugin("interaction",i),r.CanvasRenderer.registerPlugin("interaction",i)},function(t,e,n){t.exports={InteractionData:n(267),InteractionManager:n(586),interactiveTarget:n(268)}},function(t,e,n){t.exports={Loader:n(589),bitmapFontParser:n(269),spritesheetParser:n(270),textureParser:n(271),Resource:n(98).Resource}},function(t,e,n){function i(t,e){r.call(this,t,e);for(var n=0;n<i._pixiMiddleware.length;++n)this.use(i._pixiMiddleware[n]())}var r=n(98),o=n(271),s=n(270),a=n(269);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i._pixiMiddleware=[r.middleware.parsing.blob,o,s,a],i.addPixiMiddleware=function(t){i._pixiMiddleware.push(t)};var u=r.Resource;u.setExtensionXhrType("fnt",u.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,n){function i(t,e){r.call(this,t),this.points=e,this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),
this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length),this._ready=!0,this.refresh()}var r=n(154),o=n(1);i.prototype=Object.create(r.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){var e=this.uvs,n=this.indices,i=this.colors,r=this._texture._uvs,s=new o.Point(r.x0,r.y0),a=new o.Point(r.x2-r.x0,r.y2-r.y0);e[0]=0+s.x,e[1]=0+s.y,e[2]=0+s.x,e[3]=1*a.y+s.y,i[0]=1,i[1]=1,n[0]=0,n[1]=1;for(var u,l,c,h=t.length,f=1;f<h;f++)u=t[f],l=4*f,c=f/(h-1),e[l]=c*a.x+s.x,e[l+1]=0+s.y,e[l+2]=c*a.x+s.x,e[l+3]=1*a.y+s.y,l=2*f,i[l]=1,i[l+1]=1,l=2*f,n[l]=l,n[l+1]=l+1;this.dirty=!0}},i.prototype._onTextureUpdate=function(){r.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},i.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){for(var e,n,i,r,o,s,a=t[0],u=0,l=0,c=this.vertices,h=t.length,f=0;f<h;f++)n=t[f],i=4*f,e=f<t.length-1?t[f+1]:n,l=-(e.x-a.x),u=e.y-a.y,r=10*(1-f/(h-1)),r>1&&(r=1),o=Math.sqrt(u*u+l*l),s=this._texture.height/2,u/=o,l/=o,u*=s,l*=s,c[i]=n.x+u,c[i+1]=n.y+l,c[i+2]=n.x-u,c[i+3]=n.y-l,a=n;this.containerUpdateTransform()}}},function(t,e,n){function i(t){r.ObjectRenderer.call(this,t),this.indices=new Uint16Array(15e3);for(var e=0,n=0;e<15e3;e+=6,n+=4)this.indices[e+0]=n+0,this.indices[e+1]=n+1,this.indices[e+2]=n+2,this.indices[e+3]=n+0,this.indices[e+4]=n+2,this.indices[e+5]=n+3}var r=n(1),o=n(154);i.prototype=Object.create(r.ObjectRenderer.prototype),i.prototype.constructor=i,t.exports=i,r.WebGLRenderer.registerPlugin("mesh",i),i.prototype.onContextChange=function(){},i.prototype.render=function(t){t._vertexBuffer||this._initWebGL(t);var e=this.renderer,n=e.gl,i=t._texture.baseTexture,r=e.shaderManager.plugins.meshShader,s=t.drawMode===o.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;e.blendModeManager.setBlendMode(t.blendMode),n.uniformMatrix3fv(r.uniforms.translationMatrix._location,!1,t.worldTransform.toArray(!0)),n.uniformMatrix3fv(r.uniforms.projectionMatrix._location,!1,e.currentRenderTarget.projectionMatrix.toArray(!0)),n.uniform1f(r.uniforms.alpha._location,t.worldAlpha),t.dirty?(t.dirty=!1,n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferData(n.ARRAY_BUFFER,t.vertices,n.STATIC_DRAW),n.vertexAttribPointer(r.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.bufferData(n.ARRAY_BUFFER,t.uvs,n.STATIC_DRAW),n.vertexAttribPointer(r.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),i._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,i._glTextures[n.id]):this.renderer.updateTexture(i),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.indices,n.STATIC_DRAW)):(n.bindBuffer(n.ARRAY_BUFFER,t._vertexBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,t.vertices),n.vertexAttribPointer(r.attributes.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,t._uvBuffer),n.vertexAttribPointer(r.attributes.aTextureCoord,2,n.FLOAT,!1,0,0),n.activeTexture(n.TEXTURE0),i._glTextures[n.id]?n.bindTexture(n.TEXTURE_2D,i._glTextures[n.id]):this.renderer.updateTexture(i),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t._indexBuffer),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,t.indices)),n.drawElements(s,t.indices.length,n.UNSIGNED_SHORT,0)},i.prototype._initWebGL=function(t){var e=this.renderer.gl;t._vertexBuffer=e.createBuffer(),t._indexBuffer=e.createBuffer(),t._uvBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,t.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,t._uvBuffer),e.bufferData(e.ARRAY_BUFFER,t.uvs,e.STATIC_DRAW),t.colors&&(t._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t._colorBuffer),e.bufferData(e.ARRAY_BUFFER,t.colors,e.STATIC_DRAW)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,t.indices,e.STATIC_DRAW)},i.prototype.flush=function(){},i.prototype.start=function(){var t=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(t)},i.prototype.destroy=function(){}},function(t,e,n){function i(t){r.Shader.call(this,t,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var r=n(1);i.prototype=Object.create(r.Shader.prototype),i.prototype.constructor=i,t.exports=i,r.ShaderManager.registerPlugin("meshShader",i)},function(t,e,n){Object.assign||(Object.assign=n(527))},function(t,e,n){n(593),n(595)},function(t,e){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+"CancelAnimationFrame"]||t[i[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+n-e;return i<0&&(i=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){var e=new r(r._61);return e._81=1,e._65=t,e}var r=n(273);t.exports=r;var o=i(!0),s=i(!1),a=i(null),u=i(void 0),l=i(0),c=i("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return a;if(void 0===t)return u;if(t===!0)return o;if(t===!1)return s;if(0===t)return l;if(""===t)return c;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof r&&a.then===r.prototype.then){for(;3===a._81;)a=a._65;return 1===a._81?i(s,a._65):(2===a._81&&n(a._65),void a.then(function(t){i(s,t)},n))}var u=a.then;if("function"==typeof u){var l=new r(u.bind(a));return void l.then(function(t){i(s,t)},n)}}e[s]=a,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,s=0;s<e.length;s++)i(s,e[s])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";function i(){l=!1,a._10=null,a._97=null}function r(t){function e(e){(t.allRejections||s(h[e].error,t.whitelist||u))&&(h[e].displayId=c++,t.onUnhandled?(h[e].logged=!0,t.onUnhandled(h[e].displayId,h[e].error)):(h[e].logged=!0,o(h[e].displayId,h[e].error)))}function n(e){h[e].logged&&(t.onHandled?t.onHandled(h[e].displayId,h[e].error):h[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[e].displayId+".")))}t=t||{},l&&i(),l=!0;var r=0,c=0,h={};a._10=function(t){2===t._81&&h[t._72]&&(h[t._72].logged?n(t._72):clearTimeout(h[t._72].timeout),delete h[t._72])},a._97=function(t,n){0===t._45&&(t._72=r++,h[t._72]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._72),s(n,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):");var n=(e&&(e.stack||e))+"";n.split("\n").forEach(function(t){console.warn("  "+t)})}function s(t,e){return e.some(function(e){return t instanceof e})}var a=n(273),u=[ReferenceError,TypeError,RangeError],l=!1;e.disable=i,e.enable=r},function(t,e,n){"use strict";function i(t,e,n,i,r){}t.exports=i},function(t,e,n){"use strict";var i=n(17),r=n(2);t.exports=function(){function t(){r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";var i=n(17),r=n(2),o=(n(3),n(601)),s=n(598);t.exports=function(t,e){function n(t){var e=t&&(T&&t[T]||t[P]);if("function"==typeof e)return e}function a(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function u(t){this.message=t,this.stack=""}function l(t){function n(n,i,s,a,l,c,h){if(a=a||M,c=c||s,h!==o)if(e)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==i[s]?n?new u(null===i[s]?"The "+l+" `"+c+"` is marked as required "+("in `"+a+"`, but its value is `null`."):"The "+l+" `"+c+"` is marked as required in "+("`"+a+"`, but its value is `undefined`.")):null:t(i,s,a,l,c)}var i=n.bind(null,!1);return i.isRequired=n.bind(null,!0),i}function c(t){function e(e,n,i,r,o,s){var a=e[n],l=w(a);if(l!==t){var c=S(a);return new u("Invalid "+r+" `"+o+"` of type "+("`"+c+"` supplied to `"+i+"`, expected ")+("`"+t+"`."))}return null}return l(e)}function h(){return l(i.thatReturnsNull)}function f(t){function e(e,n,i,r,s){if("function"!=typeof t)return new u("Property `"+s+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a)){var l=w(a);return new u("Invalid "+r+" `"+s+"` of type "+("`"+l+"` supplied to `"+i+"`, expected an array."))}for(var c=0;c<a.length;c++){var h=t(a,c,i,r,s+"["+c+"]",o);if(h instanceof Error)return h}return null}return l(e)}function p(){function e(e,n,i,r,o){var s=e[n];if(!t(s)){var a=w(s);return new u("Invalid "+r+" `"+o+"` of type "+("`"+a+"` supplied to `"+i+"`, expected a single ReactElement."))}return null}return l(e)}function d(t){function e(e,n,i,r,o){if(!(e[n]instanceof t)){var s=t.name||M,a=E(e[n]);return new u("Invalid "+r+" `"+o+"` of type "+("`"+a+"` supplied to `"+i+"`, expected ")+("instance of `"+s+"`."))}return null}return l(e)}function b(t){function e(e,n,i,r,o){for(var s=e[n],l=0;l<t.length;l++)if(a(s,t[l]))return null;var c=JSON.stringify(t);return new u("Invalid "+r+" `"+o+"` of value `"+s+"` "+("supplied to `"+i+"`, expected one of "+c+"."))}return Array.isArray(t)?l(e):i.thatReturnsNull}function m(t){function e(e,n,i,r,s){if("function"!=typeof t)return new u("Property `"+s+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var a=e[n],l=w(a);if("object"!==l)return new u("Invalid "+r+" `"+s+"` of type "+("`"+l+"` supplied to `"+i+"`, expected an object."));for(var c in a)if(a.hasOwnProperty(c)){var h=t(a,c,i,r,s+"."+c,o);if(h instanceof Error)return h}return null}return l(e)}function y(t){function e(e,n,i,r,s){for(var a=0;a<t.length;a++){var l=t[a];if(null==l(e,n,i,r,s,o))return null}return new u("Invalid "+r+" `"+s+"` supplied to "+("`"+i+"`."))}return Array.isArray(t)?l(e):i.thatReturnsNull}function v(){function t(t,e,n,i,r){return _(t[e])?null:new u("Invalid "+i+" `"+r+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return l(t)}function g(t){function e(e,n,i,r,s){var a=e[n],l=w(a);if("object"!==l)return new u("Invalid "+r+" `"+s+"` of type `"+l+"` "+("supplied to `"+i+"`, expected `object`."));for(var c in t){var h=t[c];if(h){var f=h(a,c,i,r,s+"."+c,o);if(f)return f}}return null}return l(e)}function _(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(_);if(null===e||t(e))return!0;var i=n(e);if(!i)return!1;var r,o=i.call(e);if(i!==e.entries){for(;!(r=o.next()).done;)if(!_(r.value))return!1}else for(;!(r=o.next()).done;){var s=r.value;if(s&&!_(s[1]))return!1}return!0;default:return!1}}function x(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function w(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":x(e,t)?"symbol":e}function S(t){var e=w(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function E(t){return t.constructor&&t.constructor.name?t.constructor.name:M}var T="function"==typeof Symbol&&Symbol.iterator,P="@@iterator",M="<<anonymous>>",O={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),symbol:c("symbol"),any:h(),arrayOf:f,element:p(),instanceOf:d,node:v(),objectOf:m,oneOf:b,oneOfType:y,shape:g};return u.prototype=Error.prototype,O.checkPropTypes=s,O.PropTypes=O,O}},function(t,e){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n},function(t,e,n){"use strict";t.exports=n(616)},function(t,e){"use strict";var n={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};t.exports=n},function(t,e,n){"use strict";var i=n(9),r=n(186),o={focusDOMComponent:function(){r(i.getNodeFromInstance(this))}};t.exports=o},function(t,e,n){"use strict";function i(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}function o(t){switch(t){case"topCompositionStart":return P.compositionStart;case"topCompositionEnd":return P.compositionEnd;case"topCompositionUpdate":return P.compositionUpdate}}function s(t,e){return"topKeyDown"===t&&e.keyCode===g}function a(t,e){switch(t){case"topKeyUp":return v.indexOf(e.keyCode)!==-1;case"topKeyDown":return e.keyCode!==g;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function u(t){var e=t.detail;return"object"==typeof e&&"data"in e?e.data:null}function l(t,e,n,i){var r,l;if(_?r=o(t):O?a(t,n)&&(r=P.compositionEnd):s(t,n)&&(r=P.compositionStart),!r)return null;S&&(O||r!==P.compositionStart?r===P.compositionEnd&&O&&(l=O.getData()):O=b.getPooled(i));var c=m.getPooled(r,e,n,i);if(l)c.data=l;else{var h=u(n);null!==h&&(c.data=h)}return p.accumulateTwoPhaseDispatches(c),c}function c(t,e){switch(t){case"topCompositionEnd":return u(e);case"topKeyPress":var n=e.which;return n!==E?null:(M=!0,T);case"topTextInput":var i=e.data;return i===T&&M?null:i;default:return null}}function h(t,e){if(O){if("topCompositionEnd"===t||!_&&a(t,e)){var n=O.getData();return b.release(O),O=null,n}return null}switch(t){case"topPaste":return null;case"topKeyPress":return e.which&&!r(e)?String.fromCharCode(e.which):null;case"topCompositionEnd":return S?null:e.data;default:return null}}function f(t,e,n,i){var r;if(r=w?c(t,n):h(t,n),!r)return null;var o=y.getPooled(P.beforeInput,e,n,i);return o.data=r,p.accumulateTwoPhaseDispatches(o),o}var p=n(66),d=n(13),b=n(611),m=n(648),y=n(651),v=[9,13,27,32],g=229,_=d.canUseDOM&&"CompositionEvent"in window,x=null;d.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var w=d.canUseDOM&&"TextEvent"in window&&!x&&!i(),S=d.canUseDOM&&(!_||x&&x>8&&x<=11),E=32,T=String.fromCharCode(E),P={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},M=!1,O=null,A={eventTypes:P,extractEvents:function(t,e,n,i){return[l(t,e,n,i),f(t,e,n,i)]}};t.exports=A},function(t,e,n){"use strict";var i=n(276),r=n(13),o=(n(23),n(343),n(657)),s=n(350),a=n(353),u=(n(3),a(function(t){return s(t)})),l=!1,c="cssFloat";if(r.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(t){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var f={createMarkupForStyles:function(t,e){var n="";for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];null!=r&&(n+=u(i)+":",n+=o(i,r,e)+";")}return n||null},setValueForStyles:function(t,e,n){var r=t.style;for(var s in e)if(e.hasOwnProperty(s)){var a=o(s,e[s],n);if("float"!==s&&"cssFloat"!==s||(s=c),a)r[s]=a;else{var u=l&&i.shorthandPropertyExpansions[s];if(u)for(var h in u)r[h]="";else r[s]=""}}}};t.exports=f},function(t,e,n){"use strict";function i(t){var e=t.nodeName&&t.nodeName.toLowerCase();return"select"===e||"input"===e&&"file"===t.type}function r(t){var e=E.getPooled(O.change,C,t,T(t));_.accumulateTwoPhaseDispatches(e),S.batchedUpdates(o,e)}function o(t){g.enqueueEvents(t),g.processEventQueue(!1)}function s(t,e){A=t,C=e,A.attachEvent("onchange",r)}function a(){A&&(A.detachEvent("onchange",r),A=null,C=null)}function u(t,e){if("topChange"===t)return e}function l(t,e,n){"topFocus"===t?(a(),s(e,n)):"topBlur"===t&&a()}function c(t,e){A=t,C=e,k=t.value,R=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(A,"value",L),A.attachEvent?A.attachEvent("onpropertychange",f):A.addEventListener("propertychange",f,!1)}function h(){A&&(delete A.value,A.detachEvent?A.detachEvent("onpropertychange",f):A.removeEventListener("propertychange",f,!1),A=null,C=null,k=null,R=null)}function f(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==k&&(k=e,r(t))}}function p(t,e){if("topInput"===t)return e}function d(t,e,n){"topFocus"===t?(h(),c(e,n)):"topBlur"===t&&h()}function b(t,e){if(("topSelectionChange"===t||"topKeyUp"===t||"topKeyDown"===t)&&A&&A.value!==k)return k=A.value,C}function m(t){return t.nodeName&&"input"===t.nodeName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)}function y(t,e){if("topClick"===t)return e}function v(t,e){if(null!=t){var n=t._wrapperState||e._wrapperState;if(n&&n.controlled&&"number"===e.type){var i=""+e.value;e.getAttribute("value")!==i&&e.setAttribute("value",i)}}}var g=n(65),_=n(66),x=n(13),w=n(9),S=n(26),E=n(29),T=n(168),P=n(169),M=n(293),O={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},A=null,C=null,k=null,R=null,I=!1;x.canUseDOM&&(I=P("change")&&(!document.documentMode||document.documentMode>8));var N=!1;x.canUseDOM&&(N=P("input")&&(!document.documentMode||document.documentMode>11));var L={get:function(){return R.get.call(this)},set:function(t){k=""+t,R.set.call(this,t)}},F={eventTypes:O,extractEvents:function(t,e,n,r){var o,s,a=e?w.getNodeFromInstance(e):window;if(i(a)?I?o=u:s=l:M(a)?N?o=p:(o=b,s=d):m(a)&&(o=y),o){var c=o(t,e);if(c){var h=E.getPooled(O.change,c,n,r);return h.type="change",_.accumulateTwoPhaseDispatches(h),h}}s&&s(t,a,e),"topBlur"===t&&v(e,a)}};t.exports=F},function(t,e,n){"use strict";var i=n(4),r=n(47),o=n(13),s=n(346),a=n(17),u=(n(2),{dangerouslyReplaceNodeWithMarkup:function(t,e){if(o.canUseDOM?void 0:i("56"),e?void 0:i("57"),"HTML"===t.nodeName?i("58"):void 0,"string"==typeof e){var n=s(e,a)[0];t.parentNode.replaceChild(n,t)}else r.replaceChildWithTree(t,e)}});t.exports=u},function(t,e){"use strict";var n=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];t.exports=n},function(t,e,n){"use strict";var i=n(66),r=n(9),o=n(94),s={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},a={eventTypes:s,extractEvents:function(t,e,n,a){if("topMouseOver"===t&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==t&&"topMouseOver"!==t)return null;var u;if(a.window===a)u=a;else{var l=a.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var c,h;if("topMouseOut"===t){c=e;var f=n.relatedTarget||n.toElement;h=f?r.getClosestInstanceFromNode(f):null}else c=null,h=e;if(c===h)return null;var p=null==c?u:r.getNodeFromInstance(c),d=null==h?u:r.getNodeFromInstance(h),b=o.getPooled(s.mouseLeave,c,n,a);b.type="mouseleave",b.target=p,b.relatedTarget=d;var m=o.getPooled(s.mouseEnter,h,n,a);return m.type="mouseenter",m.target=d,m.relatedTarget=p,i.accumulateEnterLeaveDispatches(b,m,c,h),[b,m]}};t.exports=a},function(t,e,n){"use strict";function i(t){this._root=t,this._startText=this.getText(),this._fallbackText=null}var r=n(6),o=n(40),s=n(291);r(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[s()]},getData:function(){if(this._fallbackText)return this._fallbackText;var t,e,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);var a=e>1?1-e:void 0;return this._fallbackText=r.slice(t,a),this._fallbackText}}),o.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";var i=n(48),r=i.injection.MUST_USE_PROPERTY,o=i.injection.HAS_BOOLEAN_VALUE,s=i.injection.HAS_NUMERIC_VALUE,a=i.injection.HAS_POSITIVE_NUMERIC_VALUE,u=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+i.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:r|o,cite:0,classID:0,className:0,cols:a,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:r|o,muted:r|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:a,rowSpan:s,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:r|o,shape:0,size:a,sizes:0,span:a,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:s,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(t,e){return null==e?t.removeAttribute("value"):void("number"!==t.type||t.hasAttribute("value")===!1?t.setAttribute("value",""+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute("value",""+e))}}};t.exports=l},function(t,e,n){(function(e){"use strict";function i(t,e,n,i){var r=void 0===t[n];null!=e&&r&&(t[n]=o(e,!0))}var r=n(49),o=n(292),s=(n(160),n(170)),a=n(295),u=(n(3),{instantiateChildren:function(t,e,n,r){if(null==t)return null;var o={};return a(t,i,o),o},updateChildren:function(t,e,n,i,a,u,l,c,h){if(e||t){var f,p;for(f in e)if(e.hasOwnProperty(f)){p=t&&t[f];var d=p&&p._currentElement,b=e[f];if(null!=p&&s(d,b))r.receiveComponent(p,b,a,c),e[f]=p;else{p&&(i[f]=r.getHostNode(p),r.unmountComponent(p,!1));var m=o(b,!0);e[f]=m;var y=r.mountComponent(m,a,u,l,c,h);n.push(y)}}for(f in t)!t.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||(p=t[f],i[f]=r.getHostNode(p),r.unmountComponent(p,!1))}},unmountChildren:function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];r.unmountComponent(i,e)}}});t.exports=u}).call(e,n(25))},function(t,e,n){"use strict";var i=n(156),r=n(621),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup};t.exports=o},function(t,e,n){"use strict";function i(t){}function r(t,e){}function o(t){return!(!t.prototype||!t.prototype.isReactComponent)}function s(t){return!(!t.prototype||!t.prototype.isPureReactComponent)}var a=n(4),u=n(6),l=n(50),c=n(162),h=n(30),f=n(163),p=n(67),d=(n(23),n(286)),b=n(49),m=n(57),y=(n(2),n(120)),v=n(170),g=(n(3),{ImpureClass:0,PureClass:1,StatelessFunctional:2});i.prototype.render=function(){var t=p.get(this)._currentElement.type,e=t(this.props,this.context,this.updater);return r(t,e),e};var _=1,x={construct:function(t){this._currentElement=t,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(t,e,n,u){this._context=u,this._mountOrder=_++,this._hostParent=e,this._hostContainerInfo=n;var c,h=this._currentElement.props,f=this._processContext(u),d=this._currentElement.type,b=t.getUpdateQueue(),y=o(d),v=this._constructComponent(y,h,f,b);y||null!=v&&null!=v.render?s(d)?this._compositeType=g.PureClass:this._compositeType=g.ImpureClass:(c=v,r(d,c),null===v||v===!1||l.isValidElement(v)?void 0:a("105",d.displayName||d.name||"Component"),v=new i(d),this._compositeType=g.StatelessFunctional);v.props=h,v.context=f,v.refs=m,v.updater=b,this._instance=v,p.set(v,this);var x=v.state;void 0===x&&(v.state=x=null),"object"!=typeof x||Array.isArray(x)?a("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var w;return w=v.unstable_handleError?this.performInitialMountWithErrorHandling(c,e,n,t,u):this.performInitialMount(c,e,n,t,u),v.componentDidMount&&t.getReactMountReady().enqueue(v.componentDidMount,v),w},_constructComponent:function(t,e,n,i){return this._constructComponentWithoutOwner(t,e,n,i)},_constructComponentWithoutOwner:function(t,e,n,i){var r=this._currentElement.type;return t?new r(e,n,i):r(e,n,i)},performInitialMountWithErrorHandling:function(t,e,n,i,r){var o,s=i.checkpoint();try{o=this.performInitialMount(t,e,n,i,r)}catch(a){i.rollback(s),this._instance.unstable_handleError(a),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=i.checkpoint(),this._renderedComponent.unmountComponent(!0),i.rollback(s),o=this.performInitialMount(t,e,n,i,r)}return o},performInitialMount:function(t,e,n,i,r){var o=this._instance,s=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===t&&(t=this._renderValidatedComponent());var a=d.getType(t);this._renderedNodeType=a;var u=this._instantiateReactComponent(t,a!==d.EMPTY);this._renderedComponent=u;var l=b.mountComponent(u,i,e,n,this._processChildContext(r),s);return l},getHostNode:function(){return b.getHostNode(this._renderedComponent)},unmountComponent:function(t){if(this._renderedComponent){var e=this._instance;if(e.componentWillUnmount&&!e._calledComponentWillUnmount)if(e._calledComponentWillUnmount=!0,t){var n=this.getName()+".componentWillUnmount()";f.invokeGuardedCallback(n,e.componentWillUnmount.bind(e))}else e.componentWillUnmount();this._renderedComponent&&(b.unmountComponent(this._renderedComponent,t),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(e)}},_maskContext:function(t){var e=this._currentElement.type,n=e.contextTypes;if(!n)return m;var i={};for(var r in n)i[r]=t[r];return i},_processContext:function(t){var e=this._maskContext(t);return e},_processChildContext:function(t){var e,n=this._currentElement.type,i=this._instance;if(i.getChildContext&&(e=i.getChildContext()),e){"object"!=typeof n.childContextTypes?a("107",this.getName()||"ReactCompositeComponent"):void 0;for(var r in e)r in n.childContextTypes?void 0:a("108",this.getName()||"ReactCompositeComponent",r);return u({},t,e)}return t},_checkContextTypes:function(t,e,n){},receiveComponent:function(t,e,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(e,i,t,r,n)},performUpdateIfNecessary:function(t){null!=this._pendingElement?b.receiveComponent(this,this._pendingElement,t,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(t,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(t,e,n,i,r){var o=this._instance;null==o?a("136",this.getName()||"ReactCompositeComponent"):void 0;var s,u=!1;this._context===r?s=o.context:(s=this._processContext(r),u=!0);var l=e.props,c=n.props;e!==n&&(u=!0),u&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,s);var h=this._processPendingState(c,s),f=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?f=o.shouldComponentUpdate(c,h,s):this._compositeType===g.PureClass&&(f=!y(l,c)||!y(o.state,h))),this._updateBatchNumber=null,f?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,h,s,t,r)):(this._currentElement=n,this._context=r,o.props=c,o.state=h,o.context=s)},_processPendingState:function(t,e){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=u({},r?i[0]:n.state),s=r?1:0;s<i.length;s++){var a=i[s];u(o,"function"==typeof a?a.call(n,o,t,e):a)}return o},_performComponentUpdate:function(t,e,n,i,r,o){var s,a,u,l=this._instance,c=Boolean(l.componentDidUpdate);
c&&(s=l.props,a=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(e,n,i),this._currentElement=t,this._context=o,l.props=e,l.state=n,l.context=i,this._updateRenderedComponent(r,o),c&&r.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,s,a,u),l)},_updateRenderedComponent:function(t,e){var n=this._renderedComponent,i=n._currentElement,r=this._renderValidatedComponent(),o=0;if(v(i,r))b.receiveComponent(n,r,t,this._processChildContext(e));else{var s=b.getHostNode(n);b.unmountComponent(n,!1);var a=d.getType(r);this._renderedNodeType=a;var u=this._instantiateReactComponent(r,a!==d.EMPTY);this._renderedComponent=u;var l=b.mountComponent(u,t,this._hostParent,this._hostContainerInfo,this._processChildContext(e),o);this._replaceNodeWithMarkup(s,l,n)}},_replaceNodeWithMarkup:function(t,e,n){c.replaceNodeWithMarkup(t,e,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var t,e=this._instance;return t=e.render()},_renderValidatedComponent:function(){var t;if(this._compositeType!==g.StatelessFunctional){h.current=this;try{t=this._renderValidatedComponentWithoutOwnerOrContext()}finally{h.current=null}}else t=this._renderValidatedComponentWithoutOwnerOrContext();return null===t||t===!1||l.isValidElement(t)?void 0:a("109",this.getName()||"ReactCompositeComponent"),t},attachRef:function(t,e){var n=this.getPublicInstance();null==n?a("110"):void 0;var i=e.getPublicInstance(),r=n.refs===m?n.refs={}:n.refs;r[t]=i},detachRef:function(t){var e=this.getPublicInstance().refs;delete e[t]},getName:function(){var t=this._currentElement.type,e=this._instance&&this._instance.constructor;return t.displayName||e&&e.displayName||t.name||e&&e.name||null},getPublicInstance:function(){var t=this._instance;return this._compositeType===g.StatelessFunctional?null:t},_instantiateReactComponent:null};t.exports=x},function(t,e,n){"use strict";var i=n(9),r=n(629),o=n(285),s=n(49),a=n(26),u=n(642),l=n(658),c=n(290),h=n(665);n(3);r.inject();var f={findDOMNode:l,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:a.batchedUpdates,unstable_renderSubtreeIntoContainer:h};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:i.getClosestInstanceFromNode,getNodeFromInstance:function(t){return t._renderedComponent&&(t=c(t)),t?i.getNodeFromInstance(t):null}},Mount:o,Reconciler:s});t.exports=f},function(t,e,n){"use strict";function i(t){if(t){var e=t._currentElement._owner||null;if(e){var n=e.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function r(t,e){e&&(q[t._tag]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?b("137",t._tag,t._currentElement._owner?" Check the render method of "+t._currentElement._owner.getName()+".":""):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?b("60"):void 0,"object"==typeof e.dangerouslySetInnerHTML&&U in e.dangerouslySetInnerHTML?void 0:b("61")),null!=e.style&&"object"!=typeof e.style?b("62",i(t)):void 0)}function o(t,e,n,i){if(!(i instanceof I)){var r=t._hostContainerInfo,o=r._node&&r._node.nodeType===H,a=o?r._node:r._ownerDocument;D(e,a),i.getReactMountReady().enqueue(s,{inst:t,registrationName:e,listener:n})}}function s(){var t=this;S.putListener(t.inst,t.registrationName,t.listener)}function a(){var t=this;O.postMountWrapper(t)}function u(){var t=this;k.postMountWrapper(t)}function l(){var t=this;A.postMountWrapper(t)}function c(){var t=this;t._rootNodeID?void 0:b("63");var e=B(t);switch(e?void 0:b("64"),t._tag){case"iframe":case"object":t._wrapperState.listeners=[T.trapBubbledEvent("topLoad","load",e)];break;case"video":case"audio":t._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&t._wrapperState.listeners.push(T.trapBubbledEvent(n,Y[n],e));break;case"source":t._wrapperState.listeners=[T.trapBubbledEvent("topError","error",e)];break;case"img":t._wrapperState.listeners=[T.trapBubbledEvent("topError","error",e),T.trapBubbledEvent("topLoad","load",e)];break;case"form":t._wrapperState.listeners=[T.trapBubbledEvent("topReset","reset",e),T.trapBubbledEvent("topSubmit","submit",e)];break;case"input":case"select":case"textarea":t._wrapperState.listeners=[T.trapBubbledEvent("topInvalid","invalid",e)]}}function h(){C.postUpdateWrapper(this)}function f(t){J.call(K,t)||(Z.test(t)?void 0:b("65",t),K[t]=!0)}function p(t,e){return t.indexOf("-")>=0||null!=e.is}function d(t){var e=t.type;f(e),this._currentElement=t,this._tag=e.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var b=n(4),m=n(6),y=n(604),v=n(606),g=n(47),_=n(157),x=n(48),w=n(278),S=n(65),E=n(158),T=n(93),P=n(279),M=n(9),O=n(622),A=n(623),C=n(280),k=n(626),R=(n(23),n(635)),I=n(640),N=(n(17),n(96)),L=(n(2),n(169),n(120),n(171),n(3),P),F=S.deleteListener,B=M.getNodeFromInstance,D=T.listenTo,j=E.registrationNameModules,G={string:!0,number:!0},V="style",U="__html",W={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},H=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},q=m({menuitem:!0},z),Z=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,K={},J={}.hasOwnProperty,Q=1;d.displayName="ReactDOMComponent",d.Mixin={mountComponent:function(t,e,n,i){this._rootNodeID=Q++,this._domID=n._idCounter++,this._hostParent=e,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(c,this);break;case"input":O.mountWrapper(this,o,e),o=O.getHostProps(this,o),t.getReactMountReady().enqueue(c,this);break;case"option":A.mountWrapper(this,o,e),o=A.getHostProps(this,o);break;case"select":C.mountWrapper(this,o,e),o=C.getHostProps(this,o),t.getReactMountReady().enqueue(c,this);break;case"textarea":k.mountWrapper(this,o,e),o=k.getHostProps(this,o),t.getReactMountReady().enqueue(c,this)}r(this,o);var s,h;null!=e?(s=e._namespaceURI,h=e._tag):n._tag&&(s=n._namespaceURI,h=n._tag),(null==s||s===_.svg&&"foreignobject"===h)&&(s=_.html),s===_.html&&("svg"===this._tag?s=_.svg:"math"===this._tag&&(s=_.mathml)),this._namespaceURI=s;var f;if(t.useCreateElement){var p,d=n._ownerDocument;if(s===_.html)if("script"===this._tag){var b=d.createElement("div"),m=this._currentElement.type;b.innerHTML="<"+m+"></"+m+">",p=b.removeChild(b.firstChild)}else p=o.is?d.createElement(this._currentElement.type,o.is):d.createElement(this._currentElement.type);else p=d.createElementNS(s,this._currentElement.type);M.precacheNode(this,p),this._flags|=L.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(p),this._updateDOMProperties(null,o,t);var v=g(p);this._createInitialChildren(t,o,i,v),f=v}else{var x=this._createOpenTagMarkupAndPutListeners(t,o),S=this._createContentMarkup(t,o,i);f=!S&&z[this._tag]?x+"/>":x+">"+S+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(a,this),o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"textarea":t.getReactMountReady().enqueue(u,this),o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"select":o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"button":o.autoFocus&&t.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"option":t.getReactMountReady().enqueue(l,this)}return f},_createOpenTagMarkupAndPutListeners:function(t,e){var n="<"+this._currentElement.type;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(null!=r)if(j.hasOwnProperty(i))r&&o(this,i,r,t);else{i===V&&(r&&(r=this._previousStyleCopy=m({},e.style)),r=v.createMarkupForStyles(r,this));var s=null;null!=this._tag&&p(this._tag,e)?W.hasOwnProperty(i)||(s=w.createMarkupForCustomAttribute(i,r)):s=w.createMarkupForProperty(i,r),s&&(n+=" "+s)}}return t.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(t,e,n){var i="",r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(i=r.__html);else{var o=G[typeof e.children]?e.children:null,s=null!=o?null:e.children;if(null!=o)i=N(o);else if(null!=s){var a=this.mountChildren(s,t,n);i=a.join("")}}return X[this._tag]&&"\n"===i.charAt(0)?"\n"+i:i},_createInitialChildren:function(t,e,n,i){var r=e.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&g.queueHTML(i,r.__html);else{var o=G[typeof e.children]?e.children:null,s=null!=o?null:e.children;if(null!=o)""!==o&&g.queueText(i,o);else if(null!=s)for(var a=this.mountChildren(s,t,n),u=0;u<a.length;u++)g.queueChild(i,a[u])}},receiveComponent:function(t,e,n){var i=this._currentElement;this._currentElement=t,this.updateComponent(e,i,t,n)},updateComponent:function(t,e,n,i){var o=e.props,s=this._currentElement.props;switch(this._tag){case"input":o=O.getHostProps(this,o),s=O.getHostProps(this,s);break;case"option":o=A.getHostProps(this,o),s=A.getHostProps(this,s);break;case"select":o=C.getHostProps(this,o),s=C.getHostProps(this,s);break;case"textarea":o=k.getHostProps(this,o),s=k.getHostProps(this,s)}switch(r(this,s),this._updateDOMProperties(o,s,t),this._updateDOMChildren(o,s,t,i),this._tag){case"input":O.updateWrapper(this);break;case"textarea":k.updateWrapper(this);break;case"select":t.getReactMountReady().enqueue(h,this)}},_updateDOMProperties:function(t,e,n){var i,r,s;for(i in t)if(!e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&null!=t[i])if(i===V){var a=this._previousStyleCopy;for(r in a)a.hasOwnProperty(r)&&(s=s||{},s[r]="");this._previousStyleCopy=null}else j.hasOwnProperty(i)?t[i]&&F(this,i):p(this._tag,t)?W.hasOwnProperty(i)||w.deleteValueForAttribute(B(this),i):(x.properties[i]||x.isCustomAttribute(i))&&w.deleteValueForProperty(B(this),i);for(i in e){var u=e[i],l=i===V?this._previousStyleCopy:null!=t?t[i]:void 0;if(e.hasOwnProperty(i)&&u!==l&&(null!=u||null!=l))if(i===V)if(u?u=this._previousStyleCopy=m({},u):this._previousStyleCopy=null,l){for(r in l)!l.hasOwnProperty(r)||u&&u.hasOwnProperty(r)||(s=s||{},s[r]="");for(r in u)u.hasOwnProperty(r)&&l[r]!==u[r]&&(s=s||{},s[r]=u[r])}else s=u;else if(j.hasOwnProperty(i))u?o(this,i,u,n):l&&F(this,i);else if(p(this._tag,e))W.hasOwnProperty(i)||w.setValueForAttribute(B(this),i,u);else if(x.properties[i]||x.isCustomAttribute(i)){var c=B(this);null!=u?w.setValueForProperty(c,i,u):w.deleteValueForProperty(c,i)}}s&&v.setValueForStyles(B(this),s,this)},_updateDOMChildren:function(t,e,n,i){var r=G[typeof t.children]?t.children:null,o=G[typeof e.children]?e.children:null,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=null!=r?null:t.children,l=null!=o?null:e.children,c=null!=r||null!=s,h=null!=o||null!=a;null!=u&&null==l?this.updateChildren(null,n,i):c&&!h&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=a?s!==a&&this.updateMarkup(""+a):null!=l&&this.updateChildren(l,n,i)},getHostNode:function(){return B(this)},unmountComponent:function(t){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var e=this._wrapperState.listeners;if(e)for(var n=0;n<e.length;n++)e[n].remove();break;case"html":case"head":case"body":b("66",this._tag)}this.unmountChildren(t),M.uncacheNode(this),S.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return B(this)}},m(d.prototype,d.Mixin,R.Mixin),t.exports=d},function(t,e,n){"use strict";function i(t,e){var n={_topLevelWrapper:t,_idCounter:1,_ownerDocument:e?e.nodeType===r?e:e.ownerDocument:null,_node:e,_tag:e?e.nodeName.toLowerCase():null,_namespaceURI:e?e.namespaceURI:null};return n}var r=(n(171),9);t.exports=i},function(t,e,n){"use strict";var i=n(6),r=n(47),o=n(9),s=function(t){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};i(s.prototype,{mountComponent:function(t,e,n,i){var s=n._idCounter++;this._domID=s,this._hostParent=e,this._hostContainerInfo=n;var a=" react-empty: "+this._domID+" ";if(t.useCreateElement){var u=n._ownerDocument,l=u.createComment(a);return o.precacheNode(this,l),r(l)}return t.renderToStaticMarkup?"":"<!--"+a+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),t.exports=s},function(t,e){"use strict";var n={useCreateElement:!0,useFiber:!1};t.exports=n},function(t,e,n){"use strict";var i=n(156),r=n(9),o={dangerouslyProcessChildrenUpdates:function(t,e){var n=r.getNodeFromInstance(t);i.processUpdates(n,e)}};t.exports=o},function(t,e,n){"use strict";function i(){this._rootNodeID&&f.updateWrapper(this)}function r(t){var e="checkbox"===t.type||"radio"===t.type;return e?null!=t.checked:null!=t.value}function o(t){var e=this._currentElement.props,n=l.executeOnChange(e,t);h.asap(i,this);var r=e.name;if("radio"===e.type&&null!=r){for(var o=c.getNodeFromInstance(this),a=o;a.parentNode;)a=a.parentNode;for(var u=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),f=0;f<u.length;f++){var p=u[f];if(p!==o&&p.form===o.form){var d=c.getInstanceFromNode(p);d?void 0:s("90"),h.asap(i,d)}}}return n}var s=n(4),a=n(6),u=n(278),l=n(161),c=n(9),h=n(26),f=(n(2),n(3),{getHostProps:function(t,e){var n=l.getValue(e),i=l.getChecked(e),r=a({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=i?i:t._wrapperState.initialChecked,onChange:t._wrapperState.onChange});return r},mountWrapper:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,listeners:null,onChange:o.bind(t),controlled:r(e)}},updateWrapper:function(t){var e=t._currentElement.props,n=e.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(t),"checked",n||!1);var i=c.getNodeFromInstance(t),r=l.getValue(e);if(null!=r)if(0===r&&""===i.value)i.value="0";else if("number"===e.type){var o=parseFloat(i.value,10)||0;r!=o&&(i.value=""+r)}else r!=i.value&&(i.value=""+r);else null==e.value&&null!=e.defaultValue&&i.defaultValue!==""+e.defaultValue&&(i.defaultValue=""+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(i.defaultChecked=!!e.defaultChecked)},postMountWrapper:function(t){var e=t._currentElement.props,n=c.getNodeFromInstance(t);switch(e.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var i=n.name;""!==i&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==i&&(n.name=i)}});t.exports=f},function(t,e,n){"use strict";function i(t){var e="";return o.Children.forEach(t,function(t){null!=t&&("string"==typeof t||"number"==typeof t?e+=t:u||(u=!0))}),e}var r=n(6),o=n(50),s=n(9),a=n(280),u=(n(3),!1),l={mountWrapper:function(t,e,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(r=a.getSelectValueContext(o))}var s=null;if(null!=r){var u;if(u=null!=e.value?e.value+"":i(e.children),s=!1,Array.isArray(r)){for(var l=0;l<r.length;l++)if(""+r[l]===u){s=!0;break}}else s=""+r===u}t._wrapperState={selected:s}},postMountWrapper:function(t){var e=t._currentElement.props;if(null!=e.value){var n=s.getNodeFromInstance(t);n.setAttribute("value",e.value)}},getHostProps:function(t,e){var n=r({selected:void 0,children:void 0},e);null!=t._wrapperState.selected&&(n.selected=t._wrapperState.selected);var o=i(e.children);return o&&(n.children=o),n}};t.exports=l},function(t,e,n){"use strict";function i(t,e,n,i){return t===n&&e===i}function r(t){var e=document.selection,n=e.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(t),r.setEndPoint("EndToStart",n);var o=r.text.length,s=o+i;return{start:o,end:s}}function o(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,o=e.focusNode,s=e.focusOffset,a=e.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(t){return null}var u=i(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),l=u?0:a.toString().length,c=a.cloneRange();c.selectNodeContents(t),c.setEnd(a.startContainer,a.startOffset);var h=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset),f=h?0:c.toString().length,p=f+l,d=document.createRange();d.setStart(n,r),d.setEnd(o,s);var b=d.collapsed;return{start:b?p:f,end:b?f:p}}function s(t,e){var n,i,r=document.selection.createRange().duplicate();void 0===e.end?(n=e.start,i=n):e.start>e.end?(n=e.end,i=e.start):(n=e.start,i=e.end),r.moveToElementText(t),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function a(t,e){if(window.getSelection){var n=window.getSelection(),i=t[c()].length,r=Math.min(e.start,i),o=void 0===e.end?r:Math.min(e.end,i);if(!n.extend&&r>o){var s=o;o=r,r=s}var a=l(t,r),u=l(t,o);if(a&&u){var h=document.createRange();h.setStart(a.node,a.offset),n.removeAllRanges(),r>o?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var u=n(13),l=n(662),c=n(291),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),f={getOffsets:h?r:o,setOffsets:h?s:a};t.exports=f},function(t,e,n){"use strict";var i=n(4),r=n(6),o=n(156),s=n(47),a=n(9),u=n(96),l=(n(2),n(171),function(t){this._currentElement=t,this._stringText=""+t,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(l.prototype,{mountComponent:function(t,e,n,i){var r=n._idCounter++,o=" react-text: "+r+" ",l=" /react-text ";if(this._domID=r,this._hostParent=e,t.useCreateElement){var c=n._ownerDocument,h=c.createComment(o),f=c.createComment(l),p=s(c.createDocumentFragment());return s.queueChild(p,s(h)),this._stringText&&s.queueChild(p,s(c.createTextNode(this._stringText))),s.queueChild(p,s(f)),a.precacheNode(this,h),this._closingComment=f,p}var d=u(this._stringText);return t.renderToStaticMarkup?d:"<!--"+o+"-->"+d+"<!--"+l+"-->"},receiveComponent:function(t,e){if(t!==this._currentElement){this._currentElement=t;var n=""+t;if(n!==this._stringText){this._stringText=n;var i=this.getHostNode();o.replaceDelimitedText(i[0],i[1],n)}}},getHostNode:function(){var t=this._commentNodes;if(t)return t;if(!this._closingComment)for(var e=a.getNodeFromInstance(this),n=e.nextSibling;;){if(null==n?i("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return t=[this._hostNode,this._closingComment],this._commentNodes=t,t},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),t.exports=l},function(t,e,n){"use strict";function i(){this._rootNodeID&&c.updateWrapper(this)}function r(t){var e=this._currentElement.props,n=a.executeOnChange(e,t);return l.asap(i,this),n}var o=n(4),s=n(6),a=n(161),u=n(9),l=n(26),c=(n(2),n(3),{getHostProps:function(t,e){null!=e.dangerouslySetInnerHTML?o("91"):void 0;var n=s({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue,onChange:t._wrapperState.onChange});return n},mountWrapper:function(t,e){var n=a.getValue(e),i=n;if(null==n){var s=e.defaultValue,u=e.children;null!=u&&(null!=s?o("92"):void 0,Array.isArray(u)&&(u.length<=1?void 0:o("93"),u=u[0]),s=""+u),null==s&&(s=""),i=s}t._wrapperState={initialValue:""+i,listeners:null,onChange:r.bind(t)}},updateWrapper:function(t){var e=t._currentElement.props,n=u.getNodeFromInstance(t),i=a.getValue(e);if(null!=i){var r=""+i;r!==n.value&&(n.value=r),null==e.defaultValue&&(n.defaultValue=r)}null!=e.defaultValue&&(n.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=u.getNodeFromInstance(t),n=e.textContent;n===t._wrapperState.initialValue&&(e.value=n)}});t.exports=c},function(t,e,n){"use strict";function i(t,e){"_hostNode"in t?void 0:u("33"),"_hostNode"in e?void 0:u("33");for(var n=0,i=t;i;i=i._hostParent)n++;for(var r=0,o=e;o;o=o._hostParent)r++;for(;n-r>0;)t=t._hostParent,n--;for(;r-n>0;)e=e._hostParent,r--;for(var s=n;s--;){if(t===e)return t;t=t._hostParent,e=e._hostParent}return null}function r(t,e){"_hostNode"in t?void 0:u("35"),"_hostNode"in e?void 0:u("35");for(;e;){if(e===t)return!0;e=e._hostParent}return!1}function o(t){return"_hostNode"in t?void 0:u("36"),t._hostParent}function s(t,e,n){for(var i=[];t;)i.push(t),t=t._hostParent;var r;for(r=i.length;r-- >0;)e(i[r],"captured",n);for(r=0;r<i.length;r++)e(i[r],"bubbled",n)}function a(t,e,n,r,o){for(var s=t&&e?i(t,e):null,a=[];t&&t!==s;)a.push(t),t=t._hostParent;for(var u=[];e&&e!==s;)u.push(e),e=e._hostParent;var l;for(l=0;l<a.length;l++)n(a[l],"bubbled",r);for(l=u.length;l-- >0;)n(u[l],"captured",o)}var u=n(4);n(2);t.exports={isAncestor:r,getLowestCommonAncestor:i,getParentInstance:o,traverseTwoPhase:s,traverseEnterLeave:a}},function(t,e,n){"use strict";function i(){this.reinitializeTransaction()}var r=n(6),o=n(26),s=n(95),a=n(17),u={initialize:a,close:function(){f.isBatchingUpdates=!1}},l={initialize:a,close:o.flushBatchedUpdates.bind(o)},c=[l,u];r(i.prototype,s,{getTransactionWrappers:function(){return c}});var h=new i,f={isBatchingUpdates:!1,batchedUpdates:function(t,e,n,i,r,o){var s=f.isBatchingUpdates;return f.isBatchingUpdates=!0,s?t(e,n,i,r,o):h.perform(t,null,e,n,i,r,o)}};t.exports=f},function(t,e,n){"use strict";function i(){S||(S=!0,v.EventEmitter.injectReactEventListener(y),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(f),v.EventPluginUtils.injectTreeTraversal(d),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:u,ChangeEventPlugin:s,SelectEventPlugin:x,BeforeInputEventPlugin:o}),v.HostComponent.injectGenericComponentClass(h),v.HostComponent.injectTextComponentClass(b),v.DOMProperty.injectDOMPropertyConfig(r),v.DOMProperty.injectDOMPropertyConfig(l),v.DOMProperty.injectDOMPropertyConfig(_),v.EmptyComponent.injectEmptyComponentFactory(function(t){return new p(t)}),v.Updates.injectReconcileTransaction(g),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(c))}var r=n(603),o=n(605),s=n(607),a=n(609),u=n(610),l=n(612),c=n(614),h=n(617),f=n(9),p=n(619),d=n(627),b=n(625),m=n(628),y=n(632),v=n(633),g=n(638),_=n(643),x=n(644),w=n(645),S=!1;t.exports={inject:i}},297,function(t,e,n){"use strict";function i(t){r.enqueueEvents(t),r.processEventQueue(!1)}var r=n(65),o={handleTopLevel:function(t,e,n,o){var s=r.extractEvents(t,e,n,o);i(s)}};t.exports=o},function(t,e,n){"use strict";function i(t){for(;t._hostParent;)t=t._hostParent;var e=h.getNodeFromInstance(t),n=e.parentNode;return h.getClosestInstanceFromNode(n)}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function o(t){var e=p(t.nativeEvent),n=h.getClosestInstanceFromNode(e),r=n;do t.ancestors.push(r),r=r&&i(r);while(r);for(var o=0;o<t.ancestors.length;o++)n=t.ancestors[o],b._handleTopLevel(t.topLevelType,n,t.nativeEvent,p(t.nativeEvent))}function s(t){var e=d(window);t(e)}var a=n(6),u=n(185),l=n(13),c=n(40),h=n(9),f=n(26),p=n(168),d=n(348);a(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var b={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(t){b._handleTopLevel=t},setEnabled:function(t){b._enabled=!!t},isEnabled:function(){return b._enabled},trapBubbledEvent:function(t,e,n){return n?u.listen(n,e,b.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){return n?u.capture(n,e,b.dispatchEvent.bind(null,t)):null},monitorScrollValue:function(t){var e=s.bind(null,t);u.listen(window,"scroll",e)},dispatchEvent:function(t,e){if(b._enabled){var n=r.getPooled(t,e);try{f.batchedUpdates(o,n)}finally{r.release(n)}}}};t.exports=b},function(t,e,n){"use strict";var i=n(48),r=n(65),o=n(159),s=n(162),a=n(281),u=n(93),l=n(283),c=n(26),h={Component:s.injection,DOMProperty:i.injection,EmptyComponent:a.injection,EventPluginHub:r.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};t.exports=h},function(t,e,n){"use strict";var i=n(656),r=/\/?>/,o=/^<\!\-\-/,s={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=i(t);return o.test(t)?t:t.replace(r," "+s.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(t,e){var n=e.getAttribute(s.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=i(t);return r===n}};t.exports=s},function(t,e,n){"use strict";function i(t,e,n){return{type:"INSERT_MARKUP",content:t,fromIndex:null,fromNode:null,toIndex:n,afterNode:e}}function r(t,e,n){return{type:"MOVE_EXISTING",content:null,fromIndex:t._mountIndex,fromNode:f.getHostNode(t),toIndex:n,afterNode:e}}function o(t,e){return{type:"REMOVE_NODE",content:null,fromIndex:t._mountIndex,fromNode:e,toIndex:null,afterNode:null}}function s(t){return{type:"SET_MARKUP",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function a(t){return{type:"TEXT_CONTENT",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(t,e){return e&&(t=t||[],t.push(e)),t}function l(t,e){h.processChildrenUpdates(t,e)}var c=n(4),h=n(162),f=(n(67),n(23),n(30),n(49)),p=n(613),d=(n(17),n(659)),b=(n(2),{Mixin:{_reconcilerInstantiateChildren:function(t,e,n){return p.instantiateChildren(t,e,n)},_reconcilerUpdateChildren:function(t,e,n,i,r,o){var s,a=0;return s=d(e,a),p.updateChildren(t,s,n,i,r,this,this._hostContainerInfo,o,a),s},mountChildren:function(t,e,n){var i=this._reconcilerInstantiateChildren(t,e,n);this._renderedChildren=i;var r=[],o=0;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s],u=0,l=f.mountComponent(a,e,this,this._hostContainerInfo,n,u);a._mountIndex=o++,r.push(l)}return r},updateTextContent:function(t){var e=this._renderedChildren;p.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var i=[a(t)];l(this,i)},updateMarkup:function(t){var e=this._renderedChildren;p.unmountChildren(e,!1);for(var n in e)e.hasOwnProperty(n)&&c("118");var i=[s(t)];l(this,i)},updateChildren:function(t,e,n){this._updateChildren(t,e,n)},_updateChildren:function(t,e,n){var i=this._renderedChildren,r={},o=[],s=this._reconcilerUpdateChildren(i,t,o,r,e,n);if(s||i){var a,c=null,h=0,p=0,d=0,b=null;for(a in s)if(s.hasOwnProperty(a)){var m=i&&i[a],y=s[a];m===y?(c=u(c,this.moveChild(m,b,h,p)),p=Math.max(m._mountIndex,p),m._mountIndex=h):(m&&(p=Math.max(m._mountIndex,p)),c=u(c,this._mountChildAtIndex(y,o[d],b,h,e,n)),d++),h++,b=f.getHostNode(y)}for(a in r)r.hasOwnProperty(a)&&(c=u(c,this._unmountChild(i[a],r[a])));c&&l(this,c),this._renderedChildren=s}},unmountChildren:function(t){var e=this._renderedChildren;p.unmountChildren(e,t),this._renderedChildren=null},moveChild:function(t,e,n,i){if(t._mountIndex<i)return r(t,e,n)},createChild:function(t,e,n){return i(n,e,t._mountIndex)},removeChild:function(t,e){return o(t,e)},_mountChildAtIndex:function(t,e,n,i,r,o){return t._mountIndex=i,this.createChild(t,n,e)},_unmountChild:function(t,e){var n=this.removeChild(t,e);return t._mountIndex=null,n}}});t.exports=b},function(t,e,n){"use strict";function i(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)}var r=n(4),o=(n(2),{addComponentAsRefTo:function(t,e,n){i(n)?void 0:r("119"),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){i(n)?void 0:r("120");var o=n.getPublicInstance();o&&o.refs[e]===t.getPublicInstance()&&n.detachRef(e)}});t.exports=o},function(t,e){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=t}var r=n(6),o=n(277),s=n(40),a=n(93),u=n(284),l=(n(23),n(95)),c=n(164),h={initialize:u.getSelectionInformation,close:u.restoreSelection},f={initialize:function(){var t=a.isEnabled();return a.setEnabled(!1),t},close:function(t){a.setEnabled(t)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[h,f,p],b={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(t){this.reactMountReady.rollback(t)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};r(i.prototype,l,b),s.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";function i(t,e,n){"function"==typeof t?t(e.getPublicInstance()):o.addComponentAsRefTo(e,t,n)}function r(t,e,n){"function"==typeof t?t(null):o.removeComponentAsRefFrom(e,t,n)}var o=n(636),s={};s.attachRefs=function(t,e){if(null!==e&&"object"==typeof e){var n=e.ref;null!=n&&i(n,t,e._owner)}},s.shouldUpdateRefs=function(t,e){var n=null,i=null;null!==t&&"object"==typeof t&&(n=t.ref,i=t._owner);var r=null,o=null;return null!==e&&"object"==typeof e&&(r=e.ref,o=e._owner),n!==r||"string"==typeof r&&o!==i},s.detachRefs=function(t,e){if(null!==e&&"object"==typeof e){var n=e.ref;null!=n&&r(n,t,e._owner)}},t.exports=s},function(t,e,n){"use strict";function i(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.useCreateElement=!1,this.updateQueue=new a(this)}var r=n(6),o=n(40),s=n(95),a=(n(23),n(641)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};r(i.prototype,s,c),o.addPoolingTo(i),t.exports=i},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){}var o=n(164),s=(n(3),function(){function t(e){i(this,t),this.transaction=e}return t.prototype.isMounted=function(t){return!1},t.prototype.enqueueCallback=function(t,e,n){this.transaction.isInTransaction()&&o.enqueueCallback(t,e,n)},t.prototype.enqueueForceUpdate=function(t){this.transaction.isInTransaction()?o.enqueueForceUpdate(t):r(t,"forceUpdate")},t.prototype.enqueueReplaceState=function(t,e){this.transaction.isInTransaction()?o.enqueueReplaceState(t,e):r(t,"replaceState")},t.prototype.enqueueSetState=function(t,e){this.transaction.isInTransaction()?o.enqueueSetState(t,e):r(t,"setState")},t}());t.exports=s},function(t,e){"use strict";t.exports="15.5.3"},function(t,e){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",
capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(t){r.Properties[t]=0,i[t]&&(r.DOMAttributeNames[t]=i[t])}),t.exports=r},function(t,e,n){"use strict";function i(t){if("selectionStart"in t&&u.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t,e){if(v||null==b||b!==c())return null;var n=i(b);if(!y||!f(y,n)){y=n;var r=l.getPooled(d.select,m,t,e);return r.type="select",r.target=b,o.accumulateTwoPhaseDispatches(r),r}return null}var o=n(66),s=n(13),a=n(9),u=n(284),l=n(29),c=n(187),h=n(293),f=n(120),p=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,d={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},b=null,m=null,y=null,v=!1,g=!1,_={eventTypes:d,extractEvents:function(t,e,n,i){if(!g)return null;var o=e?a.getNodeFromInstance(e):window;switch(t){case"topFocus":(h(o)||"true"===o.contentEditable)&&(b=o,m=e,y=null);break;case"topBlur":b=null,m=null,y=null;break;case"topMouseDown":v=!0;break;case"topContextMenu":case"topMouseUp":return v=!1,r(n,i);case"topSelectionChange":if(p)break;case"topKeyDown":case"topKeyUp":return r(n,i)}return null},didPutListener:function(t,e,n){"onSelect"===e&&(g=!0)}};t.exports=_},function(t,e,n){"use strict";function i(t){return"."+t._rootNodeID}function r(t){return"button"===t||"input"===t||"select"===t||"textarea"===t}var o=n(4),s=n(185),a=n(66),u=n(9),l=n(646),c=n(647),h=n(29),f=n(650),p=n(652),d=n(94),b=n(649),m=n(653),y=n(654),v=n(68),g=n(655),_=n(17),x=n(166),w=(n(2),{}),S={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n="on"+e,i="top"+e,r={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[i]};w[t]=r,S[i]=r});var E={},T={eventTypes:w,extractEvents:function(t,e,n,i){var r=S[t];if(!r)return null;var s;switch(t){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":s=h;break;case"topKeyPress":if(0===x(n))return null;case"topKeyDown":case"topKeyUp":s=p;break;case"topBlur":case"topFocus":s=f;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":s=d;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":s=b;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":s=m;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":s=l;break;case"topTransitionEnd":s=y;break;case"topScroll":s=v;break;case"topWheel":s=g;break;case"topCopy":case"topCut":case"topPaste":s=c}s?void 0:o("86",t);var u=s.getPooled(r,e,n,i);return a.accumulateTwoPhaseDispatches(u),u},didPutListener:function(t,e,n){if("onClick"===e&&!r(t._tag)){var o=i(t),a=u.getNodeFromInstance(t);E[o]||(E[o]=s.listen(a,"click",_))}},willDeleteListener:function(t,e){if("onClick"===e&&!r(t._tag)){var n=i(t);E[n].remove(),delete E[n]}}};t.exports=T},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(29),o={animationName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(29),o={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(29),o={data:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(94),o={dataTransfer:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(68),o={relatedTarget:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(29),o={data:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(68),o=n(166),s=n(660),a=n(167),u={key:s,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?o(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?o(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(i,u),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(68),o=n(167),s={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,s),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(29),o={propertyName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(i,o),t.exports=i},function(t,e,n){"use strict";function i(t,e,n,i){return r.call(this,t,e,n,i)}var r=n(94),o={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),t.exports=i},function(t,e){"use strict";function n(t){for(var e=1,n=0,r=0,o=t.length,s=o&-4;r<s;){for(var a=Math.min(r+4096,s);r<a;r+=4)n+=(e+=t.charCodeAt(r))+(e+=t.charCodeAt(r+1))+(e+=t.charCodeAt(r+2))+(e+=t.charCodeAt(r+3));e%=i,n%=i}for(;r<o;r++)n+=e+=t.charCodeAt(r);return e%=i,n%=i,e|n<<16}var i=65521;t.exports=n},function(t,e,n){"use strict";function i(t,e,n){var i=null==e||"boolean"==typeof e||""===e;if(i)return"";var r=isNaN(e);if(r||0===e||o.hasOwnProperty(t)&&o[t])return""+e;if("string"==typeof e){e=e.trim()}return e+"px"}var r=n(276),o=(n(3),r.isUnitlessNumber);t.exports=i},function(t,e,n){"use strict";function i(t){if(null==t)return null;if(1===t.nodeType)return t;var e=s.get(t);return e?(e=a(e),e?o.getNodeFromInstance(e):null):void("function"==typeof t.render?r("44"):r("45",Object.keys(t)))}var r=n(4),o=(n(30),n(9)),s=n(67),a=n(290);n(2),n(3);t.exports=i},function(t,e,n){(function(e){"use strict";function i(t,e,n,i){if(t&&"object"==typeof t){var r=t,o=void 0===r[n];o&&null!=e&&(r[n]=e)}}function r(t,e){if(null==t)return t;var n={};return o(t,i,n),n}var o=(n(160),n(295));n(3);t.exports=r}).call(e,n(25))},function(t,e,n){"use strict";function i(t){if(t.key){var e=o[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?s[t.keyCode]||"Unidentified":""}var r=n(166),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=i},function(t,e){"use strict";function n(t){var e=t&&(i&&t[i]||t[r]);if("function"==typeof e)return e}var i="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=n},function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function r(t,e){for(var r=n(t),o=0,s=0;r;){if(3===r.nodeType){if(s=o+r.textContent.length,o<=e&&s>=e)return{node:r,offset:e-o};o=s}r=n(i(r))}}t.exports=r},function(t,e,n){"use strict";function i(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}function r(t){if(a[t])return a[t];if(!s[t])return t;var e=s[t];for(var n in e)if(e.hasOwnProperty(n)&&n in u)return a[t]=e[n];return""}var o=n(13),s={animationend:i("Animation","AnimationEnd"),animationiteration:i("Animation","AnimationIteration"),animationstart:i("Animation","AnimationStart"),transitionend:i("Transition","TransitionEnd")},a={},u={};o.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete s.animationend.animation,delete s.animationiteration.animation,delete s.animationstart.animation),"TransitionEvent"in window||delete s.transitionend.transition),t.exports=r},function(t,e,n){"use strict";function i(t){return'"'+r(t)+'"'}var r=n(96);t.exports=i},function(t,e,n){"use strict";var i=n(285);t.exports=i.renderSubtreeIntoContainer},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t.default:t},r=i(n(358)),o=n(53),s=n(468),a=n(667);t.exports=o.createClass({displayName:"Markdown2HTML",propTypes:{src:o.PropTypes.string.isRequired},getInitialState:function(){return{md:""}},componentWillMount:function(){r.get(this.props.src,a.bind(function(t){this.setState({md:s(t)})},this))},render:function(){return o.createElement("div",{ref:"md",dangerouslySetInnerHTML:{__html:this.state.md}})}})},function(t,e,n){var i;(function(t,r){(function(){function o(t,e){if(t!==e){var n=null===t,i=t===M,r=t===t,o=null===e,s=e===M,a=e===e;if(t>e&&!o||!r||n&&!s&&a||i&&a)return 1;if(t<e&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function s(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function a(t,e,n){if(e!==e)return v(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function u(t){return"function"==typeof t||!1}function l(t){return null==t?"":t+""}function c(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function h(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function f(t,e){return o(t.criteria,e.criteria)||t.index-e.index}function p(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,a=r.length,u=n.length;++i<a;){var l=o(r[i],s[i]);if(l){if(i>=u)return l;var c=n[i];return l*("asc"===c||c===!0?1:-1)}}return t.index-e.index}function d(t){return zt[t]}function b(t){return Xt[t]}function m(t,e,n){return e?t=Kt[t]:n&&(t=Jt[t]),"\\"+t}function y(t){return"\\"+Jt[t]}function v(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function g(t){return!!t&&"object"==typeof t}function _(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function x(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=z,o[++r]=n);return o}function w(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],u=e?e(a,i,t):a;i&&n===u||(n=u,s[++o]=a)}return s}function S(t){for(var e=-1,n=t.length;++e<n&&_(t.charCodeAt(e)););return e}function E(t){for(var e=t.length;e--&&_(t.charCodeAt(e)););return e}function T(t){return qt[t]}function P(t){function e(t){if(g(t)&&!Aa(t)&&!(t instanceof r)){if(t instanceof i)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return pi(t)}return new i(t)}function n(){}function i(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Os,this.__views__=[]}function _(){var t=new r(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function $(){if(this.__filtered__){var t=new r(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function it(){var t=this.__wrapped__.value(),e=this.__dir__,n=Aa(t),i=e<0,r=n?t.length:0,o=zn(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=Ss(u,this.__takeCount__);if(!n||r<U||r==u&&p==u)return nn(i&&n?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&f<p;){l+=e;for(var b=-1,m=t[l];++b<h;){var y=c[b],v=y.iteratee,g=y.type,_=v(m);if(g==H)m=_;else if(!_){if(g==W)continue t;break t}}d[f++]=m}return d}function ot(){this.__data__={}}function zt(t){return this.has(t)&&delete this.__data__[t]}function Xt(t){return"__proto__"==t?M:this.__data__[t]}function qt(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Zt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Kt(t){var e=t?t.length:0;for(this.data={hash:ys(null),set:new hs};e--;)this.push(t[e])}function Jt(t,e){var n=t.data,i="string"==typeof e||Nr(e)?n.set.has(e):n.hash[e];return i?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Nr(t)?e.set.add(t):e.hash[t]=!0}function $t(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,s=Vo(i+o);++n<i;)s[n]=t[n];for(;++r<o;)s[n++]=e[r];return s}function te(t,e){var n=-1,i=t.length;for(e||(e=Vo(i));++n<i;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function ne(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e,n,i){for(var r=-1,o=t.length,s=i,a=s;++r<o;){var u=t[r],l=+e(u);n(l,s)&&(s=l,a=u)}return a}function ae(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function ue(t,e){for(var n=-1,i=t.length,r=Vo(i);++n<i;)r[n]=e(t[n],n,t);return r}function le(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ce(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function he(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function fe(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function pe(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}function de(t,e){return t===M?e:t}function be(t,e,n,i){return t!==M&&es.call(i,n)?t:e}function me(t,e,n){for(var i=-1,r=Ga(e),o=r.length;++i<o;){var s=r[i],a=t[s],u=n(a,e[s],s,t,e);(u===u?u===a:a!==a)&&(a!==M||s in t)||(t[s]=u)}return t}function ye(t,e){return null==e?t:ge(e,Ga(e),t)}function ve(t,e){for(var n=-1,i=null==t,r=!i&&Jn(t),o=r?t.length:0,s=e.length,a=Vo(s);++n<s;){var u=e[n];r?a[n]=Qn(u,o)?t[u]:M:a[n]=i?M:t[u]}return a}function ge(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function _e(t,e,n){var i=typeof t;return"function"==i?e===M?t:sn(t,e,n):null==t?Oo:"object"==i?je(t):e===M?No(t):Ge(t,e)}function xe(t,e,n,i,r,o,s){var a;if(n&&(a=r?n(t,i,r):n(t)),a!==M)return a;if(!Nr(t))return t;var u=Aa(t);if(u){if(a=Xn(t),!e)return te(t,a)}else{var l=is.call(t),c=l==Q;if(l!=et&&l!=X&&(!c||r))return Yt[l]?Zn(t,l,e):r?t:{};if(a=qn(c?{}:t),!e)return ye(a,t)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(u?ee:ke)(t,function(i,r){a[r]=xe(i,e,n,r,t,o,s)}),a}function we(t,e,n){if("function"!=typeof t)throw new Ko(Y);return fs(function(){t.apply(M,n)},e)}function Se(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,o=Wn(),s=o==a,u=s&&e.length>=U?bn(e):null,l=e.length;u&&(o=Jt,s=!1,e=u);t:for(;++r<n;){var c=t[r];if(s&&c===c){for(var h=l;h--;)if(e[h]===c)continue t;i.push(c)}else o(e,c,0)<0&&i.push(c)}return i}function Ee(t,e){var n=!0;return Fs(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Te(t,e,n,i){var r=i,o=r;return Fs(t,function(t,s,a){var u=+e(t,s,a);(n(u,r)||u===i&&u===o)&&(r=u,o=t)}),o}function Pe(t,e,n,i){var r=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>r?0:r+n),i=i===M||i>r?r:+i||0,i<0&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)t[n++]=e;return t}function Me(t,e){var n=[];return Fs(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Oe(t,e,n,i){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=i?n:t,!1}),r}function Ae(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var s=t[r];g(s)&&Jn(s)&&(n||Aa(s)||Tr(s))?e?Ae(s,e,n,i):le(i,s):n||(i[i.length]=s)}return i}function Ce(t,e){return Ds(t,e,to)}function ke(t,e){return Ds(t,e,Ga)}function Re(t,e){return js(t,e,Ga)}function Ie(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];Ir(t[s])&&(o[++r]=s)}return o}function Ne(t,e,n){if(null!=t){n!==M&&n in hi(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&i<r;)t=t[e[i++]];return i&&i==r?t:M}}function Le(t,e,n,i,r,o){return t===e||(null==t||null==e||!Nr(t)&&!g(e)?t!==t&&e!==e:Fe(t,e,Le,n,i,r,o))}function Fe(t,e,n,i,r,o,s){var a=Aa(t),u=Aa(e),l=q,c=q;a||(l=is.call(t),l==X?l=et:l!=et&&(a=Wr(t))),u||(c=is.call(e),c==X?c=et:c!=et&&(u=Wr(e)));var h=l==et,f=c==et,p=l==c;if(p&&!a&&!h)return jn(t,e,l);if(!r){var d=h&&es.call(t,"__wrapped__"),b=f&&es.call(e,"__wrapped__");if(d||b)return n(d?t.value():t,b?e.value():e,i,r,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==t)return s[m]==e;o.push(t),s.push(e);var y=(a?Dn:Gn)(t,e,n,i,r,o,s);return o.pop(),s.pop(),y}function Be(t,e,n){var i=e.length,r=i,o=!n;if(null==t)return!r;for(t=hi(t);i--;){var s=e[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=e[i];var a=s[0],u=t[a],l=s[1];if(o&&s[2]){if(u===M&&!(a in t))return!1}else{var c=n?n(u,l,a):M;if(!(c===M?Le(l,u,n,!0):c))return!1}}return!0}function De(t,e){var n=-1,i=Jn(t)?Vo(t.length):[];return Fs(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function je(t){var e=Hn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&(t[n]===i&&(i!==M||n in hi(t)))}}return function(t){return Be(t,e)}}function Ge(t,e){var n=Aa(t),i=ti(t)&&ii(e),r=t+"";return t=fi(t),function(o){if(null==o)return!1;var s=r;if(o=hi(o),(n||!i)&&!(s in o)){if(o=1==t.length?o:Ne(o,qe(t,0,-1)),null==o)return!1;s=Pi(t),o=hi(o)}return o[s]===e?e!==M||s in o:Le(e,o[s],M,!0)}}function Ve(t,e,n,i,r){if(!Nr(t))return t;var o=Jn(e)&&(Aa(e)||Wr(e)),s=o?M:Ga(e);return ee(s||e,function(a,u){if(s&&(u=a,a=e[u]),g(a))i||(i=[]),r||(r=[]),Ue(t,e,u,Ve,n,i,r);else{var l=t[u],c=n?n(l,a,u,t,e):M,h=c===M;h&&(c=a),c===M&&(!o||u in t)||!h&&(c===c?c===l:l!==l)||(t[u]=c)}}),t}function Ue(t,e,n,i,r,o,s){for(var a=o.length,u=e[n];a--;)if(o[a]==u)return void(t[n]=s[a]);var l=t[n],c=r?r(l,u,n,t,e):M,h=c===M;h&&(c=u,Jn(u)&&(Aa(u)||Wr(u))?c=Aa(l)?l:Jn(l)?te(l):[]:Gr(u)||Tr(u)?c=Tr(l)?qr(l):Gr(l)?l:{}:h=!1),o.push(u),s.push(c),h?t[n]=i(c,u,r,o,s):(c===c?c!==l:l===l)&&(t[n]=c)}function We(t){return function(e){return null==e?M:e[t]}}function He(t){var e=t+"";return t=fi(t),function(n){return Ne(n,t,e)}}function Ye(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&Qn(i)){var r=i;ps.call(t,i,1)}}return t}function ze(t,e){return t+vs(Ps()*(e-t+1))}function Xe(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function qe(t,e,n){var i=-1,r=t.length;e=null==e?0:+e||0,e<0&&(e=-e>r?0:r+e),n=n===M||n>r?r:+n||0,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Vo(r);++i<r;)o[i]=t[i+e];return o}function Ze(t,e){var n;return Fs(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Ke(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Je(t,e,n){var i=Vn(),r=-1;e=ue(e,function(t){return i(t)});var o=De(t,function(t){var n=ue(e,function(e){return e(t)});return{criteria:n,index:++r,value:t}});return Ke(o,function(t,e){return p(t,e,n)})}function Qe(t,e){var n=0;return Fs(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function $e(t,e){var n=-1,i=Wn(),r=t.length,o=i==a,s=o&&r>=U,u=s?bn():null,l=[];u?(i=Jt,o=!1):(s=!1,u=e?[]:l);t:for(;++n<r;){var c=t[n],h=e?e(c,n,t):c;if(o&&c===c){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),l.push(c)}else i(u,h,0)<0&&((e||s)&&u.push(h),l.push(c))}return l}function tn(t,e){for(var n=-1,i=e.length,r=Vo(i);++n<i;)r[n]=t[e[n]];return r}function en(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?qe(t,i?0:o,i?o+1:r):qe(t,i?o+1:0,i?r:o)}function nn(t,e){var n=t;n instanceof r&&(n=n.value());for(var i=-1,o=e.length;++i<o;){var s=e[i];n=s.func.apply(s.thisArg,le([n],s.args))}return n}function rn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=ks){for(;i<r;){var o=i+r>>>1,s=t[o];(n?s<=e:s<e)&&null!==s?i=o+1:r=o}return r}return on(t,e,Oo,n)}function on(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=null===e,u=e===M;r<o;){var l=vs((r+o)/2),c=n(t[l]),h=c!==M,f=c===c;if(s)var p=f||i;else p=a?f&&h&&(i||null!=c):u?f&&(i||h):null!=c&&(i?c<=e:c<e);p?r=l+1:o=l}return Ss(o,Cs)}function sn(t,e,n){if("function"!=typeof t)return Oo;if(e===M)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new ss(t.byteLength),n=new ds(e);return n.set(new ds(t)),e}function un(t,e,n){for(var i=n.length,r=-1,o=ws(t.length-i,0),s=-1,a=e.length,u=Vo(a+o);++s<a;)u[s]=e[s];for(;++r<i;)u[n[r]]=t[r];for(;o--;)u[s++]=t[r++];return u}function ln(t,e,n){for(var i=-1,r=n.length,o=-1,s=ws(t.length-r,0),a=-1,u=e.length,l=Vo(s+u);++o<s;)l[o]=t[o];for(var c=o;++a<u;)l[c+a]=e[a];for(;++i<r;)l[c+n[i]]=t[o++];return l}function cn(t,e){return function(n,i,r){var o=e?e():{};if(i=Vn(i,r,3),Aa(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(o,u,i(u,s,n),n)}else Fs(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function hn(t){return yr(function(e,n){var i=-1,r=null==e?0:n.length,o=r>2?n[r-2]:M,s=r>2?n[2]:M,a=r>1?n[r-1]:M;for("function"==typeof o?(o=sn(o,a,5),r-=2):(o="function"==typeof a?a:M,r-=o?1:0),s&&$n(n[0],n[1],s)&&(o=r<3?M:o,r=1);++i<r;){var u=n[i];u&&t(e,u,o)}return e})}function fn(t,e){return function(n,i){var r=n?Us(n):0;if(!ni(r))return t(n,i);for(var o=e?r:-1,s=hi(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function pn(t){return function(e,n,i){for(var r=hi(e),o=i(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(n(r[u],u,r)===!1)break}return e}}function dn(t,e){function n(){var r=this&&this!==ie&&this instanceof n?i:t;return r.apply(e,arguments)}var i=yn(t);return n}function bn(t){return ys&&hs?new Kt(t):null}function mn(t){return function(e){for(var n=-1,i=To(co(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function yn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ls(t.prototype),i=t.apply(n,e);return Nr(i)?i:n}}function vn(t){function e(n,i,r){r&&$n(n,i,r)&&(i=M);var o=Bn(n,t,M,M,M,M,M,i);return o.placeholder=e.placeholder,o}return e}function gn(t,e){return yr(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(M,n))})}function _n(t,e){return function(n,i,r){if(r&&$n(n,i,r)&&(i=M),i=Vn(i,r,3),1==i.length){n=Aa(n)?n:ci(n);var o=se(n,i,t,e);if(!n.length||o!==e)return o}return Te(n,i,t,e)}}function xn(t,e){return function(n,i,r){if(i=Vn(i,r,3),Aa(n)){var o=s(n,i,e);return o>-1?n[o]:M}return Oe(n,i,t)}}function wn(t){return function(e,n,i){return e&&e.length?(n=Vn(n,i,3),s(e,n,t)):-1}}function Sn(t){return function(e,n,i){return n=Vn(n,i,3),Oe(e,n,t,!0)}}function En(t){return function(){for(var e,n=arguments.length,r=t?n:-1,o=0,s=Vo(n);t?r--:++r<n;){var a=s[o++]=arguments[r];if("function"!=typeof a)throw new Ko(Y);!e&&i.prototype.thru&&"wrapper"==Un(a)&&(e=new i([],!0))}for(r=e?-1:n;++r<n;){a=s[r];var u=Un(a),l="wrapper"==u?Vs(a):M;e=l&&ei(l[0])&&l[1]==(F|R|N|B)&&!l[4].length&&1==l[9]?e[Un(l[0])].apply(e,l[3]):1==a.length&&ei(a)?e[u]():e.thru(a)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&Aa(i)&&i.length>=U)return e.plant(i).value();for(var r=0,o=n?s[r].apply(this,t):i;++r<n;)o=s[r].call(this,o);return o}}}function Tn(t,e){return function(n,i,r){return"function"==typeof i&&r===M&&Aa(n)?t(n,i):e(n,sn(i,r,3))}}function Pn(t){return function(e,n,i){return"function"==typeof n&&i===M||(n=sn(n,i,3)),t(e,n,to)}}function Mn(t){return function(e,n,i){return"function"==typeof n&&i===M||(n=sn(n,i,3)),t(e,n)}}function On(t){return function(e,n,i){var r={};return n=Vn(n,i,3),ke(e,function(e,i,o){var s=n(e,i,o);i=t?s:i,e=t?e:s,r[i]=e}),r}}function An(t){return function(e,n,i){return e=l(e),(t?e:"")+In(e,n,i)+(t?"":e)}}function Cn(t){var e=yr(function(n,i){var r=x(i,e.placeholder);return Bn(n,t,M,i,r)});return e}function kn(t,e){return function(n,i,r,o){var s=arguments.length<3;return"function"==typeof i&&o===M&&Aa(n)?t(n,i,r,s):Xe(n,Vn(i,o,4),r,s,e)}}function Rn(t,e,n,i,r,o,s,a,u,l){function c(){for(var v=arguments.length,g=v,_=Vo(v);g--;)_[g]=arguments[g];if(i&&(_=un(_,i,r)),o&&(_=ln(_,o,s)),d||m){var w=c.placeholder,S=x(_,w);if(v-=S.length,v<l){var E=a?te(a):M,T=ws(l-v,0),P=d?S:M,O=d?M:S,k=d?_:M,R=d?M:_;e|=d?N:L,e&=~(d?L:N),b||(e&=~(A|C));var I=[t,e,n,k,P,R,O,E,u,T],F=Rn.apply(M,I);return ei(t)&&Ws(F,I),F.placeholder=w,F}}var B=f?n:this,D=p?B[t]:t;return a&&(_=ui(_,a)),h&&u<_.length&&(_.length=u),this&&this!==ie&&this instanceof c&&(D=y||yn(t)),D.apply(B,_)}var h=e&F,f=e&A,p=e&C,d=e&R,b=e&k,m=e&I,y=p?M:yn(t);return c}function In(t,e,n){var i=t.length;if(e=+e,i>=e||!_s(e))return"";var r=e-i;return n=null==n?" ":n+"",yo(n,ms(r/n.length)).slice(0,r)}function Nn(t,e,n,i){function r(){for(var e=-1,a=arguments.length,u=-1,l=i.length,c=Vo(l+a);++u<l;)c[u]=i[u];for(;a--;)c[u++]=arguments[++e];var h=this&&this!==ie&&this instanceof r?s:t;return h.apply(o?n:this,c)}var o=e&A,s=yn(t);return r}function Ln(t){var e=Yo[t];return function(t,n){return n=n===M?0:+n||0,n?(n=ls(10,n),e(t*n)/n):e(t)}}function Fn(t){return function(e,n,i,r){var o=Vn(i);return null==i&&o===_e?rn(e,n,t):on(e,n,o(i,r,1),t)}}function Bn(t,e,n,i,r,o,s,a){
var u=e&C;if(!u&&"function"!=typeof t)throw new Ko(Y);var l=i?i.length:0;if(l||(e&=~(N|L),i=r=M),l-=r?r.length:0,e&L){var c=i,h=r;i=r=M}var f=u?M:Vs(t),p=[t,e,n,i,r,c,h,o,s,a];if(f&&(ri(p,f),e=p[1],a=p[9]),p[9]=null==a?u?0:t.length:ws(a-l,0)||0,e==A)var d=dn(p[0],p[2]);else d=e!=N&&e!=(A|N)||p[4].length?Rn.apply(M,p):Nn.apply(M,p);var b=f?Gs:Ws;return b(d,p)}function Dn(t,e,n,i,r,o,s){var a=-1,u=t.length,l=e.length;if(u!=l&&!(r&&l>u))return!1;for(;++a<u;){var c=t[a],h=e[a],f=i?i(r?h:c,r?c:h,a):M;if(f!==M){if(f)continue;return!1}if(r){if(!fe(e,function(t){return c===t||n(c,t,i,r,o,s)}))return!1}else if(c!==h&&!n(c,h,i,r,o,s))return!1}return!0}function jn(t,e,n){switch(n){case Z:case K:return+t==+e;case J:return t.name==e.name&&t.message==e.message;case tt:return t!=+t?e!=+e:t==+e;case nt:case rt:return t==e+""}return!1}function Gn(t,e,n,i,r,o,s){var a=Ga(t),u=a.length,l=Ga(e),c=l.length;if(u!=c&&!r)return!1;for(var h=u;h--;){var f=a[h];if(!(r?f in e:es.call(e,f)))return!1}for(var p=r;++h<u;){f=a[h];var d=t[f],b=e[f],m=i?i(r?b:d,r?d:b,f):M;if(!(m===M?n(d,b,i,r,o,s):m))return!1;p||(p="constructor"==f)}if(!p){var y=t.constructor,v=e.constructor;if(y!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v))return!1}return!0}function Vn(t,n,i){var r=e.callback||Po;return r=r===Po?_e:r,i?r(t,n,i):r}function Un(t){for(var e=t.name,n=Ns[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Wn(t,n,i){var r=e.indexOf||Ei;return r=r===Ei?a:r,t?r(t,n,i):r}function Hn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=ii(e[n][1]);return e}function Yn(t,e){var n=null==t?M:t[e];return Br(n)?n:M}function zn(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ss(e,t+s);break;case"takeRight":t=ws(t,e-s)}}return{start:t,end:e}}function Xn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&es.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function qn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Xo),new e}function Zn(t,e,n){var i=t.constructor;switch(e){case st:return an(t);case Z:case K:return new i(+t);case at:case ut:case lt:case ct:case ht:case ft:case pt:case dt:case bt:var r=t.buffer;return new i(n?an(r):r,t.byteOffset,t.length);case tt:case rt:return new i(t);case nt:var o=new i(t.source,Nt.exec(t));o.lastIndex=t.lastIndex}return o}function Kn(t,e,n){null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:Ne(t,qe(e,0,-1)),e=Pi(e));var i=null==t?t:t[e];return null==i?M:i.apply(t,n)}function Jn(t){return null!=t&&ni(Us(t))}function Qn(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?Rs:e,t>-1&&t%1==0&&t<e}function $n(t,e,n){if(!Nr(n))return!1;var i=typeof e;if("number"==i?Jn(n)&&Qn(e,n.length):"string"==i&&e in n){var r=n[e];return t===t?t===r:r!==r}return!1}function ti(t,e){var n=typeof t;if("string"==n&&Mt.test(t)||"number"==n)return!0;if(Aa(t))return!1;var i=!Pt.test(t);return i||null!=e&&t in hi(e)}function ei(t){var n=Un(t);if(!(n in r.prototype))return!1;var i=e[n];if(t===i)return!0;var o=Vs(i);return!!o&&t===o[0]}function ni(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rs}function ii(t){return t===t&&!Nr(t)}function ri(t,e){var n=t[1],i=e[1],r=n|i,o=r<F,s=i==F&&n==R||i==F&&n==B&&t[7].length<=e[8]||i==(F|B)&&n==R;if(!o&&!s)return t;i&A&&(t[2]=e[2],r|=n&A?0:k);var a=e[3];if(a){var u=t[3];t[3]=u?un(u,a,e[4]):te(a),t[4]=u?x(t[3],z):te(e[4])}return a=e[5],a&&(u=t[5],t[5]=u?ln(u,a,e[6]):te(a),t[6]=u?x(t[5],z):te(e[6])),a=e[7],a&&(t[7]=te(a)),i&F&&(t[8]=null==t[8]?e[8]:Ss(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function oi(t,e){return t===M?e:Ca(t,e,oi)}function si(t,e){t=hi(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function ai(t,e){var n={};return Ce(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function ui(t,e){for(var n=t.length,i=Ss(e.length,n),r=te(t);i--;){var o=e[i];t[i]=Qn(o,n)?r[o]:M}return t}function li(t){for(var e=to(t),n=e.length,i=n&&t.length,r=!!i&&ni(i)&&(Aa(t)||Tr(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&Qn(a,i)||es.call(t,a))&&s.push(a)}return s}function ci(t){return null==t?[]:Jn(t)?Nr(t)?t:Xo(t):oo(t)}function hi(t){return Nr(t)?t:Xo(t)}function fi(t){if(Aa(t))return t;var e=[];return l(t).replace(Ot,function(t,n,i,r){e.push(i?r.replace(Rt,"$1"):n||t)}),e}function pi(t){return t instanceof r?t.clone():new i(t.__wrapped__,t.__chain__,te(t.__actions__))}function di(t,e,n){e=(n?$n(t,e,n):null==e)?1:ws(vs(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,s=Vo(ms(r/e));i<r;)s[++o]=qe(t,i,i+=e);return s}function bi(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function mi(t,e,n){var i=t?t.length:0;return i?((n?$n(t,e,n):null==e)&&(e=1),qe(t,e<0?0:e)):[]}function yi(t,e,n){var i=t?t.length:0;return i?((n?$n(t,e,n):null==e)&&(e=1),e=i-(+e||0),qe(t,0,e<0?0:e)):[]}function vi(t,e,n){return t&&t.length?en(t,Vn(e,n,3),!0,!0):[]}function gi(t,e,n){return t&&t.length?en(t,Vn(e,n,3),!0):[]}function _i(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&$n(t,e,n)&&(n=0,i=r),Pe(t,e,n,i)):[]}function xi(t){return t?t[0]:M}function wi(t,e,n){var i=t?t.length:0;return n&&$n(t,e,n)&&(e=!1),i?Ae(t,e):[]}function Si(t){var e=t?t.length:0;return e?Ae(t,!0):[]}function Ei(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?ws(i+n,0):n;else if(n){var r=rn(t,e);return r<i&&(e===e?e===t[r]:t[r]!==t[r])?r:-1}return a(t,e,n||0)}function Ti(t){return yi(t,1)}function Pi(t){var e=t?t.length:0;return e?t[e-1]:M}function Mi(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?ws(i+n,0):Ss(n||0,i-1))+1;else if(n){r=rn(t,e,!0)-1;var o=t[r];return(e===e?e===o:o!==o)?r:-1}if(e!==e)return v(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Oi(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=Wn(),r=t.length;++n<r;)for(var o=0,s=t[n];(o=i(e,s,o))>-1;)ps.call(e,o,1);return e}function Ai(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],s=t.length;for(e=Vn(e,n,3);++r<s;){var a=t[r];e(a,r,t)&&(i.push(a),o.push(r))}return Ye(t,o),i}function Ci(t){return mi(t,1)}function ki(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&$n(t,e,n)&&(e=0,n=i),qe(t,e,n)):[]}function Ri(t,e,n){var i=t?t.length:0;return i?((n?$n(t,e,n):null==e)&&(e=1),qe(t,0,e<0?0:e)):[]}function Ii(t,e,n){var i=t?t.length:0;return i?((n?$n(t,e,n):null==e)&&(e=1),e=i-(+e||0),qe(t,e<0?0:e)):[]}function Ni(t,e,n){return t&&t.length?en(t,Vn(e,n,3),!1,!0):[]}function Li(t,e,n){return t&&t.length?en(t,Vn(e,n,3)):[]}function Fi(t,e,n,i){var r=t?t.length:0;if(!r)return[];null!=e&&"boolean"!=typeof e&&(i=n,n=$n(t,e,i)?M:e,e=!1);var o=Vn();return null==n&&o===_e||(n=o(n,i,3)),e&&Wn()==a?w(t,n):$e(t,n)}function Bi(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){if(Jn(t))return n=ws(t.length,n),!0});for(var i=Vo(n);++e<n;)i[e]=ue(t,We(e));return i}function Di(t,e,n){var i=t?t.length:0;if(!i)return[];var r=Bi(t);return null==e?r:(e=sn(e,n,4),ue(r,function(t){return ce(t,e,M,!0)}))}function ji(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Jn(n))var i=i?le(Se(i,n),Se(n,i)):n}return i?$e(i):[]}function Gi(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Aa(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}function Vi(t){var n=e(t);return n.__chain__=!0,n}function Ui(t,e,n){return e.call(n,t),t}function Wi(t,e,n){return e.call(n,t)}function Hi(){return Vi(this)}function Yi(){return new i(this.value(),this.__chain__)}function zi(t){for(var e,i=this;i instanceof n;){var r=pi(i);e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e}function Xi(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof r){var n=t;return this.__actions__.length&&(n=new r(this)),n=n.reverse(),n.__actions__.push({func:Wi,args:[e],thisArg:M}),new i(n,this.__chain__)}return this.thru(e)}function qi(){return this.value()+""}function Zi(){return nn(this.__wrapped__,this.__actions__)}function Ki(t,e,n){var i=Aa(t)?oe:Ee;return n&&$n(t,e,n)&&(e=M),"function"==typeof e&&n===M||(e=Vn(e,n,3)),i(t,e)}function Ji(t,e,n){var i=Aa(t)?ae:Me;return e=Vn(e,n,3),i(t,e)}function Qi(t,e){return ra(t,je(e))}function $i(t,e,n,i){var r=t?Us(t):0;return ni(r)||(t=oo(t),r=t.length),n="number"!=typeof n||i&&$n(e,n,i)?0:n<0?ws(r+n,0):n||0,"string"==typeof t||!Aa(t)&&Ur(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Wn(t,e,n)>-1}function tr(t,e,n){var i=Aa(t)?ue:De;return e=Vn(e,n,3),i(t,e)}function er(t,e){return tr(t,No(e))}function nr(t,e,n){var i=Aa(t)?ae:Me;return e=Vn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})}function ir(t,e,n){if(n?$n(t,e,n):null==e){t=ci(t);var i=t.length;return i>0?t[ze(0,i-1)]:M}var r=-1,o=Xr(t),i=o.length,s=i-1;for(e=Ss(e<0?0:+e||0,i);++r<e;){var a=ze(r,s),u=o[a];o[a]=o[r],o[r]=u}return o.length=e,o}function rr(t){return ir(t,Os)}function or(t){var e=t?Us(t):0;return ni(e)?e:Ga(t).length}function sr(t,e,n){var i=Aa(t)?fe:Ze;return n&&$n(t,e,n)&&(e=M),"function"==typeof e&&n===M||(e=Vn(e,n,3)),i(t,e)}function ar(t,e,n){if(null==t)return[];n&&$n(t,e,n)&&(e=M);var i=-1;e=Vn(e,n,3);var r=De(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}});return Ke(r,f)}function ur(t,e,n,i){return null==t?[]:(i&&$n(e,n,i)&&(n=M),Aa(e)||(e=null==e?[]:[e]),Aa(n)||(n=null==n?[]:[n]),Je(t,e,n))}function lr(t,e){return Ji(t,je(e))}function cr(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Ko(Y);var n=t;t=e,e=n}return t=_s(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function hr(t,e,n){return n&&$n(t,e,n)&&(e=M),e=t&&null==e?t.length:ws(+e||0,0),Bn(t,F,M,M,M,M,e)}function fr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Ko(Y);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=M),n}}function pr(t,e,n){function i(){p&&as(p),l&&as(l),b=0,l=p=d=M}function r(e,n){n&&as(n),l=p=d=M,e&&(b=ba(),c=t.apply(f,u),p||l||(u=f=M))}function o(){var t=e-(ba()-h);t<=0||t>e?r(d,l):p=fs(o,t)}function s(){r(y,p)}function a(){if(u=arguments,h=ba(),f=this,d=y&&(p||!v),m===!1)var n=v&&!p;else{l||v||(b=h);var i=m-(h-b),r=i<=0||i>m;r?(l&&(l=as(l)),b=h,c=t.apply(f,u)):l||(l=fs(s,i))}return r&&p?p=as(p):p||e===m||(p=fs(o,e)),n&&(r=!0,c=t.apply(f,u)),!r||p||l||(u=f=M),c}var u,l,c,h,f,p,d,b=0,m=!1,y=!0;if("function"!=typeof t)throw new Ko(Y);if(e=e<0?0:+e||0,n===!0){var v=!0;y=!1}else Nr(n)&&(v=!!n.leading,m="maxWait"in n&&ws(+n.maxWait||0,e),y="trailing"in n?!!n.trailing:y);return a.cancel=i,a}function dr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Ko(Y);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new dr.Cache,n}function br(t){if("function"!=typeof t)throw new Ko(Y);return function(){return!t.apply(this,arguments)}}function mr(t){return fr(2,t)}function yr(t,e){if("function"!=typeof t)throw new Ko(Y);return e=ws(e===M?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=ws(n.length-e,0),o=Vo(r);++i<r;)o[i]=n[e+i];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=Vo(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=o,t.apply(this,s)}}function vr(t){if("function"!=typeof t)throw new Ko(Y);return function(e){return t.apply(this,e)}}function gr(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ko(Y);return n===!1?i=!1:Nr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),pr(t,e,{leading:i,maxWait:+e,trailing:r})}function _r(t,e){return e=null==e?Oo:e,Bn(e,N,M,[t],[])}function xr(t,e,n,i){return e&&"boolean"!=typeof e&&$n(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?xe(t,e,sn(n,i,1)):xe(t,e)}function wr(t,e,n){return"function"==typeof e?xe(t,!0,sn(e,n,1)):xe(t,!0)}function Sr(t,e){return t>e}function Er(t,e){return t>=e}function Tr(t){return g(t)&&Jn(t)&&es.call(t,"callee")&&!cs.call(t,"callee")}function Pr(t){return t===!0||t===!1||g(t)&&is.call(t)==Z}function Mr(t){return g(t)&&is.call(t)==K}function Or(t){return!!t&&1===t.nodeType&&g(t)&&!Gr(t)}function Ar(t){return null==t||(Jn(t)&&(Aa(t)||Ur(t)||Tr(t)||g(t)&&Ir(t.splice))?!t.length:!Ga(t).length)}function Cr(t,e,n,i){n="function"==typeof n?sn(n,i,3):M;var r=n?n(t,e):M;return r===M?Le(t,e,n):!!r}function kr(t){return g(t)&&"string"==typeof t.message&&is.call(t)==J}function Rr(t){return"number"==typeof t&&_s(t)}function Ir(t){return Nr(t)&&is.call(t)==Q}function Nr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Lr(t,e,n,i){return n="function"==typeof n?sn(n,i,3):M,Be(t,Hn(e),n)}function Fr(t){return jr(t)&&t!=+t}function Br(t){return null!=t&&(Ir(t)?os.test(ts.call(t)):g(t)&&Ft.test(t))}function Dr(t){return null===t}function jr(t){return"number"==typeof t||g(t)&&is.call(t)==tt}function Gr(t){var e;if(!g(t)||is.call(t)!=et||Tr(t)||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Ce(t,function(t,e){n=e}),n===M||es.call(t,n)}function Vr(t){return Nr(t)&&is.call(t)==nt}function Ur(t){return"string"==typeof t||g(t)&&is.call(t)==rt}function Wr(t){return g(t)&&ni(t.length)&&!!Ht[is.call(t)]}function Hr(t){return t===M}function Yr(t,e){return t<e}function zr(t,e){return t<=e}function Xr(t){var e=t?Us(t):0;return ni(e)?e?te(t):[]:oo(t)}function qr(t){return ge(t,to(t))}function Zr(t,e,n){var i=Ls(t);return n&&$n(t,e,n)&&(e=M),e?ye(i,e):i}function Kr(t){return Ie(t,to(t))}function Jr(t,e,n){var i=null==t?M:Ne(t,fi(e),e+"");return i===M?n:i}function Qr(t,e){if(null==t)return!1;var n=es.call(t,e);if(!n&&!ti(e)){if(e=fi(e),t=1==e.length?t:Ne(t,qe(e,0,-1)),null==t)return!1;e=Pi(e),n=es.call(t,e)}return n||ni(t.length)&&Qn(e,t.length)&&(Aa(t)||Tr(t))}function $r(t,e,n){n&&$n(t,e,n)&&(e=M);for(var i=-1,r=Ga(t),o=r.length,s={};++i<o;){var a=r[i],u=t[a];e?es.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function to(t){if(null==t)return[];Nr(t)||(t=Xo(t));var e=t.length;e=e&&ni(e)&&(Aa(t)||Tr(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=Vo(e),s=e>0;++i<e;)o[i]=i+"";for(var a in t)s&&Qn(a,e)||"constructor"==a&&(r||!es.call(t,a))||o.push(a);return o}function eo(t){t=hi(t);for(var e=-1,n=Ga(t),i=n.length,r=Vo(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}function no(t,e,n){var i=null==t?M:t[e];return i===M&&(null==t||ti(e,t)||(e=fi(e),t=1==e.length?t:Ne(t,qe(e,0,-1)),i=null==t?M:t[Pi(e)]),i=i===M?n:i),Ir(i)?i.call(t):i}function io(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||ti(e,t)?[i]:fi(e);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var u=e[r];Nr(a)&&(r==s?a[u]=n:null==a[u]&&(a[u]=Qn(e[r+1])?[]:{})),a=a[u]}return t}function ro(t,e,n,i){var r=Aa(t)||Wr(t);if(e=Vn(e,i,4),null==n)if(r||Nr(t)){var o=t.constructor;n=r?Aa(t)?new o:[]:Ls(Ir(o)?o.prototype:M)}else n={};return(r?ee:ke)(t,function(t,i,r){return e(n,t,i,r)}),n}function oo(t){return tn(t,Ga(t))}function so(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===M?(n=e,e=0):n=+n||0,t>=Ss(e,n)&&t<ws(e,n)}function uo(t,e,n){n&&$n(t,e,n)&&(e=n=M);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Ps();return Ss(t+o*(e-t+us("1e-"+((o+"").length-1))),e)}return ze(t,e)}function lo(t){return t=l(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function co(t){return t=l(t),t&&t.replace(Dt,d).replace(kt,"")}function ho(t,e,n){t=l(t),e+="";var i=t.length;return n=n===M?i:Ss(n<0?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function fo(t){return t=l(t),t&&wt.test(t)?t.replace(_t,b):t}function po(t){return t=l(t),t&&Ct.test(t)?t.replace(At,m):t||"(?:)"}function bo(t,e,n){t=l(t),e=+e;var i=t.length;if(i>=e||!_s(e))return t;var r=(e-i)/2,o=vs(r),s=ms(r);return n=In("",s,n),n.slice(0,o)+t+n}function mo(t,e,n){return(n?$n(t,e,n):null==e)?e=0:e&&(e=+e),t=_o(t),Ts(t,e||(Lt.test(t)?16:10))}function yo(t,e){var n="";if(t=l(t),e=+e,e<1||!t||!_s(e))return n;do e%2&&(n+=t),e=vs(e/2),t+=t;while(e);return n}function vo(t,e,n){return t=l(t),n=null==n?0:Ss(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function go(t,n,i){var r=e.templateSettings;i&&$n(t,n,i)&&(n=i=M),t=l(t),n=me(ye({},i||n),r,be);var o,s,a=me(ye({},n.imports),r.imports,be),u=Ga(a),c=tn(a,u),h=0,f=n.interpolate||jt,p="__p += '",d=qo((n.escape||jt).source+"|"+f.source+"|"+(f===Tt?It:jt).source+"|"+(n.evaluate||jt).source+"|$","g"),b="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Wt+"]")+"\n";t.replace(d,function(e,n,i,r,a,u){return i||(i=r),p+=t.slice(h,u).replace(Gt,y),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),p+="';\n";var m=n.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(mt,""):p).replace(yt,"$1").replace(vt,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Ja(function(){return Ho(u,b+"return "+p).apply(M,c)});if(v.source=p,kr(v))throw v;return v}function _o(t,e,n){var i=t;return(t=l(t))?(n?$n(i,e,n):null==e)?t.slice(S(t),E(t)+1):(e+="",t.slice(c(t,e),h(t,e)+1)):t}function xo(t,e,n){var i=t;return t=l(t),t?(n?$n(i,e,n):null==e)?t.slice(S(t)):t.slice(c(t,e+"")):t}function wo(t,e,n){var i=t;return t=l(t),t?(n?$n(i,e,n):null==e)?t.slice(0,E(t)+1):t.slice(0,h(t,e+"")+1):t}function So(t,e,n){n&&$n(t,e,n)&&(e=M);var i=D,r=j;if(null!=e)if(Nr(e)){var o="separator"in e?e.separator:o;i="length"in e?+e.length||0:i,r="omission"in e?l(e.omission):r}else i=+e||0;if(t=l(t),i>=t.length)return t;var s=i-r.length;if(s<1)return r;var a=t.slice(0,s);if(null==o)return a+r;if(Vr(o)){if(t.slice(s).search(o)){var u,c,h=t.slice(0,s);for(o.global||(o=qo(o.source,(Nt.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)c=u.index;a=a.slice(0,null==c?s:c)}}else if(t.indexOf(o,s)!=s){var f=a.lastIndexOf(o);f>-1&&(a=a.slice(0,f))}return a+r}function Eo(t){return t=l(t),t&&xt.test(t)?t.replace(gt,T):t}function To(t,e,n){return n&&$n(t,e,n)&&(e=M),t=l(t),t.match(e||Vt)||[]}function Po(t,e,n){return n&&$n(t,e,n)&&(e=M),g(t)?Ao(t):_e(t,e)}function Mo(t){return function(){return t}}function Oo(t){return t}function Ao(t){return je(xe(t,!0))}function Co(t,e){return Ge(t,xe(e,!0))}function ko(t,e,n){if(null==n){var i=Nr(e),r=i?Ga(e):M,o=r&&r.length?Ie(e,r):M;(o?o.length:i)||(o=!1,n=e,e=t,t=this)}o||(o=Ie(e,Ga(e)));var s=!0,a=-1,u=Ir(t),l=o.length;n===!1?s=!1:Nr(n)&&"chain"in n&&(s=n.chain);for(;++a<l;){var c=o[a],h=e[c];t[c]=h,u&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__),r=i.__actions__=te(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,le([this.value()],arguments))}}(h))}return t}function Ro(){return ie._=rs,this}function Io(){}function No(t){return ti(t)?We(t):He(t)}function Lo(t){return function(e){return Ne(t,fi(e),e+"")}}function Fo(t,e,n){n&&$n(t,e,n)&&(e=n=M),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=ws(ms((e-t)/(n||1)),0),o=Vo(r);++i<r;)o[i]=t,t+=n;return o}function Bo(t,e,n){if(t=vs(t),t<1||!_s(t))return[];var i=-1,r=Vo(Ss(t,As));for(e=sn(e,n,1);++i<t;)i<As?r[i]=e(i):e(i);return r}function Do(t){var e=++ns;return l(t)+e}function jo(t,e){return(+t||0)+(+e||0)}function Go(t,e,n){return n&&$n(t,e,n)&&(e=M),e=Vn(e,n,3),1==e.length?pe(Aa(t)?t:ci(t),e):Qe(t,e)}t=t?re.defaults(ie.Object(),t,re.pick(ie,Ut)):ie;var Vo=t.Array,Uo=t.Date,Wo=t.Error,Ho=t.Function,Yo=t.Math,zo=t.Number,Xo=t.Object,qo=t.RegExp,Zo=t.String,Ko=t.TypeError,Jo=Vo.prototype,Qo=Xo.prototype,$o=Zo.prototype,ts=Ho.prototype.toString,es=Qo.hasOwnProperty,ns=0,is=Qo.toString,rs=ie._,os=qo("^"+ts.call(es).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=t.ArrayBuffer,as=t.clearTimeout,us=t.parseFloat,ls=Yo.pow,cs=Qo.propertyIsEnumerable,hs=Yn(t,"Set"),fs=t.setTimeout,ps=Jo.splice,ds=t.Uint8Array,bs=Yn(t,"WeakMap"),ms=Yo.ceil,ys=Yn(Xo,"create"),vs=Yo.floor,gs=Yn(Vo,"isArray"),_s=t.isFinite,xs=Yn(Xo,"keys"),ws=Yo.max,Ss=Yo.min,Es=Yn(Uo,"now"),Ts=t.parseInt,Ps=Yo.random,Ms=zo.NEGATIVE_INFINITY,Os=zo.POSITIVE_INFINITY,As=4294967295,Cs=As-1,ks=As>>>1,Rs=9007199254740991,Is=bs&&new bs,Ns={};e.support={};e.templateSettings={escape:St,evaluate:Et,interpolate:Tt,variable:"",imports:{_:e}};var Ls=function(){function t(){}return function(e){if(Nr(e)){t.prototype=e;var n=new t;t.prototype=M}return n||{}}}(),Fs=fn(ke),Bs=fn(Re,!0),Ds=pn(),js=pn(!0),Gs=Is?function(t,e){return Is.set(t,e),t}:Oo,Vs=Is?function(t){return Is.get(t)}:Io,Us=We("length"),Ws=function(){var t=0,e=0;return function(n,i){var r=ba(),o=V-(r-e);if(e=r,o>0){if(++t>=G)return n}else t=0;return Gs(n,i)}}(),Hs=yr(function(t,e){return g(t)&&Jn(t)?Se(t,Ae(e,!1,!0)):[]}),Ys=wn(),zs=wn(!0),Xs=yr(function(t){for(var e=t.length,n=e,i=Vo(h),r=Wn(),o=r==a,s=[];n--;){var u=t[n]=Jn(u=t[n])?u:[];i[n]=o&&u.length>=120?bn(n&&u):null}var l=t[0],c=-1,h=l?l.length:0,f=i[0];t:for(;++c<h;)if(u=l[c],(f?Jt(f,u):r(s,u,0))<0){for(var n=e;--n;){var p=i[n];if((p?Jt(p,u):r(t[n],u,0))<0)continue t}f&&f.push(u),s.push(u)}return s}),qs=yr(function(t,e){e=Ae(e);var n=ve(t,e);return Ye(t,e.sort(o)),n}),Zs=Fn(),Ks=Fn(!0),Js=yr(function(t){return $e(Ae(t,!1,!0))}),Qs=yr(function(t,e){return Jn(t)?Se(t,e):[]}),$s=yr(Bi),ta=yr(function(t){var e=t.length,n=e>2?t[e-2]:M,i=e>1?t[e-1]:M;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):M,i=M),t.length=e,Di(t,n,i)}),ea=yr(function(t){return t=Ae(t),this.thru(function(e){return $t(Aa(e)?e:[hi(e)],t)})}),na=yr(function(t,e){return ve(t,Ae(e))}),ia=cn(function(t,e,n){es.call(t,n)?++t[n]:t[n]=1}),ra=xn(Fs),oa=xn(Bs,!0),sa=Tn(ee,Fs),aa=Tn(ne,Bs),ua=cn(function(t,e,n){es.call(t,n)?t[n].push(e):t[n]=[e]}),la=cn(function(t,e,n){t[n]=e}),ca=yr(function(t,e,n){var i=-1,r="function"==typeof e,o=ti(e),s=Jn(t)?Vo(t.length):[];return Fs(t,function(t){var a=r?e:o&&null!=t?t[e]:M;s[++i]=a?a.apply(t,n):Kn(t,e,n)}),s}),ha=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fa=kn(ce,Fs),pa=kn(he,Bs),da=yr(function(t,e){if(null==t)return[];var n=e[2];return n&&$n(e[0],e[1],n)&&(e.length=1),Je(t,Ae(e),[])}),ba=Es||function(){return(new Uo).getTime()},ma=yr(function(t,e,n){var i=A;if(n.length){var r=x(n,ma.placeholder);i|=N}return Bn(t,i,e,n,r)}),ya=yr(function(t,e){e=e.length?Ae(e):Kr(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=Bn(t[r],A,t)}return t}),va=yr(function(t,e,n){var i=A|C;if(n.length){var r=x(n,va.placeholder);i|=N}return Bn(e,i,t,n,r)}),ga=vn(R),_a=vn(I),xa=yr(function(t,e){return we(t,1,e)}),wa=yr(function(t,e,n){return we(t,e,n)}),Sa=En(),Ea=En(!0),Ta=yr(function(t,e){if(e=Ae(e),"function"!=typeof t||!oe(e,u))throw new Ko(Y);var n=e.length;return yr(function(i){for(var r=Ss(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),Pa=Cn(N),Ma=Cn(L),Oa=yr(function(t,e){return Bn(t,B,M,M,M,Ae(e))}),Aa=gs||function(t){return g(t)&&ni(t.length)&&is.call(t)==q},Ca=hn(Ve),ka=hn(function(t,e,n){return n?me(t,e,n):ye(t,e)}),Ra=gn(ka,de),Ia=gn(Ca,oi),Na=Sn(ke),La=Sn(Re),Fa=Pn(Ds),Ba=Pn(js),Da=Mn(ke),ja=Mn(Re),Ga=xs?function(t){var e=null==t?M:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Jn(t)?li(t):Nr(t)?xs(t):[]}:li,Va=On(!0),Ua=On(),Wa=yr(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ue(Ae(e),Zo);return si(t,Se(to(t),e))}var n=sn(e[0],e[1],3);return ai(t,function(t,e,i){return!n(t,e,i)})}),Ha=yr(function(t,e){return null==t?{}:"function"==typeof e[0]?ai(t,sn(e[0],e[1],3)):si(t,Ae(e))}),Ya=mn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),za=mn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Xa=An(),qa=An(!0),Za=mn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ka=mn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ja=yr(function(t,e){try{return t.apply(M,e)}catch(t){return kr(t)?t:new Wo(t)}}),Qa=yr(function(t,e){return function(n){return Kn(n,t,e)}}),$a=yr(function(t,e){return function(n){return Kn(t,n,e)}}),tu=Ln("ceil"),eu=Ln("floor"),nu=_n(Sr,Ms),iu=_n(Yr,Os),ru=Ln("round");return e.prototype=n.prototype,i.prototype=Ls(n.prototype),i.prototype.constructor=i,r.prototype=Ls(n.prototype),r.prototype.constructor=r,ot.prototype.delete=zt,ot.prototype.get=Xt,ot.prototype.has=qt,ot.prototype.set=Zt,Kt.prototype.push=Qt,dr.Cache=ot,e.after=cr,e.ary=hr,e.assign=ka,e.at=na,e.before=fr,e.bind=ma,e.bindAll=ya,e.bindKey=va,e.callback=Po,e.chain=Vi,e.chunk=di,e.compact=bi,e.constant=Mo,e.countBy=ia,e.create=Zr,e.curry=ga,e.curryRight=_a,e.debounce=pr,e.defaults=Ra,e.defaultsDeep=Ia,e.defer=xa,e.delay=wa,e.difference=Hs,e.drop=mi,e.dropRight=yi,e.dropRightWhile=vi,e.dropWhile=gi,e.fill=_i,e.filter=Ji,e.flatten=wi,e.flattenDeep=Si,e.flow=Sa,e.flowRight=Ea,e.forEach=sa,e.forEachRight=aa,e.forIn=Fa,e.forInRight=Ba,e.forOwn=Da,e.forOwnRight=ja,e.functions=Kr,e.groupBy=ua,e.indexBy=la,e.initial=Ti,e.intersection=Xs,e.invert=$r,e.invoke=ca,e.keys=Ga,e.keysIn=to,e.map=tr,e.mapKeys=Va,e.mapValues=Ua,e.matches=Ao,e.matchesProperty=Co,e.memoize=dr,e.merge=Ca,e.method=Qa,e.methodOf=$a,e.mixin=ko,e.modArgs=Ta,e.negate=br,e.omit=Wa,e.once=mr,e.pairs=eo,e.partial=Pa,e.partialRight=Ma,e.partition=ha,e.pick=Ha,e.pluck=er,e.property=No,e.propertyOf=Lo,e.pull=Oi,e.pullAt=qs,e.range=Fo,e.rearg=Oa,e.reject=nr,e.remove=Ai,e.rest=Ci,e.restParam=yr,e.set=io,e.shuffle=rr,e.slice=ki,e.sortBy=ar,e.sortByAll=da,e.sortByOrder=ur,e.spread=vr,e.take=Ri,e.takeRight=Ii,e.takeRightWhile=Ni,e.takeWhile=Li,e.tap=Ui,e.throttle=gr,e.thru=Wi,e.times=Bo,e.toArray=Xr,e.toPlainObject=qr,e.transform=ro,e.union=Js,e.uniq=Fi,e.unzip=Bi,e.unzipWith=Di,e.values=oo,e.valuesIn=so,e.where=lr,e.without=Qs,e.wrap=_r,e.xor=ji,e.zip=$s,e.zipObject=Gi,e.zipWith=ta,e.backflow=Ea,e.collect=tr,e.compose=Ea,e.each=sa,e.eachRight=aa,e.extend=ka,e.iteratee=Po,e.methods=Kr,e.object=Gi,e.select=Ji,e.tail=Ci,e.unique=Fi,ko(e,e),e.add=jo,e.attempt=Ja,e.camelCase=Ya,e.capitalize=lo,e.ceil=tu,e.clone=xr,e.cloneDeep=wr,e.deburr=co,e.endsWith=ho,e.escape=fo,e.escapeRegExp=po,e.every=Ki,e.find=ra,e.findIndex=Ys,e.findKey=Na,e.findLast=oa,e.findLastIndex=zs,e.findLastKey=La,e.findWhere=Qi,e.first=xi,e.floor=eu,e.get=Jr,e.gt=Sr,e.gte=Er,e.has=Qr,e.identity=Oo,e.includes=$i,e.indexOf=Ei,e.inRange=ao,e.isArguments=Tr,e.isArray=Aa,e.isBoolean=Pr,e.isDate=Mr,e.isElement=Or,e.isEmpty=Ar,e.isEqual=Cr,e.isError=kr,e.isFinite=Rr,e.isFunction=Ir,e.isMatch=Lr,e.isNaN=Fr,e.isNative=Br,e.isNull=Dr,e.isNumber=jr,e.isObject=Nr,e.isPlainObject=Gr,e.isRegExp=Vr,e.isString=Ur,e.isTypedArray=Wr,e.isUndefined=Hr,e.kebabCase=za,e.last=Pi,e.lastIndexOf=Mi,e.lt=Yr,e.lte=zr,e.max=nu,e.min=iu,e.noConflict=Ro,e.noop=Io,e.now=ba,e.pad=bo,e.padLeft=Xa,e.padRight=qa,e.parseInt=mo,e.random=uo,e.reduce=fa,e.reduceRight=pa,e.repeat=yo,e.result=no,e.round=ru,e.runInContext=P,e.size=or,e.snakeCase=Za,e.some=sr,e.sortedIndex=Zs,e.sortedLastIndex=Ks,e.startCase=Ka,e.startsWith=vo,e.sum=Go,e.template=go,e.trim=_o,e.trimLeft=xo,e.trimRight=wo,e.trunc=So,e.unescape=Eo,e.uniqueId=Do,e.words=To,e.all=Ki,e.any=sr,e.contains=$i,e.eq=Cr,e.detect=ra,e.foldl=fa,e.foldr=pa,e.head=xi,e.include=$i,e.inject=fa,ko(e,function(){var t={};return ke(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.sample=ir,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ir(e,t)}):ir(this.value())},e.VERSION=O,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){r.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new r(this);n=null==n?1:ws(vs(n)||0,0);var o=this.clone();return i?o.__takeCount__=Ss(o.__takeCount__,n):o.__views__.push({size:n,type:t+(o.__dir__<0?"Right":"")}),o},r.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=H;r.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Vn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");r.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");r.prototype[t]=function(){return this.__filtered__?new r(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?je:No;r.prototype[t]=function(t){return this[n](i(t))}}),r.prototype.compact=function(){return this.filter(Oo)},r.prototype.reject=function(t,e){return t=Vn(t,e,1),this.filter(function(e){return!t(e)})},r.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new r(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==M&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},r.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},r.prototype.toArray=function(){return this.take(Os)},ke(r.prototype,function(t,n){var o=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n),a=e[s?"take"+("last"==n?"Right":""):n];a&&(e.prototype[n]=function(){var e=s?[1]:arguments,n=this.__chain__,u=this.__wrapped__,l=!!this.__actions__.length,c=u instanceof r,h=e[0],f=c||Aa(u);f&&o&&"function"==typeof h&&1!=h.length&&(c=f=!1);var p=function(t){return s&&n?a(t,1)[0]:a.apply(M,le([t],e))},d={func:Wi,args:[p],thisArg:M},b=c&&!l;if(s&&!n)return b?(u=u.clone(),u.__actions__.push(d),t.call(u)):a.call(M,this.value())[0];if(!s&&f){u=b?u:new r(this);var m=t.apply(u,e);return m.__actions__.push(d),new i(m,n)}return this.thru(p)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?$o:Jo)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),ke(r.prototype,function(t,n){var i=e[n];if(i){var r=i.name,o=Ns[r]||(Ns[r]=[]);o.push({name:n,func:i})}}),Ns[Rn(M,C).name]=[{name:"wrapper",func:M}],r.prototype.clone=_,r.prototype.reverse=$,r.prototype.value=it,e.prototype.chain=Hi,e.prototype.commit=Yi,e.prototype.concat=ea,e.prototype.plant=zi,e.prototype.reverse=Xi,e.prototype.toString=qi,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Zi,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var M,O="3.10.1",A=1,C=2,k=4,R=8,I=16,N=32,L=64,F=128,B=256,D=30,j="...",G=150,V=16,U=200,W=1,H=2,Y="Expected a function",z="__lodash_placeholder__",X="[object Arguments]",q="[object Array]",Z="[object Boolean]",K="[object Date]",J="[object Error]",Q="[object Function]",$="[object Map]",tt="[object Number]",et="[object Object]",nt="[object RegExp]",it="[object Set]",rt="[object String]",ot="[object WeakMap]",st="[object ArrayBuffer]",at="[object Float32Array]",ut="[object Float64Array]",lt="[object Int8Array]",ct="[object Int16Array]",ht="[object Int32Array]",ft="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",bt="[object Uint32Array]",mt=/\b__p \+= '';/g,yt=/\b(__p \+=) '' \+/g,vt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39|#96);/g,_t=/[&<>"'`]/g,xt=RegExp(gt.source),wt=RegExp(_t.source),St=/<%-([\s\S]+?)%>/g,Et=/<%([\s\S]+?)%>/g,Tt=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Mt=/^\w*$/,Ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,At=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(At.source),kt=/[\u0300-\u036f\ufe20-\ufe23]/g,Rt=/\\(\\)?/g,It=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,Lt=/^0[xX]/,Ft=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,Dt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,jt=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Vt=function(){
var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Ut=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Wt=-1,Ht={};Ht[at]=Ht[ut]=Ht[lt]=Ht[ct]=Ht[ht]=Ht[ft]=Ht[pt]=Ht[dt]=Ht[bt]=!0,Ht[X]=Ht[q]=Ht[st]=Ht[Z]=Ht[K]=Ht[J]=Ht[Q]=Ht[$]=Ht[tt]=Ht[et]=Ht[nt]=Ht[it]=Ht[rt]=Ht[ot]=!1;var Yt={};Yt[X]=Yt[q]=Yt[st]=Yt[Z]=Yt[K]=Yt[at]=Yt[ut]=Yt[lt]=Yt[ct]=Yt[ht]=Yt[tt]=Yt[et]=Yt[nt]=Yt[rt]=Yt[ft]=Yt[pt]=Yt[dt]=Yt[bt]=!0,Yt[J]=Yt[Q]=Yt[$]=Yt[it]=Yt[ot]=!1;var zt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},qt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Zt={function:!0,object:!0},Kt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Jt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qt=Zt[typeof e]&&e&&!e.nodeType&&e,$t=Zt[typeof t]&&t&&!t.nodeType&&t,te=Qt&&$t&&"object"==typeof r&&r&&r.Object&&r,ee=Zt[typeof self]&&self&&self.Object&&self,ne=Zt[typeof window]&&window&&window.Object&&window,ie=($t&&$t.exports===Qt&&Qt,te||ne!==(this&&this.window)&&ne||ee||this),re=P();ie._=re,i=function(){return re}.call(e,n,e,t),!(i!==M&&(t.exports=i))}).call(this)}).call(e,n(180)(t),function(){return this}())},function(t,e,n){"use strict";"undefined"==typeof Promise&&(n(597).enable(),window.Promise=n(596)),n(729),Object.assign=n(6)},160,[736,52],function(t,e,n){"use strict";function i(t){return(""+t).replace(_,"$&/")}function r(t,e){this.func=t,this.context=e,this.count=0}function o(t,e,n){var i=t.func,r=t.context;i.call(r,e,t.count++)}function s(t,e,n){if(null==t)return t;var i=r.getPooled(e,n);y(t,o,i),r.release(i)}function a(t,e,n,i){this.result=t,this.keyPrefix=e,this.func=n,this.context=i,this.count=0}function u(t,e,n){var r=t.result,o=t.keyPrefix,s=t.func,a=t.context,u=s.call(a,e,t.count++);Array.isArray(u)?l(u,r,n,m.thatReturnsArgument):null!=u&&(b.isValidElement(u)&&(u=b.cloneAndReplaceKey(u,o+(!u.key||e&&e.key===u.key?"":i(u.key)+"/")+n)),r.push(u))}function l(t,e,n,r,o){var s="";null!=n&&(s=i(n)+"/");var l=a.getPooled(e,s,r,o);y(t,u,l),a.release(l)}function c(t,e,n){if(null==t)return t;var i=[];return l(t,i,null,e,n),i}function h(t,e,n){return null}function f(t,e){return y(t,h,null)}function p(t){var e=[];return l(t,e,null,m.thatReturnsArgument),e}var d=n(670),b=n(51),m=n(17),y=n(681),v=d.twoArgumentPooler,g=d.fourArgumentPooler,_=/\/+/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(r,v),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(a,g);var x={forEach:s,map:c,mapIntoWithKeyPrefixInternal:l,count:f,toArray:p};t.exports=x},function(t,e,n){"use strict";function i(t){return t}function r(t,e){var n=_.hasOwnProperty(e)?_[e]:null;w.hasOwnProperty(e)&&("OVERRIDE_BASE"!==n?f("73",e):void 0),t&&("DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n?f("74",e):void 0)}function o(t,e){if(e){"function"==typeof e?f("75"):void 0,b.isValidElement(e)?f("76"):void 0;var n=t.prototype,i=n.__reactAutoBindPairs;e.hasOwnProperty(v)&&x.mixins(t,e.mixins);for(var o in e)if(e.hasOwnProperty(o)&&o!==v){var s=e[o],a=n.hasOwnProperty(o);if(r(a,o),x.hasOwnProperty(o))x[o](t,s);else{var c=_.hasOwnProperty(o),h="function"==typeof s,p=h&&!c&&!a&&e.autobind!==!1;if(p)i.push(o,s),n[o]=s;else if(a){var d=_[o];!c||"DEFINE_MANY_MERGED"!==d&&"DEFINE_MANY"!==d?f("77",d,o):void 0,"DEFINE_MANY_MERGED"===d?n[o]=u(n[o],s):"DEFINE_MANY"===d&&(n[o]=l(n[o],s))}else n[o]=s}}}else;}function s(t,e){if(e)for(var n in e){var i=e[n];if(e.hasOwnProperty(n)){var r=n in x;r?f("78",n):void 0;var o=n in t;o?f("79",n):void 0,t[n]=i}}}function a(t,e){t&&e&&"object"==typeof t&&"object"==typeof e?void 0:f("80");for(var n in e)e.hasOwnProperty(n)&&(void 0!==t[n]?f("81",n):void 0,t[n]=e[n]);return t}function u(t,e){return function(){var n=t.apply(this,arguments),i=e.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return a(r,n),a(r,i),r}}function l(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function c(t,e){var n=e.bind(t);return n}function h(t){for(var e=t.__reactAutoBindPairs,n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];t[i]=c(t,r)}}var f=n(52),p=n(6),d=n(172),b=n(51),m=(n(674),n(173)),y=n(57),v=(n(2),n(3),"mixins"),g=[],_={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},x={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)o(t,e[n])},childContextTypes:function(t,e){t.childContextTypes=p({},t.childContextTypes,e)},contextTypes:function(t,e){t.contextTypes=p({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps?t.getDefaultProps=u(t.getDefaultProps,e):t.getDefaultProps=e},propTypes:function(t,e){t.propTypes=p({},t.propTypes,e)},statics:function(t,e){s(t,e)},autobind:function(){}},w={replaceState:function(t,e){this.updater.enqueueReplaceState(this,t),e&&this.updater.enqueueCallback(this,e,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},S=function(){};p(S.prototype,d.prototype,w);var E={createClass:function(t){var e=i(function(t,n,i){this.__reactAutoBindPairs.length&&h(this),this.props=t,this.context=n,this.refs=y,this.updater=i||m,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?f("82",e.displayName||"ReactCompositeComponent"):void 0,this.state=r});e.prototype=new S,e.prototype.constructor=e,e.prototype.__reactAutoBindPairs=[],g.forEach(o.bind(null,e)),o(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),e.prototype.render?void 0:f("83");for(var n in _)e.prototype[n]||(e.prototype[n]=null);return e},injection:{injectMixin:function(t){g.push(t)}}};t.exports=E},function(t,e,n){"use strict";var i=n(51),r=i.createFactory,o={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};t.exports=o},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";var i=n(51),r=i.isValidElement,o=n(274);t.exports=o(r)},function(t,e,n){"use strict";function i(t,e,n){this.props=t,this.context=e,this.refs=u,this.updater=n||a}function r(){}var o=n(6),s=n(172),a=n(173),u=n(57);r.prototype=s.prototype,i.prototype=new r,i.prototype.constructor=i,o(i.prototype,s.prototype),i.prototype.isPureReactComponent=!0,t.exports=i},642,661,function(t,e){"use strict";function n(){return i++}var i=1;t.exports=n},function(t,e,n){"use strict";function i(t){return o.isValidElement(t)?void 0:r("143"),t}var r=n(52),o=n(51);n(2);t.exports=i},function(t,e,n){"use strict";function i(t,e){return t&&"object"==typeof t&&null!=t.key?l.escape(t.key):e.toString(36)}function r(t,e,n,o){var f=typeof t;if("undefined"!==f&&"boolean"!==f||(t=null),null===t||"string"===f||"number"===f||"object"===f&&t.$$typeof===a)return n(o,t,""===e?c+i(t,0):e),1;var p,d,b=0,m=""===e?c:e+h;if(Array.isArray(t))for(var y=0;y<t.length;y++)p=t[y],d=m+i(p,y),b+=r(p,d,n,o);else{var v=u(t);if(v){var g,_=v.call(t);if(v!==t.entries)for(var x=0;!(g=_.next()).done;)p=g.value,d=m+i(p,x++),b+=r(p,d,n,o);else for(;!(g=_.next()).done;){var w=g.value;w&&(p=w[1],d=m+l.escape(w[0])+h+i(p,0),b+=r(p,d,n,o))}}else if("object"===f){var S="",E=String(t);s("31","[object Object]"===E?"object with keys {"+Object.keys(t).join(", ")+"}":E,S)}}return b}function o(t,e,n){return null==t?0:r(t,"",e,n)}var s=n(52),a=(n(30),n(297)),u=n(678),l=(n(2),n(669)),c=(n(3),"."),h=":";t.exports=o},function(t,e,n){t.exports=n(41)},function(t,e,n){"use strict";function i(t){return this instanceof i?void r.call(this,t):new i(t)}t.exports=i;var r=n(300),o=n(55);o.inherits=n(42),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";function i(){this.head=null,this.tail=null,this.length=0}var r=(n(21).Buffer,n(75));t.exports=i,i.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},i.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},i.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},i.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e=r.allocUnsafe(t>>>0),n=this.head,i=0;n;)n.data.copy(e,i),i+=n.data.length,n=n.next;return e}},function(t,e,n){t.exports=n(175).PassThrough},function(t,e,n){t.exports=n(175).Transform},function(t,e,n){t.exports=n(174)},function(t,e,n){"use strict";function i(t,e){a.call(this),e=e||u,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._buffer=[],this._numToLoad=0,this._queue=o.queue(this._boundLoadResource,e),this.resources={}}var r=n(251),o=n(304),s=n(176),a=n(303),u=10,l=100;i.prototype=Object.create(a.prototype),i.prototype.constructor=i,t.exports=i,i.prototype.add=i.prototype.enqueue=function(t,e,n,i){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return e=this._prepareUrl(e),this.resources[t]=new s(t,e,n),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(l-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=l/this._buffer.length),this},i.prototype.before=i.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},i.prototype.after=i.prototype.use=function(t){return this._afterMiddleware.push(t),this},i.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1;for(var t in this.resources){var e=this.resources[t];e.off("complete",this._onLoad,this),e.isLoading&&e.abort()}return this.resources={},this},i.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this),this.loading=!0;for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},i.prototype._prepareUrl=function(t){var e=r(t,{strictMode:!0});return e.protocol||!e.path||0===e.path.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t},i.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,o.eachSeries(this._beforeMiddleware,function(e,i){e.call(n,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t.once("complete",n._onLoad,n),t.load())})},i.prototype._onComplete=function(){this.loading=!1,this.emit("complete",this,this.resources)},i.prototype._onLoad=function(t){var e=this;o.eachSeries(this._afterMiddleware,function(n,i){n.call(e,t,i)},function(){t.emit("afterMiddleware",t),e._numToLoad--,e.progress+=e._progressChunk,e.emit("progress",e,t),t.error?e.emit("error",t.error,e,t):e.emit("load",e,t),0===e._numToLoad&&(e.progress=100,e._onComplete())}),t._dequeue()},i.LOAD_TYPE=s.LOAD_TYPE,i.XHR_RESPONSE_TYPE=s.XHR_RESPONSE_TYPE},function(t,e){"use strict";t.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,n="",i=new Array(4),r=0,o=0,s=0;r<t.length;){for(e=new Array(3),o=0;o<e.length;o++)r<t.length?e[o]=255&t.charCodeAt(r++):e[o]=0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],s=r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;o++)n+=this._keyStr.charAt(i[o])}return n}}},function(t,e){"use strict";var n={};t.exports=function(){return function(t,e){n[t.url]?(t.data=n[t.url],t.complete()):t.once("complete",function(){n[this.url]=this.data}),e()}}},function(t,e,n){"use strict";var i=n(176),r=n(689),o=window.URL||window.webkitURL;t.exports=function(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=o.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.isImage=!0,void(t.data.onload=function(){o.revokeObjectURL(n),t.data.onload=null,e()})}}else{var s=t.xhr.getResponseHeader("content-type");if(s&&0===s.indexOf("image"))return t.data=new Image,t.data.src="data:"+s+";base64,"+r.encodeBinary(t.xhr.responseText),t.isImage=!0,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}},function(t,e,n){(function(t){!function(e){function i(t,n){if(!(this instanceof i))return new i(t,n);var r=this;o(r),r.q=r.c="",r.bufferCheckPosition=e.MAX_BUFFER_LENGTH,r.opt=n||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!t,r.noscript=!(!t&&!r.opt.noscript),r.state=Y.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(G)),r.trackPosition=r.opt.position!==!1,r.trackPosition&&(r.position=r.line=r.column=0),d(r,"onready")}function r(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,r=0,o=C.length;r<o;r++){var s=t[C[r]].length;if(s>n)switch(C[r]){case"textNode":m(t);break;case"cdata":b(t,"oncdata",t.cdata),t.cdata="";break;case"script":b(t,"onscript",t.script),t.script="";break;default:v(t,"Max buffer length exceeded: "+C[r])}i=Math.max(i,s)}var a=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=a+t.position}function o(t){for(var e=0,n=C.length;e<n;e++)t[C[e]]=""}function s(t){m(t),""!==t.cdata&&(b(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(b(t,"onscript",t.script),t.script="")}function a(t,e){return new u(t,e)}function u(t,e){if(!(this instanceof u))return new u(t,e);k.apply(this),this._parser=new i(t,e),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(t){n.emit("error",t),n._parser.error=null},this._decoder=null,R.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){return e?void n.on(t,e):(n.removeAllListeners(t),n._parser["on"+t]=e,e)},enumerable:!0,configurable:!1})})}function l(t){return t.split("").reduce(function(t,e){return t[e]=!0,t},{})}function c(t,e){return t.test(e)}function h(t,e){return t[e]}function f(t,e){return!c(t,e)}function p(t,e){return!h(t,e)}function d(t,e,n){t[e]&&t[e](n)}function b(t,e,n){t.textNode&&m(t),d(t,e,n)}function m(t){t.textNode=y(t.opt,t.textNode),t.textNode&&d(t,"ontext",t.textNode),t.textNode=""}function y(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function v(t,e){return m(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,d(t,"onerror",e),t}function g(t){return t.sawRoot&&!t.closedRoot&&_(t,"Unclosed root tag"),t.state!==Y.BEGIN&&t.state!==Y.BEGIN_WHITESPACE&&t.state!==Y.TEXT&&v(t,"Unexpected end"),m(t),t.c="",t.closed=!0,d(t,"onend"),i.call(t,t.strict,t.opt),t}function _(t,e){if("object"!=typeof t||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&v(t,e)}function x(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,b(t,"onopentagstart",n)}function w(t,e){var n=t.indexOf(":"),i=n<0?["",t]:t.split(":"),r=i[0],o=i[1];return e&&"xmlns"===t&&(r="xmlns",o=""),{prefix:r,local:o}}function S(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),t.attribList.indexOf(t.attribName)!==-1||t.tag.attributes.hasOwnProperty(t.attribName))return void(t.attribName=t.attribValue="");if(t.opt.xmlns){var e=w(t.attribName,!0),n=e.prefix,i=e.local;if("xmlns"===n)if("xml"===i&&t.attribValue!==D)_(t,"xml: prefix must be bound to "+D+"\nActual: "+t.attribValue);else if("xmlns"===i&&t.attribValue!==j)_(t,"xmlns: prefix must be bound to "+j+"\nActual: "+t.attribValue);else{var r=t.tag,o=t.tags[t.tags.length-1]||t;r.ns===o.ns&&(r.ns=Object.create(o.ns)),r.ns[i]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,b(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}function E(t,e){if(t.opt.xmlns){var n=t.tag,i=w(t.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(_(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=i.prefix);var r=t.tags[t.tags.length-1]||t;n.ns&&r.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){b(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],u=a[0],l=a[1],c=w(u,!0),h=c.prefix,f=c.local,p=""===h?"":n.ns[h]||"",d={name:u,value:l,prefix:h,local:f,uri:p};h&&"xmlns"!==h&&!p&&(_(t,"Unbound namespace prefix: "+JSON.stringify(h)),d.uri=h),t.tag.attributes[u]=d,b(t,"onattribute",d)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),b(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=Y.TEXT:t.state=Y.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function T(t){if(!t.tagName)return _(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=Y.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=Y.SCRIPT);b(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var i=n;e--;){var r=t.tags[e];if(r.name===i)break;_(t,"Unexpected close tag")}if(e<0)return _(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=Y.TEXT);t.tagName=n;for(var o=t.tags.length;o-- >e;){var s=t.tag=t.tags.pop();t.tagName=t.tag.name,b(t,"onclosetag",t.tagName);var a={};for(var u in s.ns)a[u]=s.ns[u];var l=t.tags[t.tags.length-1]||t;t.opt.xmlns&&s.ns!==l.ns&&Object.keys(s.ns).forEach(function(e){var n=s.ns[e];b(t,"onclosenamespace",{prefix:e,uri:n})})}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=Y.TEXT}function P(t){var e,n=t.entity,i=n.toLowerCase(),r="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[i]?t.ENTITIES[i]:(n=i,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),e=parseInt(n,16),r=e.toString(16)):(n=n.slice(1),e=parseInt(n,10),r=e.toString(10))),n=n.replace(/^0+/,""),r.toLowerCase()!==n?(_(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function M(t,e){"<"===e?(t.state=Y.OPEN_WAKA,t.startTagPosition=t.position):p(I,e)&&(_(t,"Non-whitespace before first tag."),t.textNode=e,t.state=Y.TEXT)}function O(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}function A(t){var e=this;if(this.error)throw this.error;if(e.closed)return v(e,"Cannot write after close. Assign an onready handler.");if(null===t)return g(e);"object"==typeof t&&(t=t.toString());for(var n=0,i="";;){if(i=O(t,n++),e.c=i,!i)break;switch(e.trackPosition&&(e.position++,"\n"===i?(e.line++,e.column=0):e.column++),e.state){case Y.BEGIN:if(e.state=Y.BEGIN_WHITESPACE,"\ufeff"===i)continue;M(e,i);continue;case Y.BEGIN_WHITESPACE:M(e,i);continue;case Y.TEXT:if(e.sawRoot&&!e.closedRoot){for(var o=n-1;i&&"<"!==i&&"&"!==i;)i=O(t,n++),i&&e.trackPosition&&(e.position++,"\n"===i?(e.line++,e.column=0):e.column++);e.textNode+=t.substring(o,n-1)}"<"!==i||e.sawRoot&&e.closedRoot&&!e.strict?(!p(I,i)||e.sawRoot&&!e.closedRoot||_(e,"Text data outside of root node."),"&"===i?e.state=Y.TEXT_ENTITY:e.textNode+=i):(e.state=Y.OPEN_WAKA,e.startTagPosition=e.position);continue;case Y.SCRIPT:"<"===i?e.state=Y.SCRIPT_ENDING:e.script+=i;continue;case Y.SCRIPT_ENDING:"/"===i?e.state=Y.CLOSE_TAG:(e.script+="<"+i,e.state=Y.SCRIPT);continue;case Y.OPEN_WAKA:if("!"===i)e.state=Y.SGML_DECL,e.sgmlDecl="";else if(h(I,i));else if(c(V,i))e.state=Y.OPEN_TAG,e.tagName=i;else if("/"===i)e.state=Y.CLOSE_TAG,e.tagName="";else if("?"===i)e.state=Y.PROC_INST,e.procInstName=e.procInstBody="";else{if(_(e,"Unencoded <"),e.startTagPosition+1<e.position){var s=e.position-e.startTagPosition;i=new Array(s).join(" ")+i}e.textNode+="<"+i,e.state=Y.TEXT}continue;case Y.SGML_DECL:(e.sgmlDecl+i).toUpperCase()===F?(b(e,"onopencdata"),e.state=Y.CDATA,e.sgmlDecl="",e.cdata=""):e.sgmlDecl+i==="--"?(e.state=Y.COMMENT,e.comment="",e.sgmlDecl=""):(e.sgmlDecl+i).toUpperCase()===B?(e.state=Y.DOCTYPE,(e.doctype||e.sawRoot)&&_(e,"Inappropriately located doctype declaration"),e.doctype="",e.sgmlDecl=""):">"===i?(b(e,"onsgmldeclaration",e.sgmlDecl),e.sgmlDecl="",e.state=Y.TEXT):h(N,i)?(e.state=Y.SGML_DECL_QUOTED,e.sgmlDecl+=i):e.sgmlDecl+=i;continue;case Y.SGML_DECL_QUOTED:i===e.q&&(e.state=Y.SGML_DECL,e.q=""),e.sgmlDecl+=i;continue;case Y.DOCTYPE:">"===i?(e.state=Y.TEXT,b(e,"ondoctype",e.doctype),e.doctype=!0):(e.doctype+=i,"["===i?e.state=Y.DOCTYPE_DTD:h(N,i)&&(e.state=Y.DOCTYPE_QUOTED,e.q=i));continue;case Y.DOCTYPE_QUOTED:e.doctype+=i,i===e.q&&(e.q="",e.state=Y.DOCTYPE);continue;case Y.DOCTYPE_DTD:e.doctype+=i,"]"===i?e.state=Y.DOCTYPE:h(N,i)&&(e.state=Y.DOCTYPE_DTD_QUOTED,e.q=i);continue;case Y.DOCTYPE_DTD_QUOTED:e.doctype+=i,i===e.q&&(e.state=Y.DOCTYPE_DTD,e.q="");continue;case Y.COMMENT:"-"===i?e.state=Y.COMMENT_ENDING:e.comment+=i;continue;case Y.COMMENT_ENDING:"-"===i?(e.state=Y.COMMENT_ENDED,e.comment=y(e.opt,e.comment),e.comment&&b(e,"oncomment",e.comment),e.comment=""):(e.comment+="-"+i,e.state=Y.COMMENT);continue;case Y.COMMENT_ENDED:">"!==i?(_(e,"Malformed comment"),e.comment+="--"+i,e.state=Y.COMMENT):e.state=Y.TEXT;continue;case Y.CDATA:"]"===i?e.state=Y.CDATA_ENDING:e.cdata+=i;continue;case Y.CDATA_ENDING:"]"===i?e.state=Y.CDATA_ENDING_2:(e.cdata+="]"+i,e.state=Y.CDATA);continue;case Y.CDATA_ENDING_2:">"===i?(e.cdata&&b(e,"oncdata",e.cdata),b(e,"onclosecdata"),e.cdata="",e.state=Y.TEXT):"]"===i?e.cdata+="]":(e.cdata+="]]"+i,e.state=Y.CDATA);continue;case Y.PROC_INST:"?"===i?e.state=Y.PROC_INST_ENDING:h(I,i)?e.state=Y.PROC_INST_BODY:e.procInstName+=i;continue;case Y.PROC_INST_BODY:if(!e.procInstBody&&h(I,i))continue;"?"===i?e.state=Y.PROC_INST_ENDING:e.procInstBody+=i;continue;case Y.PROC_INST_ENDING:">"===i?(b(e,"onprocessinginstruction",{name:e.procInstName,body:e.procInstBody}),e.procInstName=e.procInstBody="",e.state=Y.TEXT):(e.procInstBody+="?"+i,e.state=Y.PROC_INST_BODY);continue;case Y.OPEN_TAG:c(U,i)?e.tagName+=i:(x(e),">"===i?E(e):"/"===i?e.state=Y.OPEN_TAG_SLASH:(p(I,i)&&_(e,"Invalid character in tag name"),e.state=Y.ATTRIB));continue;case Y.OPEN_TAG_SLASH:">"===i?(E(e,!0),T(e)):(_(e,"Forward-slash in opening tag not followed by >"),e.state=Y.ATTRIB);continue;case Y.ATTRIB:if(h(I,i))continue;">"===i?E(e):"/"===i?e.state=Y.OPEN_TAG_SLASH:c(V,i)?(e.attribName=i,e.attribValue="",e.state=Y.ATTRIB_NAME):_(e,"Invalid attribute name");continue;case Y.ATTRIB_NAME:"="===i?e.state=Y.ATTRIB_VALUE:">"===i?(_(e,"Attribute without value"),e.attribValue=e.attribName,S(e),E(e)):h(I,i)?e.state=Y.ATTRIB_NAME_SAW_WHITE:c(U,i)?e.attribName+=i:_(e,"Invalid attribute name");continue;case Y.ATTRIB_NAME_SAW_WHITE:if("="===i)e.state=Y.ATTRIB_VALUE;else{if(h(I,i))continue;_(e,"Attribute without value"),e.tag.attributes[e.attribName]="",e.attribValue="",b(e,"onattribute",{name:e.attribName,value:""}),e.attribName="",">"===i?E(e):c(V,i)?(e.attribName=i,e.state=Y.ATTRIB_NAME):(_(e,"Invalid attribute name"),e.state=Y.ATTRIB)}continue;case Y.ATTRIB_VALUE:if(h(I,i))continue;h(N,i)?(e.q=i,e.state=Y.ATTRIB_VALUE_QUOTED):(_(e,"Unquoted attribute value"),e.state=Y.ATTRIB_VALUE_UNQUOTED,e.attribValue=i);continue;case Y.ATTRIB_VALUE_QUOTED:if(i!==e.q){"&"===i?e.state=Y.ATTRIB_VALUE_ENTITY_Q:e.attribValue+=i;continue}S(e),e.q="",e.state=Y.ATTRIB_VALUE_CLOSED;continue;case Y.ATTRIB_VALUE_CLOSED:h(I,i)?e.state=Y.ATTRIB:">"===i?E(e):"/"===i?e.state=Y.OPEN_TAG_SLASH:c(V,i)?(_(e,"No whitespace between attributes"),e.attribName=i,e.attribValue="",e.state=Y.ATTRIB_NAME):_(e,"Invalid attribute name");continue;case Y.ATTRIB_VALUE_UNQUOTED:if(p(L,i)){"&"===i?e.state=Y.ATTRIB_VALUE_ENTITY_U:e.attribValue+=i;continue}S(e),">"===i?E(e):e.state=Y.ATTRIB;continue;case Y.CLOSE_TAG:if(e.tagName)">"===i?T(e):c(U,i)?e.tagName+=i:e.script?(e.script+="</"+e.tagName,e.tagName="",e.state=Y.SCRIPT):(p(I,i)&&_(e,"Invalid tagname in closing tag"),e.state=Y.CLOSE_TAG_SAW_WHITE);else{if(h(I,i))continue;f(V,i)?e.script?(e.script+="</"+i,e.state=Y.SCRIPT):_(e,"Invalid tagname in closing tag."):e.tagName=i}continue;case Y.CLOSE_TAG_SAW_WHITE:if(h(I,i))continue;">"===i?T(e):_(e,"Invalid characters in closing tag");continue;case Y.TEXT_ENTITY:case Y.ATTRIB_VALUE_ENTITY_Q:case Y.ATTRIB_VALUE_ENTITY_U:var a,u;switch(e.state){case Y.TEXT_ENTITY:a=Y.TEXT,u="textNode";break;case Y.ATTRIB_VALUE_ENTITY_Q:a=Y.ATTRIB_VALUE_QUOTED,u="attribValue";break;case Y.ATTRIB_VALUE_ENTITY_U:a=Y.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===i?(e[u]+=P(e),e.entity="",e.state=a):c(e.entity.length?H:W,i)?e.entity+=i:(_(e,"Invalid character in entity name"),e[u]+="&"+e.entity+i,e.entity="",e.state=a);continue;default:throw new Error(e,"Unknown state: "+e.state)}}return e.position>=e.bufferCheckPosition&&r(e),e}e.parser=function(t,e){return new i(t,e)},e.SAXParser=i,e.SAXStream=u,e.createStream=a,e.MAX_BUFFER_LENGTH=65536;var C=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}e.prototype=t;var n=new e;return n}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),i.prototype={end:function(){g(this)},write:A,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var k;try{k=n(306).Stream}catch(t){k=function(){}}var R=e.EVENTS.filter(function(t){return"error"!==t&&"end"!==t});u.prototype=Object.create(k.prototype,{constructor:{value:u}}),u.prototype.write=function(e){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(e)){if(!this._decoder){var i=n(703).StringDecoder;this._decoder=new i("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},u.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},u.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||R.indexOf(t)===-1||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),k.prototype.on.call(n,t,e)};var I="\r\n\t ",N="'\"",L=I+">",F="[CDATA[",B="DOCTYPE",D="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",G={xml:D,xmlns:j};I=l(I);var V=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,U=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,W=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,H=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;N=l(N),L=l(L);var Y=0;e.STATE={BEGIN:Y++,BEGIN_WHITESPACE:Y++,TEXT:Y++,TEXT_ENTITY:Y++,OPEN_WAKA:Y++,SGML_DECL:Y++,SGML_DECL_QUOTED:Y++,DOCTYPE:Y++,DOCTYPE_QUOTED:Y++,DOCTYPE_DTD:Y++,DOCTYPE_DTD_QUOTED:Y++,
COMMENT_STARTING:Y++,COMMENT:Y++,COMMENT_ENDING:Y++,COMMENT_ENDED:Y++,CDATA:Y++,CDATA_ENDING:Y++,CDATA_ENDING_2:Y++,PROC_INST:Y++,PROC_INST_BODY:Y++,PROC_INST_ENDING:Y++,OPEN_TAG:Y++,OPEN_TAG_SLASH:Y++,ATTRIB:Y++,ATTRIB_NAME:Y++,ATTRIB_NAME_SAW_WHITE:Y++,ATTRIB_VALUE:Y++,ATTRIB_VALUE_QUOTED:Y++,ATTRIB_VALUE_CLOSED:Y++,ATTRIB_VALUE_UNQUOTED:Y++,ATTRIB_VALUE_ENTITY_Q:Y++,ATTRIB_VALUE_ENTITY_U:Y++,CLOSE_TAG:Y++,CLOSE_TAG_SAW_WHITE:Y++,SCRIPT:Y++,SCRIPT_ENDING:Y++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var n=e.ENTITIES[t],i="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=i});for(var z in e.STATE)e.STATE[e.STATE[z]]=z;Y=e.STATE,String.fromCodePoint||!function(){var t=String.fromCharCode,e=Math.floor,n=function(){var n,i,r=16384,o=[],s=-1,a=arguments.length;if(!a)return"";for(var u="";++s<a;){var l=Number(arguments[s]);if(!isFinite(l)||l<0||l>1114111||e(l)!==l)throw RangeError("Invalid code point: "+l);l<=65535?o.push(l):(l-=65536,n=(l>>10)+55296,i=l%1024+56320,o.push(n,i)),(s+1===a||o.length>r)&&(u+=t.apply(null,o),o.length=0)}return u};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(e)}).call(e,n(21).Buffer)},function(t,e,n){var i=n(234),r=n(182);t.exports=function(t){var e=/^([a-h])(x|#|bb|b?)(-?\d*)/i,n=t.match(e);if(n&&t===n[0]&&n[3].length){var o=n[1],s=+n[3],a=n[2].length?n[2].toLowerCase():"",u=r.interval(a),l=i(o.toLowerCase());return l[0]+=s,l[0]+=u[0]-i.A4[0],l[1]+=u[1]-i.A4[1],l}}},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return b[d]=i,p(d),d++}function r(t){delete b[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function s(t){if(m)setTimeout(s,0,t);else{var e=b[t];if(e){m=!0;try{o(e)}finally{r(t),m=!1}}}}function a(){p=function(t){e.nextTick(function(){s(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function l(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),p=function(n){t.postMessage(e+n,"*")}}function c(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;s(e)},p=function(e){t.port2.postMessage(e)}}function h(){var t=y.documentElement;p=function(e){var n=y.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function f(){p=function(t){setTimeout(s,0,t)}}if(!t.setImmediate){var p,d=1,b={},m=!1,y=t.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(t);v=v&&v.setTimeout?v:t,"[object process]"==={}.toString.call(t.process)?a():u()?l():t.MessageChannel?c():y&&"onreadystatechange"in y.createElement("script")?h():f(),v.setImmediate=i,v.clearImmediate=r}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(25))},function(t,e,n){"use strict";t.exports=n(698)},function(t,e,n){"use strict";function i(t){var e="",n=Math.floor(.001*(Date.now()-u));return n===o?r++:(r=0,o=n),e+=s(a.lookup,l),e+=s(a.lookup,t),r>0&&(e+=s(a.lookup,r)),e+=s(a.lookup,n)}var r,o,s=n(305),a=n(99),u=1459707606518,l=6;t.exports=i},function(t,e,n){"use strict";function i(t){var e=r.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}}var r=n(99);t.exports=i},function(t,e,n){"use strict";function i(e){return a.seed(e),t.exports}function r(e){return h=e,t.exports}function o(t){return void 0!==t&&a.characters(t),a.shuffled()}function s(){return l(h)}var a=n(99),u=(n(305),n(697)),l=n(696),c=n(699),h=n(702)||0;t.exports=s,t.exports.generate=s,t.exports.seed=i,t.exports.worker=r,t.exports.characters=o,t.exports.decode=u,t.exports.isValid=c},function(t,e,n){"use strict";function i(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=r.characters(),n=t.length,i=0;i<n;i++)if(e.indexOf(t[i])===-1)return!1;return!0}var r=n(99);t.exports=i},function(t,e){"use strict";function n(){if(!i||!i.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return i.getRandomValues(t),48&t[0]}var i="object"==typeof window&&(window.crypto||window.msCrypto);t.exports=n},function(t,e){"use strict";function n(){return r=(9301*r+49297)%233280,r/233280}function i(t){r=t}var r=1;t.exports={nextValue:n,seed:i}},function(t,e){"use strict";t.exports=0},function(t,e,n){function i(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function r(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=n(21).Buffer,u=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},l=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),i(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};l.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=e.charCodeAt(e.length-1);if(!(i>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived),e+=t.toString(this.encoding,0,r);var r=e.length-1,i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,r)}return e},l.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},l.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;e+=i.slice(0,n).toString(r)}return e}},function(t,e,n){function i(t,e){if("string"==typeof t)return u.toCoord(t);if("string"==typeof e&&t instanceof a)return u.from(t,u.toCoord(e));if(e instanceof u&&t instanceof a)return u.from(t,e);if(e instanceof a&&t instanceof a)return u.between(t,e);throw new Error("Invalid parameters")}function r(t,e){return"string"==typeof t?a.fromString(t,e):new a(t,e)}function o(t,e){if("string"==typeof t){var n,i;if(n=t.match(/^([a-h])(x|#|bb|b?)/i),n&&n[0])return i="number"==typeof e?e.toString(10):"4",new l(a.fromString(n[0].toLowerCase()+i),t.substr(n[0].length))}else if(t instanceof a)return new l(t,e);throw new Error("Invalid Chord. Couldn't find note name")}function s(t,e){return t=t instanceof a?t:h.note(t),new c(t,e)}var a=n(307),u=n(100),l=n(705),c=n(706);i.toCoord=u.toCoord,i.from=u.from,i.between=u.between,i.invert=u.invert,r.fromString=a.fromString,r.fromKey=a.fromKey,r.fromFrequency=a.fromFrequency,r.fromMIDI=a.fromMIDI;var h={note:r,chord:o,interval:i,scale:s,Note:a,Chord:l,Scale:c,Interval:u};n(707)(h),e=t.exports=h},function(t,e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);e=e||"",this.name=t.name().toUpperCase()+t.accidental()+e,this.symbol=e,this.root=t,this.intervals=[],this._voicing=[];var n=e.split("/");if(2===n.length&&"9"!==n[1].trim()?(e=n[0],n=n[1].trim()):n=null,this.intervals=r(e).map(a.toCoord),this._voicing=this.intervals.slice(),n){var o,u,l=this.intervals;u=s.fromString(n+(t.octave()+1)),o=a.between(t,u),n=o.simple(),o=o.invert().direction("down"),this._voicing=[o];for(var c=0,h=l.length;c<h;c++)l[c].simple().equal(n)||this._voicing.push(l[c])}}var r=n(338),o=n(69),s=n(307),a=n(100);i.prototype={notes:function(){var t=this.root;return this.voicing().map(function(e){return t.interval(e)})},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},bass:function(){return this.root.interval(this._voicing[0])},voicing:function(t){if(!t)return this._voicing;this._voicing=[];for(var e=0,n=t.length;e<n;e++)this._voicing[e]=a.toCoord(t[e]);return this},resetVoicing:function(){this._voicing=this.intervals},dominant:function(t){return t=t||"",new i(this.root.interval("P5"),t)},subdominant:function(t){return t=t||"",new i(this.root.interval("P4"),t)},parallel:function(t){t=t||"";var e=this.quality();if("triad"!==this.chordType()||"diminished"===e||"augmented"===e)throw new Error("Only major/minor triads have parallel chords");return"major"===e?new i(this.root.interval("m3","down"),"m"):new i(this.root.interval("m3","up"))},quality:function(){for(var t,e,n,i=this.intervals,r=0,o=i.length;r<o;r++)3===i[r].number()?t=i[r]:5===i[r].number()?e=i[r]:7===i[r].number()&&(n=i[r]);if(t)return t="down"===t.direction()?t.invert():t,t=t.simple().toString(),e&&(e="down"===e.direction?e.invert():e,e=e.simple().toString()),n&&(n="down"===n.direction?n.invert():n,n=n.simple().toString()),"M3"===t?"A5"===e?"augmented":"P5"===e&&"m7"===n?"dominant":"major":"m3"===t?"P5"===e?"minor":"d5"===e?"m7"===n?"half-diminished":"diminished":"minor":void 0},chordType:function(){var t,e,n,i,r,o=this.intervals.length;if(2===o)return"dyad";if(3===o){for(e={first:!1,third:!1,fifth:!1},i=0;i<o;i++)t=this.intervals[i],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);r=e.first&&e.third&&e.fifth?"triad":"trichord"}else if(4===o){for(e={first:!1,third:!1,fifth:!1,seventh:!1},i=0;i<o;i++)t=this.intervals[i],n=t.invert(),t.base()in e?e[t.base()]=!0:n.base()in e&&(e[n.base()]=!0);e.first&&e.third&&e.fifth&&e.seventh&&(r="tetrad")}return r||"unknown"},get:function(t){if("string"==typeof t&&t in o.stepNumber){var e,n,i=this.intervals;for(t=o.stepNumber[t],e=0,n=i.length;e<n;e++)if(i[e].number()===t)return this.root.interval(i[e]);return null}throw new Error("Invalid interval name")},interval:function(t){return new i(this.root.interval(t),this.symbol)},transpose:function(t){return this.root.transpose(t),this.name=this.root.name().toUpperCase()+this.root.accidental()+this.symbol,this},toString:function(){return this.name}},t.exports=i},function(t,e,n){function i(t,e){if(!(this instanceof i))return new i(t,e);var n,r;if(!("coord"in t))throw new Error("Invalid Tonic");if("string"==typeof e){if(n=e,e=s[e],!e)throw new Error("Invalid Scale")}else for(r in s)if(s.hasOwnProperty(r)&&s[r].toString()===e.toString()){n=r;break}this.name=n,this.tonic=t,this.scale=e}var r=n(69),o=n(100),s={aeolian:["P1","M2","m3","P4","P5","m6","m7"],blues:["P1","m3","P4","d5","P5","m7"],chromatic:["P1","m2","M2","m3","M3","P4","A4","P5","m6","M6","m7","M7"],dorian:["P1","M2","m3","P4","P5","M6","m7"],doubleharmonic:["P1","m2","M3","P4","P5","m6","M7"],harmonicminor:["P1","M2","m3","P4","P5","m6","M7"],ionian:["P1","M2","M3","P4","P5","M6","M7"],locrian:["P1","m2","m3","P4","d5","m6","m7"],lydian:["P1","M2","M3","A4","P5","M6","M7"],majorpentatonic:["P1","M2","M3","P5","M6"],melodicminor:["P1","M2","m3","P4","P5","M6","M7"],minorpentatonic:["P1","m3","P4","P5","m7"],mixolydian:["P1","M2","M3","P4","P5","M6","m7"],phrygian:["P1","m2","m3","P4","P5","m6","m7"],wholetone:["P1","M2","M3","A4","A5","A6"]};s.harmonicchromatic=s.chromatic,s.minor=s.aeolian,s.major=s.ionian,s.flamenco=s.doubleharmonic,i.prototype={notes:function(){for(var t=[],e=0,n=this.scale.length;e<n;e++)t.push(this.tonic.interval(this.scale[e]));return t},simple:function(){return this.notes().map(function(t){return t.toString(!0)})},type:function(){var t=this.scale.length-2;if(t<8)return["di","tri","tetra","penta","hexa","hepta","octa"][t]+"tonic"},get:function(t){return t="string"==typeof t&&t in r.stepNumber?r.stepNumber[t]:t,this.tonic.interval(this.scale[t-1])},solfege:function(t,e){return t?this.get(t).solfege(this,e):this.notes().map(function(t){return t.solfege(this,e)})},interval:function(t){return t="string"==typeof t?o.toCoord(t):t,new i(this.tonic.interval(t),this.scale)},transpose:function(t){var e=this.interval(t);return this.scale=e.scale,this.tonic=e.tonic,this}},t.exports=i},function(t,e,n){var i=n(69);t.exports=function(t){var e=t.Note,n=t.Chord,r=t.Scale;e.prototype.chord=function(t){return t=t in i.chordShort?i.chordShort[t]:t,new n(this,t)},e.prototype.scale=function(t){return new r(this,t)}}},function(t,e){"use strict";function n(t){return"number"==typeof t}function i(t){return Math.floor(7*t/12)}function r(t,e,i){var r=a[t]+7*e;if(!n(i))return[r];var o=i-u[t]-4*e;return[r,o]}function o(t){var e=(t+1)%7;return e<0?7+e:e}function s(t,e){var i=l[o(t)],r=Math.floor((t+1)/7);if(!n(e))return[i,r];var s=e+4*r+u[i];return[i,r,s]}Object.defineProperty(e,"__esModule",{value:!0});var a=[0,2,4,-1,1,3,5],u=a.map(i),l=[3,0,4,1,5,2,6];e.encode=r,e.decode=s},function(t,e,n){"use strict";function i(t,e){return t?t+" "+e:e}function r(t){return i(_.trFifths("C",t),"major")}function o(t){return P[T.indexOf(t)]}function s(t){return t=t.trim().toLowerCase(),T.indexOf(t)===-1?null:t}function a(t){if("string"!=typeof t)return null;var e,n=t.indexOf(" ");if(n===-1){var i=x.pc(t);e=i?{tonic:i,mode:"major"}:{tonic:!1,mode:s(t)}}else e={tonic:x.pc(t.slice(0,n)),mode:s(t.slice(n+1))};return e.mode?e:null}function u(t){return null!==a(t)}function l(t){return(a(t)||t||{}).tonic||null}function c(t){return(a(t)||t||{}).mode||null}function h(t,e){if(1===arguments.length)return function(e){return h(t,e)};if(t=a(t),!t||t.tonic)return null;if(e=a(e),!e||!e.tonic)return null;var n=_.trFifths(e.tonic,o(t.mode)-o(e.mode));return i(n,t.mode)}function f(t){var e=y(t);return null===e?null:e<0?w.numeric([-1,e]).map(_.trFifths("F")):w.numeric([1,e]).map(_.trFifths("B"))}function p(t){return t?T.slice():T.slice(0,-2)}function d(t){return"number"==typeof t?r(t):null}function b(t){return g.areSharps(t)?r(t.length):g.areFlats(t)?r(-t.length):null}function m(t){var e=a(t);return e&&e.tonic?E.harmonize(M[T.indexOf(e.mode)],e.tonic):null}function y(t){var e=a(t);if(!e||!e.tonic)return null;var n=o(e.mode),i=x.pcFifths(e.tonic);return i-n}function v(t){return g.toAcc(y(t))}Object.defineProperty(e,"__esModule",{value:!0});var g=n(178),_=n(37),x=n(54),w=n(315),S=n(24),E=n(102),T=["ionian","dorian","phrygian","lydian","mixolydian","aeolian","locrian","major","minor"],P=[0,2,4,-1,1,3,5,0,3],M=[0,1,2,3,4,5,6,0,5].map(function(t){return E.harmonics(S.rotate(t,["C","D","E","F","G","A","B"]))}),O=v;e.props=a,e.isKeyName=u,e.tonic=l,e.mode=c,e.relative=h,e.alteredNotes=f,e.modes=p,e.fromAlter=d,e.fromAcc=b,e.scale=m,e.alteration=y,e.signature=v,e.accidentals=O},function(t,e){"use strict";function n(t){return"number"==typeof t}function i(t){return Math.floor(7*t/12)}function r(t,e,i){var r=a[t]+7*e;if(!n(i))return[r];var o=i-u[t]-4*e;return[r,o]}function o(t){var e=(t+1)%7;return e<0?7+e:e}function s(t,e){var i=l[o(t)],r=Math.floor((t+1)/7);if(!n(e))return[i,r];var s=e+4*r+u[i];return[i,r,s]}Object.defineProperty(e,"__esModule",{value:!0});var a=[0,2,4,-1,1,3,5],u=a.map(i),l=[3,0,4,1,5,2,6];e.encode=r,e.decode=s},function(t,e,n){"use strict";function i(t){return function(e){var n=a.fromNote(e);return n?Math.pow(2,(n-69)/12)*t:null}}function r(t){return function(e){var n=12*(Math.log(e)-Math.log(t))/Math.log(2)+69;return Math.round(n)}}function o(t){return a.toNote(l(t))}function s(t,e){var n=u(t)||t,i=u(e)||e;return 1200*(Math.log(i/n)/Math.log(2))}Object.defineProperty(e,"__esModule",{value:!0});var a=n(313),u=i(440),l=r(440);e.toEqualTemp=i,e.toFreq=u,e.fromEqualTemp=r,e.midiFromFreq=l,e.fromFreq=o,e.cents=s},function(t,e,n){"use strict";function i(t){var e=p.asNotePitch(t);return e?p.chr(e):null}function r(t){var e=p.asNotePitch(t);return e?p.strNote(e):null}function o(t){var e=p.asNotePitch(t);if(!e)return null;var n=p.decode(e);return{step:n[0],alt:n[1],oct:n[2]}}function s(t){return t?f.build(t.step,t.alt,t.oct):null}function a(t){return function(e){var n=o(e);return n?n[t]:null}}function u(t){var e=p.asNotePitch(t);return e?p.fifths(e):null}function l(t){var e=p.asNotePitch(t);return e?p.strNote([e[0],[p.fifths(e)]]):null}function c(t){var e=[];return e.push(d.transpose(E,t)),null===e[0]?null:(e.push(t),e.push(d.transpose(S,t)),e)}function h(t){return c(t).reduce(function(t,e){return t?t.length>e.length?e:t:e},null)}Object.defineProperty(e,"__esModule",{value:!0});var f=n(38),p=n(314),d=n(713),b=n(313),m=n(711),y=b.toMidi,v=b.note,g=m.toFreq,_=a("oct"),x=a("step"),w=a("alt"),S=p.parseIvl("2d"),E=p.parseIvl("-2d");e.midi=y,e.fromMidi=v,e.freq=g,e.chroma=i,e.note=r,e.props=o,e.fromProps=s,e.oct=_,e.step=x,e.pcFifths=u,e.alt=w,e.pc=l,e.enharmonics=c,e.simplify=h},function(t,e,n){"use strict";function i(t,e){var n=s.pType(e);if(!n)return null;var i=s.fifths(t)+s.fifths(e);if(s.isPC(e))return["tnlp",[i]];var r=s.focts(t)+s.focts(e);if("note"===n)return["tnlp",[i,r]];var o=s.height(t)+s.height(e)<0?-1:1;return["tnlp",[o*i,o*r],o]}function r(t,e){if(1===arguments.length)return function(e){return r(t,e)};var n=s.asPitch(t),o=s.asPitch(e),a=s.isIvlPitch(n)?i(n,o):s.isIvlPitch(o)?i(o,n):null;return t===n&&e===o?a:s.strPitch(a)}function o(t,e){return arguments.length>1?o(t)(e):function(e){return r(t,s.pitch(e,0,1))}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(314);e.transpose=r,e.trFifths=o},function(t,e,n){"use strict";function i(t){return r.sort(t).filter(function(t,e,n){return 0===e||t!==n[e-1]})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(24);e.notes=i},function(t,e,n){"use strict";function i(t,e){e=u.pc(e),t=c.map(p.parse,t);var n=c.compact(t.map(function(t){return t.tonic}));return n.length!==t.length?null:n.map(function(n,i){var o=l.props(f.interval(e,n));return r(o.num-1,o.alt,t[i].type)})}function r(t,e,n){return d.toAcc(e)+b[t%7]+(n||"")}function o(t,e){return c.map(function(t){var n=a(t);return n?h.transpose(n.root,e)+n.type:null},t)}function s(){return m}function a(t){var e=m.exec(t);if(!e)return null;var n=y[e[2].toLowerCase()]+1,i=e[1].length;return"b"===e[1][0]&&(i=-i),{root:l.fromProps({num:n,alt:i,dir:1}),type:e[3]}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(54),l=n(177),c=n(24),h=n(37),f=n(101),p=n(310),d=n(178),b=["I","II","III","IV","V","VI","VII"],m=/^\s*(b|bb|#|##|)(IV|III|II|I|VII|VI|V|iv|iii|ii|i|vii|vi|v)\s*(.*)\s*$/,y={i:0,ii:1,iii:2,iv:3,v:4,vi:5,vii:6};e.abstract=i,e.buildRoman=r,e.concrete=o,e.romanRegex=s,e.parseRomanChord=a},function(t,e,n){"use strict";function i(t,e){if(1===arguments.length)return function(e){return i(t,e)};var n=p.get(t);return n?h.harmonize(n,e):null}function r(t){var e=a(t),n=e.tonic?i(e.type,c.pc(e.tonic)):null;return n||l.compact(l.map(c.pc,t).map(function(t,e,n){return n.indexOf(t)<e?null:t}))}function o(t){var e=a(t);return i(e.type,!1)||[]}function s(t){return o(t).length>0}function a(t){if("string"!=typeof t)return null;var e=t.indexOf(" "),n=c.note(t.substring(0,e))||!1,i=n?t.substring(e+1):t;return{tonic:n,type:i}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(311),l=n(24),c=n(54),h=n(102),f=n(361),p=u.dictionary(f,function(t){return t.split(" ")}),d=p.keys,b=u.detector(p," ");e.get=i,e.names=d,e.notes=r,e.intervals=o,e.isKnowScale=s,e.parse=a,e.detect=b},function(t,e,n){"use strict";function i(t){var e,n,i,a=s.compact(s.map(o.asNotePitch,t)),u=a.length,l=[0,0,0,0,0,0];for(e=0;e<u;e++)for(n=e;n<u;n++)i=r.ic(o.chr(a[n])-o.chr(a[e])),6===i?l[5]=l[5]+1:i>0&&(l[5-i]=l[5-i]+1);return l}Object.defineProperty(e,"__esModule",{value:!0});var r=n(177),o=n(36),s=n(24);e.density=i},function(t,e,n){var i;!function(r,o){i=function(){return o()}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))}(this,function(){"use strict";function t(t){n=t()}function e(t){t(n)}var n;return t(function(){var t=function(t,e){this.isUndef(t)||1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),this.isUndef(e)||1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(t))};t.prototype.set=function(e,n,i){if(this.isObject(e))i=n;else if(this.isString(e)){var r={};r[e]=n,e=r}t:for(var o in e){n=e[o];var s=this;if(o.indexOf(".")!==-1){for(var a=o.split("."),u=0;u<a.length-1;u++)if(s=s[a[u]],s instanceof t){a.splice(0,u+1);var l=a.join(".");s.set(l,n);continue t}o=a[a.length-1]}var c=s[o];this.isUndef(c)||(t.Signal&&c instanceof t.Signal||t.Param&&c instanceof t.Param?c.value!==n&&(this.isUndef(i)?c.value=n:c.rampTo(n,i)):c instanceof AudioParam?c.value!==n&&(c.value=n):c instanceof t?c.set(n):c!==n&&(s[o]=n))}return this},t.prototype.get=function(e){this.isUndef(e)?e=this._collectDefaults(this.constructor):this.isString(e)&&(e=[e]);for(var n={},i=0;i<e.length;i++){var r=e[i],o=this,s=n;if(r.indexOf(".")!==-1){for(var a=r.split("."),u=0;u<a.length-1;u++){var l=a[u];s[l]=s[l]||{},s=s[l],o=o[l]}r=a[a.length-1]}var c=o[r];this.isObject(e[r])?s[r]=c.get():t.Signal&&c instanceof t.Signal?s[r]=c.value:t.Param&&c instanceof t.Param?s[r]=c.value:c instanceof AudioParam?s[r]=c.value:c instanceof t?s[r]=c.get():this.isFunction(c)||this.isUndef(c)||(s[r]=c)}return n},t.prototype._collectDefaults=function(t){var e=[];if(this.isUndef(t.defaults)||(e=Object.keys(t.defaults)),!this.isUndef(t._super))for(var n=this._collectDefaults(t._super),i=0;i<n.length;i++)e.indexOf(n[i])===-1&&e.push(n[i]);return e},t.prototype.toString=function(){for(var e in t){var n=e[0].match(/^[A-Z]$/),i=t[e]===this.constructor;if(this.isFunction(t[e])&&n&&i)return e}return"Tone"},Object.defineProperty(t.prototype,"numberOfInputs",{get:function(){return this.input?this.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(t.prototype,"numberOfOutputs",{get:function(){return this.output?this.isArray(this.output)?this.output.length:1:0}}),t.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this},t.prototype.connect=function(t,e,n){return Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,n)):this.output.connect(t,e,n),this},t.prototype.disconnect=function(t,e,n){this.isArray(this.output)?this.isNumber(t)?this.output[t].disconnect():(e=this.defaultArg(e,0),this.output[e].disconnect(t,0,n)):this.output.disconnect.apply(this.output,arguments)},t.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},t.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},t.prototype.fan=function(){if(arguments.length>0)for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},AudioNode.prototype.chain=t.prototype.chain,AudioNode.prototype.fan=t.prototype.fan,t.prototype.defaultArg=function(t,e){if(this.isObject(t)&&this.isObject(e)){var n={};for(var i in t)n[i]=this.defaultArg(e[i],t[i]);for(var r in e)n[r]=this.defaultArg(t[r],e[r]);return n}return this.isUndef(t)?e:t},t.prototype.optionsObject=function(t,e,n){var i={};if(1===t.length&&this.isObject(t[0]))i=t[0];else for(var r=0;r<e.length;r++)i[e[r]]=t[r];return this.isUndef(n)?i:this.defaultArg(i,n)},t.prototype.isUndef=function(t){return"undefined"==typeof t},t.prototype.isFunction=function(t){return"function"==typeof t},t.prototype.isNumber=function(t){return"number"==typeof t},t.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},t.prototype.isBoolean=function(t){return"boolean"==typeof t},t.prototype.isArray=function(t){return Array.isArray(t)},t.prototype.isString=function(t){return"string"==typeof t},t.noOp=function(){},t.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},t.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},t.State={Started:"started",Stopped:"stopped",Paused:"paused"},t.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},t.prototype.dbToGain=function(t){return Math.pow(2,t/6)},t.prototype.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)},t.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},t.prototype.now=function(){return t.context.now()},t.now=function(){return t.context.now()},t.extend=function(e,n){function i(){}t.prototype.isUndef(n)&&(n=t),i.prototype=n.prototype,e.prototype=new i,e.prototype.constructor=e,e._super=n};var e;return Object.defineProperty(t,"context",{get:function(){return e},set:function(n){e=t.Context&&n instanceof t.Context?n:new t.Context(n),t.Context&&t.Context.emit("init",e)}}),Object.defineProperty(t.prototype,"context",{get:function(){return t.context}}),t.setContext=function(e){t.context=e},Object.defineProperty(t.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(t.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(t,"supported",{get:function(){var t=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),e=window.hasOwnProperty("Promise"),n=window.hasOwnProperty("Worker");return t&&e&&n}}),t.version="r10",window.TONE_SILENCE_VERSION_LOGGING||console.log("%c * Tone.js "+t.version+" * ","background: #000; color: #fff"),t}),e(function(t){return t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,n,i){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,n,i),this},t.SignalBase}),e(function(t){return t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,n=this._curve.length;e<n;e++){var i=e/(n-1)*2-1;this._curve[e]=t(i,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(["none","2x","4x"].indexOf(t)===-1)throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}),e(function(t){return t.TimeBase=function(e,n){if(!(this instanceof t.TimeBase))return new t.TimeBase(e,n);if(this._expr=this._noOp,e instanceof t.TimeBase)this.copy(e);else if(!this.isUndef(n)||this.isNumber(e)){n=this.defaultArg(n,this._defaultUnits);var i=this._primaryExpressions[n].method;this._expr=i.bind(this,e)}else this.isString(e)?this.set(e):this.isUndef(e)&&(this._expr=this._defaultExpr())},t.extend(t.TimeBase),t.TimeBase.prototype.set=function(t){return this._expr=this._parseExprString(t),this},t.TimeBase.prototype.clone=function(){var t=new this.constructor;return t.copy(this),t},t.TimeBase.prototype.copy=function(t){var e=t._expr();return this.set(e)},t.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(t){return t=parseInt(t),1===t?this._beatsToUnits(this._timeSignature()):this._beatsToUnits(4/t)}},t:{regexp:/^(\d+)t/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),
n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)/,method:function(t){return this._primaryExpressions[this._defaultUnits].method.call(this,t)}}},t.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(t,e){return t()+e()}},"-":{regexp:/^\-/,precedence:2,method:function(t,e){return t()-e()}},"*":{regexp:/^\*/,precedence:1,method:function(t,e){return t()*e()}},"/":{regexp:/^\//,precedence:1,method:function(t,e){return t()/e()}}},t.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(t){return-t()}}},t.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},t.TimeBase.prototype._tokenize=function(t){function e(t,e){for(var n=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],i=0;i<n.length;i++){var r=e[n[i]];for(var o in r){var s=r[o],a=s.regexp,u=t.match(a);if(null!==u)return{method:s.method,precedence:s.precedence,regexp:s.regexp,value:u[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+t)}for(var n=-1,i=[];t.length>0;){t=t.trim();var r=e(t,this);i.push(r),t=t.substr(r.value.length)}return{next:function(){return i[++n]},peek:function(){return i[n+1]}}},t.TimeBase.prototype._matchGroup=function(t,e,n){var i=!1;if(!this.isUndef(t))for(var r in e){var o=e[r];if(o.regexp.test(t.value)){if(this.isUndef(n))return o;if(o.precedence===n)return o}}return i},t.TimeBase.prototype._parseBinary=function(t,e){this.isUndef(e)&&(e=2);var n;n=e<0?this._parseUnary(t):this._parseBinary(t,e-1);for(var i=t.peek();i&&this._matchGroup(i,this._binaryExpressions,e);)i=t.next(),n=i.method.bind(this,n,this._parseBinary(t,e-1)),i=t.peek();return n},t.TimeBase.prototype._parseUnary=function(t){var e,n;e=t.peek();var i=this._matchGroup(e,this._unaryExpressions);return i?(e=t.next(),n=this._parseUnary(t),i.method.bind(this,n)):this._parsePrimary(t)},t.TimeBase.prototype._parsePrimary=function(t){var e,n;if(e=t.peek(),this.isUndef(e))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(e,this._primaryExpressions)){e=t.next();var i=e.value.match(e.regexp);return e.method.bind(this,i[1],i[2],i[3])}if(e&&"("===e.value){if(t.next(),n=this._parseBinary(t),e=t.next(),!e||")"!==e.value)throw new SyntaxError("Expected )");return n}throw new SyntaxError("Tone.TimeBase: Cannot process token "+e.value)},t.TimeBase.prototype._parseExprString=function(t){this.isString(t)||(t=t.toString());var e=this._tokenize(t),n=this._parseBinary(e);return n},t.TimeBase.prototype._noOp=function(){return 0},t.TimeBase.prototype._defaultExpr=function(){return this._noOp},t.TimeBase.prototype._defaultUnits="s",t.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},t.TimeBase.prototype._beatsToUnits=function(e){return 60/t.Transport.bpm.value*e},t.TimeBase.prototype._secondsToUnits=function(t){return t},t.TimeBase.prototype._ticksToUnits=function(e){return e*(this._beatsToUnits(1)/t.Transport.PPQ)},t.TimeBase.prototype._timeSignature=function(){return t.Transport.timeSignature},t.TimeBase.prototype._pushExpr=function(e,n,i){return e instanceof t.TimeBase||(e=new this.constructor(e,i)),this._expr=this._binaryExpressions[n].method.bind(this,this._expr,e._expr),this},t.TimeBase.prototype.add=function(t,e){return this._pushExpr(t,"+",e)},t.TimeBase.prototype.sub=function(t,e){return this._pushExpr(t,"-",e)},t.TimeBase.prototype.mult=function(t,e){return this._pushExpr(t,"*",e)},t.TimeBase.prototype.div=function(t,e){return this._pushExpr(t,"/",e)},t.TimeBase.prototype.valueOf=function(){return this._expr()},t.TimeBase.prototype.dispose=function(){this._expr=null},t.TimeBase}),e(function(t){return t.Time=function(e,n){return this instanceof t.Time?(this._plusNow=!1,void t.TimeBase.call(this,e,n)):new t.Time(e,n)},t.extend(t.Time,t.TimeBase),t.Time.prototype._unaryExpressions=Object.create(t.TimeBase.prototype._unaryExpressions),t.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){return t.Transport.nextSubdivision(e())}},t.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(t){return this._plusNow=!0,t()}},t.Time.prototype.quantize=function(t,e){return e=this.defaultArg(e,1),this._expr=function(t,e,n){t=t(),e=e.toSeconds();var i=Math.round(t/e),r=i*e,o=r-t;return t+o*n}.bind(this,this._expr,new this.constructor(t),e),this},t.Time.prototype.addNow=function(){return this._plusNow=!0,this},t.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},t.Time.prototype.copy=function(e){return t.TimeBase.prototype.copy.call(this,e),this._plusNow=e._plusNow,this},t.Time.prototype.toNotation=function(){var t=this.toSeconds(),e=["1m","2n","4n","8n","16n","32n","64n","128n"],n=this._toNotationHelper(t,e),i=["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"],r=this._toNotationHelper(t,i);return r.split("+").length<n.split("+").length?r:n},t.Time.prototype._toNotationHelper=function(t,e){for(var n=this._notationToUnits(e[e.length-1]),i="",r=0;r<e.length;r++){var o=this._notationToUnits(e[r]),s=t/o,a=1e-6;if(1-s%1<a&&(s+=a),s=Math.floor(s),s>0){if(i+=1===s?e[r]:s.toString()+"*"+e[r],t-=s*o,t<n)break;i+=" + "}}return""===i&&(i="0"),i},t.Time.prototype._notationToUnits=function(t){for(var e=this._primaryExpressions,n=[e.n,e.t,e.m],i=0;i<n.length;i++){var r=n[i],o=t.match(r.regexp);if(o)return r.method.call(this,o[1])}},t.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.toSeconds()/t,n=Math.floor(e/this._timeSignature()),i=e%1*4;e=Math.floor(e)%this._timeSignature(),i=i.toString(),i.length>3&&(i=parseFloat(i).toFixed(3));var r=[n,e,i];return r.join(":")},t.Time.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},t.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},t.Time.prototype.toSeconds=function(){return this.valueOf()},t.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},t.Time.prototype.valueOf=function(){var t=this._expr();return t+(this._plusNow?this.now():0)},t.Time}),e(function(t){t.Frequency=function(e,n){return this instanceof t.Frequency?void t.TimeBase.call(this,e,n):new t.Frequency(e,n)},t.extend(t.Frequency,t.TimeBase),t.Frequency.prototype._primaryExpressions=Object.create(t.TimeBase.prototype._primaryExpressions),t.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return this.midiToFrequency(t)}},t.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,n){var i=e[t.toLowerCase()],r=i+12*(parseInt(n)+1);return this.midiToFrequency(r)}},t.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}},t.Frequency.prototype.transpose=function(t){return this._expr=function(t,e){var n=t();return n*this.intervalToFrequencyRatio(e)}.bind(this,this._expr,t),this},t.Frequency.prototype.harmonize=function(t){return this._expr=function(t,e){for(var n=t(),i=[],r=0;r<e.length;r++)i[r]=n*this.intervalToFrequencyRatio(e[r]);return i}.bind(this,this._expr,t),this},t.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},t.Frequency.prototype.toNote=function(){var e=this.valueOf(),i=Math.log(e/t.Frequency.A4)/Math.LN2,r=Math.round(12*i)+57,o=Math.floor(r/12);o<0&&(r+=-12*o);var s=n[r%12];return s+o.toString()},t.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},t.Frequency.prototype.toFrequency=function(){return this.valueOf()},t.Frequency.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Frequency.prototype._frequencyToUnits=function(t){return t},t.Frequency.prototype._ticksToUnits=function(e){return 1/(60*e/(t.Transport.bpm.value*t.Transport.PPQ))},t.Frequency.prototype._beatsToUnits=function(e){return 1/t.TimeBase.prototype._beatsToUnits.call(this,e)},t.Frequency.prototype._secondsToUnits=function(t){return 1/t},t.Frequency.prototype._defaultUnits="hz";var e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return t.Frequency.A4=440,t.Frequency.prototype.midiToFrequency=function(e){return t.Frequency.A4*Math.pow(2,(e-69)/12)},t.Frequency.prototype.frequencyToMidi=function(e){return 69+12*Math.log(e/t.Frequency.A4)/Math.LN2},t.Frequency}),e(function(t){return t.TransportTime=function(e,n){return this instanceof t.TransportTime?void t.Time.call(this,e,n):new t.TransportTime(e,n)},t.extend(t.TransportTime,t.Time),t.TransportTime.prototype._unaryExpressions=Object.create(t.Time.prototype._unaryExpressions),t.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){var n=this._secondsToTicks(e()),i=Math.ceil(t.Transport.ticks/n);return this._ticksToUnits(i*n)}},t.TransportTime.prototype._secondsToTicks=function(e){var n=this._beatsToUnits(1),i=e/n;return Math.round(i*t.Transport.PPQ)},t.TransportTime.prototype.valueOf=function(){var e=this._secondsToTicks(this._expr());return e+(this._plusNow?t.Transport.ticks:0)},t.TransportTime.prototype.toTicks=function(){return this.valueOf()},t.TransportTime.prototype.toSeconds=function(){var e=this._expr();return e+(this._plusNow?t.Transport.seconds:0)},t.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},t.TransportTime}),e(function(t){return t.Emitter=function(){this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var n=t.split(/\W+/),i=0;i<n.length;i++){var r=n[i];this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(e)}return this},t.Emitter.prototype.off=function(e,n){for(var i=e.split(/\W+/),r=0;r<i.length;r++)if(e=i[r],this._events.hasOwnProperty(e))if(t.prototype.isUndef(n))this._events[e]=[];else for(var o=this._events[e],s=0;s<o.length;s++)o[s]===n&&o.splice(s,1);return this},t.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var n=this._events[t],i=0,r=n.length;i<r;i++)n[i].apply(this,e)}return this},t.Emitter.mixin=function(e){var n=["on","off","emit"];e._events={};for(var i=0;i<n.length;i++){var r=n[i],o=t.Emitter.prototype[r];e[r]=o}},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}),e(function(t){function e(){function e(e,n,r){if(e.input)Array.isArray(e.input)?(t.prototype.isUndef(r)&&(r=0),this.connect(e.input[r])):this.connect(e.input,n,r);else try{e instanceof AudioNode?i.call(this,e,n,r):i.call(this,e,n)}catch(t){throw new Error("error connecting to node: "+e+"\n"+t)}}function n(e,n,i){if(e&&e.input&&Array.isArray(e.input))t.prototype.isUndef(i)&&(i=0),this.disconnect(e.input[i],n,i);else if(e&&e.input)this.disconnect(e.input,n,i);else try{r.apply(this,arguments)}catch(t){throw new Error("error disconnecting node: "+e+"\n"+t)}}var i=AudioNode.prototype.connect,r=AudioNode.prototype.disconnect;AudioNode.prototype.connect!==e&&(AudioNode.prototype.connect=e,AudioNode.prototype.disconnect=n)}return!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),t.Context=function(e){t.Emitter.call(this),e||(e=new window.AudioContext),this._context=e;for(var n in this._context)this._defineProperty(this._context,n);this._latencyHint="interactive",this._lookAhead=.1,this._updateInterval=this._lookAhead/3,this._computedUpdateInterval=0,this._worker=this._createWorker(),this._constants={}},t.extend(t.Context,t.Emitter),t.Emitter.mixin(t.Context),t.Context.prototype._defineProperty=function(t,e){this.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return"function"==typeof t[e]?t[e].bind(t):t[e]},set:function(n){t[e]=n}})},t.Context.prototype.now=function(){return this._context.currentTime},t.Context.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),n=new Worker(e);return n.addEventListener("message",function(){this.emit("tick")}.bind(this)),n.addEventListener("message",function(){var t=this.now();if(this.isNumber(this._lastUpdate)){var e=t-this._lastUpdate;this._computedUpdateInterval=Math.max(e,.97*this._computedUpdateInterval)}this._lastUpdate=t}.bind(this)),n},t.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0),i=0;i<n.length;i++)n[i]=t;var r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants[t]=r,r},Object.defineProperty(t.Context.prototype,"lag",{get:function(){var t=this._computedUpdateInterval-this._updateInterval;return t=Math.max(t,0)}}),Object.defineProperty(t.Context.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(t){this._lookAhead=t}}),Object.defineProperty(t.Context.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(e){this._updateInterval=Math.max(e,t.prototype.blockTime),this._worker.postMessage(Math.max(1e3*e,1))}}),Object.defineProperty(t.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,this.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":e=.01}this.lookAhead=e,this.updateInterval=e/3}}),t.supported?(e(),t.context=new t.Context):console.warn("This browser does not support Tone.js"),t.Context}),e(function(t){return t.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},t.prototype.toSeconds=function(e){return this.isNumber(e)?e:this.isUndef(e)?this.now():this.isString(e)?new t.Time(e).toSeconds():e instanceof t.TimeBase?e.toSeconds():void 0},t.prototype.toFrequency=function(e){return this.isNumber(e)?e:this.isString(e)||this.isUndef(e)?new t.Frequency(e).valueOf():e instanceof t.TimeBase?e.toFrequency():void 0},t.prototype.toTicks=function(e){return this.isNumber(e)||this.isString(e)?new t.TransportTime(e).toTicks():this.isUndef(e)?t.Transport.ticks:e instanceof t.TimeBase?e.toTicks():void 0},t}),e(function(t){return t.Param=function(){var e=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this._lfo=null,this.isObject(e.lfo)?this.value=e.lfo:this.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(e){if(this.isObject(e)){if(this.isUndef(t.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new t.LFO(e).start(),this._lfo.connect(this.input)}else{var n=this._fromUnits(e);this._param.cancelScheduledValues(0),this._param.value=n}}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return this.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),e=this.toSeconds(e),e<=this.now()+this.blockTime?this._param.value=t:this._param.setValueAtTime(t,e),this},t.Param.prototype.setRampPoint=function(t){t=this.defaultArg(t,this.now());var e=this._param.value;return 0===e&&(e=this._minOutput),this._param.setValueAtTime(e,t),this},t.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),this._param.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValue=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.linearRampToValue=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,n){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),n=Math.max(this._minOutput,n),this._param.setTargetAtTime(t,this.toSeconds(e),n),this},t.Param.prototype.setValueCurveAtTime=function(t,e,n){for(var i=0;i<t.length;i++)t[i]=this._fromUnits(t[i]);return this._param.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(n)),this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.rampTo=function(e,n,i){return n=this.defaultArg(n,0),this.units===t.Type.Frequency||this.units===t.Type.BPM||this.units===t.Type.Decibels?this.exponentialRampToValue(e,n,i):this.linearRampToValue(e,n,i),this},Object.defineProperty(t.Param.prototype,"lfo",{get:function(){return this._lfo}}),t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},t.Param}),e(function(t){return window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),t.Gain=function(){var e=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.prototype.createInsOuts=function(e,n){1===e?this.input=new t.Gain:e>1&&(this.input=new Array(e)),1===n?this.output=new t.Gain:n>1&&(this.output=new Array(e))},t.Gain}),e(function(t){return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),e.param=this._gain.gain,t.Param.call(this,e),this.input=this._param=this._gain.gain,this.context.getConstant(1).chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal}),e(function(t){return t.Timeline=function(){var e=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.add=function(t){if(this.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._timeline.length){var e=this._search(t.time);this._timeline.splice(e+1,0,t)}else this._timeline.push(t);if(this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},t.Timeline.prototype.remove=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);e!==-1&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.get=function(t){var e=this._search(t);return e!==-1?this._timeline[e]:null},t.Timeline.prototype.peek=function(){return this._timeline[0]},t.Timeline.prototype.shift=function(){return this._timeline.shift()},t.Timeline.prototype.getAfter=function(t){var e=this._search(t);return e+1<this._timeline.length?this._timeline[e+1]:null},t.Timeline.prototype.getBefore=function(t){var e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];var n=this._search(t);return n-1>=0?this._timeline[n-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var n=e;n>=0&&this._timeline[n].time===t;n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){if(this._timeline.length){var e=this._search(t);e>=0&&(this._timeline=this._timeline.slice(e+1))}return this},t.Timeline.prototype._search=function(t){var e=0,n=this._timeline.length,i=n;if(n>0&&this._timeline[n-1].time<=t)return n-1;for(;e<i;){var r=Math.floor(e+(i-e)/2),o=this._timeline[r],s=this._timeline[r+1];if(o.time===t){for(var a=r;a<this._timeline.length;a++){var u=this._timeline[a];u.time===t&&(r=a)}return r}if(o.time<t&&s.time>t)return r;o.time>t?i=r:o.time<t&&(e=r+1)}return-1},t.Timeline.prototype._iterate=function(t,e,n){this._iterating=!0,e=this.defaultArg(e,0),n=this.defaultArg(n,this._timeline.length-1);for(var i=e;i<=n;i++)t(this._timeline[i]);if(this._iterating=!1,this._toRemove.length>0){for(var r=0;r<this._toRemove.length;r++){var o=this._timeline.indexOf(this._toRemove[r]);o!==-1&&this._timeline.splice(o,1)}this._toRemove=[]}},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){var n=this._search(t);return n!==-1&&this._iterate(e,0,n),this},t.Timeline.prototype.forEachAfter=function(t,e){var n=this._search(t);return this._iterate(e,n+1),this},t.Timeline.prototype.forEachFrom=function(t,e){for(var n=this._search(t);n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){var n=this._search(t);return n!==-1&&this._iterate(function(n){n.time===t&&e(n)},0,n),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}),e(function(t){return t.TimelineSignal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this._events=new t.Timeline(10),t.Signal.apply(this,e),e.param=this._param,t.Param.call(this,e),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Curve:"curve",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){var t=this.now(),e=this.getValueAtTime(t);return this._toUnits(e)},set:function(t){var e=this._fromUnits(t);this._initial=e,this.cancelScheduledValues(),this._param.value=e}}),t.TimelineSignal.prototype.setValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Set,value:e,time:n}),this._param.setValueAtTime(e,n),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Linear,value:e,time:n}),this._param.linearRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){n=this.toSeconds(n);var i=this._searchBefore(n);i&&0===i.value&&this.setValueAtTime(this._minOutput,i.time),e=this._fromUnits(e);var r=Math.max(e,this._minOutput);return this._events.add({type:t.TimelineSignal.Type.Exponential,value:r,time:n}),e<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,n-this.sampleTime),this.setValueAtTime(0,n)):this._param.exponentialRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,n,i){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),i=Math.max(this._minOutput,i),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Target,value:e,time:n,constant:i}),this._param.setTargetAtTime(e,n,i),this},t.TimelineSignal.prototype.setValueCurveAtTime=function(e,n,i,r){r=this.defaultArg(r,1);for(var o=new Array(e.length),s=0;s<o.length;s++)o[s]=this._fromUnits(e[s])*r;n=this.toSeconds(n),i=this.toSeconds(i),this._events.add({type:t.TimelineSignal.Type.Curve,value:o,time:n,duration:i}),this._param.setValueAtTime(o[0],n);for(var a=1;a<o.length;a++){var u=n+a/(o.length-1)*i;this._param.linearRampToValueAtTime(o[a],u)}return this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var n=this._toUnits(this.getValueAtTime(e)),i=this._searchBefore(e);if(i&&i.time===e)this.cancelScheduledValues(e+this.sampleTime);else if(i&&i.type===t.TimelineSignal.Type.Curve&&i.time+i.duration>e)this.cancelScheduledValues(e),this.linearRampToValueAtTime(n,e);else{var r=this._searchAfter(e);r&&(this.cancelScheduledValues(e),r.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(n,e):r.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(n,e)),this.setValueAtTime(n,e)}return this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.linearRampToValueAtTime(t,n),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,n),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.get(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){e=this.toSeconds(e);var n=this._searchAfter(e),i=this._searchBefore(e),r=this._initial;if(null===i)r=this._initial;else if(i.type===t.TimelineSignal.Type.Target){var o,s=this._events.getBefore(i.time);o=null===s?this._initial:s.value,r=this._exponentialApproach(i.time,o,i.value,i.constant,e)}else r=i.type===t.TimelineSignal.Type.Curve?this._curveInterpolate(i.time,i.value,i.duration,e):null===n?i.value:n.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(i.time,i.value,n.time,n.value,e):n.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(i.time,i.value,n.time,n.value,e):i.value;return r},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,n,i,r){return n+(e-n)*Math.exp(-(r-t)/i)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,n,i,r){return e+(i-e)*((r-t)/(n-t))},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,n,i,r){return e=Math.max(this._minOutput,e),e*Math.pow(i/e,(r-t)/(n-t))},t.TimelineSignal.prototype._curveInterpolate=function(t,e,n,i){var r=e.length;if(i>=t+n)return e[r-1];if(i<=t)return e[0];var o=(i-t)/n,s=Math.floor((r-1)*o),a=Math.ceil((r-1)*o),u=e[s],l=e[a];return a===s?u:this._linearInterpolate(s,u,a,l,o*(r-1))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}),e(function(t){return t.Pow=function(e){this._exp=this.defaultArg(e,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},t.Pow.prototype.dispose=function(){return t.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}),e(function(t){return t.Envelope=function(){var e=this.optionsObject(arguments,["attack","decay","sustain","release"],t.Envelope.defaults);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new t.TimelineSignal,this._sig.setValueAtTime(0,0),this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve},t.extend(t.Envelope),t.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",releaseCurve:"exponential"},Object.defineProperty(t.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),Object.defineProperty(t.Envelope.prototype,"attackCurve",{get:function(){if(this.isString(this._attackCurve))return this._attackCurve;if(this.isArray(this._attackCurve)){for(var e in t.Envelope.Type)if(t.Envelope.Type[e].In===this._attackCurve)return e;return this._attackCurve}},set:function(e){if(t.Envelope.Type.hasOwnProperty(e)){var n=t.Envelope.Type[e];this.isObject(n)?this._attackCurve=n.In:this._attackCurve=n}else{if(!this.isArray(e))throw new Error("Tone.Envelope: invalid curve: "+e);this._attackCurve=e}}}),Object.defineProperty(t.Envelope.prototype,"releaseCurve",{get:function(){if(this.isString(this._releaseCurve))return this._releaseCurve;if(this.isArray(this._releaseCurve)){for(var e in t.Envelope.Type)if(t.Envelope.Type[e].Out===this._releaseCurve)return e;return this._releaseCurve}},set:function(e){if(t.Envelope.Type.hasOwnProperty(e)){var n=t.Envelope.Type[e];this.isObject(n)?this._releaseCurve=n.Out:this._releaseCurve=n}else{if(!this.isArray(e))throw new Error("Tone.Envelope: invalid curve: "+e);this._releaseCurve=e}}}),t.Envelope.prototype.triggerAttack=function(t,e){t=this.toSeconds(t);var n=this.toSeconds(this.attack),i=n,r=this.toSeconds(this.decay);e=this.defaultArg(e,1);var o=this.getValueAtTime(t);if(o>0){var s=1/i,a=1-o;i=a/s}if("linear"===this._attackCurve)this._sig.linearRampToValue(e,i,t);else if("exponential"===this._attackCurve)this._sig.exponentialRampToValue(e,i,t);else if(i>0){this._sig.setRampPoint(t);var u=this._attackCurve;if(i<n){var l=1-i/n,c=Math.floor(l*this._attackCurve.length);u=this._attackCurve.slice(c),u[0]=o}this._sig.setValueCurveAtTime(u,t,i,e)}return this._sig.exponentialRampToValue(e*this.sustain,r,i+t),this},t.Envelope.prototype.triggerRelease=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);if(e>0){var n=this.toSeconds(this.release);if("linear"===this._releaseCurve)this._sig.linearRampToValue(0,n,t);else if("exponential"===this._releaseCurve)this._sig.exponentialRampToValue(0,n,t);else{var i=this._releaseCurve;
this.isArray(i)&&(this._sig.setRampPoint(t),this._sig.setValueCurveAtTime(i,t,n,e))}}return this},t.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},t.Envelope.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this},t.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},t.Envelope.prototype.connect=t.Signal.prototype.connect,function(){function e(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=1-t[n];return e}function n(t){return t.slice(0).reverse()}var i,r,o=128,s=[];for(i=0;i<o;i++)s[i]=Math.sin(i/(o-1)*(Math.PI/2));var a=[],u=6.4;for(i=0;i<o-1;i++){r=i/(o-1);var l=Math.sin(r*(2*Math.PI)*u-Math.PI/2)+1;a[i]=l/10+.83*r}a[o-1]=1;var c=[],h=5;for(i=0;i<o;i++)c[i]=Math.ceil(i/(o-1)*h)/h;var f=[];for(i=0;i<o;i++)r=i/(o-1),f[i]=.5*(1-Math.cos(Math.PI*r));var p=[];for(i=0;i<o;i++){r=i/(o-1);var d=4*Math.pow(r,3)+.2,b=Math.cos(d*Math.PI*2*r);p[i]=Math.abs(b*(1-r))}t.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:e(p),Out:p},cosine:{In:s,Out:n(s)},step:{In:c,Out:e(c)},ripple:{In:a,Out:e(a)},sine:{In:f,Out:e(f)}}}(),t.Envelope.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},t.Envelope}),e(function(t){return t.AmplitudeEnvelope=function(){t.Envelope.apply(this,arguments),this.input=this.output=new t.Gain,this._sig.connect(this.output.gain)},t.extend(t.AmplitudeEnvelope,t.Envelope),t.AmplitudeEnvelope.prototype.dispose=function(){return this.input.dispose(),this.input=null,t.Envelope.prototype.dispose.call(this),this},t.AmplitudeEnvelope}),e(function(t){return window.AnalyserNode&&!AnalyserNode.prototype.getFloatTimeDomainData&&(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var n=0;n<e.length;n++)t[n]=(e[n]-128)/128}),t.Analyser=function(){var e=this.optionsObject(arguments,["type","size"],t.Analyser.defaults);this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=e.type,this._returnType=e.returnType,this._buffer=null,this.size=e.size,this.type=e.type,this.returnType=e.returnType,this.minDecibels=e.minDecibels,this.maxDecibels=e.maxDecibels},t.extend(t.Analyser),t.Analyser.defaults={size:1024,returnType:"byte",type:"fft",smoothing:.8,maxDecibels:-30,minDecibels:-100},t.Analyser.Type={Waveform:"waveform",FFT:"fft"},t.Analyser.ReturnType={Byte:"byte",Float:"float"},t.Analyser.prototype.analyse=function(){return this._type===t.Analyser.Type.FFT?this._returnType===t.Analyser.ReturnType.Byte?this._analyser.getByteFrequencyData(this._buffer):this._analyser.getFloatFrequencyData(this._buffer):this._type===t.Analyser.Type.Waveform&&(this._returnType===t.Analyser.ReturnType.Byte?this._analyser.getByteTimeDomainData(this._buffer):this._analyser.getFloatTimeDomainData(this._buffer)),this._buffer},Object.defineProperty(t.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this.type=this._type}}),Object.defineProperty(t.Analyser.prototype,"returnType",{get:function(){return this._returnType},set:function(e){if(e===t.Analyser.ReturnType.Byte)this._buffer=new Uint8Array(this._analyser.frequencyBinCount);else{if(e!==t.Analyser.ReturnType.Float)throw new TypeError("Tone.Analayser: invalid return type: "+e);this._buffer=new Float32Array(this._analyser.frequencyBinCount)}this._returnType=e}}),Object.defineProperty(t.Analyser.prototype,"type",{get:function(){return this._type},set:function(e){if(e!==t.Analyser.Type.Waveform&&e!==t.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+e);this._type=e}}),Object.defineProperty(t.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),Object.defineProperty(t.Analyser.prototype,"minDecibels",{get:function(){return this._analyser.minDecibels},set:function(t){this._analyser.minDecibels=t}}),Object.defineProperty(t.Analyser.prototype,"maxDecibels",{get:function(){return this._analyser.maxDecibels},set:function(t){this._analyser.maxDecibels=t}}),t.Analyser.prototype.dispose=function(){t.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},t.Analyser}),e(function(t){return t.Compressor=function(){var e=this.optionsObject(arguments,["threshold","ratio"],t.Compressor.defaults);this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new t.Param({param:this._compressor.threshold,units:t.Type.Decibels,convert:!1}),this.attack=new t.Param(this._compressor.attack,t.Type.Time),this.release=new t.Param(this._compressor.release,t.Type.Time),this.knee=new t.Param({param:this._compressor.knee,units:t.Type.Decibels,convert:!1}),this.ratio=new t.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(e)},t.extend(t.Compressor),t.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},t.Compressor.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},t.Compressor}),e(function(t){return t.Add=function(e){this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new t.Gain,this._param=this.input[1]=new t.Signal(e),this._param.connect(this._sum)},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this._param.dispose(),this._param=null,this},t.Add}),e(function(t){return t.Multiply=function(e){this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new t.Gain,this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(e,0)},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},t.Multiply}),e(function(t){return t.Negate=function(){this._multiply=this.input=this.output=new t.Multiply(-1)},t.extend(t.Negate,t.SignalBase),t.Negate.prototype.dispose=function(){return t.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},t.Negate}),e(function(t){return t.Subtract=function(e){this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new t.Gain,this._neg=new t.Negate,this._param=this.input[1]=new t.Signal(e),this._param.chain(this._neg,this._sum)},t.extend(t.Subtract,t.Signal),t.Subtract.prototype.dispose=function(){return t.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},t.Subtract}),e(function(t){return t.GreaterThanZero=function(){this._thresh=this.output=new t.WaveShaper(function(t){return t<=0?0:1},127),this._scale=this.input=new t.Multiply(1e4),this._scale.connect(this._thresh)},t.extend(t.GreaterThanZero,t.SignalBase),t.GreaterThanZero.prototype.dispose=function(){return t.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.GreaterThanZero}),e(function(t){return t.GreaterThan=function(e){this.createInsOuts(2,0),this._param=this.input[0]=new t.Subtract(e),this.input[1]=this._param.input[1],this._gtz=this.output=new t.GreaterThanZero,this._param.connect(this._gtz)},t.extend(t.GreaterThan,t.Signal),t.GreaterThan.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},t.GreaterThan}),e(function(t){return t.Abs=function(){this._abs=this.input=this.output=new t.WaveShaper(function(t){return 0===t?0:Math.abs(t)},127)},t.extend(t.Abs,t.SignalBase),t.Abs.prototype.dispose=function(){return t.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},t.Abs}),e(function(t){return t.Modulo=function(e){this.createInsOuts(1,0),this._shaper=new t.WaveShaper(Math.pow(2,16)),this._multiply=new t.Multiply,this._subtract=this.output=new t.Subtract,this._modSignal=new t.Signal(e),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(e)},t.extend(t.Modulo,t.SignalBase),t.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap(function(e){var n=Math.floor((e+1e-4)/t);return n})},Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),t.Modulo.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},t.Modulo}),e(function(t){return t.AudioToGain=function(){this._norm=this.input=this.output=new t.WaveShaper(function(t){return(t+1)/2})},t.extend(t.AudioToGain,t.SignalBase),t.AudioToGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.AudioToGain}),e(function(t){function e(t,e,n){var i=new t;return n._eval(e[0]).connect(i,0,0),n._eval(e[1]).connect(i,0,1),i}function n(t,e,n){var i=new t;return n._eval(e[0]).connect(i,0,0),i}function i(t){return t?parseFloat(t):void 0}function r(t){return t&&t.args?parseFloat(t.args):void 0}return t.Expr=function(){var t=this._replacements(Array.prototype.slice.call(arguments)),e=this._parseInputs(t);this._nodes=[],this.input=new Array(e);for(var n=0;n<e;n++)this.input[n]=this.context.createGain();var i,r=this._parseTree(t);try{i=this._eval(r)}catch(e){throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+t)}this.output=i},t.extend(t.Expr,t.SignalBase),t.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(e){var n=new t.Signal(i(e));return n}},input:{regexp:/^\$\d/,method:function(t,e){return e.input[i(t.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:n.bind(this,t.Abs)},mod:{regexp:/^mod/,method:function(e,n){var i=r(e[1]),o=new t.Modulo(i);return n._eval(e[0]).connect(o),o}},pow:{regexp:/^pow/,method:function(e,n){var i=r(e[1]),o=new t.Pow(i);return n._eval(e[0]).connect(o),o}},a2g:{regexp:/^a2g/,method:function(e,n){var i=new t.AudioToGain;return n._eval(e[0]).connect(i),i}}},binary:{"+":{regexp:/^\+/,precedence:1,method:e.bind(this,t.Add)},"-":{regexp:/^\-/,precedence:1,method:function(i,r){return 1===i.length?n(t.Negate,i,r):e(t.Subtract,i,r)}},"*":{regexp:/^\*/,precedence:0,method:e.bind(this,t.Multiply)}},unary:{"-":{regexp:/^\-/,method:n.bind(this,t.Negate)},"!":{regexp:/^\!/,method:n.bind(this,t.NOT)}}},t.Expr.prototype._parseInputs=function(t){var e=t.match(/\$\d/g),n=0;if(null!==e)for(var i=0;i<e.length;i++){var r=parseInt(e[i].substr(1))+1;n=Math.max(n,r)}return n},t.Expr.prototype._replacements=function(t){for(var e=t.shift(),n=0;n<t.length;n++)e=e.replace(/\%/i,t[n]);return e},t.Expr.prototype._tokenize=function(e){function n(e){for(var n in t.Expr._Expressions){var i=t.Expr._Expressions[n];for(var r in i){var o=i[r],s=o.regexp,a=e.match(s);if(null!==a)return{type:n,value:a[0],method:o.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+e)}for(var i=-1,r=[];e.length>0;){e=e.trim();var o=n(e);r.push(o),e=e.substr(o.value.length)}return{next:function(){return r[++i]},peek:function(){return r[i+1]}}},t.Expr.prototype._parseTree=function(e){function n(t,e){return!c(t)&&"glue"===t.type&&t.value===e}function i(e,n,i){var r=!1,o=t.Expr._Expressions[n];if(!c(e))for(var s in o){var a=o[s];if(a.regexp.test(e.value)){if(c(i))return!0;if(a.precedence===i)return!0}}return r}function r(t){c(t)&&(t=5);var e;e=t<0?o():r(t-1);for(var n=l.peek();i(n,"binary",t);)n=l.next(),e={operator:n.value,method:n.method,args:[e,r(t-1)]},n=l.peek();return e}function o(){var t,e;return t=l.peek(),i(t,"unary")?(t=l.next(),e=o(),{operator:t.value,method:t.method,args:[e]}):s()}function s(){var t,e;if(t=l.peek(),c(t))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if("func"===t.type)return t=l.next(),a(t);if("value"===t.type)return t=l.next(),{method:t.method,args:t.value};if(n(t,"(")){if(l.next(),e=r(),t=l.next(),!n(t,")"))throw new SyntaxError("Expected )");return e}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+t.value)}function a(t){var e,i=[];if(e=l.next(),!n(e,"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+t.value+'"');if(e=l.peek(),n(e,")")||(i=u()),e=l.next(),!n(e,")"))throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+t.value+'"');return{method:t.method,args:i,name:name}}function u(){for(var t,e,i=[];;){if(e=r(),c(e))break;if(i.push(e),t=l.peek(),!n(t,","))break;l.next()}return i}var l=this._tokenize(e),c=this.isUndef.bind(this);return r()},t.Expr.prototype._eval=function(t){if(!this.isUndef(t)){var e=t.method(t.args,this);return this._nodes.push(e),e}},t.Expr.prototype._disposeNodes=function(){for(var t=0;t<this._nodes.length;t++){var e=this._nodes[t];this.isFunction(e.dispose)?e.dispose():this.isFunction(e.disconnect)&&e.disconnect(),e=null,this._nodes[t]=null}this._nodes=null},t.Expr.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposeNodes()},t.Expr}),e(function(t){return t.EqualPowerGain=function(){this._eqPower=this.input=this.output=new t.WaveShaper(function(t){return Math.abs(t)<.001?0:this.equalPowerScale(t)}.bind(this),4096)},t.extend(t.EqualPowerGain,t.SignalBase),t.EqualPowerGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},t.EqualPowerGain}),e(function(t){return t.CrossFade=function(e){this.createInsOuts(2,1),this.a=this.input[0]=new t.Gain,this.b=this.input[1]=new t.Gain,this.fade=new t.Signal(this.defaultArg(e,.5),t.Type.NormalRange),this._equalPowerA=new t.EqualPowerGain,this._equalPowerB=new t.EqualPowerGain,this._invert=new t.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},t.extend(t.CrossFade),t.CrossFade.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},t.CrossFade}),e(function(t){return t.Filter=function(){this.createInsOuts(1,1);var e=this.optionsObject(arguments,["frequency","type","rolloff"],t.Filter.defaults);this._filters=[],this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(0,t.Type.Cents),this.gain=new t.Signal({value:e.gain,convert:!1}),this.Q=new t.Signal(e.Q),this._type=e.type,this._rolloff=e.rolloff,this.rolloff=e.rolloff,this._readOnly(["detune","frequency","gain","Q"])},t.extend(t.Filter),t.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(t.Filter.prototype,"type",{get:function(){return this._type},set:function(t){var e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];if(e.indexOf(t)===-1)throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var n=0;n<this._filters.length;n++)this._filters[n].type=t}}),Object.defineProperty(t.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(t){t=parseInt(t,10);var e=[-12,-24,-48,-96],n=e.indexOf(t);if(n===-1)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");n+=1,this._rolloff=t,this.input.disconnect();for(var i=0;i<this._filters.length;i++)this._filters[i].disconnect(),this._filters[i]=null;this._filters=new Array(n);for(var r=0;r<n;r++){var o=this.context.createBiquadFilter();o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[r]=o}var s=[this.input].concat(this._filters).concat([this.output]);this.connectSeries.apply(this,s)}}),t.Filter.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e=0;e<this._filters.length;e++)this._filters[e].disconnect(),this._filters[e]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},t.Filter}),e(function(t){return t.MultibandSplit=function(){var e=this.optionsObject(arguments,["lowFrequency","highFrequency"],t.MultibandSplit.defaults);this.input=new t.Gain,this.output=new Array(3),this.low=this.output[0]=new t.Filter(0,"lowpass"),this._lowMidFilter=new t.Filter(0,"highpass"),this.mid=this.output[1]=new t.Filter(0,"lowpass"),this.high=this.output[2]=new t.Filter(0,"highpass"),this.lowFrequency=new t.Signal(e.lowFrequency,t.Type.Frequency),this.highFrequency=new t.Signal(e.highFrequency,t.Type.Frequency),this.Q=new t.Signal(e.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandSplit),t.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},t.MultibandSplit.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},t.MultibandSplit}),e(function(t){return t.EQ3=function(){var e=this.optionsObject(arguments,["low","mid","high"],t.EQ3.defaults);this.output=new t.Gain,this._multibandSplit=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this._lowGain=new t.Gain(e.low,t.Type.Decibels),this._midGain=new t.Gain(e.mid,t.Type.Decibels),this._highGain=new t.Gain(e.high,t.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},t.extend(t.EQ3),t.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},t.EQ3.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},t.EQ3}),e(function(t){return t.Scale=function(e,n){this._outputMin=this.defaultArg(e,0),this._outputMax=this.defaultArg(n,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}),e(function(t){return t.ScaleExp=function(e,n,i){this._scale=this.output=new t.Scale(e,n),this._exp=this.input=new t.Pow(this.defaultArg(i,2)),this._exp.connect(this._scale)},t.extend(t.ScaleExp,t.SignalBase),Object.defineProperty(t.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(t.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),t.ScaleExp.prototype.dispose=function(){return t.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaleExp}),e(function(t){return window.DelayNode&&!AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),t.Delay=function(){var e=this.optionsObject(arguments,["delayTime","maxDelay"],t.Delay.defaults);this._delayNode=this.input=this.output=this.context.createDelay(this.toSeconds(e.maxDelay)),this.delayTime=new t.Param({param:this._delayNode.delayTime,units:t.Type.Time,value:e.delayTime}),this._readOnly("delayTime")},t.extend(t.Delay),t.Delay.defaults={maxDelay:1,delayTime:0},t.Delay.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},t.Delay}),e(function(t){return t.FeedbackCombFilter=function(){var e=this.optionsObject(arguments,["delayTime","resonance"],t.FeedbackCombFilter.defaults);this._delay=this.input=this.output=new t.Delay(e.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new t.Gain(e.resonance,t.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},t.extend(t.FeedbackCombFilter),t.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},t.FeedbackCombFilter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},t.FeedbackCombFilter}),e(function(t){return t.Follower=function(){this.createInsOuts(1,1);var e=this.optionsObject(arguments,["attack","release"],t.Follower.defaults);this._abs=new t.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=-100,this._frequencyValues=new t.WaveShaper,this._sub=new t.Subtract,this._delay=new t.Delay(this.blockTime),this._mult=new t.Multiply(1e4),this._attack=e.attack,this._release=e.release,this.input.chain(this._abs,this._filter,this.output),this._abs.connect(this._sub,0,1),this._filter.chain(this._delay,this._sub),this._sub.chain(this._mult,this._frequencyValues,this._filter.frequency),this._setAttackRelease(this._attack,this._release)},t.extend(t.Follower),t.Follower.defaults={attack:.05,release:.5},t.Follower.prototype._setAttackRelease=function(e,n){var i=this.blockTime;e=t.Time(e).toFrequency(),n=t.Time(n).toFrequency(),e=Math.max(e,i),n=Math.max(n,i),this._frequencyValues.setMap(function(t){return t<=0?e:n})},Object.defineProperty(t.Follower.prototype,"attack",{get:function(){return this._attack},set:function(t){this._attack=t,this._setAttackRelease(this._attack,this._release)}}),Object.defineProperty(t.Follower.prototype,"release",{get:function(){return this._release},set:function(t){this._release=t,this._setAttackRelease(this._attack,this._release)}}),t.Follower.prototype.connect=t.Signal.prototype.connect,t.Follower.prototype.dispose=function(){return t.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._frequencyValues.disconnect(),this._frequencyValues=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this._mult.dispose(),this._mult=null,this._curve=null,this},t.Follower}),e(function(t){return t.ScaledEnvelope=function(){var e=this.optionsObject(arguments,["attack","decay","sustain","release"],t.Envelope.defaults);t.Envelope.call(this,e),e=this.defaultArg(e,t.ScaledEnvelope.defaults),this._exp=this.output=new t.Pow(e.exponent),this._scale=this.output=new t.Scale(e.min,e.max),this._sig.chain(this._exp,this._scale)},t.extend(t.ScaledEnvelope,t.Envelope),t.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(t.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(t.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),t.ScaledEnvelope.prototype.dispose=function(){return t.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},t.ScaledEnvelope}),e(function(t){return t.FrequencyEnvelope=function(){var e=this.optionsObject(arguments,["attack","decay","sustain","release"],t.Envelope.defaults);t.ScaledEnvelope.call(this,e),e=this.defaultArg(e,t.FrequencyEnvelope.defaults),this._octaves=e.octaves,this.baseFrequency=e.baseFrequency,this.octaves=e.octaves},t.extend(t.FrequencyEnvelope,t.Envelope),t.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:2},Object.defineProperty(t.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(t.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(t.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),t.FrequencyEnvelope.prototype.dispose=function(){return t.ScaledEnvelope.prototype.dispose.call(this),this},t.FrequencyEnvelope}),e(function(t){return t.Gate=function(){this.createInsOuts(1,1);var e=this.optionsObject(arguments,["threshold","attack","release"],t.Gate.defaults);this._follower=new t.Follower(e.attack,e.release),this._gt=new t.GreaterThan(this.dbToGain(e.threshold)),this.input.connect(this.output),this.input.chain(this._gt,this._follower,this.output.gain)},t.extend(t.Gate),t.Gate.defaults={attack:.1,release:.1,threshold:-40},Object.defineProperty(t.Gate.prototype,"threshold",{get:function(){return this.gainToDb(this._gt.value)},set:function(t){this._gt.value=this.dbToGain(t)}}),Object.defineProperty(t.Gate.prototype,"attack",{get:function(){return this._follower.attack},set:function(t){this._follower.attack=t}}),Object.defineProperty(t.Gate.prototype,"release",{get:function(){return this._follower.release},set:function(t){this._follower.release=t}}),t.Gate.prototype.dispose=function(){return t.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},t.Gate}),e(function(t){return t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){this.add({state:t,time:e})},t.TimelineState}),e(function(t){return t.Clock=function(){t.Emitter.call(this);var e=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=e.callback,this._nextTick=0,this._lastState=t.State.Stopped,this.frequency=new t.TimelineSignal(e.frequency,t.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},t.extend(t.Clock,t.Emitter),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),t.Clock.prototype.start=function(e,n){return e=this.toSeconds(e),this._state.getValueAtTime(e)!==t.State.Started&&this._state.add({state:t.State.Started,time:e,offset:n}),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(){for(var e=this.now(),n=this.context.lookAhead,i=this.context.updateInterval,r=2*this.context.lag,o=e+n+i+r;o>this._nextTick&&this._state;){var s=this._state.getValueAtTime(this._nextTick);if(s!==this._lastState){this._lastState=s;var a=this._state.get(this._nextTick);s===t.State.Started?(this._nextTick=a.time,this.isUndef(a.offset)||(this.ticks=a.offset),this.emit("start",a.time,this.ticks)):s===t.State.Stopped?(this.ticks=0,this.emit("stop",a.time)):s===t.State.Paused&&this.emit("pause",a.time)}var u=this._nextTick;this.frequency&&(this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),s===t.State.Started&&(this.callback(u),this.ticks++))}},t.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},t.Clock.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}),e(function(t){t.IntervalTimeline=function(){this._root=null,this._length=0},t.extend(t.IntervalTimeline),t.IntervalTimeline.prototype.add=function(t){if(this.isUndef(t.time)||this.isUndef(t.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");var n=new e(t.time,t.time+t.duration,t);for(null===this._root?this._root=n:this._root.insert(n),this._length++;null!==n;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this},t.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var n=0;n<e.length;n++){var i=e[n];if(i.event===t){this._removeNode(i),this._length--;break}}}return this},Object.defineProperty(t.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),t.IntervalTimeline.prototype.cancel=function(t){return this.forEachAfter(t,function(t){this.remove(t)}.bind(this)),this},t.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},t.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},t.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{
var e,n,i=t.getBalance();if(i>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent=e.parent,e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(n)}t.dispose()},t.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,n=t.isLeftChild(),i=t.right;t.right=i.left,i.left=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},t.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,n=t.isLeftChild(),i=t.left;t.left=i.right,i.right=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},t.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},t.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var n=e[0],i=1;i<e.length;i++)e[i].low>n.low&&(n=e[i]);return n.event}}return null},t.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];null!==this._root&&this._root.traverse(function(t){e.push(t)});for(var n=0;n<e.length;n++){var i=e[n].event;i&&t(i)}}return this},t.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var n=[];this._root.search(t,n);for(var i=n.length-1;i>=0;i--){var r=n[i].event;r&&e(r)}}return this},t.IntervalTimeline.prototype.forEachAfter=function(t,e){if(null!==this._root){var n=[];this._root.searchAfter(t,n);for(var i=n.length-1;i>=0;i--){var r=n[i].event;r&&e(r)}}return this},t.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse(function(e){t.push(e)});for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var e=function(t,e,n){this.event=n,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};return e.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},e.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},e.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},e.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},e.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},e.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},e.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},e.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),e.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},t.IntervalTimeline}),e(function(t){t.Transport=function(){t.Emitter.call(this),this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=e.defaults.PPQ,this._clock=new t.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=t.Type.BPM,this.bpm.value=e.defaults.bpm,this._readOnly("bpm"),this._timeSignature=e.defaults.timeSignature,this._scheduledEvents={},this._eventID=0,this._timeline=new t.Timeline,this._repeatedEvents=new t.IntervalTimeline,this._onceEvents=new t.Timeline,this._syncedSignals=[],this._swingTicks=e.defaults.PPQ/2,this._swingAmount=0},t.extend(t.Transport,t.Emitter),t.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},t.Transport.prototype._processTick=function(e){var n=this._clock.ticks;if(this._swingAmount>0&&n%this._ppq!==0&&n%(2*this._swingTicks)!==0){var i=n%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(i*Math.PI)*this._swingAmount;e+=t.Time(2*this._swingTicks/3,"i")*r}this.loop&&n===this._loopEnd&&(this.emit("loopEnd",e),this._clock.ticks=this._loopStart,n=this._loopStart,this.emit("loopStart",e,this.seconds),this.emit("loop",e)),this._onceEvents.forEachBefore(n,function(t){t.callback(e),delete this._scheduledEvents[t.id.toString()]}.bind(this)),this._onceEvents.cancelBefore(n),this._timeline.forEachAtTime(n,function(t){t.callback(e)}),this._repeatedEvents.forEachAtTime(n,function(t){(n-t.time)%t.interval===0&&t.callback(e)})},t.Transport.prototype.schedule=function(t,e){var n={time:this.toTicks(e),callback:t},i=this._eventID++;return this._scheduledEvents[i.toString()]={event:n,timeline:this._timeline},this._timeline.add(n),i},t.Transport.prototype.scheduleRepeat=function(t,e,n,i){if(e<=0)throw new Error("Tone.Transport: repeat events must have an interval larger than 0");var r={time:this.toTicks(n),duration:this.toTicks(this.defaultArg(i,1/0)),interval:this.toTicks(e),callback:t},o=this._eventID++;return this._scheduledEvents[o.toString()]={event:r,timeline:this._repeatedEvents},this._repeatedEvents.add(r),o},t.Transport.prototype.scheduleOnce=function(t,e){var n=this._eventID++,i={time:this.toTicks(e),callback:t,id:n};return this._scheduledEvents[n.toString()]={event:i,timeline:this._onceEvents},this._onceEvents.add(i),n},t.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),delete this._scheduledEvents[t.toString()]}return this},t.Transport.prototype.cancel=function(t){return t=this.defaultArg(t,0),t=this.toTicks(t),this._timeline.cancel(t),this._onceEvents.cancel(t),this._repeatedEvents.cancel(t),this},t.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(e,n){n=t.Time(this._clock.ticks,"i").toSeconds(),this.emit("start",e,n)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(t.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),t.Transport.prototype.start=function(t,e){return this.isUndef(e)||(e=this.toTicks(e)),this._clock.start(t,e),this},t.Transport.prototype.stop=function(t){return this._clock.stop(t),this},t.Transport.prototype.pause=function(t){return this._clock.pause(t),this},Object.defineProperty(t.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){this.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(t.Transport.prototype,"loopStart",{get:function(){return t.TransportTime(this._loopStart,"i").toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"loopEnd",{get:function(){return t.TransportTime(this._loopEnd,"i").toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),t.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(t.Transport.prototype,"swingSubdivision",{get:function(){return t.Time(this._swingTicks,"i").toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(t.Transport.prototype,"position",{get:function(){return t.TransportTime(this.ticks,"i").toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"seconds",{get:function(){return t.TransportTime(this.ticks,"i").toSeconds()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(t.Transport.prototype,"progress",{get:function(){return this.loop?(this.ticks-this._loopStart)/(this._loopEnd-this._loopStart):0}}),Object.defineProperty(t.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(e){if(this._clock.ticks!==e){var n=this.now();this.state===t.State.Started?(this.emit("stop",n),this._clock.ticks=e,this.emit("start",n,this.seconds)):this._clock.ticks=e}}}),Object.defineProperty(t.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),Object.defineProperty(t.Transport.prototype,"latencyHint",{get:function(){return t.Clock.latencyHint},set:function(e){t.Clock.latencyHint=e}}),t.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},t.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},t.Transport.prototype.nextSubdivision=function(e){e=this.toSeconds(e);var n;if(this.state!==t.State.Started)return 0;n=this._clock._nextTick;var i=t.Time(this.ticks,"i"),r=e-i%e;return 0===r&&(r=e),n+r},t.Transport.prototype.syncSignal=function(e,n){n||(n=0!==e._param.value?e._param.value/this.bpm._param.value:0);var i=new t.Gain(n);return this.bpm.chain(i,e._param),this._syncedSignals.push({ratio:i,signal:e,initial:e._param.value}),e._param.value=0,this},t.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal._param.value=n.initial,this._syncedSignals.splice(e,1))}return this},t.Transport.prototype.dispose=function(){return t.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._onceEvents.dispose(),this._onceEvents=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var e=t.Transport;return t.Transport=new e,t.Context.on("init",function(n){n.Transport instanceof e?t.Transport=n.Transport:(t.Transport=new e,n.Transport=t.Transport)}),t.Transport}),e(function(t){return t.Volume=function(){var e=this.optionsObject(arguments,["volume"],t.Volume.defaults);this.output=this.input=new t.Gain(e.volume,t.Type.Decibels),this._unmutedVolume=e.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=e.mute},t.extend(t.Volume),t.Volume.defaults={volume:0,mute:!1},Object.defineProperty(t.Volume.prototype,"mute",{get:function(){return this.volume.value===-(1/0)},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-(1/0)):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),t.Volume.prototype.dispose=function(){return this.input.dispose(),t.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},t.Volume}),e(function(t){t.Master=function(){this.createInsOuts(1,1),this._volume=this.output=new t.Volume,this.volume=this._volume.volume,this._readOnly("volume"),this.input.chain(this.output,this.context.destination)},t.extend(t.Master),t.Master.defaults={volume:0,mute:!1},Object.defineProperty(t.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.Master.prototype.chain=function(){this.input.disconnect(),this.input.chain.apply(this.input,arguments),arguments[arguments.length-1].connect(this.output)},t.Master.prototype.dispose=function(){t.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},t.prototype.toMaster=function(){return this.connect(t.Master),this},AudioNode.prototype.toMaster=function(){return this.connect(t.Master),this};var e=t.Master;return t.Master=new e,t.Context.on("init",function(n){n.Master instanceof e?t.Master=n.Master:t.Master=new e,n.Master=t.Master}),t.Master}),e(function(t){return t.Source=function(e){e=this.defaultArg(e,t.Source.defaults),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new t.TimelineState(t.State.Stopped),this._state.memory=10,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=e.mute},t.extend(t.Source),t.Source.defaults={volume:0,mute:!1},Object.defineProperty(t.Source.prototype,"state",{get:function(){return this._synced?t.Transport.state===t.State.Started?this._state.getValueAtTime(t.Transport.seconds):t.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(t.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.Source.prototype._start=t.noOp,t.Source.prototype._stop=t.noOp,t.Source.prototype.start=function(e,n,i){if(e=this.isUndef(e)&&this._synced?t.Transport.seconds:this.toSeconds(e),this.retrigger||this._state.getValueAtTime(e)!==t.State.Started||this.stop(e),this._state.setStateAtTime(t.State.Started,e),this._synced){var r=this._state.get(e);r.offset=this.defaultArg(n,0),r.duration=i;var o=t.Transport.schedule(function(t){this._start(t,n,i)}.bind(this),e);this._scheduled.push(o)}else this._start.apply(this,arguments);return this},t.Source.prototype.stop=function(e){if(e=this.isUndef(e)&&this._synced?t.Transport.seconds:this.toSeconds(e),this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this._synced){var n=t.Transport.schedule(this._stop.bind(this),e);this._scheduled.push(n)}else this._stop.apply(this,arguments);return this},t.Source.prototype.sync=function(){return this._synced=!0,t.Transport.on("start loopStart",function(e,n){if(n>0){var i=this._state.get(n);if(i&&i.state===t.State.Started&&i.time!==n){var r,o=n-this.toSeconds(i.time);i.duration&&(r=this.toSeconds(i.duration)-o),this._start(e,this.toSeconds(i.offset)+o,r)}}}.bind(this)),t.Transport.on("stop pause loopEnd",function(e){this._state.getValueAtTime(t.Transport.seconds)===t.State.Started&&this._stop(e)}.bind(this)),this},t.Source.prototype.unsync=function(){this._synced=!1,t.Transport.off("start stop pause loopEnd loopStart");for(var e=0;e<this._scheduled.length;e++){var n=this._scheduled[e];t.Transport.clear(n)}return this._scheduled=[],this._state.cancel(0),this},t.Source.prototype.dispose=function(){t.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},t.Source}),e(function(t){return window.OscillatorNode&&!OscillatorNode.prototype.start&&(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn,OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff,OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable)),t.Oscillator=function(){var e=this.optionsObject(arguments,["frequency","type"],t.Oscillator.defaults);t.Source.call(this,e),this._oscillator=null,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._wave=null,this._partials=this.defaultArg(e.partials,[1]),this._phase=e.phase,this._type=null,this.type=e.type,this.phase=this._phase,this._readOnly(["frequency","detune"])},t.extend(t.Oscillator,t.Source),t.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[]},t.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},t.Oscillator.prototype._start=function(t){this._oscillator=this.context.createOscillator(),this._oscillator.setPeriodicWave(this._wave),this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(this.toSeconds(t))},t.Oscillator.prototype._stop=function(t){return this._oscillator&&(this._oscillator.stop(this.toSeconds(t)),this._oscillator=null),this},t.Oscillator.prototype.syncFrequency=function(){return t.Transport.syncSignal(this.frequency),this},t.Oscillator.prototype.unsyncFrequency=function(){return t.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(t.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=this._getRealImaginary(t,this._phase),n=this.context.createPeriodicWave(e[0],e[1]);this._wave=n,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),this._type=t}}),t.Oscillator.prototype._getRealImaginary=function(e,n){var i=4096,r=i/2,o=new Float32Array(r),s=new Float32Array(r),a=1;if(e===t.Oscillator.Type.Custom)a=this._partials.length+1,r=a;else{var u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);u&&(a=parseInt(u[2])+1,e=u[1],a=Math.max(a,2),r=a)}for(var l=1;l<r;++l){var c,h=2/(l*Math.PI);switch(e){case t.Oscillator.Type.Sine:c=l<=a?1:0;break;case t.Oscillator.Type.Square:c=1&l?2*h:0;break;case t.Oscillator.Type.Sawtooth:c=h*(1&l?1:-1);break;case t.Oscillator.Type.Triangle:c=1&l?2*(h*h)*(l-1>>1&1?-1:1):0;break;case t.Oscillator.Type.Custom:c=this._partials[l-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+e)}0!==c?(o[l]=-c*Math.sin(n*l),s[l]=c*Math.cos(n*l)):(o[l]=0,s[l]=0)}return[o,s]},t.Oscillator.prototype._inverseFFT=function(t,e,n){for(var i=0,r=t.length,o=0;o<r;o++)i+=t[o]*Math.cos(o*n)+e[o]*Math.sin(o*n);return i},t.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],n=t[1],i=0,r=2*Math.PI,o=0;o<8;o++)i=Math.max(this._inverseFFT(e,n,o/8*r),i);return-this._inverseFFT(e,n,this._phase)/i},Object.defineProperty(t.Oscillator.prototype,"partials",{get:function(){return this._type!==t.Oscillator.Type.Custom?[]:this._partials},set:function(e){this._partials=e,this.type=t.Oscillator.Type.Custom}}),Object.defineProperty(t.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),t.Oscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.disconnect(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},t.Oscillator}),e(function(t){return t.Zero=function(){this._gain=this.input=this.output=new t.Gain,this.context.getConstant(0).connect(this._gain)},t.extend(t.Zero),t.Zero.prototype.dispose=function(){return t.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},t.Zero}),e(function(t){return t.LFO=function(){var e=this.optionsObject(arguments,["frequency","min","max"],t.LFO.defaults);this._oscillator=new t.Oscillator({frequency:e.frequency,type:e.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=t.Type.NormalRange,this.amplitude.value=e.amplitude,this._stoppedSignal=new t.Signal(0,t.Type.AudioRange),this._zeros=new t.Zero,this._stoppedValue=0,this._a2g=new t.AudioToGain,this._scaler=this.output=new t.Scale(e.min,e.max),this._units=t.Type.Default,this.units=e.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=e.phase},t.extend(t.LFO,t.Oscillator),t.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:t.Type.Default},t.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},t.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},t.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},t.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(t.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(t.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(t.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(t.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(t.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}}),Object.defineProperty(t.LFO.prototype,"mute",{get:function(){return this._oscillator.mute},set:function(t){this._oscillator.mute=t}}),Object.defineProperty(t.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),t.LFO.prototype.connect=function(e){return e.constructor!==t.Signal&&e.constructor!==t.Param&&e.constructor!==t.TimelineSignal||(this.convert=e.convert,this.units=e.units),t.Signal.prototype.connect.apply(this,arguments),this},t.LFO.prototype._fromUnits=t.Param.prototype._fromUnits,t.LFO.prototype._toUnits=t.Param.prototype._toUnits,t.LFO.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},t.LFO}),e(function(t){return t.Limiter=function(){var e=this.optionsObject(arguments,["threshold"],t.Limiter.defaults);this._compressor=this.input=this.output=new t.Compressor({attack:.001,decay:.001,threshold:e.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},t.extend(t.Limiter),t.Limiter.defaults={threshold:-12},t.Limiter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},t.Limiter}),e(function(t){return t.LowpassCombFilter=function(){this.createInsOuts(1,1);var e=this.optionsObject(arguments,["delayTime","resonance","dampening"],t.LowpassCombFilter.defaults);this._delay=this.input=new t.Delay(e.delayTime),this.delayTime=this._delay.delayTime,this._lowpass=this.output=this.context.createBiquadFilter(),this._lowpass.Q.value=-3.0102999566398125,this._lowpass.type="lowpass",this.dampening=new t.Param({param:this._lowpass.frequency,units:t.Type.Frequency,value:e.dampening}),this._feedback=new t.Gain(e.resonance,t.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._lowpass,this._feedback,this._delay),this._readOnly(["dampening","resonance","delayTime"])},t.extend(t.LowpassCombFilter),t.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},t.LowpassCombFilter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this.dampening.dispose(),this.dampening=null,this.resonance.dispose(),this.resonance=null,this._delay.dispose(),this._delay=null,this.delayTime=null,this._lowpass.disconnect(),this._lowpass=null,this._feedback.disconnect(),this._feedback=null,this},t.LowpassCombFilter}),e(function(t){return t.Merge=function(){this.createInsOuts(2,0),this.left=this.input[0]=new t.Gain,this.right=this.input[1]=new t.Gain,this._merger=this.output=this.context.createChannelMerger(2),this.left.connect(this._merger,0,0),this.right.connect(this._merger,0,1),this.left.channelCount=1,this.right.channelCount=1,this.left.channelCountMode="explicit",this.right.channelCountMode="explicit"},t.extend(t.Merge),t.Merge.prototype.dispose=function(){return t.prototype.dispose.call(this),this.left.dispose(),this.left=null,this.right.dispose(),this.right=null,this._merger.disconnect(),this._merger=null,this},t.Merge}),e(function(t){return t.Meter=function(){var e=this.optionsObject(arguments,["type","smoothing"],t.Meter.defaults);this.type=e.type,this.input=this.output=this._analyser=new t.Analyser("waveform",512),this._analyser.returnType="float",this.smoothing=e.smoothing,this._lastValue=0},t.extend(t.Meter),t.Meter.Type={Level:"level",Signal:"signal"},t.Meter.defaults={smoothing:.8,type:t.Meter.Type.Level},Object.defineProperty(t.Meter.prototype,"value",{get:function(){var e=this._analyser.analyse();if(this.type===t.Meter.Type.Level){for(var n=0,i=0;i<e.length;i++)n+=Math.pow(e[i],2);var r=Math.sqrt(n/e.length);r=Math.max(r,this._lastValue*this.smoothing),this._lastValue=r;var o=.35,s=r/o;return Math.sqrt(s)}return e[0]}}),t.Meter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},t.Meter}),e(function(t){return t.Split=function(){this.createInsOuts(0,2),this._splitter=this.input=this.context.createChannelSplitter(2),this.left=this.output[0]=new t.Gain,this.right=this.output[1]=new t.Gain,this._splitter.connect(this.left,0,0),this._splitter.connect(this.right,1,0)},t.extend(t.Split),t.Split.prototype.dispose=function(){return t.prototype.dispose.call(this),this._splitter.disconnect(),this.left.dispose(),this.left=null,this.right.dispose(),this.right=null,this._splitter=null,this},t.Split}),e(function(t){return t.MidSideSplit=function(){this.createInsOuts(0,2),this._split=this.input=new t.Split,this.mid=this.output[0]=new t.Expr("($0 + $1) * $2"),this.side=this.output[1]=new t.Expr("($0 - $1) * $2"),this._split.connect(this.mid,0,0),this._split.connect(this.mid,1,1),this._split.connect(this.side,0,0),this._split.connect(this.side,1,1),this.context.getConstant(Math.SQRT1_2).connect(this.mid,0,2),this.context.getConstant(Math.SQRT1_2).connect(this.side,0,2)},t.extend(t.MidSideSplit),t.MidSideSplit.prototype.dispose=function(){return t.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._split.dispose(),this._split=null,this},t.MidSideSplit}),e(function(t){return t.MidSideMerge=function(){this.createInsOuts(2,0),this.mid=this.input[0]=new t.Gain,this._left=new t.Expr("($0 + $1) * $2"),this.side=this.input[1]=new t.Gain,this._right=new t.Expr("($0 - $1) * $2"),this._merge=this.output=new t.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._merge,0,0),this._right.connect(this._merge,0,1),this.context.getConstant(Math.SQRT1_2).connect(this._left,0,2),this.context.getConstant(Math.SQRT1_2).connect(this._right,0,2)},t.extend(t.MidSideMerge),t.MidSideMerge.prototype.dispose=function(){return t.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._right.dispose(),this._right=null,this._merge.dispose(),this._merge=null,this},t.MidSideMerge}),e(function(t){return t.MidSideCompressor=function(e){e=this.defaultArg(e,t.MidSideCompressor.defaults),this._midSideSplit=this.input=new t.MidSideSplit,this._midSideMerge=this.output=new t.MidSideMerge,this.mid=new t.Compressor(e.mid),this.side=new t.Compressor(e.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},t.extend(t.MidSideCompressor),t.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},t.MidSideCompressor.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},t.MidSideCompressor}),e(function(t){return t.Mono=function(){this.createInsOuts(1,0),this._merge=this.output=new t.Merge,this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1),this.input.gain.value=this.dbToGain(-10)},t.extend(t.Mono),t.Mono.prototype.dispose=function(){return t.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},t.Mono}),e(function(t){return t.MultibandCompressor=function(e){e=this.defaultArg(arguments,t.MultibandCompressor.defaults),this._splitter=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new t.Gain,this.low=new t.Compressor(e.low),this.mid=new t.Compressor(e.mid),this.high=new t.Compressor(e.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},t.extend(t.MultibandCompressor),t.MultibandCompressor.defaults={low:t.Compressor.defaults,mid:t.Compressor.defaults,high:t.Compressor.defaults,lowFrequency:250,highFrequency:2e3},t.MultibandCompressor.prototype.dispose=function(){return t.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},t.MultibandCompressor}),e(function(t){return t.Panner=function(e){this._hasStereoPanner?(this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan):(this._crossFade=new t.CrossFade,this._merger=this.output=new t.Merge,this._splitter=this.input=new t.Split,this.pan=new t.Signal(0,t.Type.AudioRange),this._zero=new t.Zero,this._a2g=new t.AudioToGain,this._zero.connect(this._a2g),this.pan.chain(this._a2g,this._crossFade.fade),this._splitter.connect(this._crossFade,0,0),this._splitter.connect(this._crossFade,1,1),this._crossFade.a.connect(this._merger,0,0),this._crossFade.b.connect(this._merger,0,1)),this.pan.value=this.defaultArg(e,0),this._readOnly("pan")},t.extend(t.Panner),t.Panner.prototype._hasStereoPanner=t.prototype.isFunction(t.context.createStereoPanner),t.Panner.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("pan"),this._hasStereoPanner?(this._panner.disconnect(),this._panner=null,this.pan=null):(this._zero.dispose(),this._zero=null,this._crossFade.dispose(),this._crossFade=null,this._splitter.dispose(),this._splitter=null,this._merger.dispose(),this._merger=null,this.pan.dispose(),this.pan=null,this._a2g.dispose(),this._a2g=null),this},t.Panner}),e(function(t){return t.Panner3D=function(){var e=this.optionsObject(arguments,["positionX","positionY","positionZ"],t.Panner3D.defaults);this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=e.panningModel,this._panner.maxDistance=e.maxDistance,this._panner.distanceModel=e.distanceModel,
this._panner.coneOuterGain=e.coneOuterGain,this._panner.coneOuterAngle=e.coneOuterAngle,this._panner.coneInnerAngle=e.coneInnerAngle,this._panner.refDistance=e.refDistance,this._panner.rolloffFactor=e.rolloffFactor,this._orientation=[e.orientationX,e.orientationY,e.orientationZ],this._position=[e.positionX,e.positionY,e.positionZ],this.orientationX=e.orientationX,this.orientationY=e.orientationY,this.orientationZ=e.orientationZ,this.positionX=e.positionX,this.positionY=e.positionY,this.positionZ=e.positionZ},t.extend(t.Panner3D),t.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},t.Panner3D.prototype._rampTimeConstant=.01,t.Panner3D.prototype.setPosition=function(t,e,n){if(this._panner.positionX){var i=this.now();this._panner.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},t.Panner3D.prototype.setOrientation=function(t,e,n){if(this._panner.orientationX){var i=this.now();this._panner.orientationX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setOrientation(t,e,n);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(t.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(t.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(t.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(t.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(t.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(t.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),t.Panner3D._aliasProperty=function(e){Object.defineProperty(t.Panner3D.prototype,e,{set:function(t){this._panner[e]=t},get:function(){return this._panner[e]}})},t.Panner3D._aliasProperty("panningModel"),t.Panner3D._aliasProperty("refDistance"),t.Panner3D._aliasProperty("rolloffFactor"),t.Panner3D._aliasProperty("distanceModel"),t.Panner3D._aliasProperty("coneInnerAngle"),t.Panner3D._aliasProperty("coneOuterAngle"),t.Panner3D._aliasProperty("coneOuterGain"),t.Panner3D._aliasProperty("maxDistance"),t.Panner3D.prototype.dispose=function(){return this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},t.Panner3D}),e(function(t){return t.PanVol=function(){var e=this.optionsObject(arguments,["pan","volume"],t.PanVol.defaults);this._panner=this.input=new t.Panner(e.pan),this.pan=this._panner.pan,this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this._readOnly(["pan","volume"])},t.extend(t.PanVol),t.PanVol.defaults={pan:.5,volume:0},t.PanVol.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},t.PanVol}),e(function(t){return t.CtrlInterpolate=function(){var e=this.optionsObject(arguments,["values","index"],t.CtrlInterpolate.defaults);this.values=e.values,this.index=e.index},t.extend(t.CtrlInterpolate),t.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(t.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t),n=this.values[e],i=this.values[Math.ceil(t)];return this._interpolate(t-e,n,i)}}),t.CtrlInterpolate.prototype._interpolate=function(t,e,n){if(this.isArray(e)){for(var i=[],r=0;r<e.length;r++)i[r]=this._interpolate(t,e[r],n[r]);return i}if(this.isObject(e)){var o={};for(var s in e)o[s]=this._interpolate(t,e[s],n[s]);return o}return e=this._toNumber(e),n=this._toNumber(n),(1-t)*e+t*n},t.CtrlInterpolate.prototype._toNumber=function(t){return this.isNumber(t)?t:this.toSeconds(t)},t.CtrlInterpolate.prototype.dispose=function(){this.values=null},t.CtrlInterpolate}),e(function(t){return t.CtrlMarkov=function(t,e){this.values=this.defaultArg(t,{}),this.value=this.defaultArg(e,Object.keys(this.values)[0])},t.extend(t.CtrlMarkov),t.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var t=this.values[this.value];if(this.isArray(t))for(var e=this._getProbDistribution(t),n=Math.random(),i=0,r=0;r<e.length;r++){var o=e[r];if(n>i&&n<i+o){var s=t[r];this.isObject(s)?this.value=s.value:this.value=s}i+=o}else this.value=t}return this.value},t.CtrlMarkov.prototype._getProbDistribution=function(t){for(var e=[],n=0,i=!1,r=0;r<t.length;r++){var o=t[r];this.isObject(o)?(i=!0,e[r]=o.probability):e[r]=1/t.length,n+=e[r]}if(i)for(var s=0;s<e.length;s++)e[s]=e[s]/n;return e},t.CtrlMarkov.prototype.dispose=function(){this.values=null},t.CtrlMarkov}),e(function(t){return t.CtrlPattern=function(){var e=this.optionsObject(arguments,["values","type"],t.CtrlPattern.defaults);this.values=e.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=e.type},t.extend(t.CtrlPattern),t.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},t.CtrlPattern.defaults={type:t.CtrlPattern.Type.Up,values:[]},Object.defineProperty(t.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var e=this.values[this.index];return this.type===t.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),e=this.values[this._shuffled[this.index]]),e}}}),Object.defineProperty(t.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._shuffled=null,this._type===t.CtrlPattern.Type.Up||this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.RandomOnce||this._type===t.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==t.CtrlPattern.Type.Down&&this._type!==t.CtrlPattern.Type.DownUp&&this._type!==t.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.AlternateUp?this._direction=t.CtrlPattern.Type.Up:this._type!==t.CtrlPattern.Type.DownUp&&this._type!==t.CtrlPattern.Type.AlternateDown||(this._direction=t.CtrlPattern.Type.Down),this._type===t.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===t.CtrlPattern.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),t.CtrlPattern.prototype.next=function(){var e=this.type;return e===t.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):e===t.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):e===t.CtrlPattern.Type.UpDown||e===t.CtrlPattern.Type.DownUp?(this._direction===t.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=t.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=t.CtrlPattern.Type.Down)):e===t.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):e===t.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):e===t.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):e===t.CtrlPattern.Type.AlternateUp?(this._direction===t.CtrlPattern.Type.Up?(this.index+=2,this._direction=t.CtrlPattern.Type.Down):(this.index-=1,this._direction=t.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=t.CtrlPattern.Type.Up)):e===t.CtrlPattern.Type.AlternateDown&&(this._direction===t.CtrlPattern.Type.Up?(this.index+=1,this._direction=t.CtrlPattern.Type.Down):(this.index-=2,this._direction=t.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=t.CtrlPattern.Type.Down)),this.value},t.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;t.length>0;){var n=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(n[0])}},t.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},t.CtrlPattern}),e(function(t){return t.CtrlRandom=function(){var e=this.optionsObject(arguments,["min","max"],t.CtrlRandom.defaults);this.min=e.min,this.max=e.max,this.integer=e.integer},t.extend(t.CtrlRandom),t.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(t.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),n=Math.random(),i=n*t+(1-n)*e;return this.integer&&(i=Math.floor(i)),i}}),t.CtrlRandom}),e(function(t){return window.AudioBuffer&&!AudioBuffer.prototype.copyToChannel&&(AudioBuffer.prototype.copyToChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<i.length;r++)i[r+n]=t[r]},AudioBuffer.prototype.copyFromChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<i.length;r++)t[r]=i[r+n]}),t.Buffer=function(){var e=this.optionsObject(arguments,["url","onload","onerror"],t.Buffer.defaults);this._buffer=null,this._reversed=e.reverse,this._xhr=null,e.url instanceof AudioBuffer||e.url instanceof t.Buffer?(this.set(e.url),e.onload&&e.onload(this)):this.isString(e.url)&&this.load(e.url,e.onload,e.onerror)},t.extend(t.Buffer),t.Buffer.defaults={url:void 0,reverse:!1},t.Buffer.prototype.set=function(e){return e instanceof t.Buffer?this._buffer=e.get():this._buffer=e,this},t.Buffer.prototype.get=function(){return this._buffer},t.Buffer.prototype.load=function(e,n,i){var r=new Promise(function(r,o){this._xhr=t.Buffer.load(e,function(t){this._xhr=null,this.set(t),r(this),n&&n(this)}.bind(this),function(t){this._xhr=null,o(t),i&&i(t)}.bind(this))}.bind(this));return r},t.Buffer.prototype.dispose=function(){return t.Emitter.prototype.dispose.call(this),this._buffer=null,this._xhr&&(t.Buffer._currentDownloads--,this._xhr.abort(),this._xhr=null),this},Object.defineProperty(t.Buffer.prototype,"loaded",{get:function(){return this.length>0}}),Object.defineProperty(t.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(t.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(t.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),t.Buffer.prototype.fromArray=function(t){var e=t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,r=this.context.createBuffer(n,i,this.context.sampleRate);e||1!==n||(t=[t]);for(var o=0;o<n;o++)r.copyToChannel(t[o],o);return this._buffer=r,this},t.Buffer.prototype.toMono=function(t){if(this.isNumber(t))this.fromArray(this.toArray(t));else{for(var e=new Float32Array(this.length),n=this.numberOfChannels,i=0;i<n;i++)for(var r=this.toArray(i),o=0;o<r.length;o++)e[o]+=r[o];e=e.map(function(t){return t/n}),this.fromArray(e)}return this},t.Buffer.prototype.toArray=function(t){if(this.isNumber(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);for(var e=[],n=0;n<this.numberOfChannels;n++)e[n]=this.getChannelData(n);return e},t.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},t.Buffer.prototype.slice=function(e,n){n=this.defaultArg(n,this.duration);for(var i=Math.floor(this.context.sampleRate*this.toSeconds(e)),r=Math.floor(this.context.sampleRate*this.toSeconds(n)),o=[],s=0;s<this.numberOfChannels;s++)o[s]=this.toArray(s).slice(i,r);var a=(new t.Buffer).fromArray(o);return a},t.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(t.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),t.Emitter.mixin(t.Buffer),t.Buffer._downloadQueue=[],t.Buffer._currentDownloads=0,t.Buffer.baseUrl="",t.Buffer.load=function(e,n,i){function r(e){if(!i)throw new Error(e);i(e),t.Buffer.emit("error",e)}function o(){for(var e=0,n=0;n<t.Buffer._downloadQueue.length;n++)e+=t.Buffer._downloadQueue[n].progress;t.Buffer.emit("progress",e/t.Buffer._downloadQueue.length)}n=n||t.noOp;var s=new XMLHttpRequest;return s.open("GET",t.Buffer.baseUrl+e,!0),s.responseType="arraybuffer",s.progress=0,t.Buffer._currentDownloads++,t.Buffer._downloadQueue.push(s),s.addEventListener("load",function(){200===s.status?t.context.decodeAudioData(s.response,function(e){s.progress=1,o(),n(e),t.Buffer._currentDownloads--,0===t.Buffer._currentDownloads&&(t.Buffer._downloadQueue=[],t.Buffer.emit("load"))},function(){r("Tone.Buffer: could not decode audio data: "+e)}):r("Tone.Buffer: could not locate file: "+e)}),s.addEventListener("error",r),s.addEventListener("progress",function(t){t.lengthComputable&&(s.progress=t.loaded/t.total*.95,o())}),s.send(),s},t.Buffer.cancelDownloads=function(){return t.Buffer._downloadQueue.forEach(function(t){t.abort()}),t.Buffer._currentDownloads=0,t.Buffer},t.Buffer.supportsType=function(t){var e=t.split(".");e=e[e.length-1];var n=document.createElement("audio").canPlayType("audio/"+e);return""!==n},t.loaded=function(){function e(){t.Buffer.off("load",n),t.Buffer.off("error",i)}var n,i;return new Promise(function(e,r){n=function(){e()},i=function(){r()},t.Buffer.on("load",n),t.Buffer.on("error",i)}).then(e).catch(function(t){throw e(),new Error(t)})},t.Buffer}),e(function(t){return t.Buffers=function(t,e,n){this._buffers={},this.baseUrl=this.defaultArg(n,""),t=this._flattenUrls(t),this._loadingCount=0;for(var i in t)this._loadingCount++,this.add(i,t[i],this._bufferLoaded.bind(this,e))},t.extend(t.Buffers),t.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},t.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},t.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(t.Buffers.prototype,"loaded",{get:function(){var t=!0;for(var e in this._buffers){var n=this.get(e);t=t&&n.loaded}return t}}),t.Buffers.prototype.add=function(e,n,i){return i=this.defaultArg(i,t.noOp),n instanceof t.Buffer?(this._buffers[e]=n,i(this)):n instanceof AudioBuffer?(this._buffers[e]=new t.Buffer(n),i(this)):this.isString(n)&&(this._buffers[e]=new t.Buffer(this.baseUrl+n,i)),this},t.Buffers.prototype._flattenUrls=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n))if(this.isObject(t[n])){var i=this._flattenUrls(t[n]);for(var r in i)i.hasOwnProperty(r)&&(e[n+"."+r]=i[r])}else e[n]=t[n];return e},t.Buffers.prototype.dispose=function(){for(var t in this._buffers)this._buffers[t].dispose();return this._buffers=null,this},t.Buffers}),e(function(t){var e={};return t.prototype.send=function(n,i){e.hasOwnProperty(n)||(e[n]=this.context.createGain()),i=this.defaultArg(i,0);var r=new t.Gain(i,t.Type.Decibels);return this.output.chain(r,e[n]),r},t.prototype.receive=function(t,n){return e.hasOwnProperty(t)||(e[t]=this.context.createGain()),this.isUndef(n)&&(n=this.input),e[t].connect(n),this},t.Context.on("init",function(t){t.Buses?e=t.Buses:(e={},t.Buses=e)}),t}),e(function(t){return t.Draw=function(){this._events=new t.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},t.extend(t.Draw),t.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},t.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},t.Draw.prototype._drawLoop=function(){for(var e=t.now();this._events.length&&this._events.peek().time-this.anticipation<=e;){var n=this._events.shift();e-n.time<=this.expiration&&n.callback()}this._events.length>0&&requestAnimationFrame(this._boundDrawLoop)},t.Draw=new t.Draw,t.Draw}),e(function(t){t.Listener=function(){var t=this.optionsObject(arguments,["positionX","positionY","positionZ"],e.defaults);this._orientation=[t.forwardX,t.forwardY,t.forwardZ,t.upX,t.upY,t.upZ],this._position=[t.positionX,t.positionY,t.positionZ],this.forwardX=t.forwardX,this.forwardY=t.forwardY,this.forwardZ=t.forwardZ,this.upX=t.upX,this.upY=t.upY,this.upZ=t.upZ,this.positionX=t.positionX,this.positionY=t.positionY,this.positionZ=t.positionZ},t.extend(t.Listener),t.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},t.Listener.prototype._rampTimeConstant=.01,t.Listener.prototype.setPosition=function(t,e,n){if(this.context.listener.positionX){var i=this.now();this.context.listener.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this.context.listener.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this.context.listener.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this.context.listener.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},t.Listener.prototype.setOrientation=function(t,e,n,i,r,o){if(this.context.listener.forwardX){var s=this.now();this.context.listener.forwardX.setTargetAtTime(t,s,this._rampTimeConstant),this.context.listener.forwardY.setTargetAtTime(e,s,this._rampTimeConstant),this.context.listener.forwardZ.setTargetAtTime(n,s,this._rampTimeConstant),this.context.listener.upX.setTargetAtTime(i,s,this._rampTimeConstant),this.context.listener.upY.setTargetAtTime(r,s,this._rampTimeConstant),this.context.listener.upZ.setTargetAtTime(o,s,this._rampTimeConstant)}else this.context.listener.setOrientation(t,e,n,i,r,o);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(t.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(t.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(t.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(t.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(t.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(t.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(t.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(t.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(t.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),t.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var e=t.Listener;return t.Listener=new e,t.Context.on("init",function(n){n.Listener instanceof e?t.Listener=n.Listener:t.Listener=new e,n.Listener=t.Listener}),t.Listener}),e(function(t){return!window.hasOwnProperty("OfflineAudioContext")&&window.hasOwnProperty("webkitOfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext),t.OfflineContext=function(e,n,i){var r=new OfflineAudioContext(e,n*i,i);t.Context.call(this,r),this._duration=n,this._currentTime=0,this.lookAhead=this.blockTime,this.updateInterval=this.blockTime},t.extend(t.OfflineContext,t.Context),t.OfflineContext.prototype.now=function(){return this._currentTime},t.OfflineContext.prototype._createWorker=function(){return{postMessage:function(){}}},t.OfflineContext.prototype.render=function(){for(;this._duration-this._currentTime>=0;)this.emit("tick"),this._currentTime+=t.prototype.blockTime;return new Promise(function(t){this._context.oncomplete=function(e){t(e.renderedBuffer)},this._context.startRendering()}.bind(this))},t.OfflineContext}),e(function(t){return t.Offline=function(e,n){var i=t.context.sampleRate,r=t.context,o=new t.OfflineContext(2,n,i);t.context=o,e(t.Transport);var s=o.render();return t.context=r,s.then(function(e){return new t.Buffer(e)})},t.Offline}),e(function(t){return t.Effect=function(){this.createInsOuts(1,1);var e=this.optionsObject(arguments,["wet"],t.Effect.defaults);this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this.effectSend=new t.Gain,this.effectReturn=new t.Gain,this.input.connect(this._dryWet.a),this.input.connect(this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.Effect),t.Effect.defaults={wet:1},t.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},t.Effect.prototype.dispose=function(){return t.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},t.Effect}),e(function(t){return t.AutoFilter=function(){var e=this.optionsObject(arguments,["frequency","baseFrequency","octaves"],t.AutoFilter.defaults);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new t.Filter(e.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=e.type,this._readOnly(["frequency","depth"]),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency},t.extend(t.AutoFilter,t.Effect),t.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},t.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},t.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(t.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(t.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),t.AutoFilter.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},t.AutoFilter}),e(function(t){return t.AutoPanner=function(){var e=this.optionsObject(arguments,["frequency"],t.AutoPanner.defaults);t.Effect.call(this,e),this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new t.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=e.type,this._readOnly(["depth","frequency"])},t.extend(t.AutoPanner,t.Effect),t.AutoPanner.defaults={frequency:1,type:"sine",depth:1},t.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},t.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},t.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},t.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(t.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.AutoPanner.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},t.AutoPanner}),e(function(t){return t.AutoWah=function(){var e=this.optionsObject(arguments,["baseFrequency","octaves","sensitivity"],t.AutoWah.defaults);t.Effect.call(this,e),this.follower=new t.Follower(e.follower),this._sweepRange=new t.ScaleExp(0,1,.5),this._baseFrequency=e.baseFrequency,this._octaves=e.octaves,this._inputBoost=new t.Gain,this._bandpass=new t.Filter({rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new t.Filter(0,"peaking"),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,this._readOnly(["gain","Q"])},t.extend(t.AutoWah,t.Effect),t.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(t.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(t.AutoWah.prototype,"sensitivity",{get:function(){return this.gainToDb(1/this._inputBoost.gain.value)},set:function(t){this._inputBoost.gain.value=1/this.dbToGain(t)}}),t.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},t.AutoWah.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},t.AutoWah}),e(function(t){return t.BitCrusher=function(){var e=this.optionsObject(arguments,["bits"],t.BitCrusher.defaults);t.Effect.call(this,e);var n=1/Math.pow(2,e.bits-1);this._subtract=new t.Subtract,this._modulo=new t.Modulo(n),this._bits=e.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},t.extend(t.BitCrusher,t.Effect),t.BitCrusher.defaults={bits:4},Object.defineProperty(t.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),t.BitCrusher.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},t.BitCrusher}),e(function(t){return t.Chebyshev=function(){var e=this.optionsObject(arguments,["order"],t.Chebyshev.defaults);t.Effect.call(this,e),this._shaper=new t.WaveShaper(4096),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample},t.extend(t.Chebyshev,t.Effect),t.Chebyshev.defaults={order:1,oversample:"none"},t.Chebyshev.prototype._getCoefficient=function(t,e,n){return n.hasOwnProperty(e)?n[e]:(0===e?n[e]=0:1===e?n[e]=t:n[e]=2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n),n[e])},Object.defineProperty(t.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),n=e.length,i=0;i<n;++i){var r=2*i/n-1;0===r?e[i]=0:e[i]=this._getCoefficient(r,t,{})}this._shaper.curve=e}}),Object.defineProperty(t.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Chebyshev.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Chebyshev}),e(function(t){return t.StereoEffect=function(){this.createInsOuts(1,1);var e=this.optionsObject(arguments,["wet"],t.Effect.defaults);this._dryWet=new t.CrossFade(e.wet),this.wet=this._dryWet.fade,this._split=new t.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new t.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,this.input.connect(this._split),this.input.connect(this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},t.extend(t.StereoEffect,t.Effect),t.StereoEffect.prototype.dispose=function(){return t.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},t.StereoEffect}),e(function(t){return t.FeedbackEffect=function(){var e=this.optionsObject(arguments,["feedback"]);e=this.defaultArg(e,t.FeedbackEffect.defaults),t.Effect.call(this,e),this._feedbackGain=new t.Gain(e.feedback,t.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},t.extend(t.FeedbackEffect,t.Effect),t.FeedbackEffect.defaults={feedback:.125},t.FeedbackEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},t.FeedbackEffect}),e(function(t){return t.StereoXFeedbackEffect=function(){var e=this.optionsObject(arguments,["feedback"],t.FeedbackEffect.defaults);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackLR=new t.Gain,this._feedbackRL=new t.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},t.extend(t.StereoXFeedbackEffect,t.FeedbackEffect),t.StereoXFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),
this._feedbackRL=null,this},t.StereoXFeedbackEffect}),e(function(t){return t.Chorus=function(){var e=this.optionsObject(arguments,["frequency","delayTime","depth"],t.Chorus.defaults);t.StereoXFeedbackEffect.call(this,e),this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new t.LFO({frequency:e.frequency,min:0,max:1}),this._lfoR=new t.LFO({frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new t.Delay,this._delayNodeR=new t.Delay,this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=e.frequency,this.type=e.type,this._readOnly(["frequency"]),this.spread=e.spread},t.extend(t.Chorus,t.StereoXFeedbackEffect),t.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,feedback:.1,type:"sine",spread:180},Object.defineProperty(t.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(t.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(t.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(t.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),t.Chorus.prototype.dispose=function(){return t.StereoXFeedbackEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},t.Chorus}),e(function(t){return t.Convolver=function(){var e=this.optionsObject(arguments,["url","onload"],t.Convolver.defaults);t.Effect.call(this,e),this._convolver=this.context.createConvolver(),this._buffer=new t.Buffer,this.isString(e.url)?this._buffer.load(e.url,function(t){this.buffer=t,e.onload()}.bind(this)):e.url&&(this.buffer=e.url,e.onload()),this.connectEffect(this._convolver)},t.extend(t.Convolver,t.Effect),t.Convolver.defaults={onload:t.noOp},Object.defineProperty(t.Convolver.prototype,"buffer",{get:function(){return this._buffer.get()},set:function(t){this._buffer.set(t),this._convolver.buffer=this._buffer.get()}}),t.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},t.Convolver.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this._buffer.dispose(),this._buffer=null,this},t.Convolver}),e(function(t){return t.Distortion=function(){var e=this.optionsObject(arguments,["distortion"],t.Distortion.defaults);t.Effect.call(this,e),this._shaper=new t.WaveShaper(4096),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample},t.extend(t.Distortion,t.Effect),t.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(t.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=100*t,n=Math.PI/180;this._shaper.setMap(function(t){return Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))})}}),Object.defineProperty(t.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),t.Distortion.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},t.Distortion}),e(function(t){return t.FeedbackDelay=function(){var e=this.optionsObject(arguments,["delayTime","feedback"],t.FeedbackDelay.defaults);t.FeedbackEffect.call(this,e),this._delayNode=new t.Delay(e.delayTime),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},t.extend(t.FeedbackDelay,t.FeedbackEffect),t.FeedbackDelay.defaults={delayTime:.25},t.FeedbackDelay.prototype.dispose=function(){return t.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},t.FeedbackDelay}),e(function(t){var e=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],n=[225,556,441,341];return t.Freeverb=function(){var i=this.optionsObject(arguments,["roomSize","dampening"],t.Freeverb.defaults);t.StereoEffect.call(this,i),this.roomSize=new t.Signal(i.roomSize,t.Type.NormalRange),this.dampening=new t.Signal(i.dampening,t.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var r=0;r<n.length;r++){var o=this.context.createBiquadFilter();o.type="allpass",o.frequency.value=n[r],this._allpassFiltersL.push(o)}for(var s=0;s<n.length;s++){var a=this.context.createBiquadFilter();a.type="allpass",a.frequency.value=n[s],this._allpassFiltersR.push(a)}for(var u=0;u<e.length;u++){var l=new t.LowpassCombFilter(e[u]);u<e.length/2?this.effectSendL.chain(l,this._allpassFiltersL[0]):this.effectSendR.chain(l,this._allpassFiltersR[0]),this.roomSize.connect(l.resonance),this.dampening.connect(l.dampening),this._combFilters.push(l)}this.connectSeries.apply(this,this._allpassFiltersL),this.connectSeries.apply(this,this._allpassFiltersR),this._allpassFiltersL[this._allpassFiltersL.length-1].connect(this.effectReturnL),this._allpassFiltersR[this._allpassFiltersR.length-1].connect(this.effectReturnR),this._readOnly(["roomSize","dampening"])},t.extend(t.Freeverb,t.StereoEffect),t.Freeverb.defaults={roomSize:.7,dampening:3e3},t.Freeverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFiltersL.length;e++)this._allpassFiltersL[e].disconnect(),this._allpassFiltersL[e]=null;this._allpassFiltersL=null;for(var n=0;n<this._allpassFiltersR.length;n++)this._allpassFiltersR[n].disconnect(),this._allpassFiltersR[n]=null;this._allpassFiltersR=null;for(var i=0;i<this._combFilters.length;i++)this._combFilters[i].dispose(),this._combFilters[i]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},t.Freeverb}),e(function(t){var e=[.06748,.06404,.08212,.09004],n=[.773,.802,.753,.733],i=[347,113,37];return t.JCReverb=function(){var r=this.optionsObject(arguments,["roomSize"],t.JCReverb.defaults);t.StereoEffect.call(this,r),this.roomSize=new t.Signal(r.roomSize,t.Type.NormalRange),this._scaleRoomSize=new t.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var o=0;o<i.length;o++){var s=this.context.createBiquadFilter();s.type="allpass",s.frequency.value=i[o],this._allpassFilters.push(s)}for(var a=0;a<e.length;a++){var u=new t.FeedbackCombFilter(e[a],.1);this._scaleRoomSize.connect(u.resonance),u.resonance.value=n[a],this._allpassFilters[this._allpassFilters.length-1].connect(u),a<e.length/2?u.connect(this.effectReturnL):u.connect(this.effectReturnR),this._feedbackCombFilters.push(u)}this.roomSize.connect(this._scaleRoomSize),this.connectSeries.apply(this,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},t.extend(t.JCReverb,t.StereoEffect),t.JCReverb.defaults={roomSize:.5},t.JCReverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFilters.length;e++)this._allpassFilters[e].disconnect(),this._allpassFilters[e]=null;this._allpassFilters=null;for(var n=0;n<this._feedbackCombFilters.length;n++)this._feedbackCombFilters[n].dispose(),this._feedbackCombFilters[n]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},t.JCReverb}),e(function(t){return t.MidSideEffect=function(){t.Effect.apply(this,arguments),this._midSideSplit=new t.MidSideSplit,this._midSideMerge=new t.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},t.extend(t.MidSideEffect,t.Effect),t.MidSideEffect.prototype.dispose=function(){return t.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},t.MidSideEffect}),e(function(t){return t.Phaser=function(){var e=this.optionsObject(arguments,["frequency","octaves","baseFrequency"],t.Phaser.defaults);t.StereoEffect.call(this,e),this._lfoL=new t.LFO(e.frequency,0,1),this._lfoR=new t.LFO(e.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=e.baseFrequency,this._octaves=e.octaves,this.Q=new t.Signal(e.Q,t.Type.Positive),this._filtersL=this._makeFilters(e.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(e.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),this._filtersL[e.stages-1].connect(this.effectReturnL),this._filtersR[e.stages-1].connect(this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},t.extend(t.Phaser,t.StereoEffect),t.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},t.Phaser.prototype._makeFilters=function(t,e,n){for(var i=new Array(t),r=0;r<t;r++){var o=this.context.createBiquadFilter();o.type="allpass",n.connect(o.Q),e.connect(o.frequency),i[r]=o}return this.connectSeries.apply(this,i),i},Object.defineProperty(t.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(t.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),t.Phaser.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var e=0;e<this._filtersL.length;e++)this._filtersL[e].disconnect(),this._filtersL[e]=null;this._filtersL=null;for(var n=0;n<this._filtersR.length;n++)this._filtersR[n].disconnect(),this._filtersR[n]=null;return this._filtersR=null,this.frequency=null,this},t.Phaser}),e(function(t){return t.PingPongDelay=function(){var e=this.optionsObject(arguments,["delayTime","feedback"],t.PingPongDelay.defaults);t.StereoXFeedbackEffect.call(this,e),this._leftDelay=new t.Delay(0,e.maxDelayTime),this._rightDelay=new t.Delay(0,e.maxDelayTime),this._rightPreDelay=new t.Delay(0,e.maxDelayTime),this.delayTime=new t.Signal(e.delayTime,t.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},t.extend(t.PingPongDelay,t.StereoXFeedbackEffect),t.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},t.PingPongDelay.prototype.dispose=function(){return t.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},t.PingPongDelay}),e(function(t){return t.PitchShift=function(){var e=this.optionsObject(arguments,["pitch"],t.PitchShift.defaults);t.FeedbackEffect.call(this,e),this._frequency=new t.Signal(0),this._delayA=new t.Delay(0,1),this._lfoA=new t.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new t.Delay(0,1),this._lfoB=new t.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new t.CrossFade,this._crossFadeLFO=new t.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new t.Delay(e.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var n=this.now();this._lfoA.start(n),this._lfoB.start(n),this._crossFadeLFO.start(n),this.windowSize=this._windowSize},t.extend(t.PitchShift,t.FeedbackEffect),t.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(t.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(t){this._pitch=t;var e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=this.intervalToFrequencyRatio(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=this.intervalToFrequencyRatio(t)-1),this._frequency.value=e*(1.2/this._windowSize)}}),Object.defineProperty(t.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),t.PitchShift.prototype.dispose=function(){return t.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},t.PitchShift}),e(function(t){return t.StereoFeedbackEffect=function(){var e=this.optionsObject(arguments,["feedback"],t.FeedbackEffect.defaults);t.StereoEffect.call(this,e),this.feedback=new t.Signal(e.feedback,t.Type.NormalRange),this._feedbackL=new t.Gain,this._feedbackR=new t.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},t.extend(t.StereoFeedbackEffect,t.FeedbackEffect),t.StereoFeedbackEffect.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},t.StereoFeedbackEffect}),e(function(t){return t.StereoWidener=function(){var e=this.optionsObject(arguments,["width"],t.StereoWidener.defaults);t.MidSideEffect.call(this,e),this.width=new t.Signal(e.width,t.Type.NormalRange),this._midMult=new t.Expr("$0 * ($1 * (1 - $2))"),this._sideMult=new t.Expr("$0 * ($1 * $2)"),this._two=new t.Signal(2),this._two.connect(this._midMult,0,1),this.width.connect(this._midMult,0,2),this._two.connect(this._sideMult,0,1),this.width.connect(this._sideMult,0,2),this.midSend.chain(this._midMult,this.midReturn),this.sideSend.chain(this._sideMult,this.sideReturn),this._readOnly(["width"])},t.extend(t.StereoWidener,t.MidSideEffect),t.StereoWidener.defaults={width:.5},t.StereoWidener.prototype.dispose=function(){return t.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._two.dispose(),this._two=null,this},t.StereoWidener}),e(function(t){return t.Tremolo=function(){var e=this.optionsObject(arguments,["frequency","depth"],t.Tremolo.defaults);t.StereoEffect.call(this,e),this._lfoL=new t.LFO({phase:e.spread,min:1,max:0}),this._lfoR=new t.LFO({phase:e.spread,min:1,max:0}),this._amplitudeL=new t.Gain,this._amplitudeR=new t.Gain,this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.depth=new t.Signal(e.depth,t.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=e.type,this.spread=e.spread},t.extend(t.Tremolo,t.StereoEffect),t.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},t.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},t.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},t.Tremolo.prototype.sync=function(t){return this._lfoL.sync(t),this._lfoR.sync(t),this},t.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),this},Object.defineProperty(t.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(t.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),t.Tremolo.prototype.dispose=function(){return t.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},t.Tremolo}),e(function(t){return t.Vibrato=function(){var e=this.optionsObject(arguments,["frequency","depth"],t.Vibrato.defaults);t.Effect.call(this,e),this._delayNode=new t.Delay(0,e.maxDelay),this._lfo=new t.LFO({type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},t.extend(t.Vibrato,t.Effect),t.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(t.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),t.Vibrato.prototype.dispose=function(){t.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},t.Vibrato}),e(function(t){return t.Event=function(){var e=this.optionsObject(arguments,["callback","value"],t.Event.defaults);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._state=new t.TimelineState(t.State.Stopped),this._playbackRate=1,this._startOffset=0,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate},t.extend(t.Event),t.Event.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},t.Event.prototype._rescheduleEvents=function(e){return e=this.defaultArg(e,-1),this._state.forEachFrom(e,function(e){var n;if(e.state===t.State.Started){this.isUndef(e.id)||t.Transport.clear(e.id);var i=e.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){n=1/0,this.isNumber(this._loop)&&(n=this._loop*this._getLoopDuration());var r=this._state.getAfter(i);null!==r&&(n=Math.min(n,r.time-i)),n!==1/0&&(this._state.setStateAtTime(t.State.Stopped,i+n+1),n=t.Time(n,"i"));var o=t.Time(this._getLoopDuration(),"i");e.id=t.Transport.scheduleRepeat(this._tick.bind(this),o,t.TransportTime(i,"i"),n)}else e.id=t.Transport.schedule(this._tick.bind(this),i+"i")}}.bind(this)),this},Object.defineProperty(t.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(t.Transport.ticks)}}),Object.defineProperty(t.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),t.Event.prototype.start=function(e){return e=this.toTicks(e),this._state.getValueAtTime(e)===t.State.Stopped&&(this._state.add({state:t.State.Started,time:e,id:void 0}),this._rescheduleEvents(e)),this},t.Event.prototype.stop=function(e){if(this.cancel(e),e=this.toTicks(e),this._state.getValueAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Stopped,e);var n=this._state.getBefore(e),i=e;null!==n&&(i=n.time),this._rescheduleEvents(i)}return this},t.Event.prototype.cancel=function(e){return e=this.defaultArg(e,-(1/0)),e=this.toTicks(e),this._state.forEachFrom(e,function(e){t.Transport.clear(e.id)}),this._state.cancel(e),this},t.Event.prototype._tick=function(e){if(!this.mute&&this._state.getValueAtTime(t.Transport.ticks)===t.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var n=.02;this.isBoolean(this.humanize)||(n=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*n}this.callback(e,this.value)}},t.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(t.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopEnd",{get:function(){return t.TransportTime(this._loopEnd,"i").toNotation()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"loopStart",{get:function(){return t.TransportTime(this._loopStart,"i").toNotation()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(t.Event.prototype,"progress",{get:function(){if(this._loop){var e=t.Transport.ticks,n=this._state.get(e);if(null!==n&&n.state===t.State.Started){var i=this._getLoopDuration(),r=(e-n.time)%i;return r/i}return 0}return 0}}),t.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},t.Event}),e(function(t){return t.Loop=function(){var e=this.optionsObject(arguments,["callback","interval"],t.Loop.defaults);this._event=new t.Event({callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations},t.extend(t.Loop),t.Loop.defaults={interval:"4n",callback:t.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},t.Loop.prototype.start=function(t){return this._event.start(t),this},t.Loop.prototype.stop=function(t){return this._event.stop(t),this},t.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},t.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(t.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(t.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(t.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(t.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(t.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(t.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(t.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(t.Loop.prototype,"iterations",{get:function(){return this._event.loop===!0?1/0:this._event.loop},set:function(t){t===1/0?this._event.loop=!0:this._event.loop=t}}),t.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},t.Loop}),e(function(t){return t.Part=function(){var e=this.optionsObject(arguments,["callback","events"],t.Part.defaults);this._loop=e.loop,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this._startOffset=0,this._state=new t.TimelineState(t.State.Stopped),this._events=[],this.callback=e.callback,this.mute=e.mute;var n=this.defaultArg(e.events,[]);if(!this.isUndef(e.events))for(var i=0;i<n.length;i++)Array.isArray(n[i])?this.add(n[i][0],n[i][1]):this.add(n[i])},t.extend(t.Part,t.Event),t.Part.defaults={callback:t.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1},t.Part.prototype.start=function(e,n){var i=this.toTicks(e);return this._state.getValueAtTime(i)!==t.State.Started&&(n=this._loop?this.defaultArg(n,this._loopStart):this.defaultArg(n,0),n=this.toTicks(n),this._state.add({state:t.State.Started,time:i,offset:n}),this._forEach(function(t){this._startNote(t,i,n)})),this},t.Part.prototype._startNote=function(e,n,i){n-=i,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<i&&(n+=this._getLoopDuration()),e.start(t.TransportTime(n,"i"))):e.startOffset<this._loopStart&&e.startOffset>=i&&(e.loop=!1,e.start(t.TransportTime(n,"i"))):e.startOffset>=i&&e.start(t.TransportTime(n,"i"))},Object.defineProperty(t.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach(function(t){t.startOffset+=this._startOffset})}}),t.Part.prototype.stop=function(e){var n=this.toTicks(e);return this._state.cancel(n),this._state.setStateAtTime(t.State.Stopped,n),this._forEach(function(t){t.stop(e)}),this},t.Part.prototype.at=function(e,n){e=t.TransportTime(e);for(var i=t.Time(1,"i").toSeconds(),r=0;r<this._events.length;r++){var o=this._events[r];if(Math.abs(e.toTicks()-o.startOffset)<i)return this.isUndef(n)||(o.value=n),o}return this.isUndef(n)?null:(this.add(e,n),this._events[this._events.length-1])},t.Part.prototype.add=function(e,n){e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e);var i;return n instanceof t.Event?(i=n,i.callback=this._tick.bind(this)):i=new t.Event({callback:this._tick.bind(this),value:n}),i.startOffset=e,i.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(i),this._restartEvent(i),this},t.Part.prototype._restartEvent=function(e){this._state.forEach(function(n){n.state===t.State.Started?this._startNote(e,n.time,n.offset):e.stop(t.TransportTime(n.time,"i"))}.bind(this))},t.Part.prototype.remove=function(e,n){e.hasOwnProperty("time")&&(n=e,e=n.time),e=this.toTicks(e);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];r instanceof t.Part?r.remove(e,n):r.startOffset===e&&(this.isUndef(n)||!this.isUndef(n)&&r.value===n)&&(this._events.splice(i,1),r.dispose())}return this},t.Part.prototype.removeAll=function(){return this._forEach(function(t){t.dispose()}),this._events=[],this},t.Part.prototype.cancel=function(t){return t=this.toTicks(t),this._forEach(function(e){e.cancel(t)}),this._state.cancel(t),this},t.Part.prototype._forEach=function(e,n){n=this.defaultArg(n,this);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];r instanceof t.Part?r._forEach(e,n):e.call(n,r)}return this},t.Part.prototype._setAll=function(t,e){this._forEach(function(n){n[t]=e})},t.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},t.Part.prototype._testLoopBoundries=function(e){e.startOffset<this._loopStart||e.startOffset>=this._loopEnd?e.cancel(0):e.state===t.State.Stopped&&this._restartEvent(e)},Object.defineProperty(t.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(t.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(t.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach(function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopEnd",{get:function(){return t.TransportTime(this._loopEnd,"i").toNotation()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(function(e){e.loopEnd=t,this._testLoopBoundries(e)})}}),Object.defineProperty(t.Part.prototype,"loopStart",{get:function(){return t.TransportTime(this._loopStart,"i").toNotation()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)})}}),Object.defineProperty(t.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(t.Part.prototype,"length",{get:function(){return this._events.length}}),t.Part.prototype.dispose=function(){return this.removeAll(),this._state.dispose(),this._state=null,this.callback=null,this._events=null,this},t.Part}),e(function(t){return t.Pattern=function(){var e=this.optionsObject(arguments,["callback","values","pattern"],t.Pattern.defaults);t.Loop.call(this,e),this._pattern=new t.CtrlPattern({values:e.values,type:e.pattern,index:e.index})},t.extend(t.Pattern,t.Loop),t.Pattern.defaults={pattern:t.CtrlPattern.Type.Up,values:[]},t.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(t.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(t.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(t.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(t.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),t.Pattern.prototype.dispose=function(){t.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},t.Pattern}),e(function(t){return t.Sequence=function(){var e=this.optionsObject(arguments,["callback","events","subdivision"],t.Sequence.defaults),n=e.events;if(delete e.events,t.Part.call(this,e),this._subdivision=this.toTicks(e.subdivision),this.isUndef(e.loopEnd)&&!this.isUndef(n)&&(this._loopEnd=n.length*this._subdivision),this._loop=!0,!this.isUndef(n))for(var i=0;i<n.length;i++)this.add(i,n[i])},t.extend(t.Sequence,t.Part),t.Sequence.defaults={subdivision:"4n"},Object.defineProperty(t.Sequence.prototype,"subdivision",{
get:function(){return t.Time(this._subdivision,"i").toNotation()}}),t.Sequence.prototype.at=function(e,n){return this.isArray(n)&&this.remove(e),t.Part.prototype.at.call(this,this._indexTime(e),n)},t.Sequence.prototype.add=function(e,n){if(null===n)return this;if(this.isArray(n)){var i=Math.round(this._subdivision/n.length);n=new t.Sequence(this._tick.bind(this),n,t.Time(i,"i"))}return t.Part.prototype.add.call(this,this._indexTime(e),n),this},t.Sequence.prototype.remove=function(e,n){return t.Part.prototype.remove.call(this,this._indexTime(e),n),this},t.Sequence.prototype._indexTime=function(e){return e instanceof t.TransportTime?e:t.TransportTime(e*this._subdivision+this.startOffset,"i")},t.Sequence.prototype.dispose=function(){return t.Part.prototype.dispose.call(this),this},t.Sequence}),e(function(t){return t.PulseOscillator=function(){var e=this.optionsObject(arguments,["frequency","width"],t.Oscillator.defaults);t.Source.call(this,e),this.width=new t.Signal(e.width,t.Type.NormalRange),this._widthGate=new t.Gain,this._sawtooth=new t.Oscillator({frequency:e.frequency,detune:e.detune,type:"sawtooth",phase:e.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new t.WaveShaper(function(t){return t<0?-1:1}),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},t.extend(t.PulseOscillator,t.Oscillator),t.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},t.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},t.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},Object.defineProperty(t.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(t.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(t.PulseOscillator.prototype,"partials",{get:function(){return[]}}),t.PulseOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},t.PulseOscillator}),e(function(t){return t.PWMOscillator=function(){var e=this.optionsObject(arguments,["frequency","modulationFrequency"],t.PWMOscillator.defaults);t.Source.call(this,e),this._pulse=new t.PulseOscillator(e.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new t.Oscillator({frequency:e.frequency,detune:e.detune,phase:e.phase}),this._scale=new t.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},t.extend(t.PWMOscillator,t.Oscillator),t.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},t.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},t.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},Object.defineProperty(t.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(t.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(t.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),t.PWMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},t.PWMOscillator}),e(function(t){return t.FMOscillator=function(){var e=this.optionsObject(arguments,["frequency","type","modulationType"],t.FMOscillator.defaults);t.Source.call(this,e),this._carrier=new t.Oscillator(e.frequency,e.type),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=e.detune,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulator=new t.Oscillator(e.frequency,e.modulationType),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=e.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},t.extend(t.FMOscillator,t.Oscillator),t.FMOscillator.defaults={frequency:440,detune:0,phase:0,modulationIndex:2,modulationType:"square",harmonicity:1},t.FMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._carrier.start(t)},t.FMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._carrier.stop(t)},Object.defineProperty(t.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(t.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(t.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(t.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),t.FMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},t.FMOscillator}),e(function(t){return t.AMOscillator=function(){var e=this.optionsObject(arguments,["frequency","type","modulationType"],t.AMOscillator.defaults);t.Source.call(this,e),this._carrier=new t.Oscillator(e.frequency,e.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=e.detune,this._modulator=new t.Oscillator(e.frequency,e.modulationType),this._modulationScale=new t.AudioToGain,this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=e.phase,this._readOnly(["frequency","detune","harmonicity"])},t.extend(t.AMOscillator,t.Oscillator),t.AMOscillator.defaults={frequency:440,detune:0,phase:0,modulationType:"square",harmonicity:1},t.AMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._carrier.start(t)},t.AMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._carrier.stop(t)},Object.defineProperty(t.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(t.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(t.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(t.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),t.AMOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},t.AMOscillator}),e(function(t){return t.FatOscillator=function(){var e=this.optionsObject(arguments,["frequency","type","spread"],t.FatOscillator.defaults);t.Source.call(this,e),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._oscillators=[],this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=this.defaultArg(e.partials,[]),this.count=e.count,this._readOnly(["frequency","detune"])},t.extend(t.FatOscillator,t.Oscillator),t.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth"},t.FatOscillator.prototype._start=function(t){t=this.toSeconds(t),this._forEach(function(e){e.start(t)})},t.FatOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._forEach(function(e){e.stop(t)})},t.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(t.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._forEach(function(e){e.type=t})}}),Object.defineProperty(t.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){if(this._spread=t,this._oscillators.length>1){var e=-t/2,n=t/(this._oscillators.length-1);this._forEach(function(t,i){t.detune.value=e+n*i})}}}),Object.defineProperty(t.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(e){if(e=Math.max(e,1),this._oscillators.length!==e){this._forEach(function(t){t.dispose()}),this._oscillators=[];for(var n=0;n<e;n++){var i=new t.Oscillator;this.type===t.Oscillator.Type.Custom?i.partials=this._partials:i.type=this._type,i.phase=this._phase,i.volume.value=-6-e,this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.connect(this.output),this._oscillators[n]=i}this.spread=this._spread,this.state===t.State.Started&&this._forEach(function(t){t.start()})}}}),Object.defineProperty(t.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=t,this._forEach(function(e){e.phase=t})}}),Object.defineProperty(t.FatOscillator.prototype,"partials",{get:function(){return this._partials},set:function(e){this._partials=e,this._type=t.Oscillator.Type.Custom,this._forEach(function(t){t.partials=e})}}),t.FatOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach(function(t){t.dispose()}),this._oscillators=null,this._partials=null,this},t.FatOscillator}),e(function(t){t.OmniOscillator=function(){var e=this.optionsObject(arguments,["frequency","type"],t.OmniOscillator.defaults);t.Source.call(this,e),this.frequency=new t.Signal(e.frequency,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=e.type,this._readOnly(["frequency","detune"]),this.set(e)},t.extend(t.OmniOscillator,t.Oscillator),t.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var e={Pulse:"PulseOscillator",PWM:"PWMOscillator",Osc:"Oscillator",FM:"FMOscillator",AM:"AMOscillator",Fat:"FatOscillator"};return t.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},t.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},Object.defineProperty(t.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===e.FM?t="fm":this._sourceType===e.AM?t="am":this._sourceType===e.Fat&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(e.FM),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(e.AM),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(e.Fat),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(e.PWM):"pulse"===t?this._createNewOscillator(e.Pulse):(this._createNewOscillator(e.Osc),this._oscillator.type=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),t.OmniOscillator.prototype.set=function(e,n){return"type"===e?this.type=n:this.isObject(e)&&e.hasOwnProperty("type")&&(this.type=e.type),t.prototype.set.apply(this,arguments),this},t.OmniOscillator.prototype._createNewOscillator=function(e){if(e!==this._sourceType){this._sourceType=e;var n=t[e],i=this.now()+this.blockTime;if(null!==this._oscillator){var r=this._oscillator;r.stop(i),setTimeout(function(){r.dispose(),r=null},1e3*this.blockTime)}this._oscillator=new n,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===t.State.Started&&this._oscillator.start(i)}},Object.defineProperty(t.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}}),Object.defineProperty(t.OmniOscillator.prototype,"width",{get:function(){if(this._sourceType===e.Pulse)return this._oscillator.width}}),Object.defineProperty(t.OmniOscillator.prototype,"count",{get:function(){if(this._sourceType===e.Fat)return this._oscillator.count},set:function(t){this._sourceType===e.Fat&&(this._oscillator.count=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"spread",{get:function(){if(this._sourceType===e.Fat)return this._oscillator.spread},set:function(t){this._sourceType===e.Fat&&(this._oscillator.spread=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationType",{get:function(){if(this._sourceType===e.FM||this._sourceType===e.AM)return this._oscillator.modulationType},set:function(t){this._sourceType!==e.FM&&this._sourceType!==e.AM||(this._oscillator.modulationType=t)}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationIndex",{get:function(){if(this._sourceType===e.FM)return this._oscillator.modulationIndex}}),Object.defineProperty(t.OmniOscillator.prototype,"harmonicity",{get:function(){if(this._sourceType===e.FM||this._sourceType===e.AM)return this._oscillator.harmonicity}}),Object.defineProperty(t.OmniOscillator.prototype,"modulationFrequency",{get:function(){if(this._sourceType===e.PWM)return this._oscillator.modulationFrequency}}),t.OmniOscillator.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},t.OmniOscillator}),e(function(t){return t.Instrument=function(e){e=this.defaultArg(e,t.Instrument.defaults),this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume")},t.extend(t.Instrument),t.Instrument.defaults={volume:0},t.Instrument.prototype.triggerAttack=t.noOp,t.Instrument.prototype.triggerRelease=t.noOp,t.Instrument.prototype.triggerAttackRelease=function(t,e,n,i){return n=this.isUndef(n)?this.now()+this.blockTime:this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(t,n,i),this.triggerRelease(n+e),this},t.Instrument.prototype.dispose=function(){return t.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this},t.Instrument}),e(function(t){return t.Monophonic=function(e){e=this.defaultArg(e,t.Monophonic.defaults),t.Instrument.call(this,e),this.portamento=e.portamento},t.extend(t.Monophonic,t.Instrument),t.Monophonic.defaults={portamento:0},t.Monophonic.prototype.triggerAttack=function(t,e,n){return e=this.isUndef(e)?this.now()+this.blockTime:this.toSeconds(e),this._triggerEnvelopeAttack(e,n),this.setNote(t,e),this},t.Monophonic.prototype.triggerRelease=function(t){return t=this.isUndef(t)?this.now()+this.blockTime:this.toSeconds(t),this._triggerEnvelopeRelease(t),this},t.Monophonic.prototype._triggerEnvelopeAttack=function(){},t.Monophonic.prototype._triggerEnvelopeRelease=function(){},t.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),this.portamento>0){var n=this.frequency.value;this.frequency.setValueAtTime(n,e);var i=this.toSeconds(this.portamento);this.frequency.exponentialRampToValueAtTime(t,e+i)}else this.frequency.setValueAtTime(t,e);return this},t.Monophonic}),e(function(t){return t.Synth=function(e){e=this.defaultArg(e,t.Synth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.envelope,this.output),this.oscillator.start(),this._readOnly(["oscillator","frequency","detune","envelope"])},t.extend(t.Synth,t.Monophonic),t.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},t.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this},t.Synth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this},t.Synth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},t.Synth}),e(function(t){return t.AMSynth=function(e){e=this.defaultArg(e,t.AMSynth.defaults),t.Monophonic.call(this,e),this._carrier=new t.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(e.envelope),this._modulator=new t.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(e.modulation),this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope),this.frequency=new t.Signal(440,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this._modulationScale=new t.AudioToGain,this._modulationNode=new t.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},t.extend(t.AMSynth,t.Monophonic),t.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},t.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.modulationEnvelope.triggerAttack(t,e),this},t.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.modulationEnvelope.triggerRelease(t),this},t.AMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},t.AMSynth}),e(function(t){return t.MonoSynth=function(e){e=this.defaultArg(e,t.MonoSynth.defaults),t.Monophonic.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new t.Filter(e.filter),this.filterEnvelope=new t.FrequencyEnvelope(e.filterEnvelope),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.oscillator.start(),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},t.extend(t.MonoSynth,t.Monophonic),t.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},t.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this},t.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this},t.MonoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},t.MonoSynth}),e(function(t){return t.DuoSynth=function(e){e=this.defaultArg(e,t.DuoSynth.defaults),t.Monophonic.call(this,e),this.voice0=new t.MonoSynth(e.voice0),this.voice0.volume.value=-10,this.voice1=new t.MonoSynth(e.voice1),this.voice1.volume.value=-10,this._vibrato=new t.LFO(e.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new t.Gain(e.vibratoAmount,t.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new t.Signal(440,t.Type.Frequency),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},t.extend(t.DuoSynth,t.Monophonic),t.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},t.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0.envelope.triggerAttack(t,e),this.voice1.envelope.triggerAttack(t,e),this.voice0.filterEnvelope.triggerAttack(t),this.voice1.filterEnvelope.triggerAttack(t),this},t.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0.triggerRelease(t),this.voice1.triggerRelease(t),this},t.DuoSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},t.DuoSynth}),e(function(t){return t.FMSynth=function(e){e=this.defaultArg(e,t.FMSynth.defaults),t.Monophonic.call(this,e),this._carrier=new t.Synth(e.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(e.envelope),this._modulator=new t.Synth(e.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(e.modulation),this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope),this.frequency=new t.Signal(440,t.Type.Frequency),this.detune=new t.Signal(e.detune,t.Type.Cents),this.harmonicity=new t.Multiply(e.harmonicity),this.harmonicity.units=t.Type.Positive,this.modulationIndex=new t.Multiply(e.modulationIndex),this.modulationIndex.units=t.Type.Positive,this._modulationNode=new t.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},t.extend(t.FMSynth,t.Monophonic),t.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},t.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.modulationEnvelope.triggerAttack(t),this},t.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.modulationEnvelope.triggerRelease(t),this},t.FMSynth.prototype.dispose=function(){return t.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},t.FMSynth}),e(function(t){return t.MembraneSynth=function(e){e=this.defaultArg(e,t.MembraneSynth.defaults),t.Instrument.call(this,e),this.oscillator=new t.OmniOscillator(e.oscillator).start(),this.envelope=new t.AmplitudeEnvelope(e.envelope),this.octaves=e.octaves,this.pitchDecay=e.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},t.extend(t.MembraneSynth,t.Instrument),t.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},t.MembraneSynth.prototype.triggerAttack=function(t,e,n){e=this.toSeconds(e),t=this.toFrequency(t);var i=t*this.octaves;return this.oscillator.frequency.setValueAtTime(i,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,n),this},t.MembraneSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this},t.MembraneSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},t.MembraneSynth}),e(function(t){var e=[1,1.483,1.932,2.546,2.63,3.897];return t.MetalSynth=function(n){n=this.defaultArg(n,t.MetalSynth.defaults),t.Instrument.call(this,n),this.frequency=new t.Signal(n.frequency,t.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new t.Gain(0).connect(this.output),this._highpass=new t.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=n.octaves,this._filterFreqScaler=new t.Scale(n.resonance,7e3),this.envelope=new t.Envelope({attack:n.envelope.attack,attackCurve:"linear",decay:n.envelope.decay,sustain:0,release:n.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var i=0;i<e.length;i++){var r=new t.FMOscillator({type:"square",modulationType:"square",harmonicity:n.harmonicity,modulationIndex:n.modulationIndex});r.connect(this._highpass).start(0),this._oscillators[i]=r;var o=new t.Multiply(e[i]);this._freqMultipliers[i]=o,this.frequency.chain(o,r.frequency)}this.octaves=n.octaves},t.extend(t.MetalSynth,t.Instrument),t.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},t.MetalSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),e=this.defaultArg(e,1),this.envelope.triggerAttack(t,e),this},t.MetalSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this},t.MetalSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},Object.defineProperty(t.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(t.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(t.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(t.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),t.MetalSynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].dispose(),this._freqMultipliers[e].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},t.MetalSynth}),e(function(t){return window.AudioBufferSourceNode&&!AudioBufferSourceNode.prototype.start&&(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn,AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff),t.BufferSource=function(){var e=this.optionsObject(arguments,["buffer","onended"],t.BufferSource.defaults);this.onended=e.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new t.Gain,this._source=this.context.createBufferSource(),this._source.connect(this._gainNode),this.playbackRate=new t.Param(this._source.playbackRate,t.Type.Positive),this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut,this._gain=1,this._onendedTimeout=-1,this.isUndef(e.buffer)||(this.buffer=e.buffer),
this.loop=e.loop},t.extend(t.BufferSource),t.BufferSource.defaults={onended:t.noOp,fadeIn:0,fadeOut:0},Object.defineProperty(t.BufferSource.prototype,"state",{get:function(){var e=this.now();return this._startTime!==-1&&e>=this._startTime&&e<this._stopTime?t.State.Started:t.State.Stopped}}),t.BufferSource.prototype.start=function(t,e,n,i,r){if(this._startTime!==-1)throw new Error("Tone.BufferSource: can only be started once.");return this.buffer&&(t=this.toSeconds(t),e=this.loop?this.defaultArg(e,this.loopStart):this.defaultArg(e,0),e=this.toSeconds(e),t=this.toSeconds(t),this._source.start(t,e),i=this.defaultArg(i,1),this._gain=i,r=this.isUndef(r)?this.toSeconds(this.fadeIn):this.toSeconds(r),r>0?(this._gainNode.gain.setValueAtTime(0,t),this._gainNode.gain.linearRampToValueAtTime(this._gain,t+r)):this._gainNode.gain.setValueAtTime(i,t),this._startTime=t+r,this.isUndef(n)||(n=this.defaultArg(n,this.buffer.duration-e),n=this.toSeconds(n),this.stop(t+n+r,r))),this},t.BufferSource.prototype.stop=function(t,e){return this.buffer&&(t=this.toSeconds(t),e=this.isUndef(e)?this.toSeconds(this.fadeOut):this.toSeconds(e),this._stopTime=t+e,this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),e>0?(this._gainNode.gain.setValueAtTime(this._gain,t),this._gainNode.gain.linearRampToValueAtTime(0,t+e),t+=e):this._gainNode.gain.setValueAtTime(0,t),this.isNumber(this._source.playbackState)&&2!==this._source.playbackState||this._source.stop(t),clearTimeout(this._onendedTimeout),this._onendedTimeout=setTimeout(this._onended.bind(this),1e3*(this._stopTime-this.now()))),this},t.BufferSource.prototype._onended=function(){this.onended(this),this.dispose()},Object.defineProperty(t.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(t.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(t.BufferSource.prototype,"buffer",{get:function(){return this._source?this._source.buffer:null},set:function(e){e instanceof t.Buffer?this._source.buffer=e.get():this._source.buffer=e}}),Object.defineProperty(t.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t}}),t.BufferSource.prototype.dispose=function(){return this.onended=null,this._source&&(this._source.disconnect(),this._source=null),this._gainNode&&(this._gainNode.dispose(),this._gainNode=null),this._startTime=-1,this.playbackRate=null,this.output=null,clearTimeout(this._onendedTimeout),this},t.BufferSource}),e(function(t){function e(){for(var e in r)o[e]=(new t.Buffer).fromArray(r[e])}t.Noise=function(){var e=this.optionsObject(arguments,["type"],t.Noise.defaults);t.Source.call(this,e),this._source=null,this._type=e.type,this._playbackRate=e.playbackRate},t.extend(t.Noise,t.Source),t.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(t.Noise.prototype,"type",{get:function(){return this._type},set:function(e){if(this._type!==e){if(!(e in o))throw new TypeError("Tone.Noise: invalid type: "+e);if(this._type=e,this.state===t.State.Started){var n=this.now()+this.blockTime;this._stop(n),this._start(n)}}}}),Object.defineProperty(t.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),t.Noise.prototype._start=function(e){var n=o[this._type];this._source=new t.BufferSource(n).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))},t.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},t.Noise.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var n=220500,i=2,r={pink:function(){for(var t=[],e=0;e<i;e++){var r=new Float32Array(n);t[e]=r;var o,s,a,u,l,c,h;o=s=a=u=l=c=h=0;for(var f=0;f<n;f++){var p=2*Math.random()-1;o=.99886*o+.0555179*p,s=.99332*s+.0750759*p,a=.969*a+.153852*p,u=.8665*u+.3104856*p,l=.55*l+.5329522*p,c=-.7616*c-.016898*p,r[f]=o+s+a+u+l+c+h+.5362*p,r[f]*=.11,h=.115926*p}}return t}(),brown:function(){for(var t=[],e=0;e<i;e++){var r=new Float32Array(n);t[e]=r;for(var o=0,s=0;s<n;s++){var a=2*Math.random()-1;r[s]=(o+.02*a)/1.02,o=r[s],r[s]*=3.5}}return t}(),white:function(){for(var t=[],e=0;e<i;e++){var r=new Float32Array(n);t[e]=r;for(var o=0;o<n;o++)r[o]=2*Math.random()-1}return t}()},o={};return e(),t.Context.on("init",e),t.Noise}),e(function(t){return t.NoiseSynth=function(e){e=this.defaultArg(e,t.NoiseSynth.defaults),t.Instrument.call(this,e),this.noise=new t.Noise,this.envelope=new t.AmplitudeEnvelope(e.envelope),this.noise.chain(this.envelope,this.output),this.noise.start(),this._readOnly(["noise","envelope"])},t.extend(t.NoiseSynth,t.Instrument),t.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},t.NoiseSynth.prototype.triggerAttack=function(t,e){return this.envelope.triggerAttack(t,e),this},t.NoiseSynth.prototype.triggerRelease=function(t){return this.envelope.triggerRelease(t),this},t.NoiseSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},t.NoiseSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},t.NoiseSynth}),e(function(t){return t.PluckSynth=function(e){e=this.defaultArg(e,t.PluckSynth.defaults),t.Instrument.call(this,e),this._noise=new t.Noise("pink"),this.attackNoise=e.attackNoise,this._lfcf=new t.LowpassCombFilter({resonance:e.resonance,dampening:e.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},t.extend(t.PluckSynth,t.Instrument),t.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.9},t.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var n=1/t;return this._lfcf.delayTime.setValueAtTime(n,e),this._noise.start(e),this._noise.stop(e+n*this.attackNoise),this},t.PluckSynth.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},t.PluckSynth}),e(function(t){return t.PolySynth=function(){t.Instrument.call(this);var e=this.optionsObject(arguments,["polyphony","voice"],t.PolySynth.defaults);e=this.defaultArg(e,t.Instrument.defaults),e.polyphony=Math.min(t.PolySynth.MAX_POLYPHONY,e.polyphony),this.voices=new Array(e.polyphony),this._triggers=new Array(e.polyphony),this.detune=new t.Signal(e.detune,t.Type.Cents),this._readOnly("detune");for(var n=0;n<e.polyphony;n++){var i=new e.voice(arguments[2],arguments[3]);this.voices[n]=i,i.connect(this.output),i.hasOwnProperty("detune")&&this.detune.connect(i.detune),this._triggers[n]={release:-1,note:null,voice:i}}this.volume.value=e.volume},t.extend(t.PolySynth,t.Instrument),t.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:t.Synth},t.PolySynth.prototype.triggerAttack=function(t,e,n){Array.isArray(t)||(t=[t]),e=this.toSeconds(e);for(var i=0;i<t.length;i++){for(var r=t[i],o=this._triggers[0],s=0,a=1;a<this._triggers.length;a++)this._triggers[a].release<o.release&&(o=this._triggers[a],s=a);o.release=1/0,o.note=JSON.stringify(r),o.voice.triggerAttack(r,e,n)}return this},t.PolySynth.prototype.triggerAttackRelease=function(t,e,n,i){if(n=this.toSeconds(n),this.triggerAttack(t,n,i),this.isArray(e)&&this.isArray(t))for(var r=0;r<t.length;r++){var o=e[Math.min(r,e.length-1)];this.triggerRelease(t[r],n+this.toSeconds(o))}else this.triggerRelease(t,n+this.toSeconds(e));return this},t.PolySynth.prototype.triggerRelease=function(t,e){Array.isArray(t)||(t=[t]),e=this.toSeconds(e);for(var n=0;n<t.length;n++)for(var i=JSON.stringify(t[n]),r=0;r<this._triggers.length;r++){var o=this._triggers[r];o.note===i&&o.release>e&&(o.voice.triggerRelease(e),o.release=e)}return this},t.PolySynth.prototype.set=function(t,e,n){for(var i=0;i<this.voices.length;i++)this.voices[i].set(t,e,n);return this},t.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},t.PolySynth.prototype.releaseAll=function(t){t=this.toSeconds(t);for(var e=0;e<this._triggers.length;e++){var n=this._triggers[e];n.release>t&&(n.release=t,n.voice.triggerRelease(t))}return this},t.PolySynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this.voices.length;e++)this.voices[e].dispose(),this.voices[e]=null;return this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this._triggers=null,this},t.PolySynth.MAX_POLYPHONY=20,t.PolySynth}),e(function(t){return t.Player=function(e){var n;e instanceof t.Buffer?(e=e.get(),n=t.Player.defaults):n=this.optionsObject(arguments,["url","onload"],t.Player.defaults),t.Source.call(this,n),this._source=null,this.autostart=n.autostart,this._buffer=new t.Buffer({url:n.url,onload:this._onload.bind(this,n.onload),reverse:n.reverse}),e instanceof AudioBuffer&&this._buffer.set(e),this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.retrigger=n.retrigger},t.extend(t.Player,t.Source),t.Player.defaults={onload:t.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,retrigger:!1,reverse:!1},t.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},t.Player.prototype._onload=function(e){e=this.defaultArg(e,t.noOp),e(this),this.autostart&&this.start()},t.Player.prototype._start=function(e,n,i){if(!this._buffer.loaded)throw Error("Tone.Player: tried to start Player before the buffer was loaded");if(n=this._loop?this.defaultArg(n,this._loopStart):this.defaultArg(n,0),n=this.toSeconds(n),i=this.defaultArg(i,Math.max(this._buffer.duration-n,0)),i=this.toSeconds(i),e=this.toSeconds(e),this._source=this.context.createBufferSource(),this._source.buffer=this._buffer.get(),this._loop?(this._source.loop=this._loop,this._source.loopStart=this.toSeconds(this._loopStart),this._source.loopEnd=this.toSeconds(this._loopEnd)):this._synced||this._state.setStateAtTime(t.State.Stopped,e+i),this._source.playbackRate.value=this._playbackRate,this._source.connect(this.output),this._loop){var r=this._source.loopEnd||this._buffer.duration,o=this._source.loopStart,s=r-o;if(n>r)for(;n>r;)n-=s;this._source.start(e,n)}else this._source.start(e,n,i);return this},t.Player.prototype._stop=function(t){return this._source&&(this._source.stop(this.toSeconds(t)),this._source=null),this},t.Player.prototype.seek=function(e,n){return n=this.toSeconds(n),this._state.getValueAtTime(n)===t.State.Started&&(e=this.toSeconds(e),this._stop(n),this._start(n,e)),this},t.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(t.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t,this._source&&(this._source.loopStart=this.toSeconds(t))}}),Object.defineProperty(t.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t,this._source&&(this._source.loopEnd=this.toSeconds(t))}}),Object.defineProperty(t.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(t.Player.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._source&&(this._source.loop=t)}}),Object.defineProperty(t.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),Object.defineProperty(t.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),t.Player.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer.dispose(),this._buffer=null,this},t.Player}),e(function(t){return t.Sampler=function(){var e=this.optionsObject(arguments,["url","onload"],t.Sampler.defaults);t.Instrument.call(this,e),this.player=new t.Player(e.url,e.onload),this.player.retrigger=!0,this.envelope=new t.AmplitudeEnvelope(e.envelope),this.player.chain(this.envelope,this.output),this._readOnly(["player","envelope"]),this.loop=e.loop,this.reverse=e.reverse},t.extend(t.Sampler,t.Instrument),t.Sampler.defaults={onload:t.noOp,loop:!1,reverse:!1,envelope:{attack:.001,decay:0,sustain:1,release:.1}},t.Sampler.prototype.triggerAttack=function(t,e,n){return e=this.toSeconds(e),t=this.defaultArg(t,0),this.player.playbackRate=this.intervalToFrequencyRatio(t),this.player.start(e),this.envelope.triggerAttack(e,n),this},t.Sampler.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.player.stop(this.toSeconds(this.envelope.release)+t),this},Object.defineProperty(t.Sampler.prototype,"loop",{get:function(){return this.player.loop},set:function(t){this.player.loop=t}}),Object.defineProperty(t.Sampler.prototype,"reverse",{get:function(){return this.player.reverse},set:function(t){this.player.reverse=t}}),Object.defineProperty(t.Sampler.prototype,"buffer",{get:function(){return this.player.buffer},set:function(t){this.player.buffer=t}}),t.Sampler.prototype.dispose=function(){return t.Instrument.prototype.dispose.call(this),this._writable(["player","envelope"]),this.player.dispose(),this.player=null,this.envelope.dispose(),this.envelope=null,this},t.Sampler}),e(function(t){return t.GainToAudio=function(){this._norm=this.input=this.output=new t.WaveShaper(function(t){return 2*Math.abs(t)-1})},t.extend(t.GainToAudio,t.SignalBase),t.GainToAudio.prototype.dispose=function(){return t.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.GainToAudio}),e(function(t){return t.Normalize=function(e,n){this._inputMin=this.defaultArg(e,0),this._inputMax=this.defaultArg(n,1),this._sub=this.input=new t.Add(0),this._div=this.output=new t.Multiply(1),this._sub.connect(this._div),this._setRange()},t.extend(t.Normalize,t.SignalBase),Object.defineProperty(t.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(t.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),t.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},t.Normalize.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},t.Normalize}),e(function(t){return t.MultiPlayer=function(){var e=this.optionsObject(arguments,["urls","onload"],t.MultiPlayer.defaults);e.urls instanceof t.Buffers?this.buffers=e.urls:this.buffers=new t.Buffers(e.urls,e.onload),this._activeSources={},this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut,this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=e.mute},t.extend(t.MultiPlayer,t.Source),t.MultiPlayer.defaults={onload:t.noOp,fadeIn:0,fadeOut:0},t.MultiPlayer.prototype._makeSource=function(e){var n;this.isString(e)||this.isNumber(e)?n=this.buffers.get(e).get():e instanceof t.Buffer?n=e.get():e instanceof AudioBuffer&&(n=e);var i=new t.BufferSource(n).connect(this.output);return this._activeSources.hasOwnProperty(e)||(this._activeSources[e]=[]),this._activeSources[e].push(i),i},t.MultiPlayer.prototype.start=function(t,e,n,i,r,o){e=this.toSeconds(e);var s=this._makeSource(t);return s.start(e,n,i,this.defaultArg(o,1),this.fadeIn),i&&s.stop(e+this.toSeconds(i),this.fadeOut),r=this.defaultArg(r,0),s.playbackRate.value=this.intervalToFrequencyRatio(r),this},t.MultiPlayer.prototype.startLoop=function(t,e,n,i,r,o,s){e=this.toSeconds(e);var a=this._makeSource(t);return a.loop=!0,a.loopStart=this.toSeconds(this.defaultArg(i,0)),a.loopEnd=this.toSeconds(this.defaultArg(r,0)),a.start(e,n,void 0,this.defaultArg(s,1),this.fadeIn),o=this.defaultArg(o,0),a.playbackRate.value=this.intervalToFrequencyRatio(o),this},t.MultiPlayer.prototype.stop=function(t,e){if(!this._activeSources[t]||!this._activeSources[t].length)throw new Error("Tone.MultiPlayer: cannot stop a buffer that hasn't been started or is already stopped");return e=this.toSeconds(e),this._activeSources[t].shift().stop(e,this.fadeOut),this},t.MultiPlayer.prototype.stopAll=function(t){t=this.toSeconds(t);for(var e in this._activeSources)for(var n=this._activeSources[e],i=0;i<n.length;i++)n[i].stop(t);return this},t.MultiPlayer.prototype.add=function(t,e,n){return this.buffers.add(t,e,n),this},Object.defineProperty(t.MultiPlayer.prototype,"state",{get:function(){return this._activeSources.length>0?t.State.Started:t.State.Stopped}}),Object.defineProperty(t.MultiPlayer.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.MultiPlayer.prototype.dispose=function(){t.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null;for(var e in this._activeSources)this._activeSources[e].forEach(function(t){t.dispose()});return this.buffers.dispose(),this.buffers=null,this._activeSources=null,this},t.MultiPlayer}),e(function(t){return t.GrainPlayer=function(){var e=this.optionsObject(arguments,["url","onload"],t.GrainPlayer.defaults);t.Source.call(this),this.buffer=new t.Buffer(e.url,e.onload),this._player=(new t.MultiPlayer).connect(this.output),this._clock=new t.Clock(this._tick.bind(this),1),this._loopStart=0,this._loopEnd=0,this._playbackRate=e.playbackRate,this._grainSize=e.grainSize,this._overlap=e.overlap,this.detune=e.detune,this.drift=e.drift,this.overlap=e.overlap,this.loop=e.loop,this.playbackRate=e.playbackRate,this.grainSize=e.grainSize,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.reverse=e.reverse},t.extend(t.GrainPlayer,t.Source),t.GrainPlayer.defaults={onload:t.noOp,overlap:.1,grainSize:.2,drift:0,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},t.GrainPlayer.prototype._start=function(t,e,n){e=this.defaultArg(e,0),e=this.toSeconds(e),t=this.toSeconds(t),this._offset=e,this._clock.start(t),this._player.volume.setValueAtTime(0,t),n&&this._stop(t+this.toSeconds(n))},t.GrainPlayer.prototype._stop=function(t){this._clock.stop(t),this._player.volume.cancelScheduledValues(t),this._player.volume.setValueAtTime(-(1/0),t)},t.GrainPlayer.prototype._tick=function(t){var e=this.buffer.duration;this.loop&&this._loopEnd>0&&(e=this._loopEnd);var n=(2*Math.random()-1)*this.drift,i=this._offset-this._overlap+n,r=this.detune/100;i=Math.max(i,0),i=Math.min(i,e);var o=this._player.fadeIn;if(this.loop&&this._offset>e){var s=this._offset-e;this._player.start(this.buffer,t,i,s+this._overlap,r),i=this._offset%e,this._offset=this._loopStart,this._player.fadeIn=0,this._player.start(this.buffer,t+s,this._offset,i+this._overlap,r)}else this._offset>e?this.stop(t):(0===i&&(this._player.fadeIn=0),this._player.start(this.buffer,t,i,this.grainSize+this._overlap,r));this._player.fadeIn=o;var a=this._clock._nextTick-t;this._offset+=a*this._playbackRate},t.GrainPlayer.prototype.scrub=function(t,e){return this._offset=this.toSeconds(t),this._tick(this.toSeconds(e)),this},Object.defineProperty(t.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(t.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(t.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(t.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(t.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(t.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){t=this.toSeconds(t),this._overlap=t,this._overlap<0?(this._player.fadeIn=.01,this._player.fadeOut=.01):(this._player.fadeIn=t,this._player.fadeOut=t)}}),t.GrainPlayer.prototype.dispose=function(){return t.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._player.dispose(),this._player=null,this._clock.dispose(),this._clock=null,this},t.GrainPlayer}),e(function(t){return t.UserMedia=function(){var e=this.optionsObject(arguments,["volume"],t.UserMedia.defaults);this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new t.Volume(e.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=e.mute},t.extend(t.UserMedia),t.UserMedia.defaults={volume:0,mute:!1},t.UserMedia.prototype.open=function(t){return t=this.defaultArg(t,"default"),this.enumerateDevices().then(function(e){var n;if(this.isNumber(t)?n=e[t]:(n=e.find(function(e){return e.label===t||e.deviceId===t}),n||(n=e[0])),!n)throw new Error("Tone.UserMedia: no matching audio inputs.");this._device=n;var i={audio:{deviceId:n.deviceId,echoCancellation:!1,sampleRate:this.context.sampleRate}};return navigator.mediaDevices.getUserMedia(i).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),this._mediaStream.connect(this.output)),this}.bind(this))}.bind(this))},t.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach(function(t){t.stop()}),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},t.UserMedia.prototype.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then(function(t){return t.filter(function(t){return"audioinput"===t.kind})})},Object.defineProperty(t.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?t.State.Started:t.State.Stopped}}),Object.defineProperty(t.UserMedia.prototype,"deviceId",{get:function(){if(this._device)return this._device.deviceId}}),Object.defineProperty(t.UserMedia.prototype,"groupId",{get:function(){if(this._device)return this._device.groupId}}),Object.defineProperty(t.UserMedia.prototype,"label",{get:function(){if(this._device)return this._device.label}}),Object.defineProperty(t.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),t.UserMedia.prototype.dispose=function(){return t.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(t.UserMedia,"supported",{get:function(){return!t.prototype.isUndef(navigator.mediaDevices)&&t.prototype.isFunction(navigator.mediaDevices.getUserMedia)}}),t.UserMedia}),n})},function(t,e){"use strict";function n(t,e){return t<e?-1:t===e?0:1}function i(t,e){return t===e}function r(t){return null===t?"COLLECTION_NULL":a(t)?"COLLECTION_UNDEFINED":u(t)?"$s"+t:"$o"+t.toString()}function o(t,n){if(void 0===n&&(n=","),null===t)return"COLLECTION_NULL";if(a(t))return"COLLECTION_UNDEFINED";if(u(t))return t.toString();var i="{",r=!0;for(var o in t)e.has(t,o)&&(r?r=!1:i+=n,i=i+o+":"+t[o]);return i+"}"}function s(t){return"function"==typeof t}function a(t){return"undefined"==typeof t}function u(t){return"[object String]"===Object.prototype.toString.call(t)}function l(t){return s(t)?function(e,n){return t(e,n)*-1}:function(t,e){return t<e?1:t===e?0:-1}}function c(t){return function(e,n){return 0===t(e,n)}}var h=Object.prototype.hasOwnProperty;e.has=function(t,e){return h.call(t,e)},e.defaultCompare=n,e.defaultEquals=i,e.defaultToString=r,e.makeString=o,e.isFunction=s,e.isUndefined=a,e.isString=u,e.reverseCompareFunction=l,e.compareToEquals=c},function(t,e){t.exports="data:text/x-markdown;base64,IyMgQ2hhcHRlciAxOiBJbnRyb2R1Y3Rpb24KCkdpdmVuIGEgUENNIHdhdmVmb3JtIHRoYXQgY29uc2lzdHMgb2YgbXVsdGlwbGUgc2ltdWx0YW5lb3VzIGF1ZGlibGUgZnJlcXVlbmNpZXMsCndlIGFyZSBhYmxlIHRvIGFwcGx5IG1hbnkgc29waGlzdGljYXRlZCBEaWdpdGFsIFNpZ25hbCBUcmFuc2Zvcm1hdGlvbnMgKERTVHMpIHRvIAphbHRlciB0aGUgd2F5IHRoYXQgd2F2ZWZvcm0gc291bmRzLgoKT25lIGV4YW1wbGUgaXMgYSBmaWx0ZXIsIHZpc3VhbGlzZWQgaGVyZSBhcyBhIERBVyBwbHVnaW46Cgo8ZmlndXJlPgogICAgPGltZyBzcmM9ImRvY3MvbG93cGFzcy1maWx0ZXIucG5nIiAvPgogICAgPGZpZ2NhcHRpb24+CiAgICAgICAgQSBsb3cgcGFzcyBmaWx0ZXIuIFRoaXMgd2lsbCB0cmFuc2Zvcm0gdGhlIFBDTSBzaWduYWwgc3VjaCB0aGF0IAogICAgICAgIChpZGVhbGx5KSBhbnkgZnJlcXVlbmNpZXMgYWJvdmUgMTEwMCBIeiBhcmUgcmVtb3ZlZC4KICAgIDwvZmlnY2FwdGlvbj4KPC9maWd1cmU+CgpUaGlzIHR5cGUgb2YgRFNUIGlzIGRvbmUgb24gYSBzdHJlYW0gb2YgYnl0ZXMgdGhhdCByZXByZXNlbnQgYSB3YXZlZm9ybSwgdXN1YWxseQphIFBDTSBkYXRhIGZpbGUgc3VjaCBhcyBhIGAud2F2YCBmaWxlLiAKCkFub3RoZXIgZXhhbXBsZSBvZiBhIHNpZ25hbCB0cmFuc2Zvcm1hdGlvbiBvbiBhIHdhdmVmb3JtIGlzIGEgInJldmVyc2FsIjoKCjxmaWd1cmU+CiAgICA8aW1nIHNyYz0iZG9jcy93YXZlZm9ybS1yZXZlcnNlLnBuZyIgLz4KICAgIDxmaWdjYXB0aW9uPgogICAgICAgIEEgd2F2ZWZvcm0gKFRPUCkgYW5kIGl0cyBpbnZlcnNlIChCT1RUT00pIGFjcm9zcyB0aGUgdGltZSBkaW1lbnNpb24uCiAgICA8L2ZpZ2NhcHRpb24+CjwvZmlndXJlPgoKSW4gdGhlIGNhc2Ugb2YgZnJlcXVlbmN5IHJlbW92YWwgKEVRIC8gZmlsdGVyaW5nKSBhbmQgdHJhY2sgcmV2ZXJzYWwsIHRoZSAKYWxnb3JpdGhtcyByZXF1aXJlZCB0byBhcHBseSB0aG9zZSB0cmFuc2Zvcm1hdGlvbnMgYXJlIGZhaXJseSB0cml2aWFsLCB3ZWxsIAptYXR1cmVkIGFuZCBhdmFpbGFibGUgaW4gYWxtb3N0IGV2ZXJ5IGF1ZGlvIG1hbmlwdWxhdGlvbiBzb2Z0d2FyZSBwcm9ncmFtLgoKSW4gY29udHJhc3QsIHRoZSBEU1QgYWxnb3JpdGhtcyBmb3IgbWFuaXB1bGF0aW5nIGluZGl2aWR1YWwgbm90ZXMgaW4gYSBQQ00KdHJhY2sgYXJlIHF1aXRlIGNvbXBsZXggYW5kIGFyZSBwcm9uZSB0byBlcnJvcnM6Cgo8ZmlndXJlPgogICAgPGltZyBzcmM9ImRvY3MvZmxleC1waXRjaC13YXZlZm9ybS5wbmciIC8+CiAgICA8ZmlnY2FwdGlvbj4KICAgICAgICAiRmxleCBQaXRjaCIgaW4gTG9naWMgUHJvIFguIFRoaXMgc3lzdGVtIGFuYWx5emVzIHRoZSBzcGVjdHJhbCBjb250ZW50IAogICAgICAgIG9mIGEgUENNIHN0cmVhbSBhbmQgYXR0ZW1wdHMgdG8gZXh0cmFjdCBwaXRjaC1hbmQtdGltZSBtZWFuaW5nIGZyb20KICAgICAgICB0aGUgc291bmRzIHRoYXQgaXQgcmVwcmVzZW50cy4gCiAgICA8L2ZpZ2NhcHRpb24+CjwvZmlndXJlPgoKVGhlIGJhc2ljIGNvbXB1dGF0aW9uIGZsb3cgb2YgYW55IERTVCBpcyBhcyBmb2xsb3dzOgoKPGJpZ2NvZGU+SW5wdXQgU2lnbmFsID09PiBUcmFuc2Zvcm1hdGlvbiA9PT4gT3V0cHV0IFNpZ25hbDwvYmlnY29kZT4KClRoZSBmdW5jdGlvbmFsaXR5IG9mZmVyZWQgYnkgZGlnaXRhbCBzaWduYWwgdHJhbnNmb3JtYXRpb24gdGVjaG5vbG9neSBpcyB2ZXJ5IAp2YWx1YWJsZSB0byB0aGUgYXVkaW8gZW5naW5lZXIgd2hvc2UgcHJpbWFyeSBtZWRpdW0gaXMgd2F2ZWZvcm1zLiBIb3dldmVyLCBmb3IgCnRoZSBjb21wb3NlciB3aG9zZSBwcmltYXJ5IG1lZGl1bSBpcyBtdXNpY2FsIG5vdGF0aW9uIChvciBwZXJoYXBzIE1JREkpLCBEU1QgCnRlY2hub2xvZ3kgb2ZmZXJzIHNpZ25pZmljYW50bHkgbGVzcyB2YWx1ZS4KClRvIGJlIGFibGUgdG8gbWFuaXB1bGF0ZSBhIHNpZ25hbCwgaXQgbXVzdCBmaXJzdCBiZSByZWNvcmRlZCAob3IgYXQgbGVhc3Qgd3JpdHRlbiAKaW4gc29tZSBtdXNpY2FsIGRhdGEgZm9ybWF0IGxpa2UgTUlESSBhbmQgdGhlbiByZWFsaXNlZCBpbnRvIG11c2ljYWwgbm90ZXMgYnkgYSAKc3ludGhlc2lzZXIpIGZvciB0aGUgc2lnbmFsIHRvIGJlIG1hbmlwdWxhdGVkLiAKCjxmaWd1cmU+CiAgICA8aW1nIHNyYz0iZG9jcy9taWRpLXBsYXllci5naWYiIC8+CiAgICA8ZmlnY2FwdGlvbj4KICAgICAgICBBIE1JREktdG8tV2F2IHBsYXllciBwcm9ncmFtIHRoYXQgd2lsbCByZWFsaXNlIHRoZSBNSURJIGRhdGEgaW50byByZWFsCiAgICAgICAgc291bmRzIHZpYSBQQ00gc2lnbmFscyAoZWc6IHNvdW5kKS4KICAgIDwvZmlnY2FwdGlvbj4KPC9maWd1cmU+CgpCdXQgd2hhdCBpZiB0aGVyZSB3YXMgYSB3YXkgdG8gYXBwbHkgZmlsdGVycyBhbmQgdHJhbnNmb3JtYXRpb25zIHRvIHRoZSBhY3R1YWwKbXVzaWNhbCBub3RlcyB0aGVtc2VsdmVzLCBub3QgdGhlIHJlYWxpc2VkIHdhdmVmb3JtcyB0aGF0IGEgY29tcHV0ZXIgZ2VuZXJhdGVzCmZyb20gdGhlbT8="},function(t,e){t.exports="data:text/x-markdown;base64,IyMgQ2hhcHRlciAyOiBBIEdlbnRsZSBPdmVydmlldyBPZiBIb3cgQ29tcHV0YXRpb24gV29ya3MKCkEgbW9zdGx5LXRydWUgZGVzY3JpcHRpb24gb2YgY29tcHV0YXRpb24gY2FuIGJlIGRlc2NyaWJlZCBhcyB0aGUgYXBwbGljYXRpb24gb2YKaW5wdXQgZGF0YSB0aHJvdWdoIGEgdHJhbnNmb3JtYXRpb24gcHJvY2Vzcywgd2hpY2ggcHJvZHVjZXMgZGlmZmVyZW50IGRhdGEgYXMgYW4Kb3V0cHV0OgoKPGJpZ2NvZGU+aW5wdXQgPT0+IHRyYW5zZm9ybWVyID09PiBvdXRwdXQ8L2JpZ2NvZGU+CgpUaGUgYWZvcmVtZW50aW9uZWQgKip0cmFuc2Zvcm1lcioqIGlzIGFsc28ga25vd24gYXMgYSAqKmZ1bmN0aW9uKiosIGEgCm1hdGhlbWF0aWNhbCBjb25zdHJ1Y3QgdGhhdCB3aGVuIGdpdmVuIHNvbWUgaW5wdXQsIHdpbGwgcHJvZHVjZSBzb21lIG91dHB1dC4gCgojIyMgQmFzaWMgRnVuY3Rpb25zCgpBIGJhc2ljIGV4YW1wbGUgb2YgYW4gYXJpdGhtZXRpYyBmdW5jdGlvbgpjb3VsZCBiZToKCmBgYGpzCi8qKgoqIFRoaXMgZnVuY3Rpb24gY2FsbGVkICJkb3VibGUiIHRha2VzIGEgbnVtYmVyIGFuZCByZXR1cm5zIGEgbnVtYmVyIHR3aWNlIGFzIGJpZy4KKi8KZnVuY3Rpb24gZG91YmxlIChpbnB1dE51bWJlcikgewogICAgcmV0dXJuIGlucHV0TnVtYmVyICogMjsKfQpgYGAKClRoZSBgZG91YmxlYCBmdW5jdGlvbiBjYW4gYmUgYXBwbGllZCBpbiBhIGNvbXB1dGF0aW9uIHRvIGFjaGlldmUgYSByZXN1bHQ6CgpgYGAKNSAgICAgPT0+ICAgZG91YmxlICAgPT0+ICAgMTAKCjMuMTQgID09PiAgIGRvdWJsZSAgID09PiAgIDYuMjgKCjUwMCAgID09PiAgIGRvdWJsZSAgID09PiAgIDEwMDAKYGBgCgpGb3IgdGhlIHB1cnBvc2VzIG9mIGRlbW9uc3RyYXRpbmcgcHJvZ3JhbW1pbmcgbGFuZ3VhZ2VzIGhlcmUsIHRoZSAgcmVhZGVyIHNob3VsZCAKdGFrZSBub3RlIHRoYXQgdGhlIGZvbGxvd2luZyB0d28gc3RhdGVtZW50cyBhcmUgZXF1aXZhbGVudDoKCmBgYAo1MCA9PT4gZG91YmxlID09PiAxMDAKCmRvdWJsZSg1MCkKLy8gLS0+IDEwMApgYGAKCiMjIyBTbGlnaHRseSBNb3JlIENvbXBsZXggQ29tcHV0YXRpb24KCkNvbnNpZGVyIHRoZSBmb2xsb3dpbmcgYXhpb21zOgoKMS4gYGRvdWJsZWAgaXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYSBudW1iZXIgYXMgaXRzIGlucHV0CjIuIGBkb3VibGVgIHdpbGwgb3V0cHV0IHRoZSBudW1iZXIgZXF1aXZhbGVudCB0byBkb3VibGUgdGhlIGlucHV0IG51bWJlcgozLiBCb3RoIHRoZSBpbnB1dCBhbmQgb3V0cHV0IG9mIGBkb3VibGVgIGFyZSBudW1iZXJzCgpJZiBhbGwgdGhvc2UgYXhpb21zIGhvbGQgdHJ1ZSwgdGhlbiBpdCBzaG91bGQgYmUgcG9zc2libGUgdG8gcmVjb2duaXNlIHRoYXQgdGhlIApyZXN1bHQgb2YgdGhlIGBkb3VibGVgIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIGFzIHRoZSBpbnB1dCB0byBhbm90aGVyIGludm9jYXRpb24gCm9mIGBkb3VibGVgOgoKYGBganMKZG91YmxlKDUwKQovLyAtLT4gMTAwCgpkb3VibGUoMTAwKQovLyAtLT4gMjAwCgpkb3VibGUoIGRvdWJsZSg1MCkgKQovLyAtLT4gMjAwCmBgYAoKVGh1cywgd2UgaGF2ZSBub3cgb3BlbmVkIHVwIHRoZSBwb3NzaWJpbGl0eSBvZiBjaGFpbmluZyBmdW5jdGlvbnMgdG9nZXRoZXIuCkNvbnNpZGVyIGEgc2ltaWxhciBjb21wdXRhdGlvbiB1c2luZyBzb21lIG90aGVyIChzZWxmLWV4cGxhbmF0b3J5KSBmdW5jdGlvbnM6CgpgYGBqcwpoYWxmKDEwKQovLyAtLT4gNQoKaGFsZiggZG91YmxlKDEwKSApCi8vIC0tPiAxMAoKc3F1YXJlKDMpCi8vIC0tPiA5CgpzcXVhcmUoIHNxdWFyZSggaGFsZigxMCkgKSApCi8vIC0tPiA2MjUKYGBgCgpJbiB0aGlzIHdheSwgd2UgY2FuIHBhc3Mgc29tZSBvcmlnaW5hbCBwaWVjZSBvZiBkYXRhIHRocm91Z2ggbWFueSBzdWNjZXNzaXZlIAp0cmFuc2Zvcm1lciBmdW5jdGlvbnMgdG8gYWNoaWV2ZSBzb21lIGRldGVybWluaXN0aWMgb3V0cHV0IGJhc2VkIG9uIHNpbXBsZSBkYXRhCmZsb3cu"},function(t,e){t.exports="data:text/x-markdown;base64,IyMgQ2hhcHRlciAzOiBSaHl0aG0gQW5kIFBpdGNoIEFzIERhdGEKClN1cHBvc2UgdGhhdCB0aGUgYGRvdWJsZWAgZnVuY3Rpb24gb3BlcmF0ZWQgb24gbW9yZSB0aGFuIGp1c3QgbnVtYmVycy4gU3VwcG9zZQp0aGF0IHdlIGNvdWxkIGFwcGx5IGBkb3VibGVgIHRvIGEgbXVzaWNhbCBub3RlLCB3aGVyZSB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIApub3RlIHRoYXQgZ29lcyBmb3IgZG91YmxlIHRoZSBkdXJhdGlvbiBvZiB0aGUgaW5wdXQgbm90ZToKCjxiaWdjb2RlPjxub3RlPmU8L25vdGU+ID09PiBkb3VibGUgPT0+IDxub3RlPnE8L25vdGU+Cjxub3RlPnM8L25vdGU+ID09PiBkb3VibGUgPT0+IDxub3RlPmU8L25vdGU+Cjxub3RlPmg8L25vdGU+ID09PiBkb3VibGUgPT0+IDxub3RlPnc8L25vdGU+PC9iaWdjb2RlPgoKV2hpY2ggd291bGQgbG9vayBsaWtlIHRoaXMgaW4gSmF2YVNjcmlwdDoKCjxwcmU+PGNvZGU+ZG91YmxlKDxub3RlPnE8L25vdGU+KQovLyAtLT4gPG5vdGU+aDwvbm90ZT4KPC9jb2RlPjwvcHJlPgoKV2UgY291bGQgZXZlbiBhcHBseSB0aGlzIHRvIGEgc2VxdWVuY2Ugb2Ygbm90ZXMsIHdoZXJlIHRoZSBgZG91YmxlYCBmdW5jdGlvbiBpcwphcHBsaWVkIHRvIGVhY2ggb2YgdGhlIG5vdGVzIGluIHRoZSBzZXF1ZW5jZToKCjxwcmU+PGNvZGU+Wzxub3RlPnE8L25vdGU+IDxub3RlPnE8L25vdGU+IDxub3RlPmU8L25vdGU+IDxub3RlPmg8L25vdGU+IDxub3RlPmU8L25vdGU+XS5mb3JFYWNoKGRvdWJsZSkKLy8gLS0+IFs8bm90ZT5oPC9ub3RlPiA8bm90ZT5oPC9ub3RlPiA8bm90ZT5xPC9ub3RlPiA8bm90ZT53PC9ub3RlPiA8bm90ZT5xPC9ub3RlPl0KPC9jb2RlPjwvcHJlPgoKKk5vdGU6IEluIHByb2dyYW1taW5nIHN5bnRheCwgc3F1YXJlIGJyYWNlcyBgW2AgYW5kIGBdYCBkZW5vdGUgYSBsaXN0IG9yIHNldCBvcgpzZXF1ZW5jZSBvZiBpdGVtcy4qCgpBbmQgZG8gdGhlIHNhbWUgdGhpbmcgd2l0aCBvdGhlciBub3RlIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uczoKCjxwcmU+PGNvZGU+Wzxub3RlPnE8L25vdGU+IDxub3RlPnE8L25vdGU+IDxub3RlPmU8L25vdGU+IDxub3RlPmg8L25vdGU+IDxub3RlPmU8L25vdGU+XS5mb3JFYWNoKGhhbHZlKQovLyAtLT4gWzxub3RlPmU8L25vdGU+IDxub3RlPmU8L25vdGU+IDxub3RlPnM8L25vdGU+IDxub3RlPnE8L25vdGU+IDxub3RlPnM8L25vdGU+XQoKWzxub3RlPmU8L25vdGU+IDxub3RlPmU8L25vdGU+IDxub3RlPmU8L25vdGU+IDxub3RlPmU8L25vdGU+XS5mb3JFYWNoKHR3ZW50eUZpdmVQZXJjZW50Q2hhbmNlT2ZEb3VibGluZykKLy8gLS0+IFs8bm90ZT5lPC9ub3RlPiA8bm90ZT5lPC9ub3RlPiA8bm90ZT5xPC9ub3RlPiA8bm90ZT5lPC9ub3RlPl0KPC9jb2RlPjwvcHJlPgoKSW4gdGhlIGxhc3QgY2FzZSwgdGhlIGZ1bmN0aW9uIGB0d2VudHlGaXZlUGVyY2VudENoYW5jZU9mRG91YmxpbmdgIHdhcyBjYWxsZWQKZm91ciB0aW1lcyAtLSBvbmUgZm9yIGVhY2ggbm90ZSAtLSBhbmQgZ2l2ZW4gdGhhdCBpdCByZXR1cm5zIGEgbm90ZSBlcXVhbCB0byAKZG91YmxlIHRoZSBkdXJhdGlvbiBvZiB0aGUgaW5wdXQgbm90ZSAtLSBidXQgb25seSAyNSUgb2YgdGhlIHRpbWUgLS0gd2UgY2FuIHNlZQp0aGUgZ2xpbXBzZXMgb2YgaG93IHRoaXMgc3lzdGVtIGNvdWxkIGFpZCBjb21wb3NlcnMgaW4gdGhlaXIgd29yay4KCkJ5ICJvdXRzb3VyY2luZyIgc29tZSBvZiB0aGUgd29yayB0byBhIGNvbXB1dGVyIHN5c3RlbSwgY29tcG9zZXJzIGNvdWxkIHdyaXRlIAptdXNpYyBieSBkZWZpbmluZyB0cmFuc2Zvcm1hdGlvbnMgdG8gYmUgYXBwbGllZCB0byBhIGdpdmVuIGlucHV0LCB3aGV0aGVyIGhhbmQtCmNyYWZ0ZWQgb3Igc2VtaS1nZW5lcmF0ZWQuIFRoZSByZXN1bHRzIG9mIHRob3NlIHRyYW5zZm9ybWF0aW9ucyBjb3VsZCB0aGVuIGJlCmZlZCBpbnRvIGZ1cnRoZXIgdHJhbnNmb3JtYXRpb25zIGxpa2Ugc286Cgo8cHJlPjxjb2RlPmdlbmVyYXRlUmFuZG9tTm90ZXMoNSkKLy8gLS0+IDxub3RlLWxpc3Q+dyBoIGggZSBxPC9ub3RlLWxpc3Q+CgpnZW5lcmF0ZVJhbmRvbU5vdGVzKDMpCi8vIC0tPiA8bm90ZS1saXN0PmUgcSBzPC9ub3RlLWxpc3Q+CgpnZW5lcmF0ZVJhbmRvbU5vdGVzKDMpCi8vIC0tPiA8bm90ZS1saXN0PnMgdyB3PC9ub3RlLWxpc3Q+CjwvY29kZT48L3ByZT4KClRoZSBvdXRwdXRzIG9mIHRoZXNlIGZ1bmN0aW9uIGNhbGxzIGNvdWxkIGJlIHVzZWQgYXMgdGhlIGlucHV0IHRvIG90aGVyIApmdW5jdGlvbnMgdG8gYWNoaWV2ZSBzZW1pLWdlbmVyYXRlZCBjb21wb3NpdGlvbmFsIHBocmFzZXMgYmFzZWQgb24gdGhlIApjb21wb3NlcidzIGNvbnN0cmFpbnRzLCBwbGFjZWQgdXBvbiB0aGUgc3lzdGVtIGJ5IHRoZSBjb25zdHJ1Y3Rpb24gYW5kIG9yZGVyaW5nCm9mIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uczoKCjxwcmU+PGNvZGU+bm90ZXNMaXN0ID0gZ2VuZXJhdGVSYW5kb21Ob3RlcygxMCkKLy8gLS0+ICJub3Rlc0xpc3QiIGlzIG5vdyBlcXVhbCB0byA8bm90ZS1saXN0PmggaCBzIGggZSBxIHcgcyB3IGU8L25vdGUtbGlzdD4KCmxvbmdOb3RlcyA9IG5vdGVzTGlzdC5mb3JFYWNoKCByZW1vdmVJZlNob3J0ZXJUaGFuKDxub3RlPnE8L25vdGU+KSApCi8vIC0tPiAibG9uZ05vdGVzIiBpcyBub3cgZXF1YWwgdG8gPG5vdGUtbGlzdD5oIGggaCBxIHcgdyBlPC9ub3RlLWxpc3Q+Cgpsb25nTm90ZXMuZm9yRWFjaCh0d2VudHlGaXZlUGVyY2VudENoYW5jZU9mRG91YmxpbmcpCi8vIC0tPiA8bm90ZS1saXN0PmggdyBoIHEgdyB3IHE8L25vdGUtbGlzdD48L2NvZGU+PC9wcmU+CgojIyMgQ29tcHV0YXRpb24gb24gRnJlcXVlbmNpZXMKCkluIHRoZSBzYW1lIHdheSB0aGF0IHdlIGNhbiBhcHBseSB0cmFuc2Zvcm1hdGlvbnMgdG8gbm90ZXMgdGhhdCB2YXJ5IHRoZWlyIApkdXJhdGlvbnMsIHdlIHNob3VsZCBhbHNvIGNvbnNpZGVyIGJlaW5nIGFibGUgdG8gZG8gc2ltaWxhciB0cmFuc2Zvcm1hdGlvbnMgdG8KYSBub3RlJ3MgcGl0Y2guCgpDb25zaWRlciB0aGUgZm9sbG93aW5nIHNpbXBsZSBleGFtcGxlczoKCmBgYApyYWlzZShEKQovLyAtLT4gRCMKClsgRCBBIEIgRyBdLmZvckVhY2gocmFpc2UpCi8vIC0tPiBbIEQjIEEjIEMgRyMgXQoKWyBBIEMjIEQgRiMgQiBdLmZvckVhY2gocmVtb3ZlSWZBY2NpZGVudGFsKQovLyAtLT4gWyBBIEQgQiBdCgpwaXRjaExpc3QgPSBnZW5lcmF0ZVJhbmRvbVBpdGNoZXMoNikKLy8gLS0+IHBpdGNoZXNMaXN0IGlzIG5vdyBlcXVhbCB0byBbIEQjNSBHNiBBNCBGNCBHIzMgXQoKcGl0Y2hMaXN0LmZvckVhY2goIGNoYW5nZVRvT2N0YXZlKDMpICkKLy8gLS0+IFsgRCMzIEczIEEzIEYzIEcjMyBdCgpwaXRjaExpc3QuZm9yRWFjaCggY2hhbmdlVG9PY3RhdmUoMykgKS5mb3JFYWNoKHJlbW92ZUlmQWNjaWRlbnRhbCkKLy8gLS0+IFsgRzMgQTMgRjMgXQpgYGAKCipFeHBsYW5hdGlvbiBvZiB0aGUgbGFzdCBjb21wdXRhdGlvbjogRWFjaCBvZiB0aGUgcGl0Y2hlcyBpbiB0aGUgYHBpdGNoTGlzdGAgCnNlcXVlbmNlIG9mIHBpdGNoZXMgaXMgYXBwbGllZCB0byB0aGUgYGNoYW5nZVRvT2N0YXZlYCBmdW5jdGlvbiB3aGljaCBoYXMgYmVlbiAKaW5zdHJ1Y3RlZCB0byBjaGFuZ2UgYW55IGFwcGxpZWQgcGl0Y2ggdG8gaXRzIGVxdWl2YWxlbnQgbm90ZSBpbiBvY3RhdmUgYDNgLiAKVGhlbiwgZWFjaCBvbmUgb2YgdGhvc2UgcGl0Y2hlcyBpcyBhcHBsaWVkIHRvIHRoZSBgcmVtb3ZlSWZBY2NpZGVudGFsYCBmdW5jdGlvbiwgCndoaWNoIHdpbGwgaGF2ZSB0aGUgZWZmZWN0IG9mICJmaWx0ZXJpbmcgb3V0IiBhbnkgb2YgdGhlIHBpdGNoZXMgdGhhdCBhcmUgc2hhcnAgCm9yIGZsYXQuKgoKQXMgZnVydGhlciBleGFtcGxlcywgd2Ugc2hvdWxkIGJlIGFibGUgdG8gdXNlIGZ1bmN0aW9ucyB0byBzaW11bGF0ZSB0aGUgRFNUcyAKYXBwbGllZCBpbiBDaGFwdGVyIDEsIGVpdGhlciB0byBzZXF1ZW5jZXMgcGl0Y2ggb3IgdGltaW5nIGRhdGE6CgojIyMjIEV4YW1wbGUgQTogUmV2ZXJzYWwKCkluIFR1cmluZy1jb21wbGV0ZSBwcm9ncmFtbWluZyBsYW5ndWFnZXMsIHJldmVyc2luZyBhIGxpc3QgaXMgYSB0cml2aWFsIApvcGVyYXRpb246Cgo8cHJlPjxjb2RlPnJldmVyc2UoIFs8bm90ZT4gdyBoIGUgcyBzPC9ub3RlPiBdICkKLy8gLS0+IFsgPG5vdGU+cyBzIGUgaCB3PC9ub3RlPl0KCnJldmVyc2UoIFsgQzUgQTYgQyM2IEQyIF0gKQoKLy8gLS0+IFsgRDIgQyM2IEE2IEM1IF0KPC9jb2RlPjwvcHJlPgoKIyMjIyBFeGFtcGxlIEI6IEhpZ2gtUGFzcyBGaWx0ZXIKCkdpdmVuIGEgZnVuY3Rpb24gY2FsbGVkIGByZW1vdmVJZkxvd2VyVGhhbmAgd2hpY2ggaGFzIGJlZW4gaW5zdHJ1Y3RlZCB0aGF0IGl0cwp0aHJlc2hvbGQgaXMgYSBwaXRjaCBvZiBgQjVgLCB3ZSBjYW4gYXBwbHkgYSBsaXN0IG9mIHBpdGNoZXMgdG8gdGhhdCB0cmFuc2Zvcm1lcgphbmQgZ2V0IGJhY2sgYSByZXN1bHQgd2hpY2ggaXMgYSBsaXN0IHRoYXQgY29udGFpbnMgcGl0Y2hlcyBvbmx5IGhpZ2hlciB0aGFuIHRoZQpwaXRjaCBgQjVgOgoKYGBgClsgQTQgRDQgQTUgQzUgQTYgQyM2IEYzIEEjMyBEMiBdLmZvckVhY2goIHJlbW92ZUlmTG93ZXJUaGFuKEI1KSApCi8vIC0tPiBbIEM1IEE2IEMjNiBdCmBgYAoKSW50ZXJlc3RpbmdseSwgdGhlIGBRYCB2YWx1ZSBpbiBhIGZpbHRlciBpcyBubyBsb25nZXIgYSB0aGVvcmV0aWNhbCBtYXhpbXVtLiAKVW5saWtlIGEgdHJhZGl0aW9uYWwgSFBGIERTVCwgdGhlIHNsb3BlIGNhbiBiZSB2ZXJ0aWNhbCAtLSBhIG5vdGUgaXMgZWl0aGVyIApmaWx0ZXJlZCBvdXQsIG9yIGtlcHQgaW4uCgojIyMjIEV4YW1wbGUgQzogQSAiTG9uZy1QYXNzIiBGaWx0ZXIKClNpbWlsYXIgaG93IEV4YW1wbGUgQiB3YXMgYWJsZSB0byBmaWx0ZXIgb3V0IGl0ZW1zIGZyb20gYSBsaXN0IGJhc2VkIG9uIHRoZSAKcGl0Y2ggb2YgdGhlIGl0ZW1zIGluIHRoZSBsaXN0LCB3ZSBjYW4gYWxzbyBhcHBseSBhIHNpbWlsYXIgZWZmZWN0IGFjcm9zcyB0aGUgCmRpbWVuc2lvbiBvZiB0aW1lIHRvIGFjaGlldmUgYSBub3ZlbCB0cmFuc2Zvcm1hdGlvbjoKCjxwcmU+PGNvZGU+PG5vdGUtbGlzdD5oIGggcyBoIGUgcSB3IHMgdyBlPC9ub3RlLWxpc3Q+LmZvckVhY2goIHJlbW92ZUlmU2hvcnRlclRoYW4oPG5vdGU+cTwvbm90ZT4pICkKLy8gLS0+IDxub3RlLWxpc3Q+aCBoIGggcSB3IHc8L25vdGUtbGlzdD48L2NvZGU+PC9wcmU+CgoqRXhwbGFuYXRpb24gb2YgdGhlIGFib3ZlIGNvbXB1dGF0aW9uOiBUaGlzIHRyYW5zZm9ybWF0aW9uIGRlbW9uc3RyYXRlcyBhIApmdW5jdGlvbiB0aGF0IHNldHMgYSBwcmVkaWNhdGUgb2YgPGNvZGU+eCAmZ3Q7IDxub3RlPnE8L25vdGU+PC9jb2RlPiwgd2hlcmUgYHhgIAppcyBzdWNjZXNzaXZlbHkgZWFjaCBpdGVtIGluIHRoZSBsaXN0LiBPbmx5IHRoZSBub3RlcyB0aGF0IGNhdXNlIHRoZSB0ZXN0ZWQgCnByZWRpY2F0ZSB0byBiZSBgdHJ1ZWAgd2lsbCBiZSBwcmVzZW50IGluIHRoZSByZXN1bHRpbmcgb3V0cHV0IGxpc3QuKgoKSXQgaGFzIGJlZW4gZGVtb25zdHJhdGVkIG5vdyB0aGF0IGEgc2VxdWVuY2Ugb2Ygbm90ZXMgY2FuIGJlIHRyYW5zZm9ybWVkIGJ5IHRoZSAKc3VjY2Vzc2l2ZSBhcHBsaWNhdGlvbiBvZiBtYXRoZW1hdGljYWwgZnVuY3Rpb25zLiBGb3IgYSByZWFsLWxpZmUgcHJhY3RpY2FsIGNhc2UKc3R1ZHksIHJlYWQgb24u";
},function(t,e){t.exports="data:text/x-markdown;base64,IyMgQ2hhcHRlciA0IC0gTm9uLURlc2N0cnVjdGl2ZSBNaWRpIFRyYW5zZm9ybWF0aW9ucwoKQSBzZXF1ZW5jZSBvZiBub3RlcyBjYW4gYmUgY29kaWZpZWQgaW50byBhIHBpYW5vIHJvbGwgb2YgTUlESSBub3Rlcy4gRm9yIHRoZSAKcHVycG9zZXMgb2YgZGVtb25zdHJhdGlvbiwgaGVyZSBpcyBhIHRocmVlIGJhciBwaHJhc2UgZnJvbSBLYW5zYXMnIFtDYXJyeSBPbiAKV2F5d2FyZCBTb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NhcnJ5X09uX1dheXdhcmRfU29uKToKCg=="},function(t,e){t.exports="data:text/x-markdown;base64,Kk5vdGU6IFlvdSBjYW4gcHJlc3MgdGhlIGBbUGxheSBTZXF1ZW5jZV1gIGJ1dHRvbiB0byBnZW5lcmF0ZSBzb3VuZHMgZnJvbSB5b3VyIAp3ZWIgYnJvd3NlcidzIE1JREkgc3ludGhlc2lzZXIuIElmIGl0J3Mgbm90IHdvcmtpbmcgZm9yIHlvdSwgcGxlYXNlIGVuc3VyZSB0aGF0IAp5b3VyIHNwZWFrZXJzIGFyZSBjb25uZWN0ZWQgYW5kIHRoYXQgeW91J3JlIHVzaW5nIGEgbW9kZXJuIGJyb3dzZXIuKgoKSXQgaXMgcG9zc2libGUgdG8gdmlzdWFsaXNlIHRoZSBjaGFuZ2VzIGFwcGxpZWQgYnkgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zIHZpYSAKdGhlc2UgcGlhbm8gcm9sbHMuIEZvciBleGFtcGxlLCBoZXJlIGFyZSB0aGUgYFJldmVyc2FsYCwgYEhpZ2gtUGFzcyBGaWx0ZXJgIGFuZApgTG9uZy1QYXNzIEZpbHRlcmAgZnJvbSBDaGFwdGVyIDMgaW4gYWN0aW9uIG9uIGEgTUlESSBzZXF1ZW5jZTo="},function(t,e){t.exports="data:text/x-markdown;base64,V2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBgcmV2ZXJzZSgpYCB0cmFuc2Zvcm1hdGlvbiwgZWFjaCBvZiB0aGVzZSBleGFtcGxlcyAKZGlzcGxheSB0aGUgYWJpbGl0eSB0byAicGx1Y2siIG5vdGVzIG91dCBvZiBhIHNlcXVlbmNlIGdpdmVuIGEgIGNvbmRpdGlvbmFsIApwcmVkaWNhdGUuIEFueSBub3RlcyB0aGF0IGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBmaWx0ZXJlZCBvdXQgb2YKdGhlIHNlcXVlbmNlLgoKSG93ZXZlciwgc2luY2UgdGhlc2UgZnVuY3Rpb25zIGNhbiBvcGVyYXRlIG9uIHRoZSBub3RlIHNlcXVlbmNlcyBpbiB2ZXJ5IApmbGV4aWJsZSB3YXlzLCBtYW55IGludGVyZXN0aW5nIHRyYW5zZm9ybWF0aW9ucyBjYW4gYmUgYWNoaWV2ZWQ6"},function(t,e){(function(e){function n(t,e){function n(){if(!r){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}if(i("noDeprecation"))return t;var r=!1;return n}function i(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(e,function(){return this}())},42,function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return y.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function l(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(y.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(y.arrayBuffer&&y.blob&&g(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function b(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function m(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var y={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(y.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&v.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},y.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];m.redirect=function(t,e){if(w.indexOf(e)===-1)throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=p,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,i){var r=new p(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new m(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&y.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){(function(){var e,i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=n(31).isPlainObject,i=n(16),o=n(319),r=n(181),t.exports=e=function(t){function e(t){e.__super__.constructor.call(this,null),t||(t={}),t.writer||(t.writer=new r),this.options=t,this.stringify=new o(t),this.isDocument=!0}return a(e,t),e.prototype.end=function(t){var e;return t?s(t)&&(e=t,t=this.options.writer.set(e)):t=this.options.writer,t.document(this)},e.prototype.toString=function(t){return this.options.writer.set(t).document(this)},e}(i)}).call(this)},function(t,e,n){(function(){var e,i,r,o,s,a,u,l,c,h,f,p,d,b,m,y,v,g,_,x,w={}.hasOwnProperty;x=n(31),g=x.isObject,v=x.isFunction,_=x.isPlainObject,f=n(112),i=n(104),r=n(105),d=n(114),y=n(115),p=n(113),l=n(110),c=n(111),o=n(106),a=n(108),s=n(107),u=n(109),e=n(318),m=n(319),b=n(181),t.exports=h=function(){function t(t,e,n){var i;t||(t={}),t.writer?_(t.writer)&&(i=t.writer,t.writer=new b(i)):t.writer=new b(t),this.options=t,this.writer=t.writer,this.stringify=new m(t),this.onDataCallback=e||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.node=function(t,e,n){var i;if(null==t)throw new Error("Missing node name");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node");return this.openCurrent(),t=t.valueOf(),null==e&&(e={}),e=e.valueOf(),g(e)||(i=[e,n],n=i[0],e=i[1]),this.currentNode=new f(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},t.prototype.element=function(t,e,n){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(t,e,n)},t.prototype.attribute=function(t,n){var i,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=t&&(t=t.valueOf()),g(t))for(i in t)w.call(t,i)&&(r=t[i],this.attribute(i,r));else v(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.currentNode.attributes[t]=new e(this,t,n));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new y(this,t),this.onData(this.writer.text(e,this.currentLevel+1)),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.cdata(e,this.currentLevel+1)),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new r(this,t),this.onData(this.writer.comment(e,this.currentLevel+1)),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new d(this,t),this.onData(this.writer.raw(e,this.currentLevel+1)),this},t.prototype.instruction=function(t,e){var n,i,r,o,s;if(this.openCurrent(),null!=t&&(t=t.valueOf()),null!=e&&(e=e.valueOf()),Array.isArray(t))for(n=0,o=t.length;n<o;n++)i=t[n],this.instruction(i);else if(g(t))for(i in t)w.call(t,i)&&(r=t[i],this.instruction(i,r));else v(e)&&(e=e.apply()),s=new p(this,t,e),this.onData(this.writer.processingInstruction(s,this.currentLevel+1));return this},t.prototype.declaration=function(t,e,n){var i;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return i=new l(this,t,e,n),this.onData(this.writer.declaration(i,this.currentLevel+1)),this},t.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new c(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new s(this,t,e),this.onData(this.writer.dtdElement(n,this.currentLevel+1)),this},t.prototype.attList=function(t,e,n,i,r){var s;return this.openCurrent(),s=new o(this,t,e,n,i,r),this.onData(this.writer.dtdAttList(s,this.currentLevel+1)),this},t.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new a(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},t.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new a(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},t.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new u(this,t,e),this.onData(this.writer.dtdNotation(n,this.currentLevel+1)),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){if(!t.isOpen)return!this.root&&0===this.currentLevel&&t instanceof f&&(this.root=t),this.onData(this.writer.openNode(t,this.currentLevel)),t.isOpen=!0},t.prototype.closeNode=function(t){if(!t.isClosed)return this.onData(this.writer.closeNode(t,this.currentLevel)),t.isClosed=!0},t.prototype.onData=function(t){return this.documentStarted=!0,this.onDataCallback(t)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},function(t,e,n){(function(){var e,i,r,o,s,a,u,l,c,h,f,p,d,b,m=function(t,e){function n(){this.constructor=t}for(var i in e)y.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;u=n(110),l=n(111),e=n(104),i=n(105),c=n(112),f=n(114),d=n(115),h=n(113),r=n(106),o=n(107),s=n(108),a=n(109),b=n(320),t.exports=p=function(t){function n(t,e){this.stream=t,n.__super__.constructor.call(this,e)}return m(n,t),n.prototype.document=function(t){var e,n,r,o,s,a,c,f;for(a=t.children,n=0,o=a.length;n<o;n++)e=a[n],e.isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,c=t.children,f=[],r=0,s=c.length;r<s;r++)switch(e=c[r],!1){case!(e instanceof u):f.push(this.declaration(e));break;case!(e instanceof l):f.push(this.docType(e));break;case!(e instanceof i):f.push(this.comment(e));break;case!(e instanceof h):f.push(this.processingInstruction(e));break;default:f.push(this.element(e))}return f},n.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},n.prototype.cdata=function(t,e){return this.stream.write(this.space(e)+"<![CDATA["+t.text+"]]>"+this.endline(t))},n.prototype.comment=function(t,e){return this.stream.write(this.space(e)+"<!-- "+t.text+" -->"+this.endline(t))},n.prototype.declaration=function(t,e){return this.stream.write(this.space(e)),this.stream.write('<?xml version="'+t.version+'"'),null!=t.encoding&&this.stream.write(' encoding="'+t.encoding+'"'),null!=t.standalone&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write("?>"),this.stream.write(this.endline(t))},n.prototype.docType=function(t,n){var u,l,c,f;if(n||(n=0),this.stream.write(this.space(n)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t)),f=t.children,l=0,c=f.length;l<c;l++)switch(u=f[l],!1){case!(u instanceof r):this.dtdAttList(u,n+1);break;case!(u instanceof o):this.dtdElement(u,n+1);break;case!(u instanceof s):this.dtdEntity(u,n+1);break;case!(u instanceof a):this.dtdNotation(u,n+1);break;case!(u instanceof e):this.cdata(u,n+1);break;case!(u instanceof i):this.comment(u,n+1);break;case!(u instanceof h):this.processingInstruction(u,n+1);break;default:throw new Error("Unknown DTD node type: "+u.constructor.name)}this.stream.write("]")}return this.stream.write(">"),this.stream.write(this.endline(t))},n.prototype.element=function(t,n){var r,o,s,a,u,l,p,b;n||(n=0),b=this.space(n),this.stream.write(b+"<"+t.name),l=t.attributes;for(u in l)y.call(l,u)&&(r=l[u],this.attribute(r));if(0===t.children.length||t.children.every(function(t){return""===t.value}))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write("/>");else if(this.pretty&&1===t.children.length&&null!=t.children[0].value)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),p=t.children,s=0,a=p.length;s<a;s++)switch(o=p[s],!1){case!(o instanceof e):this.cdata(o,n+1);break;case!(o instanceof i):this.comment(o,n+1);break;case!(o instanceof c):this.element(o,n+1);break;case!(o instanceof f):this.raw(o,n+1);break;case!(o instanceof d):this.text(o,n+1);break;case!(o instanceof h):this.processingInstruction(o,n+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(b+"</"+t.name+">")}return this.stream.write(this.endline(t))},n.prototype.processingInstruction=function(t,e){return this.stream.write(this.space(e)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write("?>"+this.endline(t))},n.prototype.raw=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},n.prototype.text=function(t,e){return this.stream.write(this.space(e)+t.value+this.endline(t))},n.prototype.dtdAttList=function(t,e){return this.stream.write(this.space(e)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),"#DEFAULT"!==t.defaultValueType&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(">"+this.endline(t))},n.prototype.dtdElement=function(t,e){return this.stream.write(this.space(e)+"<!ELEMENT "+t.name+" "+t.value+">"+this.endline(t))},n.prototype.dtdEntity=function(t,e){return this.stream.write(this.space(e)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(">"+this.endline(t))},n.prototype.dtdNotation=function(t,e){return this.stream.write(this.space(e)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(">"+this.endline(t))},n.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},n}(b)}).call(this)},function(t,e,n){(function(){var e,i,r,o,s,a,u;u=n(31),s=u.assign,a=u.isFunction,e=n(730),i=n(731),o=n(181),r=n(732),t.exports.create=function(t,n,i,r){var o,a;if(null==t)throw new Error("Root element needs a name");return r=s({},n,i,r),o=new e(r),a=o.element(t),r.headless||(o.declaration(r),null==r.pubID&&null==r.sysID||o.doctype(r)),a},t.exports.begin=function(t,n,r){var o;return a(t)&&(o=[t,n],n=o[0],r=o[1],t={}),n?new i(t,n,r):new e(t)},t.exports.stringWriter=function(t){return new o(t)},t.exports.streamWriter=function(t,e){return new r(t,e)}}).call(this)},function(t,e){},734,function(t,e,n,i){"use strict";var r=n(i),o=(n(2),function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)}),s=function(t,e){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,t,e),i}return new n(t,e)},a=function(t,e,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,t,e,n),r}return new i(t,e,n)},u=function(t,e,n,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,t,e,n,i),o}return new r(t,e,n,i)},l=function(t){var e=this;t instanceof e?void 0:r("25"),t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},c=10,h=o,f=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||h,n.poolSize||(n.poolSize=c),n.release=l,n},p={addPoolingTo:f,oneArgumentPooler:o,twoArgumentPooler:s,threeArgumentPooler:a,fourArgumentPooler:u};t.exports=p}]));
//# sourceMappingURL=main.ac359911.js.map